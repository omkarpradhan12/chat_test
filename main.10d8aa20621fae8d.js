"use strict";var Ex=Object.defineProperty,Cx=Object.defineProperties,wx=Object.getOwnPropertyDescriptors,$T=Object.getOwnPropertySymbols,bx=Object.prototype.hasOwnProperty,Dx=Object.prototype.propertyIsEnumerable,zT=(He,le,R)=>le in He?Ex(He,le,{enumerable:!0,configurable:!0,writable:!0,value:R}):He[le]=R,WT=(He,le)=>{for(var R in le||(le={}))bx.call(le,R)&&zT(He,R,le[R]);if($T)for(var R of $T(le))Dx.call(le,R)&&zT(He,R,le[R]);return He},GT=(He,le)=>Cx(He,wx(le));(self.webpackChunkchat_test=self.webpackChunkchat_test||[]).push([[179],{773:(He,le,R)=>{R.d(le,{hO:()=>Wi});var g=R(0),H=R(90),ie=R(859),J=R(681),fe=R(877);class me{constructor(E,b){this._delegate=E,this.firebase=b,(0,J._addComponent)(E,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=E.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(E){this._delegate.automaticDataCollectionEnabled=E}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(E=>{this._delegate.checkDestroyed(),E()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(E,b=J._DEFAULT_ENTRY_NAME){var M;this._delegate.checkDestroyed();const B=this._delegate.container.getProvider(E);return!B.isInitialized()&&"EXPLICIT"===(null===(M=B.getComponent())||void 0===M?void 0:M.instantiationMode)&&B.initialize(),B.getImmediate({identifier:b})}_removeServiceInstance(E,b=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(E).clearInstance(b)}_addComponent(E){(0,J._addComponent)(this._delegate,E)}_addOrOverwriteComponent(E){(0,J._addOrOverwriteComponent)(this._delegate,E)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new H.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function j(){const y=function we(y){const E={},b={__esModule:!0,initializeApp:function G(Ae,We={}){const Ne=J.initializeApp(Ae,We);if((0,H.r3)(E,Ne.name))return E[Ne.name];const xt=new y(Ne,b);return E[Ne.name]=xt,xt},app:B,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function ge(Ae){const We=Ae.name,Ne=We.replace("-compat","");if(J._registerComponent(Ae)&&"PUBLIC"===Ae.type){const xt=(vt=B())=>{if("function"!=typeof vt[Ne])throw he.create("invalid-app-argument",{appName:We});return vt[Ne]()};void 0!==Ae.serviceProps&&(0,H.ZB)(xt,Ae.serviceProps),b[Ne]=xt,y.prototype[Ne]=function(...vt){return this._getService.bind(this,We).apply(this,Ae.multipleInstances?vt:[])}}return"PUBLIC"===Ae.type?b[Ne]:null},removeApp:function M(Ae){delete E[Ae]},useAsService:function je(Ae,We){return"serverAuth"===We?null:We},modularAPIs:J}};function B(Ae){if(!(0,H.r3)(E,Ae=Ae||J._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Ae});return E[Ae]}return b.default=b,Object.defineProperty(b,"apps",{get:function re(){return Object.keys(E).map(Ae=>E[Ae])}}),B.App=y,b}(me);return y.INTERNAL=Object.assign(Object.assign({},y.INTERNAL),{createFirebaseNamespace:j,extendNamespace:function E(b){(0,H.ZB)(y,b)},createSubscribe:H.ne,ErrorFactory:H.LL,deepExtend:H.ZB}),y}(),Y=new fe.Yd("@firebase/app-compat");if((0,H.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=U;!function De(y){(0,J.registerVersion)("@firebase/app-compat","0.1.32",y)}(),Pe.registerVersion("firebase","9.9.3","app-compat"),R(867);var ve=R(861),Ie=R(766);const pe="@firebase/installations",Oe="0.5.12",ke=`w:${Oe}`,ee="FIS_v2",Q=new H.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(y){return y instanceof H.ZR&&y.code.includes("request-failed")}function ze({projectId:y}){return`https://firebaseinstallations.googleapis.com/v1/projects/${y}/installations`}function _t(y){return{token:y.token,requestStatus:2,expiresIn:Rn(y.expiresIn),creationTime:Date.now()}}function ht(y,E){return Me.apply(this,arguments)}function Me(){return(Me=(0,ve.Z)(function*(y,E){const M=(yield E.json()).error;return Q.create("request-failed",{requestName:y,serverCode:M.code,serverMessage:M.message,serverStatus:M.status})})).apply(this,arguments)}function Lt({apiKey:y}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":y})}function xn(y,{refreshToken:E}){const b=Lt(y);return b.append("Authorization",function On(y){return`${ee} ${y}`}(E)),b}function zt(y){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,ve.Z)(function*(y){const E=yield y();return E.status>=500&&E.status<600?y():E})).apply(this,arguments)}function Rn(y){return Number(y.replace("s","000"))}function un(y,E){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,ve.Z)(function*({appConfig:y,heartbeatServiceProvider:E},{fid:b}){const M=ze(y),B=Lt(y),G=E.getImmediate({optional:!0});if(G){const Ae=yield G.getHeartbeatsHeader();Ae&&B.append("x-firebase-client",Ae)}const ge={method:"POST",headers:B,body:JSON.stringify({fid:b,authVersion:ee,appId:y.appId,sdkVersion:ke})},je=yield zt(()=>fetch(M,ge));if(je.ok){const Ae=yield je.json();return{fid:Ae.fid||b,registrationStatus:2,refreshToken:Ae.refreshToken,authToken:_t(Ae.authToken)}}throw yield ht("Create Installation",je)})).apply(this,arguments)}function xs(y){return new Promise(E=>{setTimeout(E,y)})}const da=/^[cdef][\w-]{21}$/;function Rs(){try{const y=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(y),y[0]=112+y[0]%16;const b=function Os(y){return function Jn(y){return btoa(String.fromCharCode(...y)).replace(/\+/g,"-").replace(/\//g,"_")}(y).substr(0,22)}(y);return da.test(b)?b:""}catch(y){return""}}function Rr(y){return`${y.appName}!${y.appId}`}const Ge=new Map;function Xr(y,E){const b=Rr(y);Jr(b,E),function wl(y,E){const b=function sn(){return!Yt&&"BroadcastChannel"in self&&(Yt=new BroadcastChannel("[Firebase] FID Change"),Yt.onmessage=y=>{Jr(y.data.key,y.data.fid)}),Yt}();b&&b.postMessage({key:y,fid:E}),function Or(){0===Ge.size&&Yt&&(Yt.close(),Yt=null)}()}(b,E)}function Jr(y,E){const b=Ge.get(y);if(b)for(const M of b)M(E)}let Yt=null;const Be="firebase-installations-store";let et=null;function ei(){return et||(et=(0,Ie.X3)("firebase-installations-database",1,{upgrade:(y,E)=>{0===E&&y.createObjectStore(Be)}})),et}function dr(y,E){return ft.apply(this,arguments)}function ft(){return(ft=(0,ve.Z)(function*(y,E){const b=Rr(y),B=(yield ei()).transaction(Be,"readwrite"),G=B.objectStore(Be),re=yield G.get(b);return yield G.put(E,b),yield B.done,(!re||re.fid!==E.fid)&&Xr(y,E.fid),E})).apply(this,arguments)}function ti(y){return En.apply(this,arguments)}function En(){return(En=(0,ve.Z)(function*(y){const E=Rr(y),M=(yield ei()).transaction(Be,"readwrite");yield M.objectStore(Be).delete(E),yield M.done})).apply(this,arguments)}function Nn(y,E){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,ve.Z)(function*(y,E){const b=Rr(y),B=(yield ei()).transaction(Be,"readwrite"),G=B.objectStore(Be),re=yield G.get(b),ge=E(re);return void 0===ge?yield G.delete(b):yield G.put(ge,b),yield B.done,ge&&(!re||re.fid!==ge.fid)&&Xr(y,ge.fid),ge})).apply(this,arguments)}function Pr(y){return N.apply(this,arguments)}function N(){return(N=(0,ve.Z)(function*(y){let E;const b=yield Nn(y.appConfig,M=>{const B=L(M),G=x(y,B);return E=G.registrationPromise,G.installationEntry});return""===b.fid?{installationEntry:yield E}:{installationEntry:b,registrationPromise:E}})).apply(this,arguments)}function L(y){return Tt(y||{fid:Rs(),registrationStatus:0})}function x(y,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(Q.create("app-offline"))};const b={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},M=function F(y,E){return k.apply(this,arguments)}(y,b);return{installationEntry:b,registrationPromise:M}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:ae(y)}:{installationEntry:E}}function k(){return(k=(0,ve.Z)(function*(y,E){try{const b=yield un(y,E);return dr(y.appConfig,b)}catch(b){throw Ee(b)&&409===b.customData.serverCode?yield ti(y.appConfig):yield dr(y.appConfig,{fid:E.fid,registrationStatus:0}),b}})).apply(this,arguments)}function ae(y){return Se.apply(this,arguments)}function Se(){return(Se=(0,ve.Z)(function*(y){let E=yield Qe(y.appConfig);for(;1===E.registrationStatus;)yield xs(100),E=yield Qe(y.appConfig);if(0===E.registrationStatus){const{installationEntry:b,registrationPromise:M}=yield Pr(y);return M||b}return E})).apply(this,arguments)}function Qe(y){return Nn(y,E=>{if(!E)throw Q.create("installation-not-found");return Tt(E)})}function Tt(y){return function Ot(y){return 1===y.registrationStatus&&y.registrationTime+1e4<Date.now()}(y)?{fid:y.fid,registrationStatus:0}:y}function hr(y,E){return gt.apply(this,arguments)}function gt(){return(gt=(0,ve.Z)(function*({appConfig:y,heartbeatServiceProvider:E},b){const M=fr(y,b),B=xn(y,b),G=E.getImmediate({optional:!0});if(G){const Ae=yield G.getHeartbeatsHeader();Ae&&B.append("x-firebase-client",Ae)}const ge={method:"POST",headers:B,body:JSON.stringify({installation:{sdkVersion:ke,appId:y.appId}})},je=yield zt(()=>fetch(M,ge));if(je.ok)return _t(yield je.json());throw yield ht("Generate Auth Token",je)})).apply(this,arguments)}function fr(y,{fid:E}){return`${ze(y)}/${E}/authTokens:generate`}function ni(y){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,ve.Z)(function*(y,E=!1){let b;const M=yield Nn(y.appConfig,G=>{if(!ii(G))throw Q.create("not-registered");const re=G.authToken;if(!E&&bl(re))return G;if(1===re.requestStatus)return b=hu(y,E),G;{if(!navigator.onLine)throw Q.create("app-offline");const ge=Ns(G);return b=Ii(y,ge),ge}});return b?yield b:M.authToken})).apply(this,arguments)}function hu(y,E){return on.apply(this,arguments)}function on(){return(on=(0,ve.Z)(function*(y,E){let b=yield ri(y.appConfig);for(;1===b.authToken.requestStatus;)yield xs(100),b=yield ri(y.appConfig);const M=b.authToken;return 0===M.requestStatus?ni(y,E):M})).apply(this,arguments)}function ri(y){return Nn(y,E=>{if(!ii(E))throw Q.create("not-registered");return function Ai(y){return 1===y.requestStatus&&y.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function Ii(y,E){return _n.apply(this,arguments)}function _n(){return(_n=(0,ve.Z)(function*(y,E){try{const b=yield hr(y,E),M=Object.assign(Object.assign({},E),{authToken:b});return yield dr(y.appConfig,M),b}catch(b){if(!Ee(b)||401!==b.customData.serverCode&&404!==b.customData.serverCode){const M=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield dr(y.appConfig,M)}else yield ti(y.appConfig);throw b}})).apply(this,arguments)}function ii(y){return void 0!==y&&2===y.registrationStatus}function bl(y){return 2===y.requestStatus&&!function Co(y){const E=Date.now();return E<y.creationTime||y.creationTime+y.expiresIn<E+36e5}(y)}function Ns(y){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},y),{authToken:E})}function wo(){return(wo=(0,ve.Z)(function*(y){const E=y,{installationEntry:b,registrationPromise:M}=yield Pr(E);return M?M.catch(console.error):ni(E).catch(console.error),b.fid})).apply(this,arguments)}function Te(){return(Te=(0,ve.Z)(function*(y,E=!1){const b=y;return yield lt(b),(yield ni(b,E)).token})).apply(this,arguments)}function lt(y){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,ve.Z)(function*(y){const{registrationPromise:E}=yield Pr(y);E&&(yield E)})).apply(this,arguments)}function Fs(y){return Q.create("missing-app-config-values",{valueName:y})}const xi="installations",ks=y=>{const E=y.getProvider("app").getImmediate(),b=function rt(y){if(!y||!y.options)throw Fs("App Configuration");if(!y.name)throw Fs("App Name");const E=["projectId","apiKey","appId"];for(const b of E)if(!y.options[b])throw Fs(b);return{appName:y.name,projectId:y.options.projectId,apiKey:y.options.apiKey,appId:y.options.appId}}(E);return{app:E,appConfig:b,heartbeatServiceProvider:(0,J._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},Sn=y=>{const E=y.getProvider("app").getImmediate(),b=(0,J._getProvider)(E,xi).getImmediate();return{getId:()=>function Cn(y){return wo.apply(this,arguments)}(b),getToken:B=>function er(y){return Te.apply(this,arguments)}(b,B)}};(function Ls(){(0,J._registerComponent)(new ie.wA(xi,ks,"PUBLIC")),(0,J._registerComponent)(new ie.wA("installations-internal",Sn,"PRIVATE"))})(),(0,J.registerVersion)(pe,Oe),(0,J.registerVersion)(pe,Oe,"esm2017");const ss="@firebase/remote-config",jt=new H.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mg{constructor(E,b,M,B){this.client=E,this.storage=b,this.storageCache=M,this.logger=B}isCachedDataFresh(E,b){if(!b)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const M=Date.now()-b,B=M<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${M}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${B}.`),B}fetch(E){var b=this;return(0,ve.Z)(function*(){const[M,B]=yield Promise.all([b.storage.getLastSuccessfulFetchTimestampMillis(),b.storage.getLastSuccessfulFetchResponse()]);if(B&&b.isCachedDataFresh(E.cacheMaxAgeMillis,M))return B;E.eTag=B&&B.eTag;const G=yield b.client.fetch(E),re=[b.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===G.status&&re.push(b.storage.setLastSuccessfulFetchResponse(G)),yield Promise.all(re),G})()}}function xg(y=navigator){return y.languages&&y.languages[0]||y.language}class Rg{constructor(E,b,M,B,G,re){this.firebaseInstallations=E,this.sdkVersion=b,this.namespace=M,this.projectId=B,this.apiKey=G,this.appId=re}fetch(E){var b=this;return(0,ve.Z)(function*(){var M,B,G;const[re,ge]=yield Promise.all([b.firebaseInstallations.getId(),b.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${b.projectId}/namespaces/${b.namespace}:fetch?key=${b.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},Ne={sdk_version:b.sdkVersion,app_instance_id:re,app_instance_id_token:ge,app_id:b.appId,language_code:xg()},xt={method:"POST",headers:We,body:JSON.stringify(Ne)},vt=fetch(Ae,xt),ar=new Promise((di,Ur)=>{E.signal.addEventListener(()=>{const ja=new Error("The operation was aborted.");ja.name="AbortError",Ur(ja)})});let Cr;try{yield Promise.race([vt,ar]),Cr=yield vt}catch(di){let Ur="fetch-client-network";throw"AbortError"===(null===(M=di)||void 0===M?void 0:M.name)&&(Ur="fetch-timeout"),jt.create(Ur,{originalErrorMessage:null===(B=di)||void 0===B?void 0:B.message})}let ps=Cr.status;const Zh=Cr.headers.get("ETag")||void 0;let Gi,ui;if(200===Cr.status){let di;try{di=yield Cr.json()}catch(Ur){throw jt.create("fetch-client-parse",{originalErrorMessage:null===(G=Ur)||void 0===G?void 0:G.message})}Gi=di.entries,ui=di.state}if("INSTANCE_STATE_UNSPECIFIED"===ui?ps=500:"NO_CHANGE"===ui?ps=304:("NO_TEMPLATE"===ui||"EMPTY_CONFIG"===ui)&&(Gi={}),304!==ps&&200!==ps)throw jt.create("fetch-status",{httpStatus:ps});return{status:ps,eTag:Zh,config:Gi}})()}}class Rl{constructor(E,b){this.client=E,this.storage=b}fetch(E){var b=this;return(0,ve.Z)(function*(){const M=(yield b.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return b.attemptFetch(E,M)})()}attemptFetch(E,{throttleEndTimeMillis:b,backoffCount:M}){var B=this;return(0,ve.Z)(function*(){yield function Og(y,E){return new Promise((b,M)=>{const B=Math.max(E-Date.now(),0),G=setTimeout(b,B);y.addEventListener(()=>{clearTimeout(G),M(jt.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,b);try{const G=yield B.client.fetch(E);return yield B.storage.deleteThrottleMetadata(),G}catch(G){if(!function pu(y){if(!(y instanceof H.ZR&&y.customData))return!1;const E=Number(y.customData.httpStatus);return 429===E||500===E||503===E||504===E}(G))throw G;const re={throttleEndTimeMillis:Date.now()+(0,H.$s)(M),backoffCount:M+1};return yield B.storage.setThrottleMetadata(re),B.attemptFetch(E,re)}})()}}class Ng{constructor(E,b,M,B,G){this.app=E,this._client=b,this._storageCache=M,this._storage=B,this._logger=G,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nr(y,E){var b;const M=y.target.error||void 0;return jt.create(E,{originalErrorMessage:M&&(null===(b=M)||void 0===b?void 0:b.message)})}const os="app_namespace_store";class Fg{constructor(E,b,M,B=function Th(){return new Promise((y,E)=>{var b;try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=B=>{E(Nr(B,"storage-open"))},M.onsuccess=B=>{y(B.target.result)},M.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(os,{keyPath:"compositeKey"})}}catch(M){E(jt.create("storage-open",{originalErrorMessage:null===(b=M)||void 0===b?void 0:b.message}))}})}()){this.appId=E,this.appName=b,this.namespace=M,this.openDbPromise=B}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var b=this;return(0,ve.Z)(function*(){const M=yield b.openDbPromise;return new Promise((B,G)=>{var re;const je=M.transaction([os],"readonly").objectStore(os),Ae=b.createCompositeKey(E);try{const We=je.get(Ae);We.onerror=Ne=>{G(Nr(Ne,"storage-get"))},We.onsuccess=Ne=>{const xt=Ne.target.result;B(xt?xt.value:void 0)}}catch(We){G(jt.create("storage-get",{originalErrorMessage:null===(re=We)||void 0===re?void 0:re.message}))}})})()}set(E,b){var M=this;return(0,ve.Z)(function*(){const B=yield M.openDbPromise;return new Promise((G,re)=>{var ge;const Ae=B.transaction([os],"readwrite").objectStore(os),We=M.createCompositeKey(E);try{const Ne=Ae.put({compositeKey:We,value:b});Ne.onerror=xt=>{re(Nr(xt,"storage-set"))},Ne.onsuccess=()=>{G()}}catch(Ne){re(jt.create("storage-set",{originalErrorMessage:null===(ge=Ne)||void 0===ge?void 0:ge.message}))}})})()}delete(E){var b=this;return(0,ve.Z)(function*(){const M=yield b.openDbPromise;return new Promise((B,G)=>{var re;const je=M.transaction([os],"readwrite").objectStore(os),Ae=b.createCompositeKey(E);try{const We=je.delete(Ae);We.onerror=Ne=>{G(Nr(Ne,"storage-delete"))},We.onsuccess=()=>{B()}}catch(We){G(jt.create("storage-delete",{originalErrorMessage:null===(re=We)||void 0===re?void 0:re.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Ol{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,ve.Z)(function*(){const b=E.storage.getLastFetchStatus(),M=E.storage.getLastSuccessfulFetchTimestampMillis(),B=E.storage.getActiveConfig(),G=yield b;G&&(E.lastFetchStatus=G);const re=yield M;re&&(E.lastSuccessfulFetchTimestampMillis=re);const ge=yield B;ge&&(E.activeConfig=ge)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function Ih(){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,ve.Z)(function*(){if(!(0,H.hl)())return!1;try{return yield(0,H.eu)()}catch(y){return!1}})).apply(this,arguments)}!function Pl(){(0,J._registerComponent)(new ie.wA("remote-config",function y(E,{instanceIdentifier:b}){const M=E.getProvider("app").getImmediate(),B=E.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jt.create("registration-window");if(!(0,H.hl)())throw jt.create("indexed-db-unavailable");const{projectId:G,apiKey:re,appId:ge}=M.options;if(!G)throw jt.create("registration-project-id");if(!re)throw jt.create("registration-api-key");if(!ge)throw jt.create("registration-app-id");const je=new Fg(ge,M.name,b=b||"firebase"),Ae=new Ol(je),We=new fe.Yd(ss);We.logLevel=fe.in.ERROR;const Ne=new Rg(B,J.SDK_VERSION,b,G,re,ge),xt=new Rl(Ne,je),vt=new Mg(xt,je,Ae,We),ar=new Ng(M,vt,Ae,je,We);return function Tg(y){const E=(0,H.m9)(y);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(ar),ar},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(ss,"0.3.11"),(0,J.registerVersion)(ss,"0.3.11","esm2017")}();const gu="/firebase-messaging-sw.js",Lg="/firebase-cloud-messaging-push-scope",Nl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mu="google.c.a.c_id",Fl="google.c.a.c_l",_u="google.c.a.ts",kl="google.c.a.e";var Pt=(()=>{return(y=Pt||(Pt={})).PUSH_RECEIVED="push-received",y.NOTIFICATION_CLICKED="notification-clicked",Pt;var y})();function Fr(y){const E=new Uint8Array(y);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ll(y){const b=(y+"=".repeat((4-y.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),M=atob(b),B=new Uint8Array(M.length);for(let G=0;G<M.length;++G)B[G]=M.charCodeAt(G);return B}const kt="fcm_token_details_db",pa="fcm_token_object_Store";function ga(y){return Tn.apply(this,arguments)}function Tn(){return Tn=(0,ve.Z)(function*(y){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(G=>G.name).includes(kt))return null;let E=null;return(yield(0,Ie.X3)(kt,5,{upgrade:(M=(0,ve.Z)(function*(B,G,re,ge){var je;if(G<2||!B.objectStoreNames.contains(pa))return;const Ae=ge.objectStore(pa),We=yield Ae.index("fcmSenderId").get(y);if(yield Ae.clear(),We)if(2===G){const Ne=We;if(!Ne.auth||!Ne.p256dh||!Ne.endpoint)return;E={token:Ne.fcmToken,createTime:null!==(je=Ne.createTime)&&void 0!==je?je:Date.now(),subscriptionOptions:{auth:Ne.auth,p256dh:Ne.p256dh,endpoint:Ne.endpoint,swScope:Ne.swScope,vapidKey:"string"==typeof Ne.vapidKey?Ne.vapidKey:Fr(Ne.vapidKey)}}}else if(3===G){const Ne=We;E={token:Ne.fcmToken,createTime:Ne.createTime,subscriptionOptions:{auth:Fr(Ne.auth),p256dh:Fr(Ne.p256dh),endpoint:Ne.endpoint,swScope:Ne.swScope,vapidKey:Fr(Ne.vapidKey)}}}else if(4===G){const Ne=We;E={token:Ne.fcmToken,createTime:Ne.createTime,subscriptionOptions:{auth:Fr(Ne.auth),p256dh:Fr(Ne.p256dh),endpoint:Ne.endpoint,swScope:Ne.swScope,vapidKey:Fr(Ne.vapidKey)}}}}),function(G,re,ge,je){return M.apply(this,arguments)})})).close(),yield(0,Ie.Lj)(kt),yield(0,Ie.Lj)("fcm_vapid_details_db"),yield(0,Ie.Lj)("undefined"),Mh(E)?E:null;var M}),Tn.apply(this,arguments)}function Mh(y){if(!y||!y.subscriptionOptions)return!1;const{subscriptionOptions:E}=y;return"number"==typeof y.createTime&&y.createTime>0&&"string"==typeof y.token&&y.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const an="firebase-messaging-store";let as=null;function Oi(){return as||(as=(0,Ie.X3)("firebase-messaging-database",1,{upgrade:(y,E)=>{0===E&&y.createObjectStore(an)}})),as}function jl(y){return mr.apply(this,arguments)}function mr(){return(mr=(0,ve.Z)(function*(y){const E=_a(y),M=yield(yield Oi()).transaction(an).objectStore(an).get(E);if(M)return M;{const B=yield ga(y.appConfig.senderId);if(B)return yield Pi(y,B),B}})).apply(this,arguments)}function Pi(y,E){return js.apply(this,arguments)}function js(){return(js=(0,ve.Z)(function*(y,E){const b=_a(y),B=(yield Oi()).transaction(an,"readwrite");return yield B.objectStore(an).put(E,b),yield B.done,E})).apply(this,arguments)}function Je(y){return ma.apply(this,arguments)}function ma(){return(ma=(0,ve.Z)(function*(y){const E=_a(y),M=(yield Oi()).transaction(an,"readwrite");yield M.objectStore(an).delete(E),yield M.done})).apply(this,arguments)}function _a({appConfig:y}){return y.appId}const yn=new H.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vu(y,E){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,ve.Z)(function*(y,E){var b;const M=yield Us(y),B=tr(E),G={method:"POST",headers:M,body:JSON.stringify(B)};let re;try{re=yield(yield fetch(Ht(y.appConfig),G)).json()}catch(ge){throw yn.create("token-subscribe-failed",{errorInfo:null===(b=ge)||void 0===b?void 0:b.toString()})}if(re.error)throw yn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw yn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function xh(y,E){return oe.apply(this,arguments)}function oe(){return(oe=(0,ve.Z)(function*(y,E){var b;const M=yield Us(y),B=tr(E.subscriptionOptions),G={method:"PATCH",headers:M,body:JSON.stringify(B)};let re;try{re=yield(yield fetch(`${Ht(y.appConfig)}/${E.token}`,G)).json()}catch(ge){throw yn.create("token-update-failed",{errorInfo:null===(b=ge)||void 0===b?void 0:b.toString()})}if(re.error)throw yn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw yn.create("token-update-no-token");return re.token})).apply(this,arguments)}function pt(y,E){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,ve.Z)(function*(y,E){var b;const B={method:"DELETE",headers:yield Us(y)};try{const re=yield(yield fetch(`${Ht(y.appConfig)}/${E}`,B)).json();if(re.error)throw yn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(G){throw yn.create("token-unsubscribe-failed",{errorInfo:null===(b=G)||void 0===b?void 0:b.toString()})}})).apply(this,arguments)}function Ht({projectId:y}){return`https://fcmregistrations.googleapis.com/v1/projects/${y}/registrations`}function Us(y){return ls.apply(this,arguments)}function ls(){return(ls=(0,ve.Z)(function*({appConfig:y,installations:E}){const b=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":y.apiKey,"x-goog-firebase-installations-auth":`FIS ${b}`})})).apply(this,arguments)}function tr({p256dh:y,auth:E,endpoint:b,vapidKey:M}){const B={web:{endpoint:b,auth:E,p256dh:y}};return M!==Nl&&(B.web.applicationPubKey=M),B}const Hl=6048e5;function $l(y){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,ve.Z)(function*(y){const E=yield Hs(y.swRegistration,y.vapidKey),b={vapidKey:y.vapidKey,swScope:y.swRegistration.scope,endpoint:E.endpoint,auth:Fr(E.getKey("auth")),p256dh:Fr(E.getKey("p256dh"))},M=yield jl(y.firebaseDependencies);if(M){if(Rh(M.subscriptionOptions,b))return Date.now()>=M.createTime+Hl?ya(y,{token:M.token,createTime:Date.now(),subscriptionOptions:b}):M.token;try{yield pt(y.firebaseDependencies,M.token)}catch(B){console.warn(B)}return kr(y.firebaseDependencies,b)}return kr(y.firebaseDependencies,b)})).apply(this,arguments)}function zl(y){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,ve.Z)(function*(y){const E=yield jl(y.firebaseDependencies);E&&(yield pt(y.firebaseDependencies,E.token),yield Je(y.firebaseDependencies));const b=yield y.swRegistration.pushManager.getSubscription();return!b||b.unsubscribe()})).apply(this,arguments)}function ya(y,E){return fn.apply(this,arguments)}function fn(){return(fn=(0,ve.Z)(function*(y,E){try{const b=yield xh(y.firebaseDependencies,E),M=Object.assign(Object.assign({},E),{token:b,createTime:Date.now()});return yield Pi(y.firebaseDependencies,M),b}catch(b){throw yield zl(y),b}})).apply(this,arguments)}function kr(y,E){return va.apply(this,arguments)}function va(){return(va=(0,ve.Z)(function*(y,E){const M={token:yield vu(y,E),createTime:Date.now(),subscriptionOptions:E};return yield Pi(y,M),M.token})).apply(this,arguments)}function Hs(y,E){return _r.apply(this,arguments)}function _r(){return(_r=(0,ve.Z)(function*(y,E){return(yield y.pushManager.getSubscription())||y.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ll(E)})})).apply(this,arguments)}function Rh(y,E){return E.vapidKey===y.vapidKey&&E.endpoint===y.endpoint&&E.auth===y.auth&&E.p256dh===y.p256dh}function Wl(y){const E={from:y.from,collapseKey:y.collapse_key,messageId:y.fcmMessageId};return function Oh(y,E){if(!E.notification)return;y.notification={};const b=E.notification.title;b&&(y.notification.title=b);const M=E.notification.body;M&&(y.notification.body=M);const B=E.notification.image;B&&(y.notification.image=B)}(E,y),function Ph(y,E){!E.data||(y.data=E.data)}(E,y),function Gl(y,E){var b,M,B,G,re;if(!E.fcmOptions&&!(null===(b=E.notification)||void 0===b?void 0:b.click_action))return;y.fcmOptions={};const ge=null!==(B=null===(M=E.fcmOptions)||void 0===M?void 0:M.link)&&void 0!==B?B:null===(G=E.notification)||void 0===G?void 0:G.click_action;ge&&(y.fcmOptions.link=ge);const je=null===(re=E.fcmOptions)||void 0===re?void 0:re.analytics_label;je&&(y.fcmOptions.analyticsLabel=je)}(E,y),E}function Ea(y){return"object"==typeof y&&!!y&&mu in y}function Cu(y,E){const b=[];for(let M=0;M<y.length;M++)b.push(y.charAt(M)),M<E.length&&b.push(E.charAt(M));return b.join("")}function wu(y){return yn.create("missing-app-config-values",{valueName:y})}Cu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nh{constructor(E,b,M){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const B=function ql(y){if(!y||!y.options)throw wu("App Configuration Object");if(!y.name)throw wu("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:b}=y;for(const M of E)if(!b[M])throw wu(M);return{appName:y.name,projectId:b.projectId,apiKey:b.apiKey,appId:b.appId,senderId:b.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:B,installations:b,analyticsProvider:M}}_delete(){return Promise.resolve()}}function Io(y){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,ve.Z)(function*(y){var E;try{y.swRegistration=yield navigator.serviceWorker.register(gu,{scope:Lg}),y.swRegistration.update().catch(()=>{})}catch(b){throw yn.create("failed-service-worker-registration",{browserErrorMessage:null===(E=b)||void 0===E?void 0:E.message})}})).apply(this,arguments)}function bu(y,E){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,ve.Z)(function*(y,E){if(!E&&!y.swRegistration&&(yield Io(y)),E||!y.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");y.swRegistration=E}})).apply(this,arguments)}function Fh(y,E){return cs.apply(this,arguments)}function cs(){return(cs=(0,ve.Z)(function*(y,E){E?y.vapidKey=E:y.vapidKey||(y.vapidKey=Nl)})).apply(this,arguments)}function Yl(){return(Yl=(0,ve.Z)(function*(y,E){if(!navigator)throw yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yn.create("permission-blocked");return yield Fh(y,null==E?void 0:E.vapidKey),yield bu(y,null==E?void 0:E.serviceWorkerRegistration),$l(y)})).apply(this,arguments)}function In(y,E,b){return nr.apply(this,arguments)}function nr(){return(nr=(0,ve.Z)(function*(y,E,b){const M=Wt(E);(yield y.firebaseDependencies.analyticsProvider.get()).logEvent(M,{message_id:b[mu],message_name:b[Fl],message_time:b[_u],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wt(y){switch(y){case Pt.NOTIFICATION_CLICKED:return"notification_open";case Pt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Du(){return(Du=(0,ve.Z)(function*(y,E){const b=E.data;if(!b.isFirebaseMessaging)return;y.onMessageHandler&&b.messageType===Pt.PUSH_RECEIVED&&("function"==typeof y.onMessageHandler?y.onMessageHandler(Wl(b)):y.onMessageHandler.next(Wl(b)));const M=b.data;Ea(M)&&"1"===M[kl]&&(yield In(y,b.messageType,M))})).apply(this,arguments)}const kh="@firebase/messaging",Ug=y=>{const E=new Nh(y.getProvider("app").getImmediate(),y.getProvider("installations-internal").getImmediate(),y.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",b=>function jg(y,E){return Du.apply(this,arguments)}(E,b)),E},Lh=y=>{const E=y.getProvider("messaging").getImmediate();return{getToken:M=>function oi(y,E){return Yl.apply(this,arguments)}(E,M)}};function wa(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,ve.Z)(function*(){try{yield(0,H.eu)()}catch(y){return!1}return"undefined"!=typeof window&&(0,H.hl)()&&(0,H.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zl(){(0,J._registerComponent)(new ie.wA("messaging",Ug,"PUBLIC")),(0,J._registerComponent)(new ie.wA("messaging-internal",Lh,"PRIVATE")),(0,J.registerVersion)(kh,"0.9.16"),(0,J.registerVersion)(kh,"0.9.16","esm2017")}();const Ws="analytics",Iu="firebase_id",kn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lr="https://www.googletagmanager.com/gtag/js",Fe=new fe.Yd("@firebase/analytics");function Zt(y){return Promise.all(y.map(E=>E.catch(b=>b)))}function An(y,E){const b=document.createElement("script");b.src=`${Lr}?l=${y}&id=${E}`,b.async=!0,document.head.appendChild(b)}function Au(y,E,b,M,B,G){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,ve.Z)(function*(y,E,b,M,B,G){const re=M[B];try{if(re)yield E[re];else{const je=(yield Zt(b)).find(Ae=>Ae.measurementId===B);je&&(yield E[je.appId])}}catch(ge){Fe.error(ge)}y("config",B,G)})).apply(this,arguments)}function Bh(y,E,b,M,B){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,ve.Z)(function*(y,E,b,M,B){try{let G=[];if(B&&B.send_to){let re=B.send_to;Array.isArray(re)||(re=[re]);const ge=yield Zt(b);for(const je of re){const Ae=ge.find(Ne=>Ne.measurementId===je),We=Ae&&E[Ae.appId];if(!We){G=[];break}G.push(We)}}0===G.length&&(G=Object.values(E)),yield Promise.all(G),y("event",M,B||{})}catch(G){Fe.error(G)}})).apply(this,arguments)}function Mo(){const y=window.document.getElementsByTagName("script");for(const E of Object.values(y))if(E.src&&E.src.includes(Lr))return E;return null}const Ln=new H.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Gt=new class Gs{constructor(E={},b=1e3){this.throttleMetadata=E,this.intervalMillis=b}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,b){this.throttleMetadata[E]=b}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function tc(y){return new Headers({Accept:"application/json","x-goog-api-key":y})}function Sa(y){return qs.apply(this,arguments)}function qs(){return(qs=(0,ve.Z)(function*(y){var E;const{appId:b,apiKey:M}=y,B={method:"GET",headers:tc(M)},G=kn.replace("{app-id}",b),re=yield fetch(G,B);if(200!==re.status&&304!==re.status){let ge="";try{const je=yield re.json();(null===(E=je.error)||void 0===E?void 0:E.message)&&(ge=je.error.message)}catch(je){}throw Ln.create("config-fetch-failed",{httpStatus:re.status,responseMessage:ge})}return re.json()})).apply(this,arguments)}function Mu(y){return qn.apply(this,arguments)}function qn(){return(qn=(0,ve.Z)(function*(y,E=Gt,b){const{appId:M,apiKey:B,measurementId:G}=y.options;if(!M)throw Ln.create("no-app-id");if(!B){if(G)return{measurementId:G,appId:M};throw Ln.create("no-api-key")}const re=E.getThrottleMetadata(M)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ge=new Uh;return setTimeout((0,ve.Z)(function*(){ge.abort()}),void 0!==b?b:6e4),us({appId:M,apiKey:B,measurementId:G},re,ge,E)})).apply(this,arguments)}function us(y,E,b){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,ve.Z)(function*(y,{throttleEndTimeMillis:E,backoffCount:b},M,B=Gt){var G,re;const{appId:ge,measurementId:je}=y;try{yield xo(M,E)}catch(Ae){if(je)return Fe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${null===(G=Ae)||void 0===G?void 0:G.message}]`),{appId:ge,measurementId:je};throw Ae}try{const Ae=yield Sa(y);return B.deleteThrottleMetadata(ge),Ae}catch(Ae){const We=Ae;if(!Ia(We)){if(B.deleteThrottleMetadata(ge),je)return Fe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${null==We?void 0:We.message}]`),{appId:ge,measurementId:je};throw Ae}const Ne=503===Number(null===(re=null==We?void 0:We.customData)||void 0===re?void 0:re.httpStatus)?(0,H.$s)(b,B.intervalMillis,30):(0,H.$s)(b,B.intervalMillis),xt={throttleEndTimeMillis:Date.now()+Ne,backoffCount:b+1};return B.setThrottleMetadata(ge,xt),Fe.debug(`Calling attemptFetch again in ${Ne} millis`),us(y,xt,M,B)}})).apply(this,arguments)}function xo(y,E){return new Promise((b,M)=>{const B=Math.max(E-Date.now(),0),G=setTimeout(b,B);y.addEventListener(()=>{clearTimeout(G),M(Ln.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function Ia(y){if(!(y instanceof H.ZR&&y.customData))return!1;const E=Number(y.customData.httpStatus);return 429===E||500===E||503===E||504===E}class Uh{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}let ki,ji;function Aa(){return(Aa=(0,ve.Z)(function*(y,E,b,M,B){if(B&&B.global)y("event",b,M);else{const G=yield E;y("event",b,Object.assign(Object.assign({},M),{send_to:G}))}})).apply(this,arguments)}function xa(y){ji=y}function pn(y){ki=y}function Bn(){return gn.apply(this,arguments)}function gn(){return(gn=(0,ve.Z)(function*(){var y;if(!(0,H.hl)())return Fe.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,H.eu)()}catch(E){return Fe.warn(Ln.create("indexeddb-unavailable",{errorInfo:null===(y=E)||void 0===y?void 0:y.toString()}).message),!1}return!0})).apply(this,arguments)}function Ut(){return(Ut=(0,ve.Z)(function*(y,E,b,M,B,G,re){var ge;const je=Mu(y);je.then(vt=>{b[vt.measurementId]=vt.appId,y.options.measurementId&&vt.measurementId!==y.options.measurementId&&Fe.warn(`The measurement ID in the local Firebase config (${y.options.measurementId}) does not match the measurement ID fetched from the server (${vt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vt=>Fe.error(vt)),E.push(je);const Ae=Bn().then(vt=>{if(vt)return M.getId()}),[We,Ne]=yield Promise.all([je,Ae]);Mo()||An(G,We.measurementId),ji&&(B("consent","default",ji),xa(void 0)),B("js",new Date);const xt=null!==(ge=null==re?void 0:re.config)&&void 0!==ge?ge:{};return xt.origin="firebase",xt.update=!0,null!=Ne&&(xt[Iu]=Ne),B("config",We.measurementId,xt),ki&&(B("set",ki),pn(void 0)),We.measurementId})).apply(this,arguments)}class xu{constructor(E){this.app=E}_delete(){return delete Ui[this.app.options.appId],Promise.resolve()}}let Ui={},Ru=[];const Vh={};let Ou,Qt,Vi="dataLayer",Ra=!1;function Ro(y,E,b){!function Oa(){const y=[];if((0,H.ru)()&&y.push("This is a browser extension environment."),(0,H.zI)()||y.push("Cookies are not available."),y.length>0){const E=y.map((M,B)=>`(${B+1}) ${M}`).join(" "),b=Ln.create("invalid-analytics-context",{errorInfo:E});Fe.warn(b.message)}}();const M=y.options.appId;if(!M)throw Ln.create("no-app-id");if(!y.options.apiKey){if(!y.options.measurementId)throw Ln.create("no-api-key");Fe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${y.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ui[M])throw Ln.create("already-exists",{id:M});if(!Ra){!function yr(y){let E=[];Array.isArray(window[y])?E=window[y]:window[y]=E}(Vi);const{wrappedGtag:G,gtagCore:re}=function Da(y,E,b,M,B){let G=function(...re){window[M].push(arguments)};return window[B]&&"function"==typeof window[B]&&(G=window[B]),window[B]=function ba(y,E,b,M){function G(){return(G=(0,ve.Z)(function*(re,ge,je){try{"event"===re?yield Bh(y,E,b,ge,je):"config"===re?yield Au(y,E,b,M,ge,je):"consent"===re?y("consent","update",je):y("set",ge)}catch(Ae){Fe.error(Ae)}})).apply(this,arguments)}return function B(re,ge,je){return G.apply(this,arguments)}}(G,y,E,b),{gtagCore:G,wrappedGtag:window[B]}}(Ui,Ru,Vh,Vi,"gtag");Qt=G,Ou=re,Ra=!0}return Ui[M]=function Ks(y,E,b,M,B,G,re){return Ut.apply(this,arguments)}(y,Ru,Vh,E,Ou,Vi,b),new xu(y)}function ir(){return sr.apply(this,arguments)}function sr(){return(sr=(0,ve.Z)(function*(){if((0,H.ru)()||!(0,H.zI)()||!(0,H.hl)())return!1;try{return yield(0,H.eu)()}catch(y){return!1}})).apply(this,arguments)}const Pu="@firebase/analytics";!function Kn(){(0,J._registerComponent)(new ie.wA(Ws,(E,{options:b})=>Ro(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),b),"PUBLIC")),(0,J._registerComponent)(new ie.wA("analytics-internal",function y(E){try{const b=E.getProvider(Ws).getImmediate();return{logEvent:(M,B,G)=>function Wh(y,E,b,M){y=(0,H.m9)(y),function vr(y,E,b,M,B){return Aa.apply(this,arguments)}(Qt,Ui[y.app.options.appId],E,b,M).catch(B=>Fe.error(B))}(b,M,B,G)}}catch(b){throw Ln.create("interop-component-reg-failed",{reason:b})}},"PRIVATE")),(0,J.registerVersion)(Pu,"0.8.0"),(0,J.registerVersion)(Pu,"0.8.0","esm2017")}();const ai=new g.GfV("7.4.1"),li="__angularfire_symbol__analyticsIsSupportedValue",Na="__angularfire_symbol__analyticsIsSupported",Fa="__angularfire_symbol__remoteConfigIsSupportedValue",rc="__angularfire_symbol__remoteConfigIsSupported",ic="__angularfire_symbol__messagingIsSupportedValue",or="__angularfire_symbol__messagingIsSupported";globalThis[Na]||(globalThis[Na]=ir().then(y=>globalThis[li]=y).catch(()=>globalThis[li]=!1)),globalThis[or]||(globalThis[or]=wa().then(y=>globalThis[ic]=y).catch(()=>globalThis[ic]=!1)),globalThis[rc]||(globalThis[rc]=Ih().then(y=>globalThis[Fa]=y).catch(()=>globalThis[Fa]=!1)),He=R.hmd(He);class sc{constructor(E){return E}}const oc=new g.OlP("angularfire2.app.options"),Bu=new g.OlP("angularfire2.app.name"),ac={provide:sc,useFactory:function fs(y,E,b){const B="object"==typeof b&&b||{};B.name=B.name||"string"==typeof b&&b||"[DEFAULT]";const re=Pe.apps.filter(ge=>ge&&ge.name===B.name)[0]||E.runOutsideAngular(()=>Pe.initializeApp(y,B));try{JSON.stringify(y)!==JSON.stringify(re.options)&&((y,...E)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[y](...E)})("error",`${re.name} Firebase App already initialized with different options${He.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ge){}return new sc(re)},deps:[oc,g.R0b,[new g.FiY,Bu]]};let Wi=(()=>{class y{constructor(b){Pe.registerVersion("angularfire",ai.full,"core"),Pe.registerVersion("angularfire",ai.full,"app-compat"),Pe.registerVersion("angular",g.q4F.full,b.toString())}static initializeApp(b,M){return{ngModule:y,providers:[{provide:oc,useValue:b},{provide:Bu,useValue:M}]}}}return y.\u0275fac=function(b){return new(b||y)(g.LFG(g.Lbi))},y.\u0275mod=g.oAB({type:y}),y.\u0275inj=g.cJS({providers:[ac]}),y})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},90:(He,le,R)=>{R.d(le,{BH:()=>xe,LL:()=>Q,ZR:()=>te,gQ:()=>Rr,zI:()=>V,hu:()=>H,g5:()=>ie,US:()=>me,h$:()=>ce,L:()=>he,$s:()=>En,r3:()=>Rn,ne:()=>Ge,p$:()=>j,vZ:()=>xs,ZB:()=>U,gK:()=>Yt,m9:()=>Pr,GJ:()=>Ct,jU:()=>Re,ru:()=>st,xb:()=>un,hl:()=>ee,uI:()=>Pe,Yr:()=>ot,b$:()=>ve,w9:()=>zt,cI:()=>_t,UI:()=>Mr,xO:()=>xr,DV:()=>On,ug:()=>Be,dS:()=>wt,Pz:()=>ht,eu:()=>de});const H=function(N,L){if(!N)throw ie(L)},ie=function(N){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+N)},J=function(N){const L=[];let x=0;for(let F=0;F<N.length;F++){let k=N.charCodeAt(F);k<128?L[x++]=k:k<2048?(L[x++]=k>>6|192,L[x++]=63&k|128):55296==(64512&k)&&F+1<N.length&&56320==(64512&N.charCodeAt(F+1))?(k=65536+((1023&k)<<10)+(1023&N.charCodeAt(++F)),L[x++]=k>>18|240,L[x++]=k>>12&63|128,L[x++]=k>>6&63|128,L[x++]=63&k|128):(L[x++]=k>>12|224,L[x++]=k>>6&63|128,L[x++]=63&k|128)}return L},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(N,L){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let k=0;k<N.length;k+=3){const ae=N[k],Se=k+1<N.length,Qe=Se?N[k+1]:0,Tt=k+2<N.length,Ot=Tt?N[k+2]:0;let fr=(15&Qe)<<2|Ot>>6,ni=63&Ot;Tt||(ni=64,Se||(fr=64)),F.push(x[ae>>2],x[(3&ae)<<4|Qe>>4],x[fr],x[ni])}return F.join("")},encodeString(N,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(N):this.encodeByteArray(J(N),L)},decodeString(N,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(N):function(N){const L=[];let x=0,F=0;for(;x<N.length;){const k=N[x++];if(k<128)L[F++]=String.fromCharCode(k);else if(k>191&&k<224){const ae=N[x++];L[F++]=String.fromCharCode((31&k)<<6|63&ae)}else if(k>239&&k<365){const Tt=((7&k)<<18|(63&N[x++])<<12|(63&N[x++])<<6|63&N[x++])-65536;L[F++]=String.fromCharCode(55296+(Tt>>10)),L[F++]=String.fromCharCode(56320+(1023&Tt))}else{const ae=N[x++],Se=N[x++];L[F++]=String.fromCharCode((15&k)<<12|(63&ae)<<6|63&Se)}}return L.join("")}(this.decodeStringToByteArray(N,L))},decodeStringToByteArray(N,L){this.init_();const x=L?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let k=0;k<N.length;){const ae=x[N.charAt(k++)],Qe=k<N.length?x[N.charAt(k)]:0;++k;const Ot=k<N.length?x[N.charAt(k)]:64;++k;const gt=k<N.length?x[N.charAt(k)]:64;if(++k,null==ae||null==Qe||null==Ot||null==gt)throw Error();F.push(ae<<2|Qe>>4),64!==Ot&&(F.push(Qe<<4&240|Ot>>2),64!==gt&&F.push(Ot<<6&192|gt))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}},ce=function(N){const L=J(N);return me.encodeByteArray(L,!0)},he=function(N){return ce(N).replace(/\./g,"")},we=function(N){try{return me.decodeString(N,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function j(N){return U(void 0,N)}function U(N,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===N&&(N={});break;case Array:N=[];break;default:return L}for(const x in L)!L.hasOwnProperty(x)||!Y(x)||(N[x]=U(N[x],L[x]));return N}function Y(N){return"__proto__"!==N}class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,x)=>{this.resolve=L,this.reject=x})}wrapCallback(L){return(x,F)=>{x?this.reject(x):this.resolve(F),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(x):L(x,F))}}}function Pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(function De(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())}function Re(){return"object"==typeof self&&self.self===self}function st(){const N="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof N&&void 0!==N.id}function ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ot(){return!1}function ee(){return"object"==typeof indexedDB}function de(){return new Promise((N,L)=>{try{let x=!0;const F="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(F);k.onsuccess=()=>{k.result.close(),x||self.indexedDB.deleteDatabase(F),N(!0)},k.onupgradeneeded=()=>{x=!1},k.onerror=()=>{var ae;L((null===(ae=k.error)||void 0===ae?void 0:ae.message)||"")}}catch(x){L(x)}})}function V(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class te extends Error{constructor(L,x,F){super(x),this.code=L,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(L,x,F){this.service=L,this.serviceName=x,this.errors=F}create(L,...x){const F=x[0]||{},k=`${this.service}/${L}`,ae=this.errors[L],Se=ae?function Ee(N,L){return N.replace(ze,(x,F)=>{const k=L[F];return null!=k?String(k):`<${F}?>`})}(ae,F):"Error";return new te(k,`${this.serviceName}: ${Se} (${k}).`,F)}}const ze=/\{\$([^}]+)}/g;function _t(N){return JSON.parse(N)}function ht(N){return JSON.stringify(N)}const Me=function(N){let L={},x={},F={},k="";try{const ae=N.split(".");L=_t(we(ae[0])||""),x=_t(we(ae[1])||""),k=ae[2],F=x.d||{},delete x.d}catch(ae){}return{header:L,claims:x,data:F,signature:k}},zt=function(N){const x=Me(N).claims;return!!x&&"object"==typeof x&&x.hasOwnProperty("iat")},Ct=function(N){const L=Me(N).claims;return"object"==typeof L&&!0===L.admin};function Rn(N,L){return Object.prototype.hasOwnProperty.call(N,L)}function On(N,L){if(Object.prototype.hasOwnProperty.call(N,L))return N[L]}function un(N){for(const L in N)if(Object.prototype.hasOwnProperty.call(N,L))return!1;return!0}function Mr(N,L,x){const F={};for(const k in N)Object.prototype.hasOwnProperty.call(N,k)&&(F[k]=L.call(x,N[k],k,N));return F}function xs(N,L){if(N===L)return!0;const x=Object.keys(N),F=Object.keys(L);for(const k of x){if(!F.includes(k))return!1;const ae=N[k],Se=L[k];if(Jn(ae)&&Jn(Se)){if(!xs(ae,Se))return!1}else if(ae!==Se)return!1}for(const k of F)if(!x.includes(k))return!1;return!0}function Jn(N){return null!==N&&"object"==typeof N}function xr(N){const L=[];for(const[x,F]of Object.entries(N))Array.isArray(F)?F.forEach(k=>{L.push(encodeURIComponent(x)+"="+encodeURIComponent(k))}):L.push(encodeURIComponent(x)+"="+encodeURIComponent(F));return L.length?"&"+L.join("&"):""}class Rr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(L,x){x||(x=0);const F=this.W_;if("string"==typeof L)for(let gt=0;gt<16;gt++)F[gt]=L.charCodeAt(x)<<24|L.charCodeAt(x+1)<<16|L.charCodeAt(x+2)<<8|L.charCodeAt(x+3),x+=4;else for(let gt=0;gt<16;gt++)F[gt]=L[x]<<24|L[x+1]<<16|L[x+2]<<8|L[x+3],x+=4;for(let gt=16;gt<80;gt++){const fr=F[gt-3]^F[gt-8]^F[gt-14]^F[gt-16];F[gt]=4294967295&(fr<<1|fr>>>31)}let Ot,hr,k=this.chain_[0],ae=this.chain_[1],Se=this.chain_[2],Qe=this.chain_[3],Tt=this.chain_[4];for(let gt=0;gt<80;gt++){gt<40?gt<20?(Ot=Qe^ae&(Se^Qe),hr=1518500249):(Ot=ae^Se^Qe,hr=1859775393):gt<60?(Ot=ae&Se|Qe&(ae|Se),hr=2400959708):(Ot=ae^Se^Qe,hr=3395469782);const fr=(k<<5|k>>>27)+Ot+Tt+hr+F[gt]&4294967295;Tt=Qe,Qe=Se,Se=4294967295&(ae<<30|ae>>>2),ae=k,k=fr}this.chain_[0]=this.chain_[0]+k&4294967295,this.chain_[1]=this.chain_[1]+ae&4294967295,this.chain_[2]=this.chain_[2]+Se&4294967295,this.chain_[3]=this.chain_[3]+Qe&4294967295,this.chain_[4]=this.chain_[4]+Tt&4294967295}update(L,x){if(null==L)return;void 0===x&&(x=L.length);const F=x-this.blockSize;let k=0;const ae=this.buf_;let Se=this.inbuf_;for(;k<x;){if(0===Se)for(;k<=F;)this.compress_(L,k),k+=this.blockSize;if("string"==typeof L){for(;k<x;)if(ae[Se]=L.charCodeAt(k),++Se,++k,Se===this.blockSize){this.compress_(ae),Se=0;break}}else for(;k<x;)if(ae[Se]=L[k],++Se,++k,Se===this.blockSize){this.compress_(ae),Se=0;break}}this.inbuf_=Se,this.total_+=x}digest(){const L=[];let x=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let k=this.blockSize-1;k>=56;k--)this.buf_[k]=255&x,x/=256;this.compress_(this.buf_);let F=0;for(let k=0;k<5;k++)for(let ae=24;ae>=0;ae-=8)L[F]=this.chain_[k]>>ae&255,++F;return L}}function Ge(N,L){const x=new Xr(N,L);return x.subscribe.bind(x)}class Xr{constructor(L,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{L(this)}).catch(F=>{this.error(F)})}next(L){this.forEachObserver(x=>{x.next(L)})}error(L){this.forEachObserver(x=>{x.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,x,F){let k;if(void 0===L&&void 0===x&&void 0===F)throw new Error("Missing Observer.");k=function Pn(N,L){if("object"!=typeof N||null===N)return!1;for(const x of L)if(x in N&&"function"==typeof N[x])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:x,complete:F},void 0===k.next&&(k.next=Jr),void 0===k.error&&(k.error=Jr),void 0===k.complete&&(k.complete=Jr);const ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch(Se){}}),this.observers.push(k),ae}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,L)}sendOne(L,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{x(this.observers[L])}catch(F){"undefined"!=typeof console&&console.error&&console.error(F)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jr(){}function Yt(N,L){return`${N} failed: ${L} argument `}const wt=function(N){const L=[];let x=0;for(let F=0;F<N.length;F++){let k=N.charCodeAt(F);if(k>=55296&&k<=56319){const ae=k-55296;F++,H(F<N.length,"Surrogate pair missing trail surrogate."),k=65536+(ae<<10)+(N.charCodeAt(F)-56320)}k<128?L[x++]=k:k<2048?(L[x++]=k>>6|192,L[x++]=63&k|128):k<65536?(L[x++]=k>>12|224,L[x++]=k>>6&63|128,L[x++]=63&k|128):(L[x++]=k>>18|240,L[x++]=k>>12&63|128,L[x++]=k>>6&63|128,L[x++]=63&k|128)}return L},Be=function(N){let L=0;for(let x=0;x<N.length;x++){const F=N.charCodeAt(x);F<128?L++:F<2048?L+=2:F>=55296&&F<=56319?(L+=4,x++):L+=3}return L};function En(N,L=1e3,x=2){const F=L*Math.pow(x,N),k=Math.round(.5*F*(Math.random()-.5)*2);return Math.min(144e5,F+k)}function Pr(N){return N&&N._delegate?N._delegate:N}},439:(He,le,R)=>{var g=R(0);let H=null;function ie(){return H}const ce=new g.OlP("DocumentToken");let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return function we(){return(0,g.LFG)(U)}()},providedIn:"platform"}),n})();const j=new g.OlP("Location Initialized");let U=(()=>{class n extends he{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(e){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){Y()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){Y()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function xe(){return new U((0,g.LFG)(ce))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function _e(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function De(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Pe(n){return n&&"?"!==n[0]?"?"+n:n}let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return function Re(n){const t=(0,g.LFG)(ce).location;return new ve((0,g.LFG)(he),t&&t.origin||"")}()},providedIn:"root"}),n})();const st=new g.OlP("appBaseHref");let ve=(()=>{class n extends ue{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _e(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Pe(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,c){const d=this.prepareExternalUrl(a+Pe(c));this._platformLocation.pushState(e,r,d)}replaceState(e,r,a,c){const d=this.prepareExternalUrl(a+Pe(c));this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(he),g.LFG(st,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends ue{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=_e(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,c){let d=this.prepareExternalUrl(a+Pe(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,r,d)}replaceState(e,r,a,c){let d=this.prepareExternalUrl(a+Pe(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(he),g.LFG(st,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),pe=(()=>{class n{constructor(e,r){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=De(ke(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Pe(r))}normalize(e){return n.stripTrailingSlash(function ot(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ke(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pe(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pe(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.normalizeQueryParams=Pe,n.joinWithSlash=_e,n.stripTrailingSlash=De,n.\u0275fac=function(e){return new(e||n)(g.LFG(ue),g.LFG(he))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function Oe(){return new pe((0,g.LFG)(ue),(0,g.LFG)(he))}()},providedIn:"root"}),n})();function ke(n){return n.replace(/\/index.html$/,"")}let xi=(()=>{class n{constructor(e,r,a,c){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=a,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ks{constructor(t,e,r,a){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sn=(()=>{class n{constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((a,c,d)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new ks(a.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===c?void 0:c);else if(null!==c){const f=r.get(c);r.move(f,d),Ls(f,a)}});for(let a=0,c=r.length;a<c;a++){const f=r.get(a).context;f.index=a,f.count=c,f.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{Ls(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ls(n,t){n.context.$implicit=t.item}let Wn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Ft,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Sl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Sl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.s_b),g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ft{constructor(){this.$implicit=null,this.ngIf=null}}function Sl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,g.AaK)(t)}'.`)}let Ol=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();const Pl="browser";let mu=(()=>{class n{}return n.\u0275prov=(0,g.Yz7)({token:n,providedIn:"root",factory:()=>new Fl((0,g.LFG)(ce),window)}),n})();class Fl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function kl(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const d=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(d)return d}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=_u(this.window.history)||_u(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function _u(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ll extends class Fr extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){H||(H=n)}(new Ll)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ah(){return kt=kt||document.querySelector("base"),kt?kt.getAttribute("href"):null}();return null==e?null:function ga(n){pa=pa||document.createElement("a"),pa.setAttribute("href",n);const t=pa.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){kt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Fs(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let pa,kt=null;const Tn=new g.OlP("TRANSITION_ID"),Bl=[{provide:g.ip1,useFactory:function Mh(n,t,e){return()=>{e.get(g.CZH).donePromise.then(()=>{const r=ie(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)r.remove(a[c])})}},deps:[Tn,ce,g.zs3],multi:!0}];class Ri{static init(){(0,g.VLi)(new Ri)}addToWindow(t){g.dqk.getAngularTestability=(r,a=!0)=>{const c=t.findTestabilityInTree(r,a);if(null==c)throw new Error("Could not find testability for element.");return c},g.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const a=g.dqk.getAllAngularTestabilities();let c=a.length,d=!1;const f=function(_){d=d||_,c--,0==c&&r(d)};a.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:r?ie().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let an=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const as=new g.OlP("EventManagerPlugins");let Oi=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let c=0;c<a.length;c++){const d=a[c];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(as),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class jl{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=ie().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let mr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Pi=(()=>{class n extends mr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(c=>{const d=this._doc.createElement("style");d.textContent=c,a.push(r.appendChild(d))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(js),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(js))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function js(n){ie().remove(n)}const Je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ma=/%COMP%/g;function oe(n,t,e){for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?oe(n,a,e):(a=a.replace(ma,n),e.push(a))}return e}function pt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ht=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Us(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case g.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new Hl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case g.ifc.ShadowDom:return new $l(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=oe(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Oi),g.LFG(Pi),g.LFG(g.AFp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Us{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Je[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const c=Je[a];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=Je[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(g.JOm.DashCase|g.JOm.Important)?t.style.setProperty(e,r,a&g.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&g.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,pt(r)):this.eventManager.addEventListener(t,e,pt(r))}}class Hl extends Us{constructor(t,e,r,a){super(t),this.component=r;const c=oe(a+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr=function Ul(n){return"_ngcontent-%COMP%".replace(ma,n)}(a+"-"+r.id),this.hostAttr=function xh(n){return"_nghost-%COMP%".replace(ma,n)}(a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class $l extends Us{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=oe(a.id,a.styles,[]);for(let d=0;d<c.length;d++){const f=document.createElement("style");f.textContent=c[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Eu=(()=>{class n extends jl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const zl=["alt","control","meta","shift"],ya={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let va=(()=>{class n extends jl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ie().onAndCancel(e,c.domEventName,d))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(r.pop());let d="";if(zl.forEach(_=>{const C=r.indexOf(_);C>-1&&(r.splice(C,1),d+=_+".")}),d+=c,0!=r.length||0===c.length)return null;const f={};return f.domEventName=a,f.fullKey=d,f}static getEventFullKey(e){let r="",a=function Hs(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&fn.hasOwnProperty(t)&&(t=fn[t]))}return ya[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),zl.forEach(c=>{c!=a&&kr[c](e)&&(r+=c+".")}),r+=a,r}static eventCallback(e,r,a){return c=>{n.getEventFullKey(c)===e&&a.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Ph=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:Pl},{provide:g.g9A,useValue:function _r(){Ll.makeCurrent(),Ri.init()},multi:!0},{provide:ce,useFactory:function Wl(){return(0,g.RDi)(document),document},deps:[]}]),Gl=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Rh(){return new g.qLn},deps:[]},{provide:as,useClass:Eu,multi:!0,deps:[ce,g.R0b,g.Lbi]},{provide:as,useClass:va,multi:!0,deps:[ce]},{provide:Ht,useClass:Ht,deps:[Oi,Pi,g.AFp]},{provide:g.FYo,useExisting:Ht},{provide:mr,useExisting:Pi},{provide:Pi,useClass:Pi,deps:[ce]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:Oi,useClass:Oi,deps:[as,g.R0b]},{provide:class Pt{},useClass:an,deps:[]}];let Ea=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:g.AFp,useValue:e.appId},{provide:Tn,useExisting:g.AFp},Bl]}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(n,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:Gl,imports:[Ol,g.hGG]}),n})();"undefined"!=typeof window&&window;let zs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):g.LFG(Iu),r},providedIn:"root"}),n})(),Iu=(()=>{class n extends zs{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case g.q3G.NONE:return r;case g.q3G.HTML:return(0,g.qzn)(r,"HTML")?(0,g.z3N)(r):(0,g.EiD)(this._doc,String(r)).toString();case g.q3G.STYLE:return(0,g.qzn)(r,"Style")?(0,g.z3N)(r):r;case g.q3G.SCRIPT:if((0,g.qzn)(r,"Script"))return(0,g.z3N)(r);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.yhl)(r),(0,g.qzn)(r,"URL")?(0,g.z3N)(r):(0,g.mCW)(String(r));case g.q3G.RESOURCE_URL:if((0,g.qzn)(r,"ResourceURL"))return(0,g.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,g.JVY)(e)}bypassSecurityTrustStyle(e){return(0,g.L6k)(e)}bypassSecurityTrustScript(e){return(0,g.eBb)(e)}bypassSecurityTrustUrl(e){return(0,g.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,g.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Ws(n){return new Iu(n.get(ce))}(g.LFG(g.zs3)),r},providedIn:"root"}),n})();var $g=R(773),kn=R(76),Lr=R(269);function Fe(...n){const t=(0,Lr.yG)(n);return(0,kn.D)(n,t)}var Zt=R(579);class An extends Zt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}var yr=R(306);const{isArray:Au}=Array,{getPrototypeOf:Ni,prototype:Bh,keys:Fi}=Object;function ba(n){if(1===n.length){const t=n[0];if(Au(t))return{args:t,keys:null};if(function Da(n){return n&&"object"==typeof n&&Ni(n)===Bh}(t)){const e=Fi(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var Mo=R(671),ut=R(4);const{isArray:Ln}=Array;function ec(n){return(0,ut.U)(t=>function jh(n,t){return Ln(t)?n(...t):n(t)}(n,t))}function Gs(n,t){return n.reduce((e,r,a)=>(e[r]=t[a],e),{})}var Gt=R(403),tc=R(672);function Mu(n,t,e){n?(0,tc.f)(e,n,t):t()}var qn=R(576);function us(n,t){const e=(0,qn.m)(n)?n:()=>n,r=a=>a.error(e());return new yr.y(t?a=>t.schedule(r,0,a):r)}const xo=(0,R(888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ia=R(189);function ki(...n){return function Uh(){return(0,Ia.J)(1)}()((0,kn.D)(n,(0,Lr.yG)(n)))}var vr=R(421);function Aa(n){return new yr.y(t=>{(0,vr.Xf)(n()).subscribe(t)})}var Li=R(515),Bi=R(727),qt=R(482);function Ma(){return(0,qt.e)((n,t)=>{let e=null;n._refCount++;const r=(0,Gt.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,c=e;e=null,a&&(!c||a===c)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class nc extends yr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,qt.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Bi.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Gt.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Bi.w0.EMPTY)}return t}refCount(){return Ma()(this)}}function Er(n,t){return(0,qt.e)((e,r)=>{let a=null,c=0,d=!1;const f=()=>d&&!a&&r.complete();e.subscribe((0,Gt.x)(r,_=>{null==a||a.unsubscribe();let C=0;const S=c++;(0,vr.Xf)(n(_,S)).subscribe(a=(0,Gt.x)(r,T=>r.next(t?t(_,T,S,C++):T),()=>{a=null,f()}))},()=>{d=!0,f()}))})}function rr(n){return n<=0?()=>Li.E:(0,qt.e)((t,e)=>{let r=0;t.subscribe((0,Gt.x)(e,a=>{++r<=n&&(e.next(a),n<=r&&e.complete())}))})}function Br(...n){const t=(0,Lr.yG)(n);return(0,qt.e)((e,r)=>{(t?ki(n,e,t):ki(n,e)).subscribe(r)})}function ji(n,t,e,r,a){return(c,d)=>{let f=e,_=t,C=0;c.subscribe((0,Gt.x)(d,S=>{const T=C++;_=f?n(_,S,T):(f=!0,S),r&&d.next(_)},a&&(()=>{f&&d.next(_),d.complete()})))}}function xa(n,t){return(0,qt.e)(ji(n,t,arguments.length>=2,!0))}function pn(n,t){return(0,qt.e)((e,r)=>{let a=0;e.subscribe((0,Gt.x)(r,c=>n.call(t,c,a++)&&r.next(c)))})}function Bn(n){return(0,qt.e)((t,e)=>{let c,r=null,a=!1;r=t.subscribe((0,Gt.x)(e,void 0,void 0,d=>{c=(0,vr.Xf)(n(d,Bn(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):a=!0})),a&&(r.unsubscribe(),r=null,c.subscribe(e))})}var gn=R(577);function Ks(n,t){return(0,qn.m)(t)?(0,gn.z)(n,t,1):(0,gn.z)(n,1)}function Ut(n){return n<=0?()=>Li.E:(0,qt.e)((t,e)=>{let r=[];t.subscribe((0,Gt.x)(e,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)e.next(a);e.complete()},void 0,()=>{r=null}))})}function xu(n=Ui){return(0,qt.e)((t,e)=>{let r=!1;t.subscribe((0,Gt.x)(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(n())))})}function Ui(){return new xo}function Ru(n){return(0,qt.e)((t,e)=>{let r=!1;t.subscribe((0,Gt.x)(e,a=>{r=!0,e.next(a)},()=>{r||e.next(n),e.complete()}))})}function Vi(n,t){const e=arguments.length>=2;return r=>r.pipe(n?pn((a,c)=>n(a,c,r)):Mo.y,rr(1),e?Ru(t):xu(()=>new xo))}function wn(n,t,e){const r=(0,qn.m)(n)||t||e?{next:n,error:t,complete:e}:n;return r?(0,qt.e)((a,c)=>{var d;null===(d=r.subscribe)||void 0===d||d.call(r);let f=!0;a.subscribe((0,Gt.x)(c,_=>{var C;null===(C=r.next)||void 0===C||C.call(r,_),c.next(_)},()=>{var _;f=!1,null===(_=r.complete)||void 0===_||_.call(r),c.complete()},_=>{var C;f=!1,null===(C=r.error)||void 0===C||C.call(r,_),c.error(_)},()=>{var _,C;f&&(null===(_=r.unsubscribe)||void 0===_||_.call(r)),null===(C=r.finalize)||void 0===C||C.call(r)}))}):Mo.y}function Ou(n){return(0,qt.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Qt{constructor(t,e){this.id=t,this.url=e}}class Ra extends Qt{constructor(t,e,r="imperative",a=null){super(t,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kt extends Qt{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oa extends Qt{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ro extends Qt{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nE extends Qt{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hh extends Qt{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir extends Qt{constructor(t,e,r,a,c){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sr extends Qt{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $h extends Qt{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pa{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Oo{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zg{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rE{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pu{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const it="primary";class Kn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ai(n){return new Kn(n)}const li="ngNavigationCancelingError";function Na(n){const t=Error("NavigationCancelingError: "+n);return t[li]=!0,t}function rc(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let c=0;c<r.length;c++){const d=r[c],f=n[c];if(d.startsWith(":"))a[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function or(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!ka(n[a],t[a]))return!1;return!0}function ka(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,c)=>r[c]===a)}return n===t}function Gh(n){return Array.prototype.concat.apply([],n)}function Nu(n){return n.length>0?n[n.length-1]:null}function ln(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Hi(n){return(0,g.CqO)(n)?n:(0,g.QGY)(n)?(0,kn.D)(Promise.resolve(n)):Fe(n)}const Fu={exact:function ku(n,t,e){if(!zi(n.segments,t.segments)||!Fo(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!ku(n.children[r],t.children[r],e))return!1;return!0},subset:Yh},Po={exact:function ds(n,t){return or(n,t)},subset:function $i(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ka(n[e],t[e]))},ignored:()=>!0};function Kh(n,t,e){return Fu[e.paths](n.root,t.root,e.matrixParams)&&Po[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Yh(n,t,e){return No(n,t,t.segments,e)}function No(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!zi(a,e)||t.hasChildren()||!Fo(a,e,r))}if(n.segments.length===e.length){if(!zi(n.segments,e)||!Fo(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!Yh(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(zi(n.segments,a)&&Fo(n.segments,a,r)&&n.children[it])&&No(n.children[it],t,c,r)}}function Fo(n,t,e){return t.every((r,a)=>Po[e](n[a].parameters,r.parameters))}class hs{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ai(this.queryParams)),this._queryParamMap}toString(){return Bu.serialize(this)}}class qe{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ln(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fs(this)}}class ko{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ai(this.parameters)),this._parameterMap}toString(){return y(this)}}function zi(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class sc{}class oc{parse(t){const e=new Ae(t);return new hs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ci(t.root,!0)}`,r=function b(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${Wi(e)}=${Wi(a)}`).join("&"):`${Wi(e)}=${Wi(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function Wg(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Bu=new oc;function fs(n){return n.segments.map(t=>y(t)).join("/")}function ci(n,t){if(!n.hasChildren())return fs(n);if(t){const e=n.children[it]?ci(n.children[it],!1):"",r=[];return ln(n.children,(a,c)=>{c!==it&&r.push(`${c}:${ci(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function La(n,t){let e=[];return ln(n.children,(r,a)=>{a===it&&(e=e.concat(t(r,a)))}),ln(n.children,(r,a)=>{a!==it&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===it?[ci(n.children[it],!1)]:[`${a}:${ci(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[it]?`${fs(n)}/${e[0]}`:`${fs(n)}/(${e.join("//")})`}}function ac(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wi(n){return ac(n).replace(/%3B/gi,";")}function Ba(n){return ac(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ys(n){return decodeURIComponent(n)}function Zs(n){return Ys(n.replace(/\+/g,"%20"))}function y(n){return`${Ba(n.path)}${function E(n){return Object.keys(n).map(t=>`;${Ba(t)}=${Ba(n[t])}`).join("")}(n.parameters)}`}const M=/^[^\/()?;=#]+/;function B(n){const t=n.match(M);return t?t[0]:""}const G=/^[^=?&#]+/,ge=/^[^&#]+/;class Ae{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qe([],{}):new qe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[it]=new qe(t,e)),r}parseSegment(){const t=B(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ko(Ys(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=B(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=B(this.remaining);a&&(r=a,this.capture(r))}t[Ys(e)]=Ys(r)}parseQueryParam(t){const e=function re(n){const t=n.match(G);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const d=function je(n){const t=n.match(ge);return t?t[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const a=Zs(e),c=Zs(r);if(t.hasOwnProperty(a)){let d=t[a];Array.isArray(d)||(d=[d],t[a]=d),d.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=B(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=it);const d=this.parseChildren();e[c]=1===Object.keys(d).length?d[it]:new qe([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class We{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ne(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Ne(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=xt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return xt(t,this._root).map(e=>e.value)}}function Ne(n,t){if(n===t.value)return t;for(const e of t.children){const r=Ne(n,e);if(r)return r}return null}function xt(n,t){if(n===t.value)return[t];for(const e of t.children){const r=xt(n,e);if(r.length)return r.unshift(t),r}return[]}class vt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ar(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Cr extends We{constructor(t,e){super(t),this.snapshot=e,ju(this,t)}toString(){return this.snapshot.toString()}}function ps(n,t){const e=function Zh(n,t){const d=new Ur([],{},{},"",{},it,t,null,n.root,-1,{});return new ja("",new vt(d,[]))}(n,t),r=new An([new ko("",{})]),a=new An({}),c=new An({}),d=new An({}),f=new An(""),_=new Gi(r,a,d,f,c,it,t,e.root);return _.snapshot=e.root,new Cr(new vt(_,[]),e)}class Gi{constructor(t,e,r,a,c,d,f,_){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=d,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(t=>ai(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(t=>ai(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ui(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],c=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function di(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Ur{constructor(t,e,r,a,c,d,f,_,C,S,T){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=d,this.component=f,this.routeConfig=_,this._urlSegment=C,this._lastPathIndex=S,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ai(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ai(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ja extends We{constructor(t,e){super(e),this.url=t,ju(this,e)}toString(){return Qs(this._root)}}function ju(n,t){t.value._routerState=n,t.children.forEach(e=>ju(n,e))}function Qs(n){const t=n.children.length>0?` { ${n.children.map(Qs).join(", ")} } `:"";return`${n.value}${t}`}function Qh(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,or(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),or(t.params,e.params)||n.params.next(e.params),function ic(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!or(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),or(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Xh(n,t){const e=or(n.params,t.params)&&function Lu(n,t){return zi(n,t)&&n.every((e,r)=>or(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Xh(n.parent,t.parent))}function lc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function sE(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return lc(n,r,a);return lc(n,r)})}(n,t,e);return new vt(r,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(f=>lc(n,f)),d}}const r=function gs(n){return new Gi(new An(n.url),new An(n.params),new An(n.queryParams),new An(n.fragment),new An(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>lc(n,c));return new vt(r,a)}}function cc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function uc(n){return"object"==typeof n&&null!=n&&n.outlets}function Jh(n,t,e,r,a){let c={};if(r&&ln(r,(f,_)=>{c[_]=Array.isArray(f)?f.map(C=>`${C}`):`${f}`}),n===t)return new hs(e,c,a);const d=Gg(n,t,e);return new hs(d,c,a)}function Gg(n,t,e){const r={};return ln(n.children,(a,c)=>{r[c]=a===t?e:Gg(a,t,e)}),new qe(n.segments,r)}class qg{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&cc(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(uc);if(a&&a!==Nu(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uu{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Kg(n,t,e){if(n||(n=new qe([],{})),0===n.segments.length&&n.hasChildren())return ef(n,t,e);const r=function uE(n,t,e){let r=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return c;const d=n.segments[a],f=e[r];if(uc(f))break;const _=`${f}`,C=r<e.length-1?e[r+1]:null;if(a>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!Va(_,C,d))return c;r+=2}else{if(!Va(_,{},d))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new qe(n.segments.slice(0,r.pathIndex),{});return c.children[it]=new qe(n.segments.slice(r.pathIndex),n.children),ef(c,0,a)}return r.match&&0===a.length?new qe(n.segments,{}):r.match&&!n.hasChildren()?Lo(n,t,e):r.match?ef(n,0,a):Lo(n,t,e)}function ef(n,t,e){if(0===e.length)return new qe(n.segments,{});{const r=function cE(n){return uc(n[0])?n[0].outlets:{[it]:n}}(e),a={};return ln(r,(c,d)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[d]=Kg(n.children[d],t,c))}),ln(n.children,(c,d)=>{void 0===r[d]&&(a[d]=c)}),new qe(n.segments,a)}}function Lo(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(uc(c)){const _=Yg(c.outlets);return new qe(r,_)}if(0===a&&cc(e[0])){r.push(new ko(n.segments[t].path,hi(e[0]))),a++;continue}const d=uc(c)?c.outlets[it]:`${c}`,f=a<e.length-1?e[a+1]:null;d&&f&&cc(f)?(r.push(new ko(d,hi(f))),a+=2):(r.push(new ko(d,{})),a++)}return new qe(r,{})}function Yg(n){const t={};return ln(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Lo(new qe([],{}),0,e))}),t}function hi(n){const t={};return ln(n,(e,r)=>t[r]=`${e}`),t}function Va(n,t,e){return n==e.path&&or(t,e.parameters)}class Qg{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Qh(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=ar(e);t.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,a[d],r),delete a[d]}),ln(a,(c,d)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const d=r.getContext(a.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=ar(t);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],a);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=ar(t);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=ar(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new rE(c.value.snapshot))}),t.children.length&&this.forwardEvent(new zg(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(Qh(a),a===c)if(a.component){const d=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const d=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const f=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),Qh(f.route.value),this.activateChildRoutes(t,null,d.children)}else{const f=function Xg(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),_=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=a,d.resolver=_,d.outlet&&d.outlet.activateWith(a,_),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,r)}}class Jg{constructor(t,e){this.routes=t,this.module=e}}function Bo(n){return"function"==typeof n}function ms(n){return n instanceof hs}const Ha=Symbol("INITIAL_VALUE");function dc(){return Er(n=>function Sa(...n){const t=(0,Lr.yG)(n),e=(0,Lr.jO)(n),{args:r,keys:a}=ba(n);if(0===r.length)return(0,kn.D)([],t);const c=new yr.y(function qs(n,t,e=Mo.y){return r=>{Mu(t,()=>{const{length:a}=n,c=new Array(a);let d=a,f=a;for(let _=0;_<a;_++)Mu(t,()=>{const C=(0,kn.D)(n[_],t);let S=!1;C.subscribe((0,Gt.x)(r,T=>{c[_]=T,S||(S=!0,f--),f||r.next(e(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,t,a?d=>Gs(a,d):Mo.y));return e?c.pipe(ec(e)):c}(n.map(t=>t.pipe(rr(1),Br(Ha)))).pipe(xa((t,e)=>{let r=!1;return e.reduce((a,c,d)=>a!==Ha?a:(c===Ha&&(r=!0),r||!1!==c&&d!==e.length-1&&!ms(c)?a:c),t)},Ha),pn(t=>t!==Ha),(0,ut.U)(t=>ms(t)?t:!0===t),rr(1)))}class dE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hc,this.attachRef=null}}class hc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new dE,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let rf=(()=>{class n{constructor(e,r,a,c,d){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=c||it,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const d=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new em(e,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(hc),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class em{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Gi?this.route:t===hc?this.childContexts:this.parent.get(t,e)}}let fc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&g._UZ(0,"router-outlet")},directives:[rf],encapsulation:2}),n})();function sf(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];af(r,hE(t,r))}}function af(n,t){n.children&&sf(n.children,t)}function hE(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Xt(n){const t=n.children&&n.children.map(Xt),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==it&&(e.component=fc),e}function Vr(n){return n.outlet||it}function tm(n,t){const e=n.filter(r=>Vr(r)===t);return e.push(...n.filter(r=>Vr(r)!==t)),e}const Vu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pc(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Vu):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const c=(t.matcher||rc)(e,n,t);if(!c)return Object.assign({},Vu);const d={};ln(c.posParams,(_,C)=>{d[C]=_.path});const f=c.consumed.length>0?Object.assign(Object.assign({},d),c.consumed[c.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:c.consumed,remainingSegments:e.slice(c.consumed.length),parameters:f,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function Hu(n,t,e,r,a="corrected"){if(e.length>0&&function gE(n,t,e){return e.some(r=>lf(n,t,r)&&Vr(r)!==it)}(n,e,r)){const d=new qe(t,function pE(n,t,e,r){const a={};a[it]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Vr(c)!==it){const d=new qe([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,a[Vr(c)]=d}return a}(n,t,r,new qe(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function mE(n,t,e){return e.some(r=>lf(n,t,r))}(n,e,r)){const d=new qe(n.segments,function fE(n,t,e,r,a,c){const d={};for(const f of r)if(lf(n,e,f)&&!a[Vr(f)]){const _=new qe([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===c?n.segments.length:t.length,d[Vr(f)]=_}return Object.assign(Object.assign({},a),d)}(n,t,e,r,n.children,a));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const c=new qe(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function lf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function _E(n,t,e,r){return!!(Vr(n)===r||r!==it&&lf(t,e,n))&&("**"===n.path||pc(t,n,e).matched)}function $a(n,t,e){return 0===t.length&&!n.children[e]}class bn{constructor(t){this.segmentGroup=t||null}}class $u{constructor(t){this.urlTree=t}}function za(n){return us(new bn(n))}function cf(n){return us(new $u(n))}class yE{constructor(t,e,r,a,c){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(g.h0i)}apply(){const t=Hu(this.urlTree.root,[],[],this.config).segmentGroup,e=new qe(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,it).pipe((0,ut.U)(c=>this.createUrlTree(zu(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bn(c=>{if(c instanceof $u)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof bn?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,it).pipe((0,ut.U)(a=>this.createUrlTree(zu(a),t.queryParams,t.fragment))).pipe(Bn(a=>{throw a instanceof bn?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const a=t.segments.length>0?new qe([],{[it]:t}):t;return new hs(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,ut.U)(c=>new qe([],c))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return(0,kn.D)(a).pipe(Ks(c=>{const d=r.children[c],f=tm(e,c);return this.expandSegmentGroup(t,f,d,c).pipe((0,ut.U)(_=>({segment:_,outlet:c})))}),xa((c,d)=>(c[d.outlet]=d.segment,c),{}),function Vh(n,t){const e=arguments.length>=2;return r=>r.pipe(n?pn((a,c)=>n(a,c,r)):Mo.y,Ut(1),e?Ru(t):xu(()=>new xo))}())}expandSegment(t,e,r,a,c,d){return(0,kn.D)(r).pipe(Ks(f=>this.expandSegmentAgainstRoute(t,e,r,f,a,c,d).pipe(Bn(C=>{if(C instanceof bn)return Fe(null);throw C}))),Vi(f=>!!f),Bn((f,_)=>{if(f instanceof xo||"EmptyError"===f.name)return $a(e,a,c)?Fe(new qe([],{})):za(e);throw f}))}expandSegmentAgainstRoute(t,e,r,a,c,d,f){return _E(a,e,c,d)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,d):za(e):za(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,d){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?cf(c):this.lineralizeSegments(r,c).pipe((0,gn.z)(d=>{const f=new qe(d,{});return this.expandSegment(t,f,e,d,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,d){const{matched:f,consumedSegments:_,remainingSegments:C,positionalParamSegments:S}=pc(e,a,c);if(!f)return za(e);const T=this.applyRedirectCommands(_,a.redirectTo,S);return a.redirectTo.startsWith("/")?cf(T):this.lineralizeSegments(a,T).pipe((0,gn.z)(O=>this.expandSegment(t,e,r,O.concat(C),d,!1)))}matchSegmentAgainstRoute(t,e,r,a,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Fe(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,ut.U)(T=>(r._loadedConfig=T,new qe(a,{})))):Fe(new qe(a,{}));const{matched:d,consumedSegments:f,remainingSegments:_}=pc(e,r,a);return d?this.getChildConfig(t,r,a).pipe((0,gn.z)(S=>{const T=S.module,O=S.routes,{segmentGroup:$,slicedSegments:X}=Hu(e,f,_,O),Ce=new qe($.segments,$.children);if(0===X.length&&Ce.hasChildren())return this.expandChildren(T,O,Ce).pipe((0,ut.U)(tn=>new qe(f,tn)));if(0===O.length&&0===X.length)return Fe(new qe(f,{}));const $e=Vr(r)===c;return this.expandSegment(T,Ce,O,X,$e?it:c,!0).pipe((0,ut.U)(yt=>new qe(f.concat(yt.segments),yt.children)))})):za(e)}getChildConfig(t,e,r){return e.children?Fe(new Jg(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Fe(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,gn.z)(a=>a?this.configLoader.load(t.injector,e).pipe((0,ut.U)(c=>(e._loadedConfig=c,c))):function gc(n){return us(Na(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Fe(new Jg([],t))}runCanLoadGuards(t,e,r){const a=e.canLoad;return a&&0!==a.length?Fe(a.map(d=>{const f=t.get(d);let _;if(function tf(n){return n&&Bo(n.canLoad)}(f))_=f.canLoad(e,r);else{if(!Bo(f))throw new Error("Invalid CanLoad guard");_=f(e,r)}return Hi(_)})).pipe(dc(),wn(d=>{if(!ms(d))return;const f=Na(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,ut.U)(d=>!0===d)):Fe(!0)}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return Fe(r);if(a.numberOfChildren>1||!a.children[it])return us(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));a=a.children[it]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,a){const c=this.createSegmentGroup(t,e.root,r,a);return new hs(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return ln(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);r[c]=e[f]}else r[c]=a}),r}createSegmentGroup(t,e,r,a){const c=this.createSegments(t,e.segments,r,a);let d={};return ln(e.children,(f,_)=>{d[_]=this.createSegmentGroup(t,f,r,a)}),new qe(c,d)}createSegments(t,e,r,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}function zu(n){const t={};for(const r of Object.keys(n.children)){const c=zu(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function vE(n){if(1===n.numberOfChildren&&n.children[it]){const t=n.children[it];return new qe(n.segments.concat(t.segments),t.children)}return n}(new qe(n.segments,t))}class df{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wu{constructor(t,e){this.component=t,this.route=e}}function nm(n,t,e){const r=n._root;return mc(r,t?t._root:null,e,[r.value])}function Gu(n,t,e){const r=function hf(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function mc(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=ar(t);return n.children.forEach(d=>{(function wE(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const _=function ff(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!zi(n.url,t.url);case"pathParamsOrQueryParamsChange":return!zi(n.url,t.url)||!or(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xh(n,t)||!or(n.queryParams,t.queryParams);default:return!Xh(n,t)}}(d,c,c.routeConfig.runGuardsAndResolvers);_?a.canActivateChecks.push(new df(r)):(c.data=d.data,c._resolvedData=d._resolvedData),mc(n,t,c.component?f?f.children:null:e,r,a),_&&f&&f.outlet&&f.outlet.isActivated&&a.canDeactivateChecks.push(new Wu(f.outlet.component,d))}else d&&_c(t,f,a),a.canActivateChecks.push(new df(r)),mc(n,null,c.component?f?f.children:null:e,r,a)})(d,c[d.value.outlet],e,r.concat([d.value]),a),delete c[d.value.outlet]}),ln(c,(d,f)=>_c(d,e.getContext(f),a)),a}function _c(n,t,e){const r=ar(n),a=n.value;ln(r,(c,d)=>{_c(c,a.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new Wu(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class ME{}function im(n){return new yr.y(t=>t.error(n))}class RE{constructor(t,e,r,a,c,d){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d}recognize(){const t=Hu(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,it);if(null===e)return null;const r=new Ur([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new vt(r,e),c=new ja(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,r=ui(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const c of Object.keys(e.children)){const d=e.children[c],f=tm(t,c),_=this.processSegmentGroup(f,d,c);if(null===_)return null;r.push(..._)}const a=sm(r);return function OE(n){n.sort((t,e)=>t.value.outlet===it?-1:e.value.outlet===it?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(t,e,r,a){for(const c of t){const d=this.processSegmentAgainstRoute(c,e,r,a);if(null!==d)return d}return $a(e,r,a)?[]:null}processSegmentAgainstRoute(t,e,r,a){if(t.redirectTo||!_E(t,e,r,a))return null;let c,d=[],f=[];if("**"===t.path){const $=r.length>0?Nu(r).parameters:{};c=new Ur(r,$,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kE(t),Vr(t),t.component,t,fi(e),FE(e)+r.length,pf(t))}else{const $=pc(e,t,r);if(!$.matched)return null;d=$.consumedSegments,f=$.remainingSegments,c=new Ur(d,$.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kE(t),Vr(t),t.component,t,fi(e),FE(e)+d.length,pf(t))}const _=function PE(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:C,slicedSegments:S}=Hu(e,d,f,_.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);if(0===S.length&&C.hasChildren()){const $=this.processChildren(_,C);return null===$?null:[new vt(c,$)]}if(0===_.length&&0===S.length)return[new vt(c,[])];const T=Vr(t)===a,O=this.processSegment(_,C,S,T?it:a);return null===O?null:[new vt(c,O)]}}function NE(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function sm(n){const t=[],e=new Set;for(const r of n){if(!NE(r)){t.push(r);continue}const a=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=sm(r.children);t.push(new vt(r.value,a))}return t.filter(r=>!e.has(r))}function fi(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function FE(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function kE(n){return n.data||{}}function pf(n){return n.resolve||{}}function om(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jo(n){return Er(t=>{const e=n(t);return e?(0,kn.D)(e).pipe((0,ut.U)(()=>t)):Fe(t)})}class _f extends class cm{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const vc=new g.OlP("ROUTES");class yf{constructor(t,e,r,a){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,ut.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const d=c.create(t);return new Jg(Gh(d.injector.get(vc,void 0,g.XFs.Self|g.XFs.Optional)).map(Xt),d)}),Bn(c=>{throw e._loader$=void 0,c}));return e._loader$=new nc(a,()=>new Zt.x).pipe(Ma()),e._loader$}loadModuleFactory(t){return Hi(t()).pipe((0,gn.z)(e=>e instanceof g.YKP?Fe(e):(0,kn.D)(this.compiler.compileModuleAsync(e))))}}class Wa{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vf(n){throw n}function um(n,t,e){return t.parse("/")}function dm(n,t){return Fe(null)}const Ef={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lr=(()=>{class n{constructor(e,r,a,c,d,f,_){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=c,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zt.x,this.errorHandler=vf,this.malformedUriErrorHandler=um,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:dm,afterPreactivation:dm},this.urlHandlingStrategy=new Wa,this.routeReuseStrategy=new _f,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(g.h0i),this.console=d.get(g.c2e);const T=d.get(g.R0b);this.isNgZoneEnabled=T instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function jr(){return new hs(new qe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yf(d,f,O=>this.triggerEvent(new Pa(O)),O=>this.triggerEvent(new Oo(O))),this.routerState=ps(this.currentUrlTree,this.rootComponentType),this.transitions=new An({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(pn(a=>0!==a.id),(0,ut.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Er(a=>{let c=!1,d=!1;return Fe(a).pipe(wn(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Er(f=>{const _=this.browserUrlTree.toString(),C=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return hm(f.source)&&(this.browserUrlTree=f.extractedUrl),Fe(f).pipe(Er(T=>{const O=this.transitions.getValue();return r.next(new Ra(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),O!==this.transitions.getValue()?Li.E:Promise.resolve(T)}),function EE(n,t,e,r){return Er(a=>function uf(n,t,e,r,a){return new yE(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe((0,ut.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),wn(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function P0(n,t,e,r,a){return(0,gn.z)(c=>function xE(n,t,e,r,a="emptyOnly",c="legacy"){try{const d=new RE(n,t,e,r,a,c).recognize();return null===d?im(new ME):Fe(d)}catch(d){return im(d)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),r,a).pipe((0,ut.U)(d=>Object.assign(Object.assign({},c),{targetSnapshot:d}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),wn(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const $=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl($,T)}this.browserUrlTree=T.urlAfterRedirects}const O=new nE(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);r.next(O)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:$,source:X,restoredState:Ce,extras:$e}=f,St=new Ra(O,this.serializeUrl($),X,Ce);r.next(St);const yt=ps($,this.rootComponentType).snapshot;return Fe(Object.assign(Object.assign({},f),{targetSnapshot:yt,urlAfterRedirects:$,extras:Object.assign(Object.assign({},$e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Li.E}),jo(f=>{const{targetSnapshot:_,id:C,extractedUrl:S,rawUrl:T,extras:{skipLocationChange:O,replaceUrl:$}}=f;return this.hooks.beforePreactivation(_,{navigationId:C,appliedUrlTree:S,rawUrlTree:T,skipLocationChange:!!O,replaceUrl:!!$})}),wn(f=>{const _=new Hh(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,ut.U)(f=>Object.assign(Object.assign({},f),{guards:nm(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function bE(n,t){return(0,gn.z)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:d}}=e;return 0===d.length&&0===c.length?Fe(Object.assign(Object.assign({},e),{guardsResult:!0})):function qu(n,t,e,r){return(0,kn.D)(n).pipe((0,gn.z)(a=>function rm(n,t,e,r,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Fe(c.map(f=>{const _=Gu(f,t,a);let C;if(function O0(n){return n&&Bo(n.canDeactivate)}(_))C=Hi(_.canDeactivate(n,t,e,r));else{if(!Bo(_))throw new Error("Invalid CanDeactivate guard");C=Hi(_(n,t,e,r))}return C.pipe(Vi())})).pipe(dc()):Fe(!0)}(a.component,a.route,e,t,r)),Vi(a=>!0!==a,!0))}(d,r,a,n).pipe((0,gn.z)(f=>f&&function x0(n){return"boolean"==typeof n}(f)?function DE(n,t,e,r){return(0,kn.D)(t).pipe(Ks(a=>ki(function TE(n,t){return null!==n&&t&&t(new zh(n)),Fe(!0)}(a.route.parent,r),function SE(n,t){return null!==n&&t&&t(new Wh(n)),Fe(!0)}(a.route,r),function AE(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(d=>function CE(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Aa(()=>Fe(d.guards.map(_=>{const C=Gu(_,d.node,e);let S;if(function R0(n){return n&&Bo(n.canActivateChild)}(C))S=Hi(C.canActivateChild(r,n));else{if(!Bo(C))throw new Error("Invalid CanActivateChild guard");S=Hi(C(r,n))}return S.pipe(Vi())})).pipe(dc())));return Fe(c).pipe(dc())}(n,a.path,e),function IE(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Fe(!0);const a=r.map(c=>Aa(()=>{const d=Gu(c,t,e);let f;if(function nf(n){return n&&Bo(n.canActivate)}(d))f=Hi(d.canActivate(t,n));else{if(!Bo(d))throw new Error("Invalid CanActivate guard");f=Hi(d(t,n))}return f.pipe(Vi())}));return Fe(a).pipe(dc())}(n,a.route,e))),Vi(a=>!0!==a,!0))}(r,c,n,t):Fe(f)),(0,ut.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),wn(f=>{if(ms(f.guardsResult)){const C=Na(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw C.url=f.guardsResult,C}const _=new ir(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),pn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),jo(f=>{if(f.guards.canActivateChecks.length)return Fe(f).pipe(wn(_=>{const C=new sr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),Er(_=>{let C=!1;return Fe(_).pipe(function qi(n,t){return(0,gn.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return Fe(e);let c=0;return(0,kn.D)(a).pipe(Ks(d=>function gf(n,t,e,r){return function mf(n,t,e,r){const a=om(n);if(0===a.length)return Fe({});const c={};return(0,kn.D)(a).pipe((0,gn.z)(d=>function am(n,t,e,r){const a=Gu(n,t,r);return Hi(a.resolve?a.resolve(t,e):a(t,e))}(n[d],t,e,r).pipe(wn(f=>{c[d]=f}))),Ut(1),(0,gn.z)(()=>om(c).length===a.length?Fe(c):Li.E))}(n._resolve,n,t,r).pipe((0,ut.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),ui(n,e).resolve),null)))}(d.route,r,n,t)),wn(()=>c++),Ut(1),(0,gn.z)(d=>c===a.length?Fe(e):Li.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),wn({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),wn(_=>{const C=new $h(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}))}),jo(f=>{const{targetSnapshot:_,id:C,extractedUrl:S,rawUrl:T,extras:{skipLocationChange:O,replaceUrl:$}}=f;return this.hooks.afterPreactivation(_,{navigationId:C,appliedUrlTree:S,rawUrlTree:T,skipLocationChange:!!O,replaceUrl:!!$})}),(0,ut.U)(f=>{const _=function iE(n,t,e){const r=lc(n,t._root,e?e._root:void 0);return new Cr(r,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),wn(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,ut.U)(r=>(new Qg(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),wn({next(){c=!0},complete(){c=!0}}),Ou(()=>{var f;c||d||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===a.id&&(this.currentNavigation=null)}),Bn(f=>{if(d=!0,function Fa(n){return n&&n[li]}(f)){const _=ms(f.url);_||(this.navigated=!0,this.restoreHistory(a,!0));const C=new Oa(a.id,this.serializeUrl(a.extractedUrl),f.message);r.next(C),_?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),T={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hm(a.source)};this.scheduleNavigation(S,"imperative",null,T,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const _=new Ro(a.id,this.serializeUrl(a.extractedUrl),f);r.next(_);try{a.resolve(this.errorHandler(f))}catch(C){a.reject(C)}}return Li.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const c={replaceUrl:!0},d=(null===(a=e.state)||void 0===a?void 0:a.navigationId)?e.state:null;if(d){const _=Object.assign({},d);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(c.state=_)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,r,d,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){sf(e),this.config=e.map(Xt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:c,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,C=a||this.routerState.root,S=_?this.currentUrlTree.fragment:d;let T=null;switch(f){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=c||null}return null!==T&&(T=this.removeEmptyProps(T)),function Ua(n,t,e,r,a){if(0===e.length)return Jh(t.root,t.root,t.root,r,a);const c=function oE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qg(!0,0,n);let t=0,e=!1;const r=n.reduce((a,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const f={};return ln(c.outlets,(_,C)=>{f[C]="string"==typeof _?_.split("/"):_}),[...a,{outlets:f}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===d?(c.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?e=!0:".."===f?t++:""!=f&&a.push(f))}),a):[...a,c]},[]);return new qg(e,t,r)}(e);if(c.toRoot())return Jh(t.root,t.root,new qe([],{}),r,a);const d=function aE(n,t,e){if(n.isAbsolute)return new Uu(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new Uu(c,c===t.root,0)}const r=cc(n.commands[0])?0:1;return function lE(n,t,e){let r=n,a=t,c=e;for(;c>a;){if(c-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new Uu(r,!1,a-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,t,n),f=d.processChildren?ef(d.segmentGroup,d.index,c.commands):Kg(d.segmentGroup,d.index,c.commands);return Jh(t.root,d.segmentGroup,f,r,a)}(C,this.currentUrlTree,e,T,null!=S?S:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=ms(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function BE(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?Object.assign({},Ef):!1===r?Object.assign({},LE):r,ms(e))return Kh(this.currentUrlTree,e,a);const c=this.parseUrl(e);return Kh(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const c=e[a];return null!=c&&(r[a]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Kt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,c,d){var f,_;if(this.disposed)return Promise.resolve(!1);let C,S,T;d?(C=d.resolve,S=d.reject,T=d.promise):T=new Promise((X,Ce)=>{C=X,S=Ce});const O=++this.navigationId;let $;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),$=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):$=0,this.setTransition({id:O,targetPageId:$,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:C,reject:S,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(X=>Promise.reject(X))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,r=!1){var a,c;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===d?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===d&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new Oa(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function hm(n){return"imperative"!==n}class Ku{}class pm{preload(t,e){return Fe(null)}}let Df=(()=>{class n{constructor(e,r,a,c){this.router=e,this.injector=a,this.preloadingStrategy=c,this.loader=new yf(a,r,_=>e.triggerEvent(new Pa(_)),_=>e.triggerEvent(new Oo(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(pn(e=>e instanceof Kt),Ks(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(g.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const d=c._loadedConfig;a.push(this.processRoutes(d.module,d.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(e,c)):c.children&&a.push(this.processRoutes(e,c.children));return(0,kn.D)(a).pipe((0,Ia.J)(),(0,ut.U)(c=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Fe(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,gn.z)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(lr),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(Ku))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Yu=(()=>{class n{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ra?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Kt&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Pu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new Pu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Xs=new g.OlP("ROUTER_CONFIGURATION"),Sf=new g.OlP("ROUTER_FORROOT_GUARD"),UE=[pe,{provide:sc,useClass:oc},{provide:lr,useFactory:function vm(n,t,e,r,a,c,d={},f,_){const C=new lr(null,n,t,e,r,a,Gh(c));return f&&(C.urlHandlingStrategy=f),_&&(C.routeReuseStrategy=_),function Xu(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,C),d.enableTracing&&C.events.subscribe(S=>{var T,O;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(O=console.groupEnd)||void 0===O||O.call(console)}),C},deps:[sc,hc,pe,g.zs3,g.Sil,vc,Xs,[class N0{},new g.FiY],[class lm{},new g.FiY]]},hc,{provide:Gi,useFactory:function Ju(n){return n.routerState.root},deps:[lr]},Df,pm,class jE{preload(t,e){return e().pipe(Bn(()=>Fe(null)))}},{provide:Xs,useValue:{enableTracing:!1}}];function Zu(){return new g.PXZ("Router",lr)}let gm=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[UE,Qu(e),{provide:Sf,useFactory:ym,deps:[[lr,new g.FiY,new g.tp0]]},{provide:Xs,useValue:r||{}},{provide:ue,useFactory:_m,deps:[he,[new g.tBr(st),new g.FiY],Xs]},{provide:Yu,useFactory:mm,deps:[lr,mu,Xs]},{provide:Ku,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:pm},{provide:g.PXZ,multi:!0,useFactory:Zu},[ed,{provide:g.ip1,multi:!0,useFactory:Tf,deps:[ed]},{provide:td,useFactory:Em,deps:[ed]},{provide:g.tb,multi:!0,useExisting:td}]]}}static forChild(e){return{ngModule:n,providers:[Qu(e)]}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Sf,8),g.LFG(lr,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function mm(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Yu(n,t,e)}function _m(n,t,e={}){return e.useHash?new Ie(n,t):new ve(n,t)}function ym(n){return"guarded"}function Qu(n){return[{provide:g.deG,multi:!0,useValue:n},{provide:vc,multi:!0,useValue:n}]}let ed=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Zt.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(f=>r=f),c=this.injector.get(lr),d=this.injector.get(Xs);return"disabled"===d.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?Fe(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(Xs),a=this.injector.get(Df),c=this.injector.get(Yu),d=this.injector.get(lr),f=this.injector.get(g.z2F);e===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),a.setUpPreloading(),c.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.zs3))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Tf(n){return n.appInitializer.bind(n)}function Em(n){return n.bootstrapListener.bind(n)}const td=new g.OlP("Router Initializer");let Cm=(()=>{class n{constructor(e){this.Router=e}take_me_to_chats(e){this.Router.navigate(["/chat"],{queryParams:{user:e}})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(lr))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-login"]],decls:7,vars:0,consts:[["username",""],[3,"click"]],template:function(e,r){if(1&e){const a=g.EpF();g.TgZ(0,"h1"),g._uU(1,"Enter Username"),g.qZA(),g._UZ(2,"input",null,0),g.TgZ(4,"button",1),g.NdJ("click",function(){g.CHM(a);const d=g.MAs(3);return r.take_me_to_chats(d.value)}),g._uU(5,"Click me"),g.qZA(),g._UZ(6,"br")}},styles:[""]}),n})();var VE=R(867),HE=R(861),Vo=R(681),If=R(859),W=R(90),$E=R(877);const Af="@firebase/database";let nd="";class WE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,W.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,W.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class pi{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,W.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const bm=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new WE(t)}}catch(t){}return new pi},Js=bm("localStorage"),Mf=bm("sessionStorage"),qa=new $E.Yd("@firebase/database"),Dm=function(){let n=1;return function(){return n++}}(),Sm=function(n){const t=(0,W.dS)(n),e=new W.gQ;e.update(t);const r=e.digest();return W.US.encodeByteArray(r)},Ka=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Ka.apply(null,r):t+="object"==typeof r?(0,W.Pz)(r):r,t+=" "}return t};let Ho=null,Tm=!0;const Ue=function(...n){if(!0===Tm&&(Tm=!1,null===Ho&&!0===Mf.get("logging_enabled")&&function(n,t){(0,W.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(qa.logLevel=$E.in.VERBOSE,Ho=qa.log.bind(qa),t&&Mf.set("logging_enabled",!0)):"function"==typeof n?Ho=n:(Ho=null,Mf.remove("logging_enabled"))}(!0)),Ho){const t=Ka.apply(null,n);Ho(t)}},Ya=function(n){return function(...t){Ue(n,...t)}},rd=function(...n){const t="FIREBASE INTERNAL ERROR: "+Ka(...n);qa.error(t)},gi=function(...n){const t=`FIREBASE FATAL ERROR: ${Ka(...n)}`;throw qa.error(t),new Error(t)},vn=function(...n){const t="FIREBASE WARNING: "+Ka(...n);qa.warn(t)},Cc=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},_i="[MIN_NAME]",Dn="[MAX_NAME]",_s=function(n,t){if(n===t)return 0;if(n===_i||t===Dn)return-1;if(t===_i||n===Dn)return 1;{const e=sd(n),r=sd(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},Am=function(n,t){return n===t?0:n<t?-1:1},$o=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,W.Pz)(t))},Mm=function(n){if("object"!=typeof n||null===n)return(0,W.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,W.Pz)(t[r]),e+=":",e+=Mm(n[t[r]]);return e+="}",e},xf=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let a=0;a<e;a+=t)r.push(n.substring(a,a+t>e?e:a+t));return r};function Mn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const wc=function(n){(0,W.hu)(!Cc(n),"Invalid JSON number");const r=1023;let a,c,d,f,_;0===n?(c=0,d=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=f+r,d=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(c=0,d=Math.round(n/Math.pow(2,-1074))));const C=[];for(_=52;_;_-=1)C.push(d%2?1:0),d=Math.floor(d/2);for(_=11;_;_-=1)C.push(c%2?1:0),c=Math.floor(c/2);C.push(a?1:0),C.reverse();const S=C.join("");let T="";for(_=0;_<64;_+=8){let O=parseInt(S.substr(_,8),2).toString(16);1===O.length&&(O="0"+O),T+=O}return T.toLowerCase()},Pf=new RegExp("^-?(0*)\\d{1,10}$"),sd=function(n){if(Pf.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Za=function(n){try{n()}catch(t){setTimeout(()=>{throw vn("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Qa=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class k0{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){vn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class YE{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vn(t)}}let od=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const QE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eC="websocket",tC="long_polling";class Om{constructor(t,e,r,a,c=!1,d="",f=!1){this.secure=e,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Js.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Js.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function nC(n,t,e){let r;if((0,W.hu)("string"==typeof t,"typeof type must == string"),(0,W.hu)("object"==typeof e,"typeof params must == object"),t===eC)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==tC)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function L0(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return Mn(e,(c,d)=>{a.push(c+"="+d)}),r+a.join("&")}class eo{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,W.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,W.p$)(this.counters_)}}const Dc={},kf={};function ld(n){const t=n.toString();return Dc[t]||(Dc[t]=new eo),Dc[t]}class Pm{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&Za(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ys{constructor(t,e,r,a,c,d,f){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=a,this.authToken=c,this.transportSessionId=d,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ya(t),this.stats_=ld(e),this.urlFn=_=>(this.appCheckToken&&(_.ac=this.appCheckToken),nC(e,tC,_))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Pm(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,W.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hd((...c)=>{const[d,f,_,C,S]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=f,this.password=_;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[d,f]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,f)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&QE.test(location.hostname)&&(r.r="f");const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ys.forceAllow_=!0}static forceDisallow(){ys.forceDisallow_=!0}static isAvailable(){return!((0,W.Yr)()||!ys.forceAllow_&&(ys.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,W.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,W.h$)(e),a=xf(r,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,W.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,W.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class hd{constructor(t,e,r,a){if(this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,W.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Dm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=hd.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(f){Ue("frame writing exception"),f.stack&&Ue(f.stack),Ue(f)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ue("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const d=this.pendingSegs.shift();r=r+"&seg"+a+"="+d.seg+"&ts"+a+"="+d.ts+"&d"+a+"="+d.d,a++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),r()})}addTag(t,e){(0,W.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||"loaded"===a||"complete"===a)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Ue("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Ic=null;"undefined"!=typeof MozWebSocket?Ic=MozWebSocket:"undefined"!=typeof WebSocket&&(Ic=WebSocket);let vs=(()=>{class n{constructor(e,r,a,c,d,f,_){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ya(this.connId),this.stats_=ld(r),this.connURL=n.connectionURL_(r,f,_,c,a),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,a,c,d){const f={v:"5"};return!(0,W.Yr)()&&"undefined"!=typeof location&&location.hostname&&QE.test(location.hostname)&&(f.r="f"),r&&(f.s=r),a&&(f.ls=a),c&&(f.ac=c),d&&(f.p=d),nC(e,eC,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Js.set("previous_websocket_failure",!0);try{let a;if((0,W.Yr)()){a={headers:{"User-Agent":`Firebase/5/${nd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,f=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;f&&(a.proxy={origin:f})}this.mySock=new Ic(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Ic&&!n.forceDisallow_}static previouslyFailed(){return Js.isInMemoryStorage||!0===Js.get("previous_websocket_failure")}markConnectionHealthy(){Js.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=(0,W.cI)(r);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,W.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const r=(0,W.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=xf(r,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Bm=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ys,vs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=vs&&vs.isAvailable();let a=r&&!vs.previouslyFailed();if(e.webSocketOnly&&(r||vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[vs];else{const c=this.transports_=[];for(const d of n.ALL_TRANSPORTS)d&&d.isAvailable()&&c.push(d);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class uC{constructor(t,e,r,a,c,d,f,_,C,S){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=d,this.onReady_=f,this.onDisconnect_=_,this.onKill_=C,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ya("c:"+this.id+":"),this.transportManager_=new Bm(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Qa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=$o("t",t),r=$o("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=$o("t",t),r=$o("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=$o("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?rd("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rd("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&vn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Qa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Js.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Gm{put(t,e,r,a){}merge(t,e,r,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class fd{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,W.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const a=this.getInitialEvent(t);a&&e.apply(r,a)}off(t,e,r){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!r||r===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,W.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Ac extends fd{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,W.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ac}getInitialEvent(t){return(0,W.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Rt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function bt(){return new Rt("")}function dt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Es(n){return n.pieces_.length-n.pieceNum_}function Vt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Rt(n.pieces_,t)}function Hf(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function el(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Zm(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Rt(t,0)}function Dt(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Rt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&e.push(r[a])}return new Rt(e,0)}function at(n){return n.pieceNum_>=n.pieces_.length}function Yn(n,t){const e=dt(n),r=dt(t);if(null===e)return t;if(e===r)return Yn(Vt(n),Vt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Qm(n,t){if(Es(n)!==Es(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function br(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Es(n)>Es(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class hC{constructor(t,e){this.errorPrefix_=e,this.parts_=el(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,W.ug)(this.parts_[r]);pd(this)}}function pd(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Wo(n))}function Wo(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class $f extends fd{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $f}getInitialEvent(t){return(0,W.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const no=1e3;let gd,Go=(()=>{class n extends Gm{constructor(e,r,a,c,d,f,_,C){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=d,this.authTokenProvider_=f,this.appCheckTokenProvider_=_,this.authOverride_=C,this.id=n.nextPersistentConnectionId_++,this.log_=Ya("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=no,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,C&&!(0,W.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$f.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ac.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,a){const c=++this.requestNumber_,d={r:c,a:e,b:r};this.log_((0,W.Pz)(d)),(0,W.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const r=new W.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:f=>{const _=f.d;"ok"===f.s?r.resolve(_):r.reject(_)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,a,c){this.initConnection_();const d=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+d),this.listens.has(f)||this.listens.set(f,new Map),(0,W.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,W.hu)(!this.listens.get(f).has(d),"listen() called twice for same path/queryId.");const _={onComplete:c,hashFn:r,query:e,tag:a};this.listens.get(f).set(d,_),this.connected_&&this.sendListen_(_)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(e){const r=e.query,a=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+a+" for "+c);const d={p:a};e.tag&&(d.q=r._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest("q",d,_=>{const C=_.d,S=_.s;n.warnOnListenWarnings_(C,r),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",_),"ok"!==S&&this.removeListen_(a,c),e.onComplete&&e.onComplete(S,C))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,W.r3)(e,"w")){const a=(0,W.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',d=r._path.toString();vn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,W.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,W.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(r,a,c=>{const d=c.s,f=c.d||"error";this.authToken_===e&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,a=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(e,r){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,W.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,r)}sendUnlisten_(e,r,a,c){this.log_("Unlisten on "+e+" for "+r);const d={p:e};c&&(d.q=a,d.t=c),this.sendRequest("n",d)}onDisconnectPut(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:a})}onDisconnectMerge(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:a})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,a,c){const d={p:r,d:a};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,f=>{c&&setTimeout(()=>{c(f.s,f.d)},Math.floor(0))})}put(e,r,a,c){this.putInternal("p",e,r,a,c)}merge(e,r,a,c){this.putInternal("m",e,r,a,c)}putInternal(e,r,a,c,d){this.initConnection_();const f={p:r,d:a};void 0!==d&&(f.h=d),this.outstandingPuts_.push({action:e,request:f,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,a,d=>{this.log_(r+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(d.s,d.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,W.Pz)(e));const r=e.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):rd("Unrecognized action received from server: "+(0,W.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,W.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=no,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=no,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=no),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,HE.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),d=e.id+":"+n.nextConnectionId_++,f=e.lastSessionId;let _=!1,C=null;const S=function(){C?C.close():(_=!0,c())};e.realtime_={close:S,sendRequest:function($){(0,W.hu)(C,"sendRequest call when we're not connected not allowed."),C.sendRequest($)}};const O=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[$,X]=yield Promise.all([e.authTokenProvider_.getToken(O),e.appCheckTokenProvider_.getToken(O)]);_?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),e.authToken_=$&&$.accessToken,e.appCheckToken_=X&&X.token,C=new uC(d,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,a,c,Ce=>{vn(Ce+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},f))}catch($){e.log_("Failed to get token: "+$),_||(e.repoInfo_.nodeAdmin&&vn($),S())}}})()}interrupt(e){Ue("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ue("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,W.xb)(this.interruptReasons_)&&(this.reconnectDelay_=no,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let a;a=r?r.map(d=>Mm(d)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,r){const a=new Rt(e).toString();let c;if(this.listens.has(a)){const d=this.listens.get(a);c=d.get(r),d.delete(r),0===d.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,r){Ue("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Ue("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,W.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+nd.replace(/\./g,"-")]=1,(0,W.uI)()?e["framework.cordova"]=1:(0,W.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ac.getInstance().currentlyOnline();return(0,W.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ct{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new ct(t,e)}}class qf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new ct(_i,t),a=new ct(_i,e);return 0!==this.compare(r,a)}minPost(){return ct.MIN}}class Kf extends qf{static get __EMPTY_NODE(){return gd}static set __EMPTY_NODE(t){gd=t}compare(t,e){return _s(t.name,e.name)}isDefinedOn(t){throw(0,W.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return ct.MIN}maxPost(){return new ct(Dn,gd)}makePost(t,e){return(0,W.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new ct(t,gd)}toString(){return".key"}}const yi=new Kf;class Mc{constructor(t,e,r,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=e?r(t.key,e):1,a&&(d*=-1),d<0)t=this.isReverse_?t.left:t.right;else{if(0===d){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Zf,Hr=(()=>{class n{constructor(e,r,a,c,d){this.key=e,this.value=r,this.color=null!=a?a:n.RED,this.left=null!=c?c:nn.EMPTY_NODE,this.right=null!=d?d:nn.EMPTY_NODE}copy(e,r,a,c,d){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=d?d:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let c=this;const d=a(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,r,a),null):0===d?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return nn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let a,c;if(a=this,r(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===r(e,a.key)){if(a.right.isEmpty())return nn.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class nn{constructor(t,e=nn.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new nn(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Hr.BLACK,null,null))}remove(t){return new nn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Hr.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,a=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(a=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Mc(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Mc(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Mc(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Mc(this.root_,null,this.comparator_,!0,t)}}function md(n,t){return _s(n.name,t.name)}function Yf(n,t){return _s(n,t)}nn.EMPTY_NODE=new class t_{copy(t,e,r,a,c){return this}insert(t,e,r){return new Hr(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const _d=function(n){return"number"==typeof n?"number:"+wc(n):"string:"+n},Qf=function(n){if(n.isLeafNode()){const t=n.val();(0,W.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,W.r3)(t,".sv"),"Priority must be a string or number.")}else(0,W.hu)(n===Zf||n.isEmpty(),"priority of unexpected type.");(0,W.hu)(n===Zf||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let yd,n_,vd,Ki=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,W.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Qf(this.priorityNode_)}static set __childrenNodeConstructor(e){yd=e}static get __childrenNodeConstructor(){return yd}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return at(e)?this:".priority"===dt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const a=dt(e);return null===a?r:r.isEmpty()&&".priority"!==a?this:((0,W.hu)(".priority"!==a||1===Es(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vt(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_d(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?wc(this.value_):this.value_,this.lazyHash_=Sm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,W.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),d=n.VALUE_TYPE_ORDER.indexOf(a);return(0,W.hu)(c>=0,"Unknown leaf type: "+r),(0,W.hu)(d>=0,"Unknown leaf type: "+a),c===d?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const $t=new class s_ extends qf{compare(t,e){const r=t.node.getPriority(),a=e.node.getPriority(),c=r.compareTo(a);return 0===c?_s(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return ct.MIN}maxPost(){return new ct(Dn,new Ki("[PRIORITY-POST]",vd))}makePost(t,e){const r=n_(t);return new ct(e,new Ki("[PRIORITY-POST]",r))}toString(){return".priority"}},Xf=Math.log(2);class gC{constructor(t){this.count=parseInt(Math.log(t+1)/Xf,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ed=function(n,t,e,r){n.sort(t);const a=function(_,C){const S=C-_;let T,O;if(0===S)return null;if(1===S)return T=n[_],O=e?e(T):T,new Hr(O,T.node,Hr.BLACK,null,null);{const $=parseInt(S/2,10)+_,X=a(_,$),Ce=a($+1,C);return T=n[$],O=e?e(T):T,new Hr(O,T.node,Hr.BLACK,X,Ce)}},f=function(_){let C=null,S=null,T=n.length;const O=function(X,Ce){const $e=T-X,St=T;T-=X;const yt=a($e+1,St),tn=n[$e],rn=e?e(tn):tn;$(new Hr(rn,tn.node,Ce,null,yt))},$=function(X){C?(C.left=X,C=X):(S=X,C=X)};for(let X=0;X<_.count;++X){const Ce=_.nextBitIsOne(),$e=Math.pow(2,_.count-(X+1));Ce?O($e,Hr.BLACK):(O($e,Hr.BLACK),O($e,Hr.RED))}return S}(new gC(n.length));return new nn(r||t,f)};let Cd;const vi={};class Yi{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,W.hu)(vi&&$t,"ChildrenNode.ts has not been loaded"),Cd=Cd||new Yi({".priority":vi},{".priority":$t}),Cd}get(t){const e=(0,W.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof nn?e:null}hasIndex(t){return(0,W.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,W.hu)(t!==yi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const c=e.getIterator(ct.Wrap);let f,d=c.getNext();for(;d;)a=a||t.isDefinedOn(d.node),r.push(d),d=c.getNext();f=a?Ed(r,t.getCompare()):vi;const _=t.toString(),C=Object.assign({},this.indexSet_);C[_]=t;const S=Object.assign({},this.indexes_);return S[_]=f,new Yi(S,C)}addToIndexes(t,e){const r=(0,W.UI)(this.indexes_,(a,c)=>{const d=(0,W.DV)(this.indexSet_,c);if((0,W.hu)(d,"Missing index implementation for "+c),a===vi){if(d.isDefinedOn(t.node)){const f=[],_=e.getIterator(ct.Wrap);let C=_.getNext();for(;C;)C.name!==t.name&&f.push(C),C=_.getNext();return f.push(t),Ed(f,d.getCompare())}return vi}{const f=e.get(t.name);let _=a;return f&&(_=_.remove(new ct(t.name,f))),_.insert(t,t.node)}});return new Yi(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,W.UI)(this.indexes_,a=>{if(a===vi)return a;{const c=e.get(t.name);return c?a.remove(new ct(t.name,c)):a}});return new Yi(r,this.indexSet_)}}let xc,nt=(()=>{class n{constructor(e,r,a){this.children_=e,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&Qf(this.priorityNode_),this.children_.isEmpty()&&(0,W.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xc||(xc=new n(new nn(Yf),null,Yi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xc}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?xc:r}}getChild(e){const r=dt(e);return null===r?this:this.getImmediateChild(r).getChild(Vt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,W.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const a=new ct(e,r);let c,d;r.isEmpty()?(c=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,r),d=this.indexMap_.addToIndexes(a,this.children_));const f=c.isEmpty()?xc:this.priorityNode_;return new n(c,f,d)}}updateChild(e,r){const a=dt(e);if(null===a)return r;{(0,W.hu)(".priority"!==dt(e)||1===Es(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(Vt(e),r);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let a=0,c=0,d=!0;if(this.forEachChild($t,(f,_)=>{r[f]=_.val(e),a++,d&&n.INTEGER_REGEXP_.test(f)?c=Math.max(c,Number(f)):d=!1}),!e&&d&&c<2*a){const f=[];for(const _ in r)f[_]=r[_];return f}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+_d(this.getPriority().val())+":"),this.forEachChild($t,(r,a)=>{const c=a.hash();""!==c&&(e+=":"+r+":"+c)}),this.lazyHash_=""===e?"":Sm(e)}return this.lazyHash_}getPredecessorChildName(e,r,a){const c=this.resolveIndex_(a);if(c){const d=c.getPredecessorKey(new ct(e,r));return d?d.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new ct(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new ct(r,this.children_.get(r)):null}forEachChild(e,r){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,ct.Wrap);let d=c.peek();for(;null!=d&&r.compare(d,e)<0;)c.getNext(),d=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,ct.Wrap);let d=c.peek();for(;null!=d&&r.compare(d,e)>0;)c.getNext(),d=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Rc?-1:0}withIndex(e){if(e===yi||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===yi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const a=this.getIterator($t),c=r.getIterator($t);let d=a.getNext(),f=c.getNext();for(;d&&f;){if(d.name!==f.name||!d.node.equals(f.node))return!1;d=a.getNext(),f=c.getNext()}return null===d&&null===f}return!1}return!1}}resolveIndex_(e){return e===yi?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Rc=new class tl extends nt{constructor(){super(new nn(Yf),nt.EMPTY_NODE,Yi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return nt.EMPTY_NODE}isEmpty(){return!1}};function Jt(n,t=null){if(null===n)return nt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,W.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ki(n,Jt(t));if(n instanceof Array){let e=nt.EMPTY_NODE;return Mn(n,(r,a)=>{if((0,W.r3)(n,r)&&"."!==r.substring(0,1)){const c=Jt(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(r,c))}}),e.updatePriority(Jt(t))}{const e=[];let r=!1;if(Mn(n,(d,f)=>{if("."!==d.substring(0,1)){const _=Jt(f);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),e.push(new ct(d,_)))}}),0===e.length)return nt.EMPTY_NODE;const c=Ed(e,md,d=>d.name,Yf);if(r){const d=Ed(e,$t.getCompare());return new nt(c,Jt(t),new Yi({".priority":d},{".priority":$t}))}return new nt(c,Jt(t),Yi.Default)}}Object.defineProperties(ct,{MIN:{value:new ct(_i,nt.EMPTY_NODE)},MAX:{value:new ct(Dn,Rc)}}),Kf.__EMPTY_NODE=nt.EMPTY_NODE,Ki.__childrenNodeConstructor=nt,function j0(n){Zf=n}(Rc),function i_(n){vd=n}(Rc),function r_(n){n_=n}(Jt);class Jf extends qf{constructor(t){super(),this.indexPath_=t,(0,W.hu)(!at(t)&&".priority"!==dt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),a=this.extractChild(e.node),c=r.compareTo(a);return 0===c?_s(t.name,e.name):c}makePost(t,e){const r=Jt(t),a=nt.EMPTY_NODE.updateChild(this.indexPath_,r);return new ct(e,a)}maxPost(){const t=nt.EMPTY_NODE.updateChild(this.indexPath_,Rc);return new ct(Dn,t)}toString(){return el(this.indexPath_,0).join("/")}}const Oc=new class Ei extends qf{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?_s(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return ct.MIN}maxPost(){return ct.MAX}makePost(t,e){const r=Jt(t);return new ct(e,r)}toString(){return".value"}},qo="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_C=function(){let n=0;const t=[];return function(e){const r=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=qo.charAt(e%64),e=Math.floor(e/64);(0,W.hu)(0===e,"Cannot push at time == 0");let d=c.join("");if(r){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)d+=qo.charAt(t[a]);return(0,W.hu)(20===d.length,"nextPushId: Length should be 20."),d}}();function l_(n){return{type:"value",snapshotNode:n}}function Ko(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function bd(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function nl(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class np{constructor(t){this.index_=t}updateChild(t,e,r,a,c,d){(0,W.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=t.getImmediateChild(e);return f.getChild(a).equals(r.getChild(a))&&f.isEmpty()===r.isEmpty()||(null!=d&&(r.isEmpty()?t.hasChild(e)?d.trackChildChange(bd(e,f)):(0,W.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?d.trackChildChange(Ko(e,r)):d.trackChildChange(nl(e,r,f))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild($t,(a,c)=>{e.hasChild(a)||r.trackChildChange(bd(a,c))}),e.isLeafNode()||e.forEachChild($t,(a,c)=>{if(t.hasChild(a)){const d=t.getImmediateChild(a);d.equals(c)||r.trackChildChange(nl(a,c,d))}else r.trackChildChange(Ko(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?nt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Dd{constructor(t){this.indexedFilter_=new np(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Dd.getStartPost_(t),this.endPost_=Dd.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,a,c,d){return this.matches(new ct(e,r))||(r=nt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,a,c,d)}updateFullNode(t,e,r){e.isLeafNode()&&(e=nt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(nt.EMPTY_NODE);const c=this;return e.forEachChild($t,(d,f)=>{c.matches(new ct(d,f))||(a=a.updateImmediateChild(d,nt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class U0{constructor(t){this.rangedFilter_=new Dd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,a,c,d){return this.rangedFilter_.matches(new ct(e,r))||(r=nt.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,a,c,d):this.fullLimitUpdateChild_(t,e,r,c,d)}updateFullNode(t,e,r){let a;if(e.isLeafNode()||e.isEmpty())a=nt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=nt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const f=c.getNext();let _;if(_=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),f)<=0:this.index_.compare(f,this.rangedFilter_.getEndPost())<=0,!_)break;a=a.updateImmediateChild(f.name,f.node),d++}}else{let c,d,f,_;if(a=e.withIndex(this.index_),a=a.updatePriority(nt.EMPTY_NODE),this.reverse_){_=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();const T=this.index_.getCompare();f=(O,$)=>T($,O)}else _=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();let C=0,S=!1;for(;_.hasNext();){const T=_.getNext();!S&&f(c,T)<=0&&(S=!0),S&&C<this.limit_&&f(T,d)<=0?C++:a=a.updateImmediateChild(T.name,nt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,a,c){let d;if(this.reverse_){const T=this.index_.getCompare();d=(O,$)=>T($,O)}else d=this.index_.getCompare();const f=t;(0,W.hu)(f.numChildren()===this.limit_,"");const _=new ct(e,r),C=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),S=this.rangedFilter_.matches(_);if(f.hasChild(e)){const T=f.getImmediateChild(e);let O=a.getChildAfterChild(this.index_,C,this.reverse_);for(;null!=O&&(O.name===e||f.hasChild(O.name));)O=a.getChildAfterChild(this.index_,O,this.reverse_);const $=null==O?1:d(O,_);if(S&&!r.isEmpty()&&$>=0)return null!=c&&c.trackChildChange(nl(e,r,T)),f.updateImmediateChild(e,r);{null!=c&&c.trackChildChange(bd(e,T));const Ce=f.updateImmediateChild(e,nt.EMPTY_NODE);return null!=O&&this.rangedFilter_.matches(O)?(null!=c&&c.trackChildChange(Ko(O.name,O.node)),Ce.updateImmediateChild(O.name,O.node)):Ce}}return r.isEmpty()?t:S&&d(C,_)>=0?(null!=c&&(c.trackChildChange(bd(C.name,C.node)),c.trackChildChange(Ko(e,r))),f.updateImmediateChild(e,r).updateImmediateChild(C.name,nt.EMPTY_NODE)):t}}class Pc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$t}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_i}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Dn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,W.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$t}copy(){const t=new Pc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function rp(n){const t={};if(n.isDefault())return t;let e;return n.index_===$t?e="$priority":n.index_===Oc?e="$value":n.index_===yi?e="$key":((0,W.hu)(n.index_ instanceof Jf,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,W.Pz)(e),n.startSet_&&(t.startAt=(0,W.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,W.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,W.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,W.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function ip(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==$t&&(t.i=n.index_.toString()),t}class Sd extends Gm{constructor(t,e,r,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=Ya("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,W.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const d=Sd.getListenId_(t,r),f={};this.listens_[d]=f;const _=rp(t._queryParams);this.restRequest_(c+".json",_,(C,S)=>{let T=S;if(404===C&&(T=null,C=null),null===C&&this.onDataUpdate_(c,T,!1,r),(0,W.DV)(this.listens_,d)===f){let O;O=C?401===C?"permission_denied":"rest_error:"+C:"ok",a(O,null)}})}unlisten(t,e){const r=Sd.getListenId_(t,e);delete this.listens_[r]}get(t){const e=rp(t._queryParams),r=t._path.toString(),a=new W.BH;return this.restRequest_(r+".json",e,(c,d)=>{let f=d;404===c&&(f=null,c=null),null===c?(this.onDataUpdate_(r,f,!1,null),a.resolve(f)):a.reject(new Error(f))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,W.xO)(e);this.log_("Sending REST request for "+d);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&4===f.readyState){this.log_("REST Response for "+d+" received. status:",f.status,"response:",f.responseText);let _=null;if(f.status>=200&&f.status<300){try{_=(0,W.cI)(f.responseText)}catch(C){vn("Failed to parse JSON response for "+d+": "+f.responseText)}r(null,_)}else 401!==f.status&&404!==f.status&&vn("Got unsuccessful REST response for "+d+" Status: "+f.status),r(f.status);r=null}},f.open("GET",d,!0),f.send()})}}class H0{constructor(){this.rootNode_=nt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Fc(){return{value:null,children:new Map}}function ro(n,t,e){if(at(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=dt(t);n.children.has(r)||n.children.set(r,Fc()),ro(n.children.get(r),t=Vt(t),e)}}function kc(n,t,e){null!==n.value?e(t,n.value):function EC(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,a)=>{kc(a,new Rt(t.toString()+"/"+r),e)})}class CC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Mn(this.last_,(r,a)=>{e[r]=e[r]-a}),this.last_=t,e}}class DC{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new CC(t);const r=1e4+2e4*Math.random();Qa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;Mn(t,(a,c)=>{c>0&&(0,W.r3)(this.statsToReport_,a)&&(e[a]=c,r=!0)}),r&&this.server_.reportStats(e),Qa(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Zn=(()=>{return(n=Zn||(Zn={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Zn;var n})();function Yo(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Td{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Zn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(at(this.path)){if(null!=this.affectedTree.value)return(0,W.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Rt(t));return new Td(bt(),e,this.revert)}}return(0,W.hu)(dt(this.path)===t,"operationForChild called for unrelated child."),new Td(Vt(this.path),this.affectedTree,this.revert)}}class Lc{constructor(t,e){this.source=t,this.path=e,this.type=Zn.LISTEN_COMPLETE}operationForChild(t){return at(this.path)?new Lc(this.source,bt()):new Lc(this.source,Vt(this.path))}}class Cs{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Zn.OVERWRITE}operationForChild(t){return at(this.path)?new Cs(this.source,bt(),this.snap.getImmediateChild(t)):new Cs(this.source,Vt(this.path),this.snap)}}class Qn{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Zn.MERGE}operationForChild(t){if(at(this.path)){const e=this.children.subtree(new Rt(t));return e.isEmpty()?null:e.value?new Cs(this.source,bt(),e.value):new Qn(this.source,bt(),e)}return(0,W.hu)(dt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Qn(this.source,Vt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $r{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(at(t))return this.isFullyInitialized()&&!this.filtered_;const e=dt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Un{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function so(n,t,e,r,a,c){const d=r.filter(f=>f.type===e);d.sort((f,_)=>function ap(n,t,e){if(null==t.childName||null==e.childName)throw(0,W.g5)("Should only compare child_ events.");const r=new ct(t.childName,t.snapshotNode),a=new ct(e.childName,e.snapshotNode);return n.index_.compare(r,a)}(n,f,_)),d.forEach(f=>{const _=function zr(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,f,c);a.forEach(C=>{C.respondsTo(f.type)&&t.push(C.createEvent(_,n.query_))})})}function ws(n,t){return{eventCache:n,serverCache:t}}function Zi(n,t,e,r){return ws(new $r(t,e,r),n.serverCache)}function Qo(n,t,e,r){return ws(n.eventCache,new $r(t,e,r))}function bs(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Wr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let oo;class It{constructor(t,e=(()=>(oo||(oo=new nn(Am)),oo))()){this.value=t,this.children=e}static fromObject(t){let e=new It(null);return Mn(t,(r,a)=>{e=e.set(new Rt(r),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:bt(),value:this.value};if(at(t))return null;{const r=dt(t),a=this.children.get(r);if(null!==a){const c=a.findRootMostMatchingPathAndValue(Vt(t),e);return null!=c?{path:Dt(new Rt(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(at(t))return this;{const e=dt(t),r=this.children.get(e);return null!==r?r.subtree(Vt(t)):new It(null)}}set(t,e){if(at(t))return new It(e,this.children);{const r=dt(t),c=(this.children.get(r)||new It(null)).set(Vt(t),e),d=this.children.insert(r,c);return new It(this.value,d)}}remove(t){if(at(t))return this.children.isEmpty()?new It(null):new It(null,this.children);{const e=dt(t),r=this.children.get(e);if(r){const a=r.remove(Vt(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new It(null):new It(this.value,c)}return this}}get(t){if(at(t))return this.value;{const e=dt(t),r=this.children.get(e);return r?r.get(Vt(t)):null}}setTree(t,e){if(at(t))return e;{const r=dt(t),c=(this.children.get(r)||new It(null)).setTree(Vt(t),e);let d;return d=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new It(this.value,d)}}fold(t){return this.fold_(bt(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((a,c)=>{r[a]=c.fold_(Dt(t,a),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,bt(),e)}findOnPath_(t,e,r){const a=!!this.value&&r(e,this.value);if(a)return a;if(at(t))return null;{const c=dt(t),d=this.children.get(c);return d?d.findOnPath_(Vt(t),Dt(e,c),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,bt(),e)}foreachOnPath_(t,e,r){if(at(t))return this;{this.value&&r(e,this.value);const a=dt(t),c=this.children.get(a);return c?c.foreachOnPath_(Vt(t),Dt(e,a),r):new It(null)}}foreach(t){this.foreach_(bt(),t)}foreach_(t,e){this.children.inorderTraversal((r,a)=>{a.foreach_(Dt(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class Vn{constructor(t){this.writeTree_=t}static empty(){return new Vn(new It(null))}}function il(n,t,e){if(at(t))return new Vn(new It(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let c=r.value;const d=Yn(a,t);return c=c.updateChild(d,e),new Vn(n.writeTree_.set(a,c))}{const a=new It(e),c=n.writeTree_.setTree(t,a);return new Vn(c)}}}function Id(n,t,e){let r=n;return Mn(e,(a,c)=>{r=il(r,Dt(t,a),c)}),r}function lp(n,t){if(at(t))return Vn.empty();{const e=n.writeTree_.setTree(t,new It(null));return new Vn(e)}}function Ad(n,t){return null!=ao(n,t)}function ao(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Yn(e.path,t)):null}function cp(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild($t,(r,a)=>{t.push(new ct(r,a))}):n.writeTree_.children.inorderTraversal((r,a)=>{null!=a.value&&t.push(new ct(r,a.value))}),t}function Ds(n,t){if(at(t))return n;{const e=ao(n,t);return new Vn(null!=e?new It(e):n.writeTree_.subtree(t))}}function Md(n){return n.writeTree_.isEmpty()}function Xo(n,t){return p_(bt(),n.writeTree_,t)}function p_(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,W.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):e=p_(Dt(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Dt(n,".priority"),r)),e}}function Bc(n,t){return Jo(t,n)}function IC(n,t){if(n.snap)return br(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&br(Dt(n.path,e),t))return!0;return!1}function AC(n){return n.visible}function up(n,t,e){let r=Vn.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const d=c.path;let f;if(c.snap)br(e,d)?(f=Yn(e,d),r=il(r,f,c.snap)):br(d,e)&&(f=Yn(d,e),r=il(r,bt(),c.snap.getChild(f)));else{if(!c.children)throw(0,W.g5)("WriteRecord should have .snap or .children");if(br(e,d))f=Yn(e,d),r=Id(r,f,c.children);else if(br(d,e))if(f=Yn(d,e),at(f))r=Id(r,bt(),c.children);else{const _=(0,W.DV)(c.children,dt(f));if(_){const C=_.getChild(Vt(f));r=il(r,bt(),C)}}}}}return r}function y_(n,t,e,r,a){if(r||a){const c=Ds(n.visibleWrites,t);return!a&&Md(c)?e:a||null!=e||Ad(c,bt())?Xo(up(n.allWrites,function(C){return(C.visible||a)&&(!r||!~r.indexOf(C.writeId))&&(br(C.path,t)||br(t,C.path))},t),e||nt.EMPTY_NODE):null}{const c=ao(n.visibleWrites,t);if(null!=c)return c;{const d=Ds(n.visibleWrites,t);return Md(d)?e:null!=e||Ad(d,bt())?Xo(d,e||nt.EMPTY_NODE):null}}}function fp(n,t,e,r){return y_(n.writeTree,n.treePath,t,e,r)}function v_(n,t){return function MC(n,t,e){let r=nt.EMPTY_NODE;const a=ao(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild($t,(c,d)=>{r=r.updateImmediateChild(c,d)}),r;if(e){const c=Ds(n.visibleWrites,t);return e.forEachChild($t,(d,f)=>{const _=Xo(Ds(c,new Rt(d)),f);r=r.updateImmediateChild(d,_)}),cp(c).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}return cp(Ds(n.visibleWrites,t)).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}(n.writeTree,n.treePath,t)}function OC(n,t,e,r){return function $0(n,t,e,r,a){(0,W.hu)(r||a,"Either existingEventSnap or existingServerSnap must exist");const c=Dt(t,e);if(Ad(n.visibleWrites,c))return null;{const d=Ds(n.visibleWrites,c);return Md(d)?a.getChild(e):Xo(d,a.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function xd(n,t){return function dp(n,t){return ao(n.visibleWrites,t)}(n.writeTree,Dt(n.treePath,t))}function C_(n,t,e){return function xC(n,t,e,r){const a=Dt(t,e),c=ao(n.visibleWrites,a);return null!=c?c:r.isCompleteForChild(e)?Xo(Ds(n.visibleWrites,a),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function w_(n,t){return Jo(Dt(n.treePath,t),n.writeTree)}function Jo(n,t){return{treePath:n,writeTree:t}}class PC{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,W.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,W.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(r,nl(r,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(r,bd(r,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(r,Ko(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,W.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(r,nl(r,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const D_=new class b_{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class Rd{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new $r(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return C_(this.writes_,t,r)}}getChildAfterChild(t,e,r){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wr(this.viewCache_),c=function E_(n,t,e,r,a,c){return function hp(n,t,e,r,a,c,d){let f;const _=Ds(n.visibleWrites,t),C=ao(_,bt());if(null!=C)f=C;else{if(null==e)return[];f=Xo(_,e)}if(f=f.withIndex(d),f.isEmpty()||f.isLeafNode())return[];{const S=[],T=d.getCompare(),O=c?f.getReverseIteratorFrom(r,d):f.getIteratorFrom(r,d);let $=O.getNext();for(;$&&S.length<a;)0!==T($,r)&&S.push($),$=O.getNext();return S}}(n.writeTree,n.treePath,t,e,r,a,c)}(this.writes_,a,e,1,r,t);return 0===c.length?null:c[0]}}function T_(n,t,e,r,a,c){const d=t.eventCache;if(null!=xd(r,e))return t;{let f,_;if(at(e))if((0,W.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const C=Wr(t),T=v_(r,C instanceof nt?C:nt.EMPTY_NODE);f=n.filter.updateFullNode(t.eventCache.getNode(),T,c)}else{const C=fp(r,Wr(t));f=n.filter.updateFullNode(t.eventCache.getNode(),C,c)}else{const C=dt(e);if(".priority"===C){(0,W.hu)(1===Es(e),"Can't have a priority with additional path components");const S=d.getNode();_=t.serverCache.getNode();const T=OC(r,e,S,_);f=null!=T?n.filter.updatePriority(S,T):d.getNode()}else{const S=Vt(e);let T;if(d.isCompleteForChild(C)){_=t.serverCache.getNode();const O=OC(r,e,d.getNode(),_);T=null!=O?d.getNode().getImmediateChild(C).updateChild(S,O):d.getNode().getImmediateChild(C)}else T=C_(r,C,t.serverCache);f=null!=T?n.filter.updateChild(d.getNode(),C,T,S,a,c):d.getNode()}}return Zi(t,f,d.isFullyInitialized()||at(e),n.filter.filtersNodes())}}function Pd(n,t,e,r,a,c,d,f){const _=t.serverCache;let C;const S=d?n.filter:n.filter.getIndexedFilter();if(at(e))C=S.updateFullNode(_.getNode(),r,null);else if(S.filtersNodes()&&!_.isFiltered()){const $=_.getNode().updateChild(e,r);C=S.updateFullNode(_.getNode(),$,null)}else{const $=dt(e);if(!_.isCompleteForPath(e)&&Es(e)>1)return t;const X=Vt(e),$e=_.getNode().getImmediateChild($).updateChild(X,r);C=".priority"===$?S.updatePriority(_.getNode(),$e):S.updateChild(_.getNode(),$,$e,X,D_,null)}const T=Qo(t,C,_.isFullyInitialized()||at(e),S.filtersNodes());return T_(n,T,e,a,new Rd(a,T,c),f)}function pp(n,t,e,r,a,c,d){const f=t.eventCache;let _,C;const S=new Rd(a,t,c);if(at(e))C=n.filter.updateFullNode(t.eventCache.getNode(),r,d),_=Zi(t,C,!0,n.filter.filtersNodes());else{const T=dt(e);if(".priority"===T)C=n.filter.updatePriority(t.eventCache.getNode(),r),_=Zi(t,C,f.isFullyInitialized(),f.isFiltered());else{const O=Vt(e),$=f.getNode().getImmediateChild(T);let X;if(at(O))X=r;else{const Ce=S.getCompleteChild(T);X=null!=Ce?".priority"===Hf(O)&&Ce.getChild(Zm(O)).isEmpty()?Ce:Ce.updateChild(O,r):nt.EMPTY_NODE}_=$.equals(X)?t:Zi(t,n.filter.updateChild(f.getNode(),T,X,O,S,d),f.isFullyInitialized(),n.filter.filtersNodes())}}return _}function I_(n,t){return n.eventCache.isCompleteForChild(t)}function M_(n,t,e){return e.foreach((r,a)=>{t=t.updateChild(r,a)}),t}function Nd(n,t,e,r,a,c,d,f){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let C,_=t;C=at(e)?r:new It(null).setTree(e,r);const S=t.serverCache.getNode();return C.children.inorderTraversal((T,O)=>{if(S.hasChild(T)){const X=M_(0,t.serverCache.getNode().getImmediateChild(T),O);_=Pd(n,_,new Rt(T),X,a,c,d,f)}}),C.children.inorderTraversal((T,O)=>{const $=!t.serverCache.isCompleteForChild(T)&&null===O.value;if(!S.hasChild(T)&&!$){const Ce=M_(0,t.serverCache.getNode().getImmediateChild(T),O);_=Pd(n,_,new Rt(T),Ce,a,c,d,f)}}),_}class mp{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new np(r.getIndex()),c=function vC(n){return n.loadsAllData()?new np(n.getIndex()):n.hasLimit()?new U0(n):new Dd(n)}(r);this.processor_=function Od(n){return{filter:n}}(c);const d=e.serverCache,f=e.eventCache,_=a.updateFullNode(nt.EMPTY_NODE,d.getNode(),null),C=c.updateFullNode(nt.EMPTY_NODE,f.getNode(),null),S=new $r(_,d.isFullyInitialized(),a.filtersNodes()),T=new $r(C,f.isFullyInitialized(),c.filtersNodes());this.viewCache_=ws(T,S),this.eventGenerator_=new Un(this.query_)}get query(){return this.query_}}function jc(n,t){const e=Wr(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!at(t)&&!e.getImmediateChild(dt(t)).isEmpty())?e.getChild(t):null}function _p(n){return 0===n.eventRegistrations_.length}function Fd(n,t,e){const r=[];if(e){(0,W.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(e,a);d&&r.push(d)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const d=n.eventRegistrations_[c];if(d.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(d)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return r}function R_(n,t,e,r){t.type===Zn.MERGE&&null!==t.source.queryId&&((0,W.hu)(Wr(n.viewCache_),"We should always have a full cache before handling merges"),(0,W.hu)(bs(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function S_(n,t,e,r,a){const c=new PC;let d,f;if(e.type===Zn.OVERWRITE){const C=e;C.source.fromUser?d=pp(n,t,C.path,C.snap,r,a,c):((0,W.hu)(C.source.fromServer,"Unknown source."),f=C.source.tagged||t.serverCache.isFiltered()&&!at(C.path),d=Pd(n,t,C.path,C.snap,r,a,f,c))}else if(e.type===Zn.MERGE){const C=e;C.source.fromUser?d=function A_(n,t,e,r,a,c,d){let f=t;return r.foreach((_,C)=>{const S=Dt(e,_);I_(t,dt(S))&&(f=pp(n,f,S,C,a,c,d))}),r.foreach((_,C)=>{const S=Dt(e,_);I_(t,dt(S))||(f=pp(n,f,S,C,a,c,d))}),f}(n,t,C.path,C.children,r,a,c):((0,W.hu)(C.source.fromServer,"Unknown source."),f=C.source.tagged||t.serverCache.isFiltered(),d=Nd(n,t,C.path,C.children,r,a,f,c))}else if(e.type===Zn.ACK_USER_WRITE){const C=e;d=C.revert?function z0(n,t,e,r,a,c){let d;if(null!=xd(r,e))return t;{const f=new Rd(r,t,a),_=t.eventCache.getNode();let C;if(at(e)||".priority"===dt(e)){let S;if(t.serverCache.isFullyInitialized())S=fp(r,Wr(t));else{const T=t.serverCache.getNode();(0,W.hu)(T instanceof nt,"serverChildren would be complete if leaf node"),S=v_(r,T)}S=S,C=n.filter.updateFullNode(_,S,c)}else{const S=dt(e);let T=C_(r,S,t.serverCache);null==T&&t.serverCache.isCompleteForChild(S)&&(T=_.getImmediateChild(S)),C=null!=T?n.filter.updateChild(_,S,T,Vt(e),f,c):t.eventCache.getNode().hasChild(S)?n.filter.updateChild(_,S,nt.EMPTY_NODE,Vt(e),f,c):_,C.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=fp(r,Wr(t)),d.isLeafNode()&&(C=n.filter.updateFullNode(C,d,c)))}return d=t.serverCache.isFullyInitialized()||null!=xd(r,bt()),Zi(t,C,d,n.filter.filtersNodes())}}(n,t,C.path,r,a,c):function x_(n,t,e,r,a,c,d){if(null!=xd(a,e))return t;const f=t.serverCache.isFiltered(),_=t.serverCache;if(null!=r.value){if(at(e)&&_.isFullyInitialized()||_.isCompleteForPath(e))return Pd(n,t,e,_.getNode().getChild(e),a,c,f,d);if(at(e)){let C=new It(null);return _.getNode().forEachChild(yi,(S,T)=>{C=C.set(new Rt(S),T)}),Nd(n,t,e,C,a,c,f,d)}return t}{let C=new It(null);return r.foreach((S,T)=>{const O=Dt(e,S);_.isCompleteForPath(O)&&(C=C.set(S,_.getNode().getChild(O)))}),Nd(n,t,e,C,a,c,f,d)}}(n,t,C.path,C.affectedTree,r,a,c)}else{if(e.type!==Zn.LISTEN_COMPLETE)throw(0,W.g5)("Unknown operation type: "+e.type);d=function gp(n,t,e,r,a){const c=t.serverCache;return T_(n,Qo(t,c.getNode(),c.isFullyInitialized()||at(e),c.isFiltered()),e,r,D_,a)}(n,t,e.path,r,c)}const _=c.getChanges();return function FC(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=bs(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&e.push(l_(bs(t)))}}(t,d,_),{viewCache:d,changes:_}}(n.processor_,a,t,e,r);return function NC(n,t){(0,W.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,W.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,W.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,Uc(n,c.changes,c.viewCache.eventCache.getNode(),null)}function Uc(n,t,e,r){return function Zo(n,t,e,r){const a=[],c=[];return t.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(function yC(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(d.childName,d.snapshotNode))}),so(n,a,"child_removed",t,r,e),so(n,a,"child_added",t,r,e),so(n,a,"child_moved",c,r,e),so(n,a,"child_changed",t,r,e),so(n,a,"value",t,r,e),a}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let sl,ol;class LC{constructor(){this.views=new Map}}function Ld(n,t,e,r){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,W.hu)(null!=c,"SyncTree gave us an op for an invalid query."),R_(c,t,e,r)}{let c=[];for(const d of n.views.values())c=c.concat(R_(d,t,e,r));return c}}function wp(n,t,e,r,a,c){const d=function Cp(n,t,e,r,a){const d=n.views.get(t._queryIdentifier);if(!d){let f=fp(e,a?r:null),_=!1;f?_=!0:r instanceof nt?(f=v_(e,r),_=!1):(f=nt.EMPTY_NODE,_=!1);const C=ws(new $r(f,_,!1),new $r(r,a,!1));return new mp(t,C)}return d}(n,t,r,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,d),function yp(n,t){n.eventRegistrations_.push(t)}(d,e),function kd(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild($t,(c,d)=>{r.push(Ko(c,d))}),e.isFullyInitialized()&&r.push(l_(e.getNode())),Uc(n,r,e.getNode(),t)}(d,e)}function bp(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Qi(n,t){let e=null;for(const r of n.views.values())e=e||jc(r,t);return e}function Bd(n,t){return t._queryParams.loadsAllData()?Vc(n):n.views.get(t._queryIdentifier)}function P_(n,t){return null!=Bd(n,t)}function Ss(n){return null!=Vc(n)}function Vc(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let F_=1;class Dp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new It(null),this.pendingWriteTree_=function RC(){return{visibleWrites:Vn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jd(n,t,e,r,a){return function SC(n,t,e,r,a){(0,W.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:a}),a&&(n.visibleWrites=il(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,a),a?ea(n,new Cs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ts(n,t,e=!1){const r=function m_(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function TC(n,t){const e=n.allWrites.findIndex(f=>f.writeId===t);(0,W.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let a=r.visible,c=!1,d=n.allWrites.length-1;for(;a&&d>=0;){const f=n.allWrites[d];f.visible&&(d>=e&&IC(f,r.path)?a=!1:br(r.path,f.path)&&(c=!0)),d--}return!!a&&(c?(function __(n){n.visibleWrites=up(n.allWrites,AC,bt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=lp(n.visibleWrites,r.path):Mn(r.children,_=>{n.visibleWrites=lp(n.visibleWrites,Dt(r.path,_))}),!0))}(n.pendingWriteTree_,t)){let c=new It(null);return null!=r.snap?c=c.set(bt(),!0):Mn(r.children,d=>{c=c.set(new Rt(d),!0)}),ea(n,new Td(r.path,c,e))}return[]}function al(n,t,e){return ea(n,new Cs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Hc(n,t,e,r,a=!1){const c=t._path,d=n.syncPointTree_.get(c);let f=[];if(d&&("default"===t._queryIdentifier||P_(d,t))){const _=function O_(n,t,e,r){const a=t._queryIdentifier,c=[];let d=[];const f=Ss(n);if("default"===a)for(const[_,C]of n.views.entries())d=d.concat(Fd(C,e,r)),_p(C)&&(n.views.delete(_),C.query._queryParams.loadsAllData()||c.push(C.query));else{const _=n.views.get(a);_&&(d=d.concat(Fd(_,e,r)),_p(_)&&(n.views.delete(a),_.query._queryParams.loadsAllData()||c.push(_.query)))}return f&&!Ss(n)&&c.push(new(function vp(){return(0,W.hu)(sl,"Reference.ts has not been loaded"),sl}())(t._repo,t._path)),{removed:c,events:d}}(d,t,e,r);(function Ep(n){return 0===n.views.size})(d)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const C=_.removed;if(f=_.events,!a){const S=-1!==C.findIndex(O=>O._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(c,(O,$)=>Ss($));if(S&&!T){const O=n.syncPointTree_.subtree(c);if(!O.isEmpty()){const $=function H_(n){return n.fold((t,e,r)=>{if(e&&Ss(e))return[Vc(e)];{let a=[];return e&&(a=bp(e)),Mn(r,(c,d)=>{a=a.concat(d)}),a}})}(O);for(let X=0;X<$.length;++X){const Ce=$[X],$e=Ce.query,St=Ip(n,Ce);n.listenProvider_.startListening(Xi($e),$c(n,$e),St.hashFn,St.onComplete)}}}!T&&C.length>0&&!r&&(S?n.listenProvider_.stopListening(Xi(t),null):C.forEach(O=>{const $=n.queryToTagMap.get(Vd(O));n.listenProvider_.stopListening(Xi(O),$)}))}!function VC(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const a=Vd(r),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,C)}return f}function U_(n,t,e,r=!1){const a=t._path;let c=null,d=!1;n.syncPointTree_.foreachOnPath(a,(O,$)=>{const X=Yn(O,a);c=c||Qi($,X),d=d||Ss($)});let _,f=n.syncPointTree_.get(a);f?(d=d||Ss(f),c=c||Qi(f,bt())):(f=new LC,n.syncPointTree_=n.syncPointTree_.set(a,f)),null!=c?_=!0:(_=!1,c=nt.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild(($,X)=>{const Ce=Qi(X,bt());Ce&&(c=c.updateImmediateChild($,Ce))}));const C=P_(f,t);if(!C&&!t._queryParams.loadsAllData()){const O=Vd(t);(0,W.hu)(!n.queryToTagMap.has(O),"View does not exist, but we have a tag");const $=function HC(){return F_++}();n.queryToTagMap.set(O,$),n.tagToQueryMap.set($,O)}let T=wp(f,t,e,Bc(n.pendingWriteTree_,a),c,_);if(!C&&!d&&!r){const O=Bd(f,t);T=T.concat(function $_(n,t,e){const r=t._path,a=$c(n,t),c=Ip(n,e),d=n.listenProvider_.startListening(Xi(t),a,c.hashFn,c.onComplete),f=n.syncPointTree_.subtree(r);if(a)(0,W.hu)(!Ss(f.value),"If we're adding a query, it shouldn't be shadowed");else{const _=f.fold((C,S,T)=>{if(!at(C)&&S&&Ss(S))return[Vc(S).query];{let O=[];return S&&(O=O.concat(bp(S).map($=>$.query))),Mn(T,($,X)=>{O=O.concat(X)}),O}});for(let C=0;C<_.length;++C){const S=_[C];n.listenProvider_.stopListening(Xi(S),$c(n,S))}}return d}(n,t,O))}return T}function Ud(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(d,f)=>{const C=Qi(f,Yn(d,t));if(C)return C});return y_(a,t,c,e,!0)}function ea(n,t){return V_(t,n.syncPointTree_,null,Bc(n.pendingWriteTree_,bt()))}function V_(n,t,e,r){if(at(n.path))return mn(n,t,e,r);{const a=t.get(bt());null==e&&null!=a&&(e=Qi(a,bt()));let c=[];const d=dt(n.path),f=n.operationForChild(d),_=t.children.get(d);if(_&&f){const C=e?e.getImmediateChild(d):null,S=w_(r,d);c=c.concat(V_(f,_,C,S))}return a&&(c=c.concat(Ld(a,n,r,e))),c}}function mn(n,t,e,r){const a=t.get(bt());null==e&&null!=a&&(e=Qi(a,bt()));let c=[];return t.children.inorderTraversal((d,f)=>{const _=e?e.getImmediateChild(d):null,C=w_(r,d),S=n.operationForChild(d);S&&(c=c.concat(mn(S,f,_,C)))}),a&&(c=c.concat(Ld(a,n,r,e))),c}function Ip(n,t){const e=t.query,r=$c(n,e);return{hashFn:()=>(function kC(n){return n.viewCache_.serverCache.getNode()}(t)||nt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return r?function B_(n,t,e){const r=Hd(n,e);if(r){const a=Ap(r),c=a.path,d=a.queryId,f=Yn(c,t);return $d(n,c,new Lc(Yo(d),f))}return[]}(n,e._path,r):function L_(n,t){return ea(n,new Lc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function Of(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(a,e);return Hc(n,e,null,c)}}}}function $c(n,t){const e=Vd(t);return n.queryToTagMap.get(e)}function Vd(n){return n._path.toString()+"$"+n._queryIdentifier}function Hd(n,t){return n.tagToQueryMap.get(t)}function Ap(n){const t=n.indexOf("$");return(0,W.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Rt(n.substr(0,t))}}function $d(n,t,e){const r=n.syncPointTree_.get(t);return(0,W.hu)(r,"Missing sync point for query tag that we're tracking"),Ld(r,e,Bc(n.pendingWriteTree_,t),null)}function Xi(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function jC(){return(0,W.hu)(ol,"Reference.ts has not been loaded"),ol}())(n._repo,n._path):n}class Mp{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Mp(e)}node(){return this.node_}}class zd{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Dt(this.path_,t);return new zd(this.syncTree_,e)}node(){return Ud(this.syncTree_,this.path_)}}const Wd=function(n,t,e){return n&&"object"==typeof n?((0,W.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?xp(n[".sv"],t,e):"object"==typeof n[".sv"]?Ji(n[".sv"],t):void(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},xp=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,W.hu)(!1,"Unexpected server value: "+n)},Ji=function(n,t,e){n.hasOwnProperty("increment")||(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,W.hu)(!1,"Unexpected increment value: "+r);const a=t.node();if((0,W.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const d=a.getValue();return"number"!=typeof d?r:d+r},Rp=function(n,t,e){return Gr(n,new Mp(t),e)};function Gr(n,t,e){const r=n.getPriority().val(),a=Wd(r,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const d=n,f=Wd(d.getValue(),t,e);return f!==d.getValue()||a!==d.getPriority().val()?new Ki(f,Jt(a)):n}{const d=n;return c=d,a!==d.getPriority().val()&&(c=c.updatePriority(new Ki(a))),d.forEachChild($t,(f,_)=>{const C=Gr(_,t.getImmediateChild(f),e);C!==_&&(c=c.updateImmediateChild(f,C))}),c}}class Dr{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function cr(n,t){let e=t instanceof Rt?t:new Rt(t),r=n,a=dt(e);for(;null!==a;){const c=(0,W.DV)(r.node.children,a)||{children:{},childCount:0};r=new Dr(a,r,c),e=Vt(e),a=dt(e)}return r}function lo(n){return n.node.value}function Gd(n,t){n.node.value=t,Pp(n)}function W_(n){return n.node.childCount>0}function qd(n,t){Mn(n.node.children,(e,r)=>{t(new Dr(e,n,r))})}function G_(n,t,e,r){e&&!r&&t(n),qd(n,a=>{G_(a,t,!0,r)}),e&&r&&t(n)}function Is(n){return new Rt(null===n.parent?n.name:Is(n.parent)+"/"+n.name)}function Pp(n){null!==n.parent&&function q_(n,t,e){const r=function $C(n){return void 0===lo(n)&&!W_(n)}(e),a=(0,W.r3)(n.node.children,t);r&&a?(delete n.node.children[t],n.node.childCount--,Pp(n)):!r&&!a&&(n.node.children[t]=e.node,n.node.childCount++,Pp(n))}(n.parent,n.name,n)}const zC=/[\[\].#$\/\u0000-\u001F\u007F]/,K_=/[\[\].#$\u0000-\u001F\u007F]/,Kd=10485760,ta=function(n){return"string"==typeof n&&0!==n.length&&!zC.test(n)},Y_=function(n){return"string"==typeof n&&0!==n.length&&!K_.test(n)},qr=function(n,t,e,r){r&&void 0===t||co((0,W.gK)(n,"value"),t,e)},co=function(n,t,e){const r=e instanceof Rt?new hC(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Wo(r));if("function"==typeof t)throw new Error(n+"contains a function "+Wo(r)+" with contents = "+t.toString());if(Cc(t))throw new Error(n+"contains "+t.toString()+" "+Wo(r));if("string"==typeof t&&t.length>Kd/3&&(0,W.ug)(t)>Kd)throw new Error(n+"contains a string greater than "+Kd+" utf8 bytes "+Wo(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(Mn(t,(d,f)=>{if(".value"===d)a=!0;else if(".priority"!==d&&".sv"!==d&&(c=!0,!ta(d)))throw new Error(n+" contains an invalid key ("+d+") "+Wo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function fC(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,W.ug)(t),pd(n)})(r,d),co(n,f,r),function pC(n){const t=n.parts_.pop();n.byteLength_-=(0,W.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),a&&c)throw new Error(n+' contains ".value" child '+Wo(r)+" in addition to actual children.")}},Zd=function(n,t,e,r){if(!(r&&void 0===e||Y_(e)))throw new Error((0,W.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},wi=function(n,t){if(".info"===dt(t))throw new Error(n+" failed = Can't modify data under /.info/")};class WC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qd(n,t){let e=null;for(let r=0;r<t.length;r++){const a=t[r],c=a.getPath();null!==e&&!Qm(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function J_(n,t,e){Qd(n,e),ey(n,r=>Qm(r,t))}function Sr(n,t,e){Qd(n,e),ey(n,r=>br(r,t)||br(t,r))}function ey(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const a=n.eventLists_[r];a&&(t(a.path)?(GC(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function GC(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Ho&&Ue("event: "+e.toString()),Za(r)}}}class KC{constructor(t,e,r,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fc(),this.transactionQueueTree_=new Dr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ny(n){const e=n.infoData_.getNode(new Rt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function zc(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:ny(n)})}function ry(n,t,e,r,a){n.dataUpdateCount++;const c=new Rt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let d=[];if(a)if(r){const _=(0,W.UI)(e,C=>Jt(C));d=function j_(n,t,e,r){const a=Hd(n,r);if(a){const c=Ap(a),d=c.path,f=c.queryId,_=Yn(d,t),C=It.fromObject(e);return $d(n,d,new Qn(Yo(f),_,C))}return[]}(n.serverSyncTree_,c,_,a)}else{const _=Jt(e);d=function Tp(n,t,e,r){const a=Hd(n,r);if(null!=a){const c=Ap(a),d=c.path,f=c.queryId,_=Yn(d,t);return $d(n,d,new Cs(Yo(f),_,e))}return[]}(n.serverSyncTree_,c,_,a)}else if(r){const _=(0,W.UI)(e,C=>Jt(C));d=function k_(n,t,e){const r=It.fromObject(e);return ea(n,new Qn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,c,_)}else{const _=Jt(e);d=al(n.serverSyncTree_,c,_)}let f=c;d.length>0&&(f=Wc(n,c)),Sr(n.eventQueue_,f,d)}function iy(n,t){kp(n,"connected",t),!1===t&&function oy(n){Kr(n,"onDisconnectEvents");const t=zc(n),e=Fc();kc(n.onDisconnect_,bt(),(a,c)=>{const d=function(n,t,e,r){return Gr(t,new zd(e,n),r)}(a,c,n.serverSyncTree_,t);ro(e,a,d)});let r=[];kc(e,bt(),(a,c)=>{r=r.concat(al(n.serverSyncTree_,a,c));const d=$p(n,a);Wc(n,d)}),n.onDisconnect_=Fc(),Sr(n.eventQueue_,bt(),r)}(n)}function kp(n,t,e){const r=new Rt("/.info/"+t),a=Jt(e);n.infoData_.updateSnapshot(r,a);const c=al(n.infoSyncTree_,r,a);Sr(n.eventQueue_,r,c)}function Xd(n){return n.nextWriteId_++}function Jd(n,t,e,r,a){Kr(n,"set",{path:t.toString(),value:e,priority:r});const c=zc(n),d=Jt(e,r),f=Ud(n.serverSyncTree_,t),_=Rp(d,f,c),C=Xd(n),S=jd(n.serverSyncTree_,t,_,C,!0);Qd(n.eventQueue_,S),n.server_.put(t.toString(),d.val(!0),(O,$)=>{const X="ok"===O;X||vn("set at "+t+" failed: "+O);const Ce=Ts(n.serverSyncTree_,C,!X);Sr(n.eventQueue_,t,Ce),function uo(n,t,e,r){t&&Za(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;r&&(c+=": "+r);const d=new Error(c);d.code=a,t(d)}})}(0,a,O,$)});const T=$p(n,t);Wc(n,T),Sr(n.eventQueue_,T,[])}function eh(n,t,e){let r;r=".info"===dt(t._path)?Hc(n.infoSyncTree_,t,e):Hc(n.serverSyncTree_,t,e),J_(n.eventQueue_,t._path,r)}function Kr(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ue(e,...t)}function ho(n,t,e){return Ud(n.serverSyncTree_,t,e)||nt.EMPTY_NODE}function Up(n,t=n.transactionQueueTree_){if(t||th(n,t),lo(t)){const e=JC(n,t);(0,W.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function Vp(n,t,e){const r=e.map(C=>C.currentWriteId),a=ho(n,t,r);let c=a;const d=a.hash();for(let C=0;C<e.length;C++){const S=e[C];(0,W.hu)(0===S.status,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const T=Yn(t,S.path);c=c.updateChild(T,S.currentOutputSnapshotRaw)}const f=c.val(!0),_=t;n.server_.put(_.toString(),f,C=>{Kr(n,"transaction put response",{path:_.toString(),status:C});let S=[];if("ok"===C){const T=[];for(let O=0;O<e.length;O++)e[O].status=2,S=S.concat(Ts(n.serverSyncTree_,e[O].currentWriteId)),e[O].onComplete&&T.push(()=>e[O].onComplete(null,!0,e[O].currentOutputSnapshotResolved)),e[O].unwatcher();th(n,cr(n.transactionQueueTree_,t)),Up(n,n.transactionQueueTree_),Sr(n.eventQueue_,t,S);for(let O=0;O<T.length;O++)Za(T[O])}else{if("datastale"===C)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{vn("transaction at "+_.toString()+" failed: "+C);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=C}Wc(n,t)}},d)}(n,Is(t),e)}else W_(t)&&qd(t,e=>{Up(n,e)})}function Wc(n,t){const e=Hp(n,t),r=Is(e);return function dy(n,t,e){if(0===t.length)return;const r=[];let a=[];const d=t.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<t.length;f++){const _=t[f],C=Yn(e,_.path);let T,S=!1;if((0,W.hu)(null!==C,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_.status)S=!0,T=_.abortReason,a=a.concat(Ts(n.serverSyncTree_,_.currentWriteId,!0));else if(0===_.status)if(_.retryCount>=25)S=!0,T="maxretry",a=a.concat(Ts(n.serverSyncTree_,_.currentWriteId,!0));else{const O=ho(n,_.path,d);_.currentInputSnapshot=O;const $=t[f].update(O.val());if(void 0!==$){co("transaction failed: Data returned ",$,_.path);let X=Jt($);"object"==typeof $&&null!=$&&(0,W.r3)($,".priority")||(X=X.updatePriority(O.getPriority()));const $e=_.currentWriteId,St=zc(n),yt=Rp(X,O,St);_.currentOutputSnapshotRaw=X,_.currentOutputSnapshotResolved=yt,_.currentWriteId=Xd(n),d.splice(d.indexOf($e),1),a=a.concat(jd(n.serverSyncTree_,_.path,yt,_.currentWriteId,_.applyLocally)),a=a.concat(Ts(n.serverSyncTree_,$e,!0))}else S=!0,T="nodata",a=a.concat(Ts(n.serverSyncTree_,_.currentWriteId,!0))}Sr(n.eventQueue_,e,a),a=[],S&&(t[f].status=2,setTimeout(t[f].unwatcher,Math.floor(0)),t[f].onComplete&&r.push("nodata"===T?()=>t[f].onComplete(null,!1,t[f].currentInputSnapshot):()=>t[f].onComplete(new Error(T),!1,null)))}th(n,n.transactionQueueTree_);for(let f=0;f<r.length;f++)Za(r[f]);Up(n,n.transactionQueueTree_)}(n,JC(n,e),r),r}function Hp(n,t){let e,r=n.transactionQueueTree_;for(e=dt(t);null!==e&&void 0===lo(r);)r=cr(r,e),e=dt(t=Vt(t));return r}function JC(n,t){const e=[];return Ze(n,t,e),e.sort((r,a)=>r.order-a.order),e}function Ze(n,t,e){const r=lo(t);if(r)for(let a=0;a<r.length;a++)e.push(r[a]);qd(t,a=>{Ze(n,a,e)})}function th(n,t){const e=lo(t);if(e){let r=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[r]=e[a],r++);e.length=r,Gd(t,e.length>0?e:void 0)}qd(t,r=>{th(n,r)})}function $p(n,t){const e=Is(Hp(n,t)),r=cr(n.transactionQueueTree_,t);return function Op(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,a=>{zp(n,a)}),zp(n,r),G_(r,a=>{zp(n,a)}),e}function zp(n,t){const e=lo(t);if(e){const r=[];let a=[],c=-1;for(let d=0;d<e.length;d++)3===e[d].status||(1===e[d].status?((0,W.hu)(c===d-1,"All SENT items should be at beginning of queue."),c=d,e[d].status=3,e[d].abortReason="set"):((0,W.hu)(0===e[d].status,"Unexpected transaction status in abort"),e[d].unwatcher(),a=a.concat(Ts(n.serverSyncTree_,e[d].currentWriteId,!0)),e[d].onComplete&&r.push(e[d].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Gd(t,void 0):e.length=c+1,Sr(n.eventQueue_,Is(t),a);for(let d=0;d<r.length;d++)Za(r[d])}}const ul=function(n,t){const e=rh(n),r=e.namespace;return"firebase.com"===e.domain&&gi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&gi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Om(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new Rt(e.pathString)}},rh=function(n){let t="",e="",r="",a="",c="",d=!0,f="https",_=443;if("string"==typeof n){let C=n.indexOf("//");C>=0&&(f=n.substring(0,C-1),n=n.substring(C+2));let S=n.indexOf("/");-1===S&&(S=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),t=n.substring(0,Math.min(S,T)),S<T&&(a=function nh(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let a=e[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(c){}t+="/"+a}return t}(n.substring(S,T)));const O=function ew(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vn(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,T)));C=t.indexOf(":"),C>=0?(d="https"===f||"wss"===f,_=parseInt(t.substring(C+1),10)):C=t.length;const $=t.slice(0,C);if("localhost"===$.toLowerCase())e="localhost";else if($.split(".").length<=2)e=$;else{const X=t.indexOf(".");r=t.substring(0,X).toLowerCase(),e=t.substring(X+1),c=r}"ns"in O&&(c=O.ns)}return{host:t,port:_,domain:e,subdomain:r,secure:d,scheme:f,pathString:a,namespace:c}};class en{constructor(t,e,r,a){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,W.Pz)(this.snapshot.exportVal())}}class tw{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ih{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,W.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Tr{constructor(t,e,r,a){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=a}get key(){return at(this._path)?null:Hf(this._path)}get ref(){return new Yr(this._repo,this._path)}get _queryIdentifier(){const t=ip(this._queryParams),e=Mm(t);return"{}"===e?"default":e}get _queryObject(){return ip(this._queryParams)}isEqual(t){if(!((t=(0,W.m9)(t))instanceof Tr))return!1;const e=this._repo===t._repo,r=Qm(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ym(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class Yr extends Tr{constructor(t,e){super(t,e,new Pc,!1)}get parent(){const t=Zm(this._path);return null===t?null:new Yr(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class na{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Rt(t),r=es(this.ref,t);return new na(this._node.getChild(e),r,$t)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,a)=>t(new na(a,es(this.ref,r),$t)))}hasChild(t){const e=new Rt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Kc(n,t){return(n=(0,W.m9)(n))._checkNotDeleted("ref"),void 0!==t?es(n._root,t):n._root}function es(n,t){return null===dt((n=(0,W.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Zd("child","path",e,!1)):Zd("child","path",t,!1),new Yr(n._repo,Dt(n._path,t));var e}function dl(n,t){n=(0,W.m9)(n),wi("set",n._path),qr("set",t,n._path,!1);const e=new W.BH;return Jd(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}class Ms{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new en("value",this,new na(t.snapshotNode,new Yr(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new tw(this,t,e):null}matches(t){return t instanceof Ms&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class fo{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new tw(this,t,e):null}createEvent(t,e){(0,W.hu)(null!=t.childName,"Child events should have a childName.");const r=es(new Yr(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new en(t.type,this,new na(t.snapshotNode,r,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof fo&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function sh(n,t,e,r){return function Yc(n,t,e,r,a){let c;if("object"==typeof r&&(c=void 0,a=r),"function"==typeof r&&(c=r),a&&a.onlyOnce){const _=e,C=(S,T)=>{eh(n._repo,n,f),_(S,T)};C.userCallback=e.userCallback,C.context=e.context,e=C}const d=new ih(e,c||void 0),f="value"===t?new Ms(d):new fo(t,d);return function uy(n,t,e){let r;r=".info"===dt(t._path)?U_(n.infoSyncTree_,t,e):U_(n.serverSyncTree_,t,e),J_(n.eventQueue_,t._path,r)}(n._repo,n,f),()=>eh(n._repo,n,f)}(n,"value",t,e,r)}(function BC(n){(0,W.hu)(!sl,"__referenceConstructor has already been defined"),sl=n})(Yr),function N_(n){(0,W.hu)(!ol,"__referenceConstructor has already been defined"),ol=n}(Yr);const ah={};function Ew(n,t,e,r,a){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||gi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let _,C,d=ul(c,a),f=d.repoInfo;"undefined"!=typeof process&&process.env&&(C=process.env.FIREBASE_DATABASE_EMULATOR_HOST),C?(_=!0,c=`http://${C}?ns=${f.namespace}`,d=ul(c,a),f=d.repoInfo):_=!d.repoInfo.secure;const S=a&&_?new od(od.OWNER):new YE(n.name,n.options,t);(function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ta(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Y_(n)}(e))throw new Error((0,W.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",d),at(d.path)||gi("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function Cw(n,t,e,r){let a=ah[t.name];a||(a={},ah[t.name]=a);let c=a[n.toURLString()];return c&&gi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new KC(n,false,e,r),a[n.toURLString()]=c,c}(f,n,S,new k0(n.name,e));return new yy(T,n)}class yy{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function YC(n,t,e){if(n.stats_=ld(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Sd(n.repoInfo_,(r,a,c,d)=>{ry(n,r,a,c,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>iy(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,W.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Go(n.repoInfo_,t,(r,a,c,d)=>{ry(n,r,a,c,d)},r=>{iy(n,r)},r=>{!function ZC(n,t){Mn(t,(e,r)=>{kp(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Lf(n,t){const e=n.toString();return kf[e]||(kf[e]=t()),kf[e]}(n.repoInfo_,()=>new DC(n.stats_,n.server_)),n.infoData_=new H0,n.infoSyncTree_=new Dp({startListening:(r,a,c,d)=>{let f=[];const _=n.infoData_.getNode(r._path);return _.isEmpty()||(f=al(n.infoSyncTree_,r._path,_),setTimeout(()=>{d("ok")},0)),f},stopListening:()=>{}}),kp(n,"connected",!1),n.serverSyncTree_=new Dp({startListening:(r,a,c,d)=>(n.server_.listen(r,c,a,(f,_)=>{const C=d(f,_);Sr(n.eventQueue_,r._path,C)}),[]),stopListening:(r,a)=>{n.server_.unlisten(r,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yr(this._repo,bt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Gp(n,t){const e=ah[t];(!e||e[n.key]!==n)&&gi(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function Bp(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&gi("Cannot call "+t+" on a deleted database.")}}function fl(n){return null!=n&&"false"!=`${n}`}function lh(n){return n instanceof g.SBq?n.nativeElement:n}Go.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Go.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function bw(n){(function zE(n){nd=n})(Vo.SDK_VERSION),(0,Vo._registerComponent)(new If.wA("database",(t,{instanceIdentifier:e})=>Ew(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Vo.registerVersion)(Af,"0.13.5",n),(0,Vo.registerVersion)(Af,"0.13.5","esm2017")}();var Kp=R(144);const wy=["addListener","removeListener"],Yp=["addEventListener","removeEventListener"],Aw=["on","off"];function Zc(n,t,e,r){if((0,qn.m)(e)&&(r=e,e=void 0),r)return Zc(n,t,e).pipe(ec(r));const[a,c]=function xw(n){return(0,qn.m)(n.addEventListener)&&(0,qn.m)(n.removeEventListener)}(n)?Yp.map(d=>f=>n[d](t,f,e)):function Mw(n){return(0,qn.m)(n.addListener)&&(0,qn.m)(n.removeListener)}(n)?wy.map(ch(n,t)):function by(n){return(0,qn.m)(n.on)&&(0,qn.m)(n.off)}(n)?Aw.map(ch(n,t)):[];if(!a&&(0,Kp.z)(n))return(0,gn.z)(d=>Zc(d,t,e))((0,vr.Xf)(n));if(!a)throw new TypeError("Invalid event target");return new yr.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return a(f),()=>c(f)})}function ch(n,t){return e=>r=>n[e](t,r)}class Dy extends Bi.w0{constructor(t,e){super()}schedule(t,e=0){return this}}const uh={setInterval(n,t,...e){const{delegate:r}=uh;return(null==r?void 0:r.setInterval)?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=uh;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};var Sy=R(737);class Ty extends Dy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(a,this.id,e),this}requestAsyncId(t,e,r=0){return uh.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;uh.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let a,r=!1;try{this.work(t)}catch(c){r=!0,a=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Sy.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Qc={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Qc;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const a=t(c=>{e=void 0,n(c)});return new Bi.w0(()=>null==e?void 0:e(a))},requestAnimationFrame(...n){const{delegate:t}=Qc;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Qc;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},Iy={now:()=>(Iy.delegate||Date).now(),delegate:void 0};class ts{constructor(t,e=ts.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}ts.now=Iy.now;class ra extends ts{constructor(t,e=ts.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}new class Rw extends ra{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let a;t=t||r.shift();do{if(a=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,a){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw a}}}(class dh extends Ty{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Qc.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(a=>a.id===e)||(Qc.cancelAnimationFrame(e),t._scheduled=void 0)}});let Zp,Pw=1;const hh={};function Ay(n){return n in hh&&(delete hh[n],!0)}const My={setImmediate(n){const t=Pw++;return hh[t]=!0,Zp||(Zp=Promise.resolve()),Zp.then(()=>Ay(t)&&n()),t},clearImmediate(n){Ay(n)}},{setImmediate:Qp,clearImmediate:fh}=My,po={setImmediate(...n){const{delegate:t}=po;return((null==t?void 0:t.setImmediate)||Qp)(...n)},clearImmediate(n){const{delegate:t}=po;return((null==t?void 0:t.clearImmediate)||fh)(n)},delegate:void 0},Xp=(new class xy extends ra{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let a;t=t||r.shift();do{if(a=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,a){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw a}}}(class Fw extends Ty{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=po.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(a=>a.id===e)||(po.clearImmediate(e),t._scheduled=void 0)}}),new ra(Ty)),Jp=Xp;var vD=R(532);function ia(n,t=Xp){return function kw(n){return(0,qt.e)((t,e)=>{let r=!1,a=null,c=null,d=!1;const f=()=>{if(null==c||c.unsubscribe(),c=null,r){r=!1;const C=a;a=null,e.next(C)}d&&e.complete()},_=()=>{c=null,d&&e.complete()};t.subscribe((0,Gt.x)(e,C=>{r=!0,a=C,c||(0,vr.Xf)(n(C)).subscribe(c=(0,Gt.x)(e,f,_))},()=>{d=!0,(!r||!c||c.closed)&&e.complete()}))})}(()=>function Bw(n=0,t,e=Jp){let r=-1;return null!=t&&((0,vD.K)(t)?e=t:r=t),new yr.y(a=>{let c=function Lw(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let d=0;return e.schedule(function(){a.closed||(a.next(d++),0<=r?this.schedule(void 0,r):a.complete())},c)})}(n,t))}var Oy=R(32);function Hn(n){return(0,qt.e)((t,e)=>{(0,vr.Xf)(n).subscribe((0,Gt.x)(e,()=>e.complete(),Oy.Z)),!e.closed&&t.subscribe(e)})}let Py;try{Py="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Py=!1}let pl,ph,mo,rg,go=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Fn(n){return n===Pl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Py)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.Lbi))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ng(n){return function tg(){if(null==pl&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pl=!0}))}finally{pl=pl||!1}return pl}()?n:!!n.capture}function Jc(){if("object"!=typeof document||!document)return 0;if(null==ph){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),ph=0,0===n.scrollLeft&&(n.scrollLeft=1,ph=0===n.scrollLeft?1:2),n.remove()}return ph}function eu(n){return n.composedPath?n.composedPath()[0]:n.target}const Ny=new g.OlP("cdk-dir-doc",{providedIn:"root",factory:function Fy(){return(0,g.f3M)(ce)}}),ky=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ig=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new g.vpe,e){const a=e.documentElement?e.documentElement.dir:null;this.value=function Ly(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?ky.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||a||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Ny,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),By=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),mh=(()=>{class n{constructor(e,r,a){this._ngZone=e,this._platform=r,this._scrolled=new Zt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new yr.y(r=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(ia(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Fe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const a=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(pn(c=>!c||a.indexOf(c)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((a,c)=>{this._scrollableContainsElement(c,e)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let a=lh(r),c=e.getElementRef().nativeElement;do{if(a==c)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Zc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.R0b),g.LFG(go),g.LFG(ce,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zr=(()=>{class n{constructor(e,r,a,c){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=a,this.dir=c,this._destroyed=new Zt.x,this._elementScrolled=new yr.y(d=>this.ngZone.runOutsideAngular(()=>Zc(this.elementRef.nativeElement,"scroll").pipe(Hn(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=a?e.end:e.start),null==e.right&&(e.right=a?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),a&&0!=Jc()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==Jc()?e.left=e.right:1==Jc()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;!function jw(){if(null==mo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return mo=!1,mo;if("scrollBehavior"in document.documentElement.style)mo=!0;else{const n=Element.prototype.scrollTo;mo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return mo}()?(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left)):r.scrollTo(e)}measureScrollOffset(e){const r="left",a="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?a:r:"end"==e&&(e=d?r:a),d&&2==Jc()?e==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:d&&1==Jc()?e==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.SBq),g.Y36(mh),g.Y36(g.R0b),g.Y36(ig,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),_h=(()=>{class n{constructor(e,r,a){this._platform=e,this._change=new Zt.x,this._changeListener=c=>{this._change.next(c)},this._document=a,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+r,height:a,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),a=e.documentElement,c=a.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||a.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(ia(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(go),g.LFG(g.R0b),g.LFG(ce,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function Eh(n,t=Mo.y){return n=null!=n?n:bi,(0,qt.e)((e,r)=>{let a,c=!0;e.subscribe((0,Gt.x)(r,d=>{const f=t(d);(c||!n(a,f))&&(c=!1,a=f,r.next(d))}))})}function bi(n,t){return n===t}let Ch=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function kb(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function sv(n){try{return n.frameElement}catch(t){return null}}(function Hb(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===hg(r)||!this.isVisible(r)))return!1;let a=e.nodeName.toLowerCase(),c=hg(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function Ub(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==c:"video"===a?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function Vb(n){return!function av(n){return function Bb(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function ov(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Lb(n){return function yS(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||jb(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(go))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jb(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function hg(n){if(!jb(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class vS{constructor(t,e,r,a,c=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const a=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(a)return a}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const a=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(a)return a}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(rr(1)).subscribe(t)}}let ES=(()=>{class n{constructor(e,r,a){this._checker=e,this._ngZone=r,this._document=a}create(e,r=!1){return new vS(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Ch),g.LFG(g.R0b),g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sa=new g.OlP("cdk-input-modality-detector-options"),cv={ignoreKeys:[18,17,224,91,16]},_o=ng({passive:!0,capture:!0});let zb=(()=>{class n{constructor(e,r,a,c){this._platform=e,this._mostRecentTarget=null,this._modality=new An(null),this._lastTouchMs=0,this._onKeydown=d=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(C=>C===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=eu(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function $b(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(d)?"keyboard":"mouse"),this._mostRecentTarget=eu(d))},this._onTouchstart=d=>{!function lv(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(d)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=eu(d)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},cv),c),this.modalityDetected=this._modality.pipe(function Mb(n){return pn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Eh()),e.isBrowser&&r.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,_o),a.addEventListener("mousedown",this._onMousedown,_o),a.addEventListener("touchstart",this._onTouchstart,_o)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_o),document.removeEventListener("mousedown",this._onMousedown,_o),document.removeEventListener("touchstart",this._onTouchstart,_o))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(go),g.LFG(g.R0b),g.LFG(ce),g.LFG(sa,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bS=new g.OlP("cdk-focus-monitor-default-options"),mg=ng({passive:!0,capture:!0});let dv=(()=>{class n{constructor(e,r,a,c,d){this._ngZone=e,this._platform=r,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Zt.x,this._rootNodeFocusAndBlurListener=f=>{const _=eu(f),C="focus"===f.type?this._onFocus:this._onBlur;for(let S=_;S;S=S.parentElement)C.call(this,f,S)},this._document=c,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(e,r=!1){const a=lh(e);if(!this._platform.isBrowser||1!==a.nodeType)return Fe(null);const c=function Vw(n){if(function Uw(){if(null==rg){const n="undefined"!=typeof document?document.head:null;rg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return rg}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(a)||this._getDocument(),d=this._elementInfo.get(a);if(d)return r&&(d.checkChildren=!0),d.subject;const f={checkChildren:r,subject:new Zt.x,rootNode:c};return this._elementInfo.set(a,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const r=lh(e),a=this._elementInfo.get(r);a&&(a.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(a))}focusVia(e,r,a){const c=lh(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const a=this._elementInfo.get(r),c=eu(e);!a||!a.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),a)}_onBlur(e,r){const a=this._elementInfo.get(r);!a||a.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(a.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,a=this._rootNodeFocusListenerCount.get(r)||0;a||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,mg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,mg)}),this._rootNodeFocusListenerCount.set(r,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Hn(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const a=this._rootNodeFocusListenerCount.get(r);a>1?this._rootNodeFocusListenerCount.set(r,a-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,a){this._setClasses(e,r),this._emitOrigin(a.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((a,c)=>{(c===e||a.checkChildren&&c.contains(e))&&r.push([c,a])}),r}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.R0b),g.LFG(go),g.LFG(zb),g.LFG(ce,8),g.LFG(bS,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hv="cdk-high-contrast-black-on-white",fv="cdk-high-contrast-white-on-black",_g="cdk-high-contrast-active";let pv=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,a=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(a&&a.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(_g),e.remove(hv),e.remove(fv),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(_g),e.add(hv)):2===r&&(e.add(_g),e.add(fv))}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(go),g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qb=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function Zb(){return!0}});let yg=(()=>{class n{constructor(e,r,a){this._sanityChecks=r,this._document=a,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function tu(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(pv),g.LFG(Qb,8),g.LFG(ce))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[By],By]}),n})();function MS(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}var RI=R(451);function OS(n){return(0,ut.U)(()=>n)}class PS{}const oa="*";function NI(n,t){return{type:7,name:n,definitions:t,options:{}}}function NS(n,t=null){return{type:4,styles:t,timings:n}}function FS(n,t=null){return{type:2,steps:n,options:t}}function Tv(n){return{type:6,styles:n,offset:null}}function kS(n,t,e){return{type:0,name:n,styles:t,options:e}}function LS(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function BS(n){Promise.resolve(null).then(n)}class vg{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){BS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class jS{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,a=0;const c=this.players.length;0==c?BS(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==c&&this._onFinish()}),d.onDestroy(()=>{++r==c&&this._onDestroy()}),d.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(a)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const Et=!1;function US(n){return new g.vHH(3e3,Et)}function pA(){return"undefined"!=typeof window&&void 0!==window.document}function Jb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ml(n){switch(n.length){case 0:return new vg;case 1:return n[0];default:return new jS(n)}}function VS(n,t,e,r,a={},c={}){const d=[],f=[];let _=-1,C=null;if(r.forEach(S=>{const T=S.offset,O=T==_,$=O&&C||{};Object.keys(S).forEach(X=>{let Ce=X,$e=S[X];if("offset"!==X)switch(Ce=t.normalizePropertyName(Ce,d),$e){case"!":$e=a[X];break;case oa:$e=c[X];break;default:$e=t.normalizeStyleValue(X,Ce,$e,d)}$[Ce]=$e}),O||f.push($),C=$,_=T}),d.length)throw function rA(n){return new g.vHH(3502,Et)}();return f}function e0(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&t0(e,"start",n)));break;case"done":n.onDone(()=>r(e&&t0(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&t0(e,"destroy",n)))}}function t0(n,t,e){const r=e.totalTime,c=n0(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),d=n._data;return null!=d&&(c._data=d),c}function n0(n,t,e,r,a="",c=0,d){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:a,totalTime:c,disabled:!!d}}function Di(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function HS(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let r0=(n,t)=>!1,$S=(n,t,e)=>[],zS=null;function s0(n){const t=n.parentNode||n.host;return t===zS?null:t}(Jb()||"undefined"!=typeof Element)&&(pA()?(zS=(()=>document.documentElement)(),r0=(n,t)=>{for(;t;){if(t===n)return!0;t=s0(t)}return!1}):r0=(n,t)=>n.contains(t),$S=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let iu=null,WS=!1;function GS(n){iu||(iu=function mA(){return"undefined"!=typeof document?document.body:null}()||{},WS=!!iu.style&&"WebkitAppearance"in iu.style);let t=!0;return iu.style&&!function gA(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in iu.style,!t&&WS&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in iu.style)),t}const qS=r0,KS=$S;let YS=(()=>{class n{validateStyleProperty(e){return GS(e)}matchesElement(e,r){return!1}containsElement(e,r){return qS(e,r)}getParentElement(e){return s0(e)}query(e,r,a){return KS(e,r,a)}computeStyle(e,r,a){return a||""}animate(e,r,a,c,d,f=[],_){return new vg(a,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),o0=(()=>{class n{}return n.NOOP=new YS,n})();const a0="ng-enter",Av="ng-leave",Mv="ng-trigger",xv=".ng-trigger",QS="ng-animating",l0=".ng-animating";function su(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:c0(parseFloat(t[1]),t[2])}function c0(n,t){return"s"===t?1e3*n:n}function Rv(n,t,e){return n.hasOwnProperty("duration")?n:function vA(n,t,e){let a,c=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(US()),{duration:0,delay:0,easing:""};a=c0(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(c=c0(parseFloat(_),f[4]));const C=f[5];C&&(d=C)}else a=n;if(!e){let f=!1,_=t.length;a<0&&(t.push(function FI(){return new g.vHH(3100,Et)}()),f=!0),c<0&&(t.push(function kI(){return new g.vHH(3101,Et)}()),f=!0),f&&t.splice(_,0,US())}return{duration:a,delay:c,easing:d}}(n,t,e)}function bh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function _l(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else bh(n,e);return e}function JS(n,t,e){return e?t+":"+e+";":""}function eT(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=JS(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=JS(0,wA(e),n.style[e]));n.setAttribute("style",t)}function yo(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const a=d0(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[a]),n.style[a]=t[r]}),Jb()&&eT(n))}function ou(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=d0(e);n.style[r]=""}),Jb()&&eT(n))}function Eg(n){return Array.isArray(n)?1==n.length?n[0]:FS(n):n}const u0=new RegExp("{{\\s*(.+?)\\s*}}","g");function tT(n){let t=[];if("string"==typeof n){let e;for(;e=u0.exec(n);)t.push(e[1]);u0.lastIndex=0}return t}function Ov(n,t,e){const r=n.toString(),a=r.replace(u0,(c,d)=>{let f=t[d];return t.hasOwnProperty(d)||(e.push(function BI(n){return new g.vHH(3003,Et)}()),f=""),f.toString()});return a==r?n:a}function Pv(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const CA=/-+([a-z0-9])/g;function d0(n){return n.replace(CA,(...t)=>t[1].toUpperCase())}function wA(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Si(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function jI(n){return new g.vHH(3004,Et)}()}}function nT(n,t){return window.getComputedStyle(n)[t]}function AA(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function MA(n,t,e){if(":"==n[0]){const _=function xA(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function JI(n){return new g.vHH(3016,Et)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function XI(n){return new g.vHH(3015,Et)}()),t;const a=r[1],c=r[2],d=r[3];t.push(rT(a,d));"<"==c[0]&&!("*"==a&&"*"==d)&&t.push(rT(d,a))}(r,e,t)):e.push(n),e}const Lv=new Set(["true","1"]),Bv=new Set(["false","0"]);function rT(n,t){const e=Lv.has(n)||Bv.has(n),r=Lv.has(t)||Bv.has(t);return(a,c)=>{let d="*"==n||n==a,f="*"==t||t==c;return!d&&e&&"boolean"==typeof a&&(d=a?Lv.has(n):Bv.has(n)),!f&&r&&"boolean"==typeof c&&(f=c?Lv.has(t):Bv.has(t)),d&&f}}const RA=new RegExp("s*:selfs*,?","g");function h0(n,t,e,r){return new OA(n).build(t,e,r)}class OA{constructor(t){this._driver=t}build(t,e,r){const a=new FA(e);this._resetContextStyleTimingState(a);const c=Si(this,Eg(t),a);return a.unsupportedCSSPropertiesFound.size&&a.unsupportedCSSPropertiesFound.keys(),c}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,a=e.depCount=0;const c=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function VI(){return new g.vHH(3006,Et)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const _=f,C=_.name;C.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,c.push(this.visitState(_,e))}),_.name=C}else if(1==f.type){const _=this.visitTransition(f,e);r+=_.queryCount,a+=_.depCount,d.push(_)}else e.errors.push(function HI(){return new g.vHH(3007,Et)}())}),{type:7,name:t.name,states:c,transitions:d,queryCount:r,depCount:a,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,d=a||{};r.styles.forEach(f=>{if(jv(f)){const _=f;Object.keys(_).forEach(C=>{tT(_[C]).forEach(S=>{d.hasOwnProperty(S)||c.add(S)})})}}),c.size&&(Pv(c.values()),e.errors.push(function $I(n,t){return new g.vHH(3008,Et)}()))}return{type:0,name:t.name,style:r,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Si(this,Eg(t.animation),e);return{type:1,matchers:AA(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:au(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Si(this,r,e)),options:au(t.options)}}visitGroup(t,e){const r=e.currentTime;let a=0;const c=t.steps.map(d=>{e.currentTime=r;const f=Si(this,d,e);return a=Math.max(a,e.currentTime),f});return e.currentTime=a,{type:3,steps:c,options:au(t.options)}}visitAnimate(t,e){const r=function LA(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return f0(Rv(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=f0(0,0,"");return c.dynamic=!0,c.strValue=r,c}return e=e||Rv(r,t),f0(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let a,c=t.styles?t.styles:Tv({});if(5==c.type)a=this.visitKeyframes(c,e);else{let d=t.styles,f=!1;if(!d){f=!0;const C={};r.easing&&(C.easing=r.easing),d=Tv(C)}e.currentTime+=r.duration+r.delay;const _=this.visitStyle(d,e);_.isEmptyStep=f,a=_}return e.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(d=>{"string"==typeof d?d==oa?r.push(d):e.errors.push(function zI(n){return new g.vHH(3002,Et)}()):r.push(d)}):r.push(t.styles);let a=!1,c=null;return r.forEach(d=>{if(jv(d)){const f=d,_=f.easing;if(_&&(c=_,delete f.easing),!a)for(let C in f)if(f[C].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:c,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let a=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete d[f],void e.unsupportedCSSPropertiesFound.add(f);const _=e.collectedStyles[e.currentQuerySelector],C=_[f];let S=!0;C&&(c!=a&&c>=C.startTime&&a<=C.endTime&&(e.errors.push(function WI(n,t,e,r,a){return new g.vHH(3010,Et)}()),S=!1),c=C.startTime),S&&(_[f]={startTime:c,endTime:a}),e.options&&function EA(n,t,e){const r=t.params||{},a=tT(n);a.length&&a.forEach(c=>{r.hasOwnProperty(c)||e.push(function LI(n){return new g.vHH(3001,Et)}())})}(d[f],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function GI(){return new g.vHH(3011,Et)}()),r;let c=0;const d=[];let f=!1,_=!1,C=0;const S=t.steps.map(St=>{const yt=this._makeStyleAst(St,e);let tn=null!=yt.offset?yt.offset:function kA(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(jv(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(jv(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(yt.styles),rn=0;return null!=tn&&(c++,rn=yt.offset=tn),_=_||rn<0||rn>1,f=f||rn<C,C=rn,d.push(rn),yt});_&&e.errors.push(function qI(){return new g.vHH(3012,Et)}()),f&&e.errors.push(function KI(){return new g.vHH(3200,Et)}());const T=t.steps.length;let O=0;c>0&&c<T?e.errors.push(function YI(){return new g.vHH(3202,Et)}()):0==c&&(O=1/(T-1));const $=T-1,X=e.currentTime,Ce=e.currentAnimateTimings,$e=Ce.duration;return S.forEach((St,yt)=>{const tn=O>0?yt==$?1:O*yt:d[yt],rn=tn*$e;e.currentTime=X+Ce.delay+rn,Ce.duration=rn,this._validateStyleAst(St,e),St.offset=tn,r.styles.push(St)}),r}visitReference(t,e){return{type:8,animation:Si(this,Eg(t.animation),e),options:au(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:au(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:au(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[c,d]=function PA(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(RA,"")),n=n.replace(/@\*/g,xv).replace(/@\w+/g,e=>xv+"-"+e.substr(1)).replace(/:animating/g,l0),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,Di(e.collectedStyles,e.currentQuerySelector,{});const f=Si(this,Eg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:d,animation:f,originalSelector:t.selector,options:au(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ZI(){return new g.vHH(3013,Et)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Rv(t.timings,e.errors,!0);return{type:12,animation:Si(this,Eg(t.animation),e),timings:r,options:null}}}class FA{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jv(n){return!Array.isArray(n)&&"object"==typeof n}function au(n){return n?(n=bh(n)).params&&(n.params=function NA(n){return n?bh(n):null}(n.params)):n={},n}function f0(n,t,e){return{duration:n,delay:t,easing:e}}function p0(n,t,e,r,a,c,d=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:a,delay:c,totalTime:a+c,easing:d,subTimeline:f}}class Uv{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const UA=new RegExp(":enter","g"),HA=new RegExp(":leave","g");function g0(n,t,e,r,a,c={},d={},f,_,C=[]){return(new $A).buildKeyframes(n,t,e,r,a,c,d,f,_,C)}class $A{buildKeyframes(t,e,r,a,c,d,f,_,C,S=[]){C=C||new Uv;const T=new m0(t,e,C,a,c,S,[]);T.options=_,T.currentTimeline.setStyles([d],null,T.errors,_),Si(this,r,T);const O=T.timelines.filter($=>$.containsAnimation());if(Object.keys(f).length){let $;for(let X=O.length-1;X>=0;X--){const Ce=O[X];if(Ce.element===e){$=Ce;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([f],null,T.errors,_)}return O.length?O.map($=>$.buildKeyframes()):[p0(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const a=e.createSubContext(t.options),c=e.currentTimeline.currentTime,d=this._visitSubInstructions(r,a,a.options);c!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const d=null!=r.duration?su(r.duration):null,f=null!=r.delay?su(r.delay):null;return 0!==d&&t.forEach(_=>{const C=e.appendInstructionToTimeline(_,d,f);c=Math.max(c,C.duration+C.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),Si(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let a=e;const c=t.options;if(c&&(c.params||c.delay)&&(a=e.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Vv);const d=su(c.delay);a.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>Si(this,d,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let a=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?su(t.options.delay):0;t.steps.forEach(d=>{const f=e.createSubContext(t.options);c&&f.delayNextStep(c),Si(this,d,f),a=Math.max(a,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Rv(e.params?Ov(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),a.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,a=e.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const c=a&&a.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,a=e.currentTimeline.duration,c=r.duration,f=e.createSubContext().currentTimeline;f.easing=r.easing,t.styles.forEach(_=>{f.forwardTime((_.offset||0)*c),f.setStyles(_.styles,_.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(a+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,a=t.options||{},c=a.delay?su(a.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Vv);let d=r;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=f.length;let _=null;f.forEach((C,S)=>{e.currentQueryIndex=S;const T=e.createSubContext(t.options,C);c&&T.delayNextStep(c),C===e.element&&(_=T.currentTimeline),Si(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,a=e.currentTimeline,c=t.timings,d=Math.abs(c.duration),f=d*(e.currentQueryTotal-1);let _=d*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const S=e.currentTimeline;_&&S.delayNextStep(_);const T=S.currentTime;Si(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=a.currentTime-T+(a.startTime-r.currentTimeline.startTime)}}const Vv={};class m0{constructor(t,e,r,a,c,d,f,_){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=c,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Hv(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let a=this.options;null!=r.duration&&(a.duration=su(r.duration)),null!=r.delay&&(a.delay=su(r.delay));const c=r.params;if(c){let d=a.params;d||(d=this.options.params={}),Object.keys(c).forEach(f=>{(!e||!d.hasOwnProperty(f))&&(d[f]=Ov(c[f],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(a=>{r[a]=e[a]})}}return t}createSubContext(t=null,e,r){const a=e||this.element,c=new m0(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=Vv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const a={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},c=new zA(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,a,c,d){let f=[];if(a&&f.push(this.element),t.length>0){t=(t=t.replace(UA,"."+this._enterClassName)).replace(HA,"."+this._leaveClassName);let C=this._driver.query(this.element,t,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),f.push(...C)}return!c&&0==f.length&&d.push(function QI(n){return new g.vHH(3014,Et)}()),f}}class Hv{constructor(t,e,r,a){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Hv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||oa,this._currentKeyframe[e]=oa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,a){e&&(this._previousKeyframe.easing=e);const c=a&&a.params||{},d=function WA(n,t){const e={};let r;return n.forEach(a=>{"*"===a?(r=r||Object.keys(t),r.forEach(c=>{e[c]=oa})):_l(a,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const _=Ov(d[f],c,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:oa),this._updateStyle(f,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],a=t._styleSummary[e];(!r||a.time>r.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((f,_)=>{const C=_l(f,!0);Object.keys(C).forEach(S=>{const T=C[S];"!"==T?t.add(S):T==oa&&e.add(S)}),r||(C.offset=_/this.duration),a.push(C)});const c=t.size?Pv(t.values()):[],d=e.size?Pv(e.values()):[];if(r){const f=a[0],_=bh(f);f.offset=0,_.offset=1,a=[f,_]}return p0(this.element,a,c,d,this.duration,this.startTime,this.easing,!1)}}class zA extends Hv{constructor(t,e,r,a,c,d,f=!1){super(t,e,d.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],d=r+e,f=e/d,_=_l(t[0],!1);_.offset=0,c.push(_);const C=_l(t[0],!1);C.offset=oT(f),c.push(C);const S=t.length-1;for(let T=1;T<=S;T++){let O=_l(t[T],!1);O.offset=oT((e+O.offset*r)/d),c.push(O)}r=d,e=0,a="",t=c}return p0(this.element,t,this.preStyleProps,this.postStyleProps,r,e,a,!0)}}function oT(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class _0{}class GA extends _0{normalizePropertyName(t,e){return d0(t)}normalizeStyleValue(t,e,r,a){let c="";const d=r.toString().trim();if(qA[e]&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&a.push(function UI(n,t){return new g.vHH(3005,Et)}())}return d+c}}const qA=(()=>function KA(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function aT(n,t,e,r,a,c,d,f,_,C,S,T,O){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:c,toState:r,toStyles:d,timelines:f,queriedElements:_,preStyleProps:C,postStyleProps:S,totalTime:T,errors:O}}const y0={};class lT{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,a){return function YA(n,t,e,r,a){return n.some(c=>c(t,e,r,a))}(this.ast.matchers,t,e,r,a)}buildStyles(t,e,r){const a=this._stateStyles["*"],c=this._stateStyles[t],d=a?a.buildStyles(e,r):{};return c?c.buildStyles(e,r):d}build(t,e,r,a,c,d,f,_,C,S){const T=[],O=this.ast.options&&this.ast.options.params||y0,X=this.buildStyles(r,f&&f.params||y0,T),Ce=_&&_.params||y0,$e=this.buildStyles(a,Ce,T),St=new Set,yt=new Map,tn=new Map,rn="void"===a,aa={params:Object.assign(Object.assign({},O),Ce)},vo=S?[]:g0(t,e,this.ast.animation,c,d,X,$e,aa,C,T);let Ir=0;if(vo.forEach(ca=>{Ir=Math.max(ca.duration+ca.delay,Ir)}),T.length)return aT(e,this._triggerName,r,a,rn,X,$e,[],[],yt,tn,Ir,T);vo.forEach(ca=>{const ua=ca.element,jT=Di(yt,ua,{});ca.preStyleProps.forEach(cu=>jT[cu]=!0);const Dg=Di(tn,ua,{});ca.postStyleProps.forEach(cu=>Dg[cu]=!0),ua!==e&&St.add(ua)});const la=Pv(St.values());return aT(e,this._triggerName,r,a,rn,X,$e,vo,la,yt,tn,Ir)}}class ZA{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},a=bh(this.defaultParams);return Object.keys(t).forEach(c=>{const d=t[c];null!=d&&(a[c]=d)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const d=c;Object.keys(d).forEach(f=>{let _=d[f];_.length>1&&(_=Ov(_,a,e));const C=this.normalizer.normalizePropertyName(f,e);_=this.normalizer.normalizeStyleValue(f,C,_,e),r[C]=_})}}),r}}class XA{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new ZA(a.style,a.options&&a.options.params||{},r)}),cT(this.states,"true","1"),cT(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new lT(t,a,this.states))}),this.fallbackTransition=function JA(n,t,e){return new lT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,a){return this.transitionFactories.find(d=>d.match(t,e,r,a))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function cT(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const eM=new Uv;class tM{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],c=h0(this._driver,e,r,[]);if(r.length)throw function iA(n){return new g.vHH(3503,Et)}();this._animations[t]=c}_buildPlayer(t,e,r){const a=t.element,c=VS(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(a,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const a=[],c=this._animations[t];let d;const f=new Map;if(c?(d=g0(this._driver,e,c,a0,Av,{},{},r,eM,a),d.forEach(S=>{const T=Di(f,S.element,{});S.postStyleProps.forEach(O=>T[O]=null)})):(a.push(function sA(){return new g.vHH(3300,Et)}()),d=[]),a.length)throw function oA(n){return new g.vHH(3504,Et)}();f.forEach((S,T)=>{Object.keys(S).forEach(O=>{S[O]=this._driver.computeStyle(T,O,oa)})});const C=ml(d.map(S=>{const T=f.get(S.element);return this._buildPlayer(S,{},T)}));return this._playersById[t]=C,C.onDestroy(()=>this.destroy(t)),this.players.push(C),C}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function aA(n){return new g.vHH(3301,Et)}();return e}listen(t,e,r,a){const c=n0(e,"","","");return e0(this._getPlayer(t),r,c,a),()=>{}}command(t,e,r,a){if("register"==r)return void this.register(t,a[0]);if("create"==r)return void this.create(t,e,a[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const uT="ng-animate-queued",v0="ng-animate-disabled",oM=[],dT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aM={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rs="__ng_removed";class E0{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function dM(n){return null!=n?n:null}(r?t.value:t),r){const c=bh(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(a=>{null==r[a]&&(r[a]=e[a])})}}}const Cg="void",C0=new E0(Cg);class lM{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,is(e,this._hostClassName)}listen(t,e,r,a){if(!this._triggers.hasOwnProperty(e))throw function lA(n,t){return new g.vHH(3302,Et)}();if(null==r||0==r.length)throw function cA(n){return new g.vHH(3303,Et)}();if(!function hM(n){return"start"==n||"done"==n}(r))throw function uA(n,t){return new g.vHH(3400,Et)}();const c=Di(this._elementListeners,t,[]),d={name:e,phase:r,callback:a};c.push(d);const f=Di(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(is(t,Mv),is(t,Mv+"-"+e),f[e]=C0),()=>{this._engine.afterFlush(()=>{const _=c.indexOf(d);_>=0&&c.splice(_,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function dA(n){return new g.vHH(3401,Et)}();return e}trigger(t,e,r,a=!0){const c=this._getTrigger(e),d=new w0(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(is(t,Mv),is(t,Mv+"-"+e),this._engine.statesByElement.set(t,f={}));let _=f[e];const C=new E0(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&C.absorbOptions(_.options),f[e]=C,_||(_=C0),C.value!==Cg&&_.value===C.value){if(!function gM(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){const c=e[a];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(_.params,C.params)){const Ce=[],$e=c.matchStyles(_.value,_.params,Ce),St=c.matchStyles(C.value,C.params,Ce);Ce.length?this._engine.reportError(Ce):this._engine.afterFlush(()=>{ou(t,$e),yo(t,St)})}return}const O=Di(this._engine.playersByElement,t,[]);O.forEach(Ce=>{Ce.namespaceId==this.id&&Ce.triggerName==e&&Ce.queued&&Ce.destroy()});let $=c.matchTransition(_.value,C.value,t,C.params),X=!1;if(!$){if(!a)return;$=c.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:$,fromState:_,toState:C,player:d,isFallbackTransition:X}),X||(is(t,uT),d.onStart(()=>{Dh(t,uT)})),d.onDone(()=>{let Ce=this.players.indexOf(d);Ce>=0&&this.players.splice(Ce,1);const $e=this._engine.playersByElement.get(t);if($e){let St=$e.indexOf(d);St>=0&&$e.splice(St,1)}}),this.players.push(d),O.push(d),d}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,xv,!0);r.forEach(a=>{if(a[rs])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(d=>d.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,r,a){const c=this._engine.statesByElement.get(t),d=new Map;if(c){const f=[];if(Object.keys(c).forEach(_=>{if(d.set(_,c[_].value),this._triggers[_]){const C=this.trigger(t,_,Cg,a);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),r&&ml(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const a=new Set;e.forEach(c=>{const d=c.name;if(a.has(d))return;a.add(d);const _=this._triggers[d].fallbackTransition,C=r[d]||C0,S=new E0(Cg),T=new w0(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:_,fromState:C,toState:S,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)a=!0;else{let d=t;for(;d=d.parentNode;)if(r.statesByElement.get(d)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[rs];(!c||c===dT)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){is(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const c=r.element,d=this._elementListeners.get(c);d&&d.forEach(f=>{if(f.name==r.triggerName){const _=n0(c,r.triggerName,r.fromState.value,r.toState.value);_._data=t,e0(r.player,f.phase,_,f.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(r)}),this._queue=[],e.sort((r,a)=>{const c=r.transition.ast.depCount,d=a.transition.ast.depCount;return 0==c||0==d?c-d:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class cM{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new lM(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,a=this.namespacesByHostElement,c=r.length-1;if(c>=0){let d=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(e);for(;f;){const _=a.get(f);if(_){const C=r.indexOf(_);r.splice(C+1,0,t),d=!0;break}f=this.driver.getParentElement(f)}}else for(let f=c;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,e)){r.splice(f+1,0,t),d=!0;break}d||r.unshift(t)}else r.push(t);return a.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let a=this._namespaceLookup[t];a&&a.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const a=Object.keys(r);for(let c=0;c<a.length;c++){const d=r[a[c]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&e.add(f)}}}return e}trigger(t,e,r,a){if($v(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,a),!0}return!1}insertNode(t,e,r,a){if(!$v(e))return;const c=e[rs];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,r)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),is(t,v0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Dh(t,v0))}removeNode(t,e,r,a){if($v(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),r){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,r,a,c){this.collectedLeaveElements.push(e),e[rs]={namespaceId:t,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(t,e,r,a,c){return $v(e)?this._fetchNamespace(t).listen(e,r,a,c):()=>{}}_buildInstruction(t,e,r,a,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,a,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,xv,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,l0,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ml(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[rs];if(r&&r.setForRemoval){if(t[rs]=dT,r.namespaceId){this.destroyInnerAnimations(t);const a=this._fetchNamespace(r.namespaceId);a&&a.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(v0))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)is(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?ml(e).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(t){throw function hA(n){return new g.vHH(3402,Et)}()}_flushAnimations(t,e){const r=new Uv,a=[],c=new Map,d=[],f=new Map,_=new Map,C=new Map,S=new Set;this.disabledNodes.forEach(Ve=>{S.add(Ve);const Xe=this.driver.query(Ve,".ng-animate-queued",!0);for(let tt=0;tt<Xe.length;tt++)S.add(Xe[tt])});const T=this.bodyNode,O=Array.from(this.statesByElement.keys()),$=pT(O,this.collectedEnterElements),X=new Map;let Ce=0;$.forEach((Ve,Xe)=>{const tt=a0+Ce++;X.set(Xe,tt),Ve.forEach(At=>is(At,tt))});const $e=[],St=new Set,yt=new Set;for(let Ve=0;Ve<this.collectedLeaveElements.length;Ve++){const Xe=this.collectedLeaveElements[Ve],tt=Xe[rs];tt&&tt.setForRemoval&&($e.push(Xe),St.add(Xe),tt.hasAnimation?this.driver.query(Xe,".ng-star-inserted",!0).forEach(At=>St.add(At)):yt.add(Xe))}const tn=new Map,rn=pT(O,Array.from(St));rn.forEach((Ve,Xe)=>{const tt=Av+Ce++;tn.set(Xe,tt),Ve.forEach(At=>is(At,tt))}),t.push(()=>{$.forEach((Ve,Xe)=>{const tt=X.get(Xe);Ve.forEach(At=>Dh(At,tt))}),rn.forEach((Ve,Xe)=>{const tt=tn.get(Xe);Ve.forEach(At=>Dh(At,tt))}),$e.forEach(Ve=>{this.processLeaveNode(Ve)})});const aa=[],vo=[];for(let Ve=this._namespaceList.length-1;Ve>=0;Ve--)this._namespaceList[Ve].drainQueuedTransitions(e).forEach(tt=>{const At=tt.player,$n=tt.element;if(aa.push(At),this.collectedEnterElements.length){const Ar=$n[rs];if(Ar&&Ar.setForMove){if(Ar.previousTriggersValues&&Ar.previousTriggersValues.has(tt.triggerName)){const uu=Ar.previousTriggersValues.get(tt.triggerName),Cl=this.statesByElement.get(tt.element);Cl&&Cl[tt.triggerName]&&(Cl[tt.triggerName].value=uu)}return void At.destroy()}}const Eo=!T||!this.driver.containsElement(T,$n),Ti=tn.get($n),El=X.get($n),cn=this._buildInstruction(tt,r,El,Ti,Eo);if(cn.errors&&cn.errors.length)return void vo.push(cn);if(Eo)return At.onStart(()=>ou($n,cn.fromStyles)),At.onDestroy(()=>yo($n,cn.toStyles)),void a.push(At);if(tt.isFallbackTransition)return At.onStart(()=>ou($n,cn.fromStyles)),At.onDestroy(()=>yo($n,cn.toStyles)),void a.push(At);const HT=[];cn.timelines.forEach(Ar=>{Ar.stretchStartingKeyframe=!0,this.disabledNodes.has(Ar.element)||HT.push(Ar)}),cn.timelines=HT,r.append($n,cn.timelines),d.push({instruction:cn,player:At,element:$n}),cn.queriedElements.forEach(Ar=>Di(f,Ar,[]).push(At)),cn.preStyleProps.forEach((Ar,uu)=>{const Cl=Object.keys(Ar);if(Cl.length){let du=_.get(uu);du||_.set(uu,du=new Set),Cl.forEach(A0=>du.add(A0))}}),cn.postStyleProps.forEach((Ar,uu)=>{const Cl=Object.keys(Ar);let du=C.get(uu);du||C.set(uu,du=new Set),Cl.forEach(A0=>du.add(A0))})});if(vo.length){const Ve=[];vo.forEach(Xe=>{Ve.push(function fA(n,t){return new g.vHH(3505,Et)}())}),aa.forEach(Xe=>Xe.destroy()),this.reportError(Ve)}const Ir=new Map,la=new Map;d.forEach(Ve=>{const Xe=Ve.element;r.has(Xe)&&(la.set(Xe,Xe),this._beforeAnimationBuild(Ve.player.namespaceId,Ve.instruction,Ir))}),a.forEach(Ve=>{const Xe=Ve.element;this._getPreviousPlayers(Xe,!1,Ve.namespaceId,Ve.triggerName,null).forEach(At=>{Di(Ir,Xe,[]).push(At),At.destroy()})});const ca=$e.filter(Ve=>mT(Ve,_,C)),ua=new Map;fT(ua,this.driver,yt,C,oa).forEach(Ve=>{mT(Ve,_,C)&&ca.push(Ve)});const Dg=new Map;$.forEach((Ve,Xe)=>{fT(Dg,this.driver,new Set(Ve),_,"!")}),ca.forEach(Ve=>{const Xe=ua.get(Ve),tt=Dg.get(Ve);ua.set(Ve,Object.assign(Object.assign({},Xe),tt))});const cu=[],UT=[],VT={};d.forEach(Ve=>{const{element:Xe,player:tt,instruction:At}=Ve;if(r.has(Xe)){if(S.has(Xe))return tt.onDestroy(()=>yo(Xe,At.toStyles)),tt.disabled=!0,tt.overrideTotalTime(At.totalTime),void a.push(tt);let $n=VT;if(la.size>1){let Ti=Xe;const El=[];for(;Ti=Ti.parentNode;){const cn=la.get(Ti);if(cn){$n=cn;break}El.push(Ti)}El.forEach(cn=>la.set(cn,$n))}const Eo=this._buildAnimation(tt.namespaceId,At,Ir,c,Dg,ua);if(tt.setRealPlayer(Eo),$n===VT)cu.push(tt);else{const Ti=this.playersByElement.get($n);Ti&&Ti.length&&(tt.parentPlayer=ml(Ti)),a.push(tt)}}else ou(Xe,At.fromStyles),tt.onDestroy(()=>yo(Xe,At.toStyles)),UT.push(tt),S.has(Xe)&&a.push(tt)}),UT.forEach(Ve=>{const Xe=c.get(Ve.element);if(Xe&&Xe.length){const tt=ml(Xe);Ve.setRealPlayer(tt)}}),a.forEach(Ve=>{Ve.parentPlayer?Ve.syncPlayerEvents(Ve.parentPlayer):Ve.destroy()});for(let Ve=0;Ve<$e.length;Ve++){const Xe=$e[Ve],tt=Xe[rs];if(Dh(Xe,Av),tt&&tt.hasAnimation)continue;let At=[];if(f.size){let Eo=f.get(Xe);Eo&&Eo.length&&At.push(...Eo);let Ti=this.driver.query(Xe,l0,!0);for(let El=0;El<Ti.length;El++){let cn=f.get(Ti[El]);cn&&cn.length&&At.push(...cn)}}const $n=At.filter(Eo=>!Eo.destroyed);$n.length?fM(this,Xe,$n):this.processLeaveNode(Xe)}return $e.length=0,cu.forEach(Ve=>{this.players.push(Ve),Ve.onDone(()=>{Ve.destroy();const Xe=this.players.indexOf(Ve);this.players.splice(Xe,1)}),Ve.play()}),cu}elementContainsData(t,e){let r=!1;const a=e[rs];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,a,c){let d=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(d=f)}else{const f=this.playersByElement.get(t);if(f){const _=!c||c==Cg;f.forEach(C=>{C.queued||!_&&C.triggerName!=a||d.push(C)})}}return(r||a)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||a&&a!=f.triggerName))),d}_beforeAnimationBuild(t,e,r){const c=e.element,d=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const C=_.element,S=C!==c,T=Di(r,C,[]);this._getPreviousPlayers(C,S,d,f,e.toState).forEach($=>{const X=$.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),$.destroy(),T.push($)})}ou(c,e.fromStyles)}_buildAnimation(t,e,r,a,c,d){const f=e.triggerName,_=e.element,C=[],S=new Set,T=new Set,O=e.timelines.map(X=>{const Ce=X.element;S.add(Ce);const $e=Ce[rs];if($e&&$e.removedBeforeQueried)return new vg(X.duration,X.delay);const St=Ce!==_,yt=function pM(n){const t=[];return gT(n,t),t}((r.get(Ce)||oM).map(Ir=>Ir.getRealPlayer())).filter(Ir=>!!Ir.element&&Ir.element===Ce),tn=c.get(Ce),rn=d.get(Ce),aa=VS(0,this._normalizer,0,X.keyframes,tn,rn),vo=this._buildPlayer(X,aa,yt);if(X.subTimeline&&a&&T.add(Ce),St){const Ir=new w0(t,f,Ce);Ir.setRealPlayer(vo),C.push(Ir)}return vo});C.forEach(X=>{Di(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function uM(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,X.element,X))}),S.forEach(X=>is(X,QS));const $=ml(O);return $.onDestroy(()=>{S.forEach(X=>Dh(X,QS)),yo(_,e.toStyles)}),T.forEach(X=>{Di(a,X,[]).push($)}),$}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new vg(t.duration,t.delay)}}class w0{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new vg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>e0(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Di(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function $v(n){return n&&1===n.nodeType}function hT(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function fT(n,t,e,r,a){const c=[];e.forEach(_=>c.push(hT(_)));const d=[];r.forEach((_,C)=>{const S={};_.forEach(T=>{const O=S[T]=t.computeStyle(C,T,a);(!O||0==O.length)&&(C[rs]=aM,d.push(C))}),n.set(C,S)});let f=0;return e.forEach(_=>hT(_,c[f++])),d}function pT(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const a=new Set(t),c=new Map;function d(f){if(!f)return 1;let _=c.get(f);if(_)return _;const C=f.parentNode;return _=e.has(C)?C:a.has(C)?1:d(C),c.set(f,_),_}return t.forEach(f=>{const _=d(f);1!==_&&e.get(_).push(f)}),e}function is(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Dh(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function fM(n,t,e){ml(e).onDone(()=>n.processLeaveNode(t))}function gT(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof jS?gT(r.players,t):t.push(r)}}function mT(n,t,e){const r=e.get(n);if(!r)return!1;let a=t.get(n);return a?r.forEach(c=>a.add(c)):t.set(n,r),e.delete(n),!0}class zv{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new cM(t,e,r),this._timelineEngine=new tM(t,e,r),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(t,e,r,a,c){const d=t+"-"+a;let f=this._triggerCache[d];if(!f){const _=[],S=h0(this._driver,c,_,[]);if(_.length)throw function nA(n,t){return new g.vHH(3404,Et)}();f=function QA(n,t,e){return new XA(n,t,e)}(a,S,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(e,a,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,a){this._transitionEngine.insertNode(t,e,r,a)}onRemove(t,e,r,a){this._transitionEngine.removeNode(t,e,a||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,a){if("@"==r.charAt(0)){const[c,d]=HS(r);this._timelineEngine.command(c,e,d,a)}else this._transitionEngine.trigger(t,e,r,a)}listen(t,e,r,a,c){if("@"==r.charAt(0)){const[d,f]=HS(r);return this._timelineEngine.listen(d,e,f,c)}return this._transitionEngine.listen(t,e,r,a,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _M=(()=>{class n{constructor(e,r,a){this._element=e,this._startStyles=r,this._endStyles=a,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&yo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yo(this._element,this._initialStyles),this._endStyles&&(yo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ou(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ou(this._element,this._endStyles),this._endStyles=null),yo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function b0(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const a=e[r];yM(a)&&(t=t||{},t[a]=n[a])}return t}function yM(n){return"display"===n||"position"===n}class _T{constructor(t,e,r,a){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:nT(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class vM{validateStyleProperty(t){return GS(t)}matchesElement(t,e){return!1}containsElement(t,e){return qS(t,e)}getParentElement(t){return s0(t)}query(t,e,r){return KS(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,a,c,d=[]){const _={duration:r,delay:a,fill:0==a?"both":"forwards"};c&&(_.easing=c);const C={},S=d.filter(O=>O instanceof _T);(function bA(n,t){return 0===n||0===t})(r,a)&&S.forEach(O=>{let $=O.currentSnapshot;Object.keys($).forEach(X=>C[X]=$[X])}),e=function DA(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let c=t[0],d=[];if(r.forEach(f=>{c.hasOwnProperty(f)||d.push(f),c[f]=e[f]}),d.length)for(var a=1;a<t.length;a++){let f=t[a];d.forEach(function(_){f[_]=nT(n,_)})}}return t}(t,e=e.map(O=>_l(O,!1)),C);const T=function mM(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=b0(t[0]),t.length>1&&(r=b0(t[t.length-1]))):t&&(e=b0(t)),e||r?new _M(n,e,r):null}(t,e);return new _T(t,e,_,T)}}let EM=(()=>{class n extends PS{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?FS(e):e;return yT(this._renderer,null,r,"register",[a]),new CM(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.FYo),g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class CM extends class PI{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new wM(this._id,t,e||{},this._renderer)}}class wM{constructor(t,e,r,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return yT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function yT(n,t,e,r,a){return n.setProperty(t,`@@${e}:${r}`,a)}const vT="@.disabled";let bM=(()=>{class n{constructor(e,r,a){this.delegate=e,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,d)=>{const f=null==d?void 0:d.parentNode(c);f&&d.removeChild(f,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(c);return S||(S=new ET("",c,this.engine),this._rendererCache.set(c,S)),S}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(d,f,e,S.name,S)};return r.data.animation.forEach(_),new DM(this,f,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,a){e>=0&&e<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[d,f]=c;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.FYo),g.LFG(zv),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class ET{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,a=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,a){this.delegate.setAttribute(t,e,r,a)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,a){this.delegate.setStyle(t,e,r,a)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==vT?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class DM extends ET{constructor(t,e,r,a){super(e,r,a),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==vT?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const a=function SM(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),d="";return"@"!=c.charAt(0)&&([c,d]=function TM(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,a,c,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(t,e,r)}}let IM=(()=>{class n extends zv{constructor(e,r,a){super(e.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ce),g.LFG(o0),g.LFG(_0))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const D0=new g.OlP("AnimationModuleType"),CT=[{provide:PS,useClass:EM},{provide:_0,useFactory:function AM(){return new GA}},{provide:zv,useClass:IM},{provide:g.FYo,useFactory:function MM(n,t,e){return new bM(n,t,e)},deps:[Ht,zv,g.R0b]}],wT=[{provide:o0,useFactory:()=>new vM},{provide:D0,useValue:"BrowserAnimations"},...CT],xM=[{provide:o0,useClass:YS},{provide:D0,useValue:"NoopAnimations"},...CT];let RM=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?xM:wT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:wT,imports:[Ea]}),n})();const bT=["*"],OM=["content"];function PM(n,t){if(1&n){const e=g.EpF();g.TgZ(0,"div",2),g.NdJ("click",function(){return g.CHM(e),g.oxw()._onBackdropClicked()}),g.qZA()}if(2&n){const e=g.oxw();g.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function NM(n,t){1&n&&(g.TgZ(0,"mat-drawer-content"),g.Hsn(1,2),g.qZA())}const FM=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],kM=["mat-drawer","mat-drawer-content","*"],LM={transformDrawer:NI("transform",[kS("open, open-instant",Tv({transform:"none",visibility:"visible"})),kS("void",Tv({"box-shadow":"none",visibility:"hidden"})),LS("void => open-instant",NS("0ms")),LS("void <=> open, open-instant => void",NS("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},BM=new g.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function jM(){return!1}}),DT=new g.OlP("MAT_DRAWER_CONTAINER");let S0=(()=>{class n extends Zr{constructor(e,r,a,c,d){super(a,c,d),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.sBO),g.Y36((0,g.Gpc)(()=>TT)),g.Y36(g.SBq),g.Y36(mh),g.Y36(g.R0b))},n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,r){2&e&&g.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[g._Bn([{provide:Zr,useExisting:n}]),g.qOj],ngContentSelectors:bT,decls:1,vars:0,template:function(e,r){1&e&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),ST=(()=>{class n{constructor(e,r,a,c,d,f,_,C){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=a,this._platform=c,this._ngZone=d,this._interactivityChecker=f,this._doc=_,this._container=C,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Zt.x,this._animationEnd=new Zt.x,this._animationState="void",this.openedChange=new g.vpe(!0),this._openedStream=this.openedChange.pipe(pn(S=>S),(0,ut.U)(()=>{})),this.openedStart=this._animationStarted.pipe(pn(S=>S.fromState!==S.toState&&0===S.toState.indexOf("open")),OS(void 0)),this._closedStream=this.openedChange.pipe(pn(S=>!S),(0,ut.U)(()=>{})),this.closedStart=this._animationStarted.pipe(pn(S=>S.fromState!==S.toState&&"void"===S.toState),OS(void 0)),this._destroyed=new Zt.x,this.onPositionChanged=new g.vpe,this._modeChanged=new Zt.x,this.openedChange.subscribe(S=>{S?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Zc(this._elementRef.nativeElement,"keydown").pipe(pn(S=>27===S.keyCode&&!this.disableClose&&!function Ab(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(S)),Hn(this._destroyed)).subscribe(S=>this._ngZone.run(()=>{this.close(),S.stopPropagation(),S.preventDefault()}))}),this._animationEnd.pipe(Eh((S,T)=>S.fromState===T.fromState&&S.toState===T.toState)).subscribe(S=>{const{fromState:T,toState:O}=S;(0===O.indexOf("open")&&"void"===T||"void"===O&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=fl(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=fl(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(fl(e))}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{e.removeEventListener("blur",a),e.removeEventListener("mousedown",a),e.removeAttribute("tabindex")};e.addEventListener("blur",a),e.addEventListener("mousedown",a)})),e.focus(r)}_focusByCssSelector(e,r){let a=this._elementRef.nativeElement.querySelector(e);a&&this._forceFocus(a,r)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);const a=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),a}_setOpen(e,r,a){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(a)),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe(rr(1)).subscribe(d=>c(d?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const r=this._elementRef.nativeElement,a=r.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),a.insertBefore(this._anchor,r)),a.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.SBq),g.Y36(ES),g.Y36(dv),g.Y36(go),g.Y36(g.R0b),g.Y36(Ch),g.Y36(ce,8),g.Y36(DT,8))},n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,r){if(1&e&&g.Gf(OM,5),2&e){let a;g.iGM(a=g.CRH())&&(r._content=a.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,r){1&e&&g.WFA("@transform.start",function(c){return r._animationStarted.next(c)})("@transform.done",function(c){return r._animationEnd.next(c)}),2&e&&(g.uIk("align",null),g.d8E("@transform",r._animationState),g.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:bT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(g.F$t(),g.TgZ(0,"div",0,1),g.Hsn(2),g.qZA())},directives:[Zr],encapsulation:2,data:{animation:[LM.transformDrawer]},changeDetection:0}),n})(),TT=(()=>{class n{constructor(e,r,a,c,d,f=!1,_){this._dir=e,this._element=r,this._ngZone=a,this._changeDetectorRef=c,this._animationMode=_,this._drawers=new g.n_E,this.backdropClick=new g.vpe,this._destroyed=new Zt.x,this._doCheckSubject=new Zt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Zt.x,e&&e.change.pipe(Hn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),d.change().pipe(Hn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=fl(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:fl(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Br(this._allDrawers),Hn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Br(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function OI(n,t=Xp){return(0,qt.e)((e,r)=>{let a=null,c=null,d=null;const f=()=>{if(a){a.unsubscribe(),a=null;const C=c;c=null,r.next(C)}};function _(){const C=d+n,S=t.now();if(S<C)return a=this.schedule(void 0,C-S),void r.add(a);f()}e.subscribe((0,Gt.x)(r,C=>{c=C,d=t.now(),a||(a=t.schedule(_,n),r.add(a))},()=>{f(),r.complete()},void 0,()=>{c=a=null}))})}(10),Hn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const a=this._left._getWidth();e+=a,r-=a}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const a=this._right._getWidth();r+=a,e-=a}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(pn(r=>r.fromState!==r.toState),Hn(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Hn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Hn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(rr(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Hn((0,RI.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const r=this._element.nativeElement.classList,a="mat-drawer-container-has-open";e?r.add(a):r.remove(a)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(ig,8),g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(g.sBO),g.Y36(_h),g.Y36(BM),g.Y36(D0,8))},n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,r,a){if(1&e&&(g.Suo(a,S0,5),g.Suo(a,ST,5)),2&e){let c;g.iGM(c=g.CRH())&&(r._content=c.first),g.iGM(c=g.CRH())&&(r._allDrawers=c)}},viewQuery:function(e,r){if(1&e&&g.Gf(S0,5),2&e){let a;g.iGM(a=g.CRH())&&(r._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,r){2&e&&g.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[g._Bn([{provide:DT,useExisting:n}])],ngContentSelectors:kM,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(g.F$t(FM),g.YNc(0,PM,1,2,"div",0),g.Hsn(1),g.Hsn(2,1),g.YNc(3,NM,2,0,"mat-drawer-content",1)),2&e&&(g.Q6J("ngIf",r.hasBackdrop),g.xp6(3),g.Q6J("ngIf",!r._content))},directives:[S0,Wn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),UM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[Ol,yg,nu],nu,yg]}),n})();var HM=R(99);class $M{}class yl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const a=e.slice(0,r),c=a.toLowerCase(),d=e.slice(r+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const a=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(a,r),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof yl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new yl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof yl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...r),this.headers.set(e,a);break;case"d":const c=t.value;if(c){let d=this.headers.get(e);if(!d)return;d=d.filter(f=>-1===c.indexOf(f)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class zM{encodeKey(t){return IT(t)}encodeValue(t){return IT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const GM=/%(\d[a-f0-9])/gi,qM={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function IT(n){return encodeURIComponent(n).replace(GM,(t,e)=>{var r;return null!==(r=qM[e])&&void 0!==r?r:t})}function AT(n){return`${n}`}class vl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new zM,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function WM(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[d,f]=-1==c?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,c)),t.decodeValue(a.slice(c+1))],_=e.get(d)||[];_.push(f),e.set(d,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const a=t[r];Array.isArray(a)?a.forEach(c=>{e.push({param:r,value:c,op:"a"})}):e.push({param:r,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new vl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(AT(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const a=r.indexOf(AT(t.value));-1!==a&&r.splice(a,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class KM{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function MT(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function xT(n){return"undefined"!=typeof Blob&&n instanceof Blob}function RT(n){return"undefined"!=typeof FormData&&n instanceof FormData}class wg{constructor(t,e,r,a){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function YM(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,c=a):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new yl),this.context||(this.context=new KM),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+d}}else this.params=new vl,this.urlWithParams=e}serializeBody(){return null===this.body?null:MT(this.body)||xT(this.body)||RT(this.body)||function ZM(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||RT(this.body)?null:xT(this.body)?this.body.type||null:MT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,a=t.url||this.url,c=t.responseType||this.responseType,d=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,_=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let C=t.headers||this.headers,S=t.params||this.params;const T=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(C=Object.keys(t.setHeaders).reduce((O,$)=>O.set($,t.setHeaders[$]),C)),t.setParams&&(S=Object.keys(t.setParams).reduce((O,$)=>O.set($,t.setParams[$]),S)),new wg(r,a,d,{params:S,headers:C,context:T,reportProgress:_,responseType:c,withCredentials:f})}}var Xn=(()=>((Xn=Xn||{})[Xn.Sent=0]="Sent",Xn[Xn.UploadProgress=1]="UploadProgress",Xn[Xn.ResponseHeader=2]="ResponseHeader",Xn[Xn.DownloadProgress=3]="DownloadProgress",Xn[Xn.Response=4]="Response",Xn[Xn.User=5]="User",Xn))();class T0 extends class QM{constructor(t,e=200,r="OK"){this.headers=t.headers||new yl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Xn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new T0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function I0(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let PT=(()=>{class n{constructor(e){this.handler=e}request(e,r,a={}){let c;if(e instanceof wg)c=e;else{let _,C;_=a.headers instanceof yl?a.headers:new yl(a.headers),a.params&&(C=a.params instanceof vl?a.params:new vl({fromObject:a.params})),c=new wg(e,r,void 0!==a.body?a.body:null,{headers:_,context:a.context,params:C,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const d=Fe(c).pipe(Ks(_=>this.handler.handle(_)));if(e instanceof wg||"events"===a.observe)return d;const f=d.pipe(pn(_=>_ instanceof T0));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return f.pipe((0,ut.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,ut.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,ut.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,ut.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new vl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,a={}){return this.request("PATCH",e,I0(a,r))}post(e,r,a={}){return this.request("POST",e,I0(a,r))}put(e,r,a={}){return this.request("PUT",e,I0(a,r))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG($M))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const JM=["*"];let Gv;function bg(n){var t;return(null===(t=function ex(){if(void 0===Gv&&(Gv=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Gv=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Gv}())||void 0===t?void 0:t.createHTML(n))||n}function NT(n){return Error(`Unable to find icon with the name "${n}"`)}function FT(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function kT(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class lu{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let qv=(()=>{class n{constructor(e,r,a,c){this._httpClient=e,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=a}addSvgIcon(e,r,a){return this.addSvgIconInNamespace("",e,r,a)}addSvgIconLiteral(e,r,a){return this.addSvgIconLiteralInNamespace("",e,r,a)}addSvgIconInNamespace(e,r,a,c){return this._addSvgIconConfig(e,r,new lu(a,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,a,c){const d=this._sanitizer.sanitize(g.q3G.HTML,a);if(!d)throw kT(a);const f=bg(d);return this._addSvgIconConfig(e,r,new lu("",f,c))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,a){return this._addSvgIconSetConfig(e,new lu(r,null,a))}addSvgIconSetLiteralInNamespace(e,r,a){const c=this._sanitizer.sanitize(g.q3G.HTML,r);if(!c)throw kT(r);const d=bg(c);return this._addSvgIconSetConfig(e,new lu("",d,a))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(g.q3G.RESOURCE_URL,e);if(!r)throw FT(e);const a=this._cachedIconsByUrl.get(r);return a?Fe(Kv(a)):this._loadSvgIconFromConfig(new lu(e,null)).pipe(wn(c=>this._cachedIconsByUrl.set(r,c)),(0,ut.U)(c=>Kv(c)))}getNamedSvgIcon(e,r=""){const a=LT(r,e);let c=this._svgIconConfigs.get(a);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,e),c)return this._svgIconConfigs.set(a,c),this._getSvgFromConfig(c);const d=this._iconSetConfigs.get(r);return d?this._getSvgFromIconSetConfigs(e,d):us(NT(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Fe(Kv(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ut.U)(r=>Kv(r)))}_getSvgFromIconSetConfigs(e,r){const a=this._extractIconWithNameFromAnySet(e,r);return a?Fe(a):function VM(...n){const t=(0,Lr.jO)(n),{args:e,keys:r}=ba(n),a=new yr.y(c=>{const{length:d}=e;if(!d)return void c.complete();const f=new Array(d);let _=d,C=d;for(let S=0;S<d;S++){let T=!1;(0,vr.Xf)(e[S]).subscribe((0,Gt.x)(c,O=>{T||(T=!0,C--),f[S]=O},()=>_--,void 0,()=>{(!_||!T)&&(C||c.next(r?Gs(r,f):f),c.complete())}))}});return t?a.pipe(ec(t)):a}(r.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Bn(f=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(g.q3G.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(C)),Fe(null)})))).pipe((0,ut.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,r);if(!d)throw NT(e);return d}))}_extractIconWithNameFromAnySet(e,r){for(let a=r.length-1;a>=0;a--){const c=r[a];if(c.svgText&&c.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(c),f=this._extractSvgIconFromSet(d,e,c.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(wn(r=>e.svgText=r),(0,ut.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Fe(null):this._fetchIcon(e).pipe(wn(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,a){const c=e.querySelector(`[id="${r}"]`);if(!c)return null;const d=c.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,a);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),a);const f=this._svgElementFromString(bg("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,a)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const a=r.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(e){const r=this._svgElementFromString(bg("<svg></svg>")),a=e.attributes;for(let c=0;c<a.length;c++){const{name:d,value:f}=a[c];"id"!==d&&r.setAttribute(d,f)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){var r;const{url:a,options:c}=e,d=null!==(r=null==c?void 0:c.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function tx(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==a)throw Error(`Cannot fetch icon from URL "${a}".`);const f=this._sanitizer.sanitize(g.q3G.RESOURCE_URL,a);if(!f)throw FT(a);const _=this._inProgressUrlFetches.get(f);if(_)return _;const C=this._httpClient.get(f,{responseType:"text",withCredentials:d}).pipe((0,ut.U)(S=>bg(S)),Ou(()=>this._inProgressUrlFetches.delete(f)),(0,HM.B)());return this._inProgressUrlFetches.set(f,C),C}_addSvgIconConfig(e,r,a){return this._svgIconConfigs.set(LT(e,r),a),this}_addSvgIconSetConfig(e,r){const a=this._iconSetConfigs.get(e);return a?a.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let a=0;a<this._resolvers.length;a++){const c=this._resolvers[a](r,e);if(c)return rx(c)?new lu(c.url,null,c.options):new lu(c,null)}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(PT,8),g.LFG(zs),g.LFG(ce,8),g.LFG(g.qLn))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kv(n){return n.cloneNode(!0)}function LT(n,t){return n+":"+t}function rx(n){return!(!n.url||!n.options)}const ix=MS(class{constructor(n){this._elementRef=n}}),sx=new g.OlP("mat-icon-location",{providedIn:"root",factory:function ox(){const n=(0,g.f3M)(ce),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),BT=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ax=BT.map(n=>`[${n}]`).join(", "),lx=/^url\(['"]?#(.*?)['"]?\)$/;let cx=(()=>{class n extends ix{constructor(e,r,a,c,d){super(e),this._iconRegistry=r,this._location=c,this._errorHandler=d,this._inline=!1,this._currentIconFetch=Bi.w0.EMPTY,a||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=fl(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const a=e.childNodes[r];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&a.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),r&&e.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((a,c)=>{a.forEach(d=>{c.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(ax),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)BT.forEach(d=>{const f=r[c],_=f.getAttribute(d),C=_?_.match(lx):null;if(C){let S=a.get(f);S||(S=[],a.set(f,S)),S.push({name:d,value:C[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,a]=this._splitIconName(e);r&&(this._svgNamespace=r),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,r).pipe(rr(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${a}! ${c.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.SBq),g.Y36(qv),g.$8M("aria-hidden"),g.Y36(sx),g.Y36(g.qLn))},n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(g.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),g.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[g.qOj],ngContentSelectors:JM,decls:1,vars:0,template:function(e,r){1&e&&(g.F$t(),g.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),ux=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[yg],yg]}),n})();const dx=["chat"],hx=function(n,t){return{s1:n,s2:t}};function fx(n,t){if(1&n&&(g.TgZ(0,"div")(1,"div",15)(2,"label")(3,"b"),g._uU(4),g.qZA(),g._uU(5),g.qZA()(),g._UZ(6,"br"),g.qZA()),2&n){const e=t.$implicit,r=g.oxw();g.xp6(1),g.Q6J("ngClass",g.WLB(3,hx,r.username==e.username,r.username!=e.username)),g.xp6(3),g.Oqu(e.username),g.xp6(1),g.hij(" : ",e.chat,"")}}const px=[{path:"",component:Cm},{path:"chat",component:(()=>{class n{constructor(e){this.route=e,this.title="chat_test",this.all_chats=[],this.firebaseConfig={apiKey:"AIzaSyCiJt5PNdQVth5K0Mu02jClWE3wQZky2iA",authDomain:"chat-test-76af5.firebaseapp.com",projectId:"chat-test-76af5",storageBucket:"chat-test-76af5.appspot.com",messagingSenderId:"285509761505",appId:"1:285509761505:web:3ea6617c3bc005bbde3aa0",dataBaseURL:"https://chat-test-76af5-default-rtdb.firebaseio.com/"},this.username="",this.x=[],this.app=(0,VE.ZF)(this.firebaseConfig),this.database=function qp(n=(0,Vo.getApp)(),t){return(0,Vo._getProvider)(n,"database").getImmediate({identifier:t})}(this.app),this.showFiller=!1}ngOnInit(){this.route.queryParamMap.subscribe(r=>this.username=r.get("user")),sh(Kc(this.database,"/Chats"),r=>{this.x=[],r.forEach(a=>{const c=a.val();this.x.push(c)})})}add_to_chat(e){this.all_chats.push(e);let a=function rw(n,t){n=(0,W.m9)(n),wi("push",n._path),qr("push",t,n._path,!0);const e=ny(n._repo),r=_C(e),a=es(n,r),c=es(n,r);let d;return d=null!=t?dl(c,t).then(()=>c):Promise.resolve(c),a.then=d.then.bind(d),a.catch=d.then.bind(d,void 0),a}(Kc(this.database,"Chats/"));dl(a,{username:this.username,chat:e}),this.chat_line.nativeElement.value="",sh(Kc(this.database,"/Chats"),d=>{this.x=[],d.forEach(f=>{const _=f.val();this.x.push(_)})})}ngOnChanges(){sh(Kc(this.database,"/Chats"),r=>{this.x=[],r.forEach(a=>{const c=a.val();this.x.push(c)})})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(Gi))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-chat-test"]],viewQuery:function(e,r){if(1&e&&g.Gf(dx,5),2&e){let a;g.iGM(a=g.CRH())&&(r.chat_line=a.first)}},features:[g.TTD],decls:24,vars:3,consts:[[1,"example-container"],[2,"text-align","center","color","black"],["mode","over","hasBackdrop","true","onfocus","this.style.position='absolute'",1,"example-sidenav"],["drawer",""],[2,"color","black","position","fixed","background-color","#c1e8ff"],[2,"padding-left","20px"],["mat-fab","",1,"backfab",3,"click"],[1,"msgbox"],[4,"ngFor","ngForOf"],[1,"sendmsg"],["placeholder","Enter your text.....","id","chat_line",2,"width","max"],["chat",""],[3,"click"],[1,"example-sidenav-content"],["type","button","mat-button","",3,"click"],[3,"ngClass"]],template:function(e,r){if(1&e){const a=g.EpF();g.TgZ(0,"mat-drawer-container",0)(1,"h1",1),g._uU(2),g.qZA(),g.TgZ(3,"mat-drawer",2,3)(5,"h1",4),g._uU(6),g._UZ(7,"span",5),g.TgZ(8,"button",6),g.NdJ("click",function(){return g.CHM(a),g.MAs(4).toggle()}),g.TgZ(9,"mat-icon"),g._uU(10,"navigate_before"),g.qZA()()(),g._UZ(11,"hr"),g.TgZ(12,"div",7),g.YNc(13,fx,7,6,"div",8),g._UZ(14,"br"),g.qZA(),g.TgZ(15,"div",9),g._UZ(16,"input",10,11),g.TgZ(18,"button",12),g.NdJ("click",function(){g.CHM(a);const d=g.MAs(17);return r.add_to_chat(d.value)}),g.TgZ(19,"mat-icon"),g._uU(20,"send"),g.qZA()()()(),g.TgZ(21,"div",13)(22,"button",14),g.NdJ("click",function(){return g.CHM(a),g.MAs(4).toggle()}),g._uU(23," Open Chats "),g.qZA()()()}2&e&&(g.xp6(2),g.hij("Welcome ",r.username," ! "),g.xp6(4),g.hij("Welcome to Chat ",r.username," ! "),g.xp6(7),g.Q6J("ngForOf",r.x.slice().reverse()))},directives:[TT,ST,cx,Sn,xi],styles:[".s1[_ngcontent-%COMP%]{color:#000;text-align:right}.s2[_ngcontent-%COMP%]{color:#000;text-align:left}.s1[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#c0f}.s2[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#8f032d}.s1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{height:auto;width:50%}.sendmsg[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center}.sendmsg[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{vertical-align:middle;margin:5px 10px 5px 0;padding:10px;width:80%;background-color:#fff;border:1px solid #ddd}.sendmsg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#1e8fff;border:1px solid #ddd;color:#fff}.sendmsg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4169e1}.example-container[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid rgba(0,0,0,.5);background-color:#ddd}.example-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.example-sidenav[_ngcontent-%COMP%]{padding:20px;width:-moz-fit-content;width:fit-content;background-color:#c1e8ff;height:100%}.menutog[_ngcontent-%COMP%]{margin:-25px 0 0 -36px}.hed[_ngcontent-%COMP%]{color:#000;text-align:center;size:large;position:fixed;background-color:#c1e8ff;border-bottom:1px solid black}.msgbox[_ngcontent-%COMP%]{overflow-y:scroll;height:90%;display:flex;flex-direction:column-reverse}[_ngcontent-%COMP%]::-webkit-scrollbar{width:1px}.backfab[_ngcontent-%COMP%]{border-radius:20px;border:1px;float:right}"]}),n})()}];let gx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[gm.forRoot(px)],gm]}),n})(),mx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&g._UZ(0,"router-outlet")},directives:[rf],styles:[""]}),n})(),_x={apiKey:"AIzaSyCiJt5PNdQVth5K0Mu02jClWE3wQZky2iA",authDomain:"chat-test-76af5.firebaseapp.com",projectId:"chat-test-76af5",storageBucket:"chat-test-76af5.appspot.com",messagingSenderId:"285509761505",appId:"1:285509761505:web:3ea6617c3bc005bbde3aa0",dataBaseURL:"https://chat-test-76af5-default-rtdb.firebaseio.com/"},yx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[mx]}),n.\u0275inj=g.cJS({providers:[],imports:[[Ea,gx,$g.hO.initializeApp(_x),RM,UM,ux]]}),n})();(0,g.G48)(),Ph().bootstrapModule(yx).catch(n=>console.error(n))},867:(He,le,R)=>{R.d(le,{ZF:()=>g.initializeApp});var g=R(681);(0,g.registerVersion)("firebase","9.9.3","app")},306:(He,le,R)=>{R.d(le,{y:()=>j});var g=R(930),H=R(727),ie=R(822),J=R(671);var ce=R(416),he=R(576),we=R(806);let j=(()=>{class _e{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const ue=new _e;return ue.source=this,ue.operator=Pe,ue}subscribe(Pe,ue,Re){const st=function xe(_e){return _e&&_e instanceof g.Lv||function Y(_e){return _e&&(0,he.m)(_e.next)&&(0,he.m)(_e.error)&&(0,he.m)(_e.complete)}(_e)&&(0,H.Nn)(_e)}(Pe)?Pe:new g.Hp(Pe,ue,Re);return(0,we.x)(()=>{const{operator:ve,source:Ie}=this;st.add(ve?ve.call(st,Ie):Ie?this._subscribe(st):this._trySubscribe(st))}),st}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(ue){Pe.error(ue)}}forEach(Pe,ue){return new(ue=U(ue))((Re,st)=>{const ve=new g.Hp({next:Ie=>{try{Pe(Ie)}catch(pe){st(pe),ve.unsubscribe()}},error:st,complete:Re});this.subscribe(ve)})}_subscribe(Pe){var ue;return null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(Pe)}[ie.L](){return this}pipe(...Pe){return function me(_e){return 0===_e.length?J.y:1===_e.length?_e[0]:function(Pe){return _e.reduce((ue,Re)=>Re(ue),Pe)}}(Pe)(this)}toPromise(Pe){return new(Pe=U(Pe))((ue,Re)=>{let st;this.subscribe(ve=>st=ve,ve=>Re(ve),()=>ue(st))})}}return _e.create=De=>new _e(De),_e})();function U(_e){var De;return null!==(De=null!=_e?_e:ce.v.Promise)&&void 0!==De?De:Promise}},579:(He,le,R)=>{R.d(le,{x:()=>ce});var g=R(306),H=R(727);const J=(0,R(888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=R(737),me=R(806);let ce=(()=>{class we extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const Y=new he(this,this);return Y.operator=U,Y}_throwIfClosed(){if(this.closed)throw new J}next(U){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(U)}})}error(U){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:Y}=this;for(;Y.length;)Y.shift().error(U)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:Y,isStopped:xe,observers:_e}=this;return Y||xe?H.Lc:(this.currentObservers=null,_e.push(U),new H.w0(()=>{this.currentObservers=null,(0,fe.P)(_e,U)}))}_checkFinalizedStatuses(U){const{hasError:Y,thrownError:xe,isStopped:_e}=this;Y?U.error(xe):_e&&U.complete()}asObservable(){const U=new g.y;return U.source=this,U}}return we.create=(j,U)=>new he(j,U),we})();class he extends ce{constructor(j,U){super(),this.destination=j,this.source=U}next(j){var U,Y;null===(Y=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===Y||Y.call(U,j)}error(j){var U,Y;null===(Y=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===Y||Y.call(U,j)}complete(){var j,U;null===(U=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===U||U.call(j)}_subscribe(j){var U,Y;return null!==(Y=null===(U=this.source)||void 0===U?void 0:U.subscribe(j))&&void 0!==Y?Y:H.Lc}}},930:(He,le,R)=>{R.d(le,{Hp:()=>Pe,Lv:()=>Y});var g=R(576),H=R(727),ie=R(416),J=R(849),fe=R(32);const me=we("C",void 0,void 0);function we(Ie,pe,Oe){return{kind:Ie,value:pe,error:Oe}}var j=R(410),U=R(806);class Y extends H.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,H.Nn)(pe)&&pe.add(this)):this.destination=ve}static create(pe,Oe,ot){return new Pe(pe,Oe,ot)}next(pe){this.isStopped?st(function he(Ie){return we("N",Ie,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?st(function ce(Ie){return we("E",void 0,Ie)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?st(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function _e(Ie,pe){return xe.call(Ie,pe)}class De{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(pe)}catch(ot){ue(ot)}}error(pe){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(pe)}catch(ot){ue(ot)}else ue(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(Oe){ue(Oe)}}}class Pe extends Y{constructor(pe,Oe,ot){let ke;if(super(),(0,g.m)(pe)||!pe)ke={next:null!=pe?pe:void 0,error:null!=Oe?Oe:void 0,complete:null!=ot?ot:void 0};else{let ee;this&&ie.v.useDeprecatedNextContext?(ee=Object.create(pe),ee.unsubscribe=()=>this.unsubscribe(),ke={next:pe.next&&_e(pe.next,ee),error:pe.error&&_e(pe.error,ee),complete:pe.complete&&_e(pe.complete,ee)}):ke=pe}this.destination=new De(ke)}}function ue(Ie){ie.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(Ie):(0,J.h)(Ie)}function st(Ie,pe){const{onStoppedNotification:Oe}=ie.v;Oe&&j.z.setTimeout(()=>Oe(Ie,pe))}const ve={closed:!0,next:fe.Z,error:function Re(Ie){throw Ie},complete:fe.Z}},727:(He,le,R)=>{R.d(le,{Lc:()=>me,w0:()=>fe,Nn:()=>ce});var g=R(576);const ie=(0,R(888).d)(we=>function(U){we(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((Y,xe)=>`${xe+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var J=R(737);class fe{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const _e of U)_e.remove(this);else U.remove(this);const{initialTeardown:Y}=this;if((0,g.m)(Y))try{Y()}catch(_e){j=_e instanceof ie?_e.errors:[_e]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const _e of xe)try{he(_e)}catch(De){j=null!=j?j:[],De instanceof ie?j=[...j,...De.errors]:j.push(De)}}if(j)throw new ie(j)}}add(j){var U;if(j&&j!==this)if(this.closed)he(j);else{if(j instanceof fe){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(j)}}_hasParent(j){const{_parentage:U}=this;return U===j||Array.isArray(U)&&U.includes(j)}_addParent(j){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(j),U):U?[U,j]:j}_removeParent(j){const{_parentage:U}=this;U===j?this._parentage=null:Array.isArray(U)&&(0,J.P)(U,j)}remove(j){const{_finalizers:U}=this;U&&(0,J.P)(U,j),j instanceof fe&&j._removeParent(this)}}fe.EMPTY=(()=>{const we=new fe;return we.closed=!0,we})();const me=fe.EMPTY;function ce(we){return we instanceof fe||we&&"closed"in we&&(0,g.m)(we.remove)&&(0,g.m)(we.add)&&(0,g.m)(we.unsubscribe)}function he(we){(0,g.m)(we)?we():we.unsubscribe()}},416:(He,le,R)=>{R.d(le,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(He,le,R)=>{R.d(le,{E:()=>H});const H=new(R(306).y)(fe=>fe.complete())},76:(He,le,R)=>{R.d(le,{D:()=>ot});var g=R(421),H=R(672),ie=R(482),J=R(403);function fe(ke,ee=0){return(0,ie.e)((de,V)=>{de.subscribe((0,J.x)(V,q=>(0,H.f)(V,ke,()=>V.next(q),ee),()=>(0,H.f)(V,ke,()=>V.complete(),ee),q=>(0,H.f)(V,ke,()=>V.error(q),ee)))})}function me(ke,ee=0){return(0,ie.e)((de,V)=>{V.add(ke.schedule(()=>de.subscribe(V),ee))})}var we=R(306),U=R(202),Y=R(576);function _e(ke,ee){if(!ke)throw new Error("Iterable cannot be null");return new we.y(de=>{(0,H.f)(de,ee,()=>{const V=ke[Symbol.asyncIterator]();(0,H.f)(de,ee,()=>{V.next().then(q=>{q.done?de.complete():de.next(q.value)})},0,!0)})})}var De=R(670),Pe=R(239),ue=R(144),Re=R(495),st=R(206),ve=R(645),Ie=R(260);function ot(ke,ee){return ee?function Oe(ke,ee){if(null!=ke){if((0,De.c)(ke))return function ce(ke,ee){return(0,g.Xf)(ke).pipe(me(ee),fe(ee))}(ke,ee);if((0,ue.z)(ke))return function j(ke,ee){return new we.y(de=>{let V=0;return ee.schedule(function(){V===ke.length?de.complete():(de.next(ke[V++]),de.closed||this.schedule())})})}(ke,ee);if((0,Pe.t)(ke))return function he(ke,ee){return(0,g.Xf)(ke).pipe(me(ee),fe(ee))}(ke,ee);if((0,st.D)(ke))return _e(ke,ee);if((0,Re.T)(ke))return function xe(ke,ee){return new we.y(de=>{let V;return(0,H.f)(de,ee,()=>{V=ke[U.h](),(0,H.f)(de,ee,()=>{let q,K;try{({value:q,done:K}=V.next())}catch(te){return void de.error(te)}K?de.complete():de.next(q)},0,!0)}),()=>(0,Y.m)(null==V?void 0:V.return)&&V.return()})}(ke,ee);if((0,Ie.L)(ke))return function pe(ke,ee){return _e((0,Ie.Q)(ke),ee)}(ke,ee)}throw(0,ve.z)(ke)}(ke,ee):(0,g.Xf)(ke)}},421:(He,le,R)=>{R.d(le,{Xf:()=>xe});var g=R(655),H=R(144),ie=R(239),J=R(306),fe=R(670),me=R(206),ce=R(645),he=R(495),we=R(260),j=R(576),U=R(849),Y=R(822);function xe(Ie){if(Ie instanceof J.y)return Ie;if(null!=Ie){if((0,fe.c)(Ie))return function _e(Ie){return new J.y(pe=>{const Oe=Ie[Y.L]();if((0,j.m)(Oe.subscribe))return Oe.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,H.z)(Ie))return function De(Ie){return new J.y(pe=>{for(let Oe=0;Oe<Ie.length&&!pe.closed;Oe++)pe.next(Ie[Oe]);pe.complete()})}(Ie);if((0,ie.t)(Ie))return function Pe(Ie){return new J.y(pe=>{Ie.then(Oe=>{pe.closed||(pe.next(Oe),pe.complete())},Oe=>pe.error(Oe)).then(null,U.h)})}(Ie);if((0,me.D)(Ie))return Re(Ie);if((0,he.T)(Ie))return function ue(Ie){return new J.y(pe=>{for(const Oe of Ie)if(pe.next(Oe),pe.closed)return;pe.complete()})}(Ie);if((0,we.L)(Ie))return function st(Ie){return Re((0,we.Q)(Ie))}(Ie)}throw(0,ce.z)(Ie)}function Re(Ie){return new J.y(pe=>{(function ve(Ie,pe){var Oe,ot,ke,ee;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,g.KL)(Ie);!(ot=yield Oe.next()).done;)if(pe.next(ot.value),pe.closed)return}catch(de){ke={error:de}}finally{try{ot&&!ot.done&&(ee=Oe.return)&&(yield ee.call(Oe))}finally{if(ke)throw ke.error}}pe.complete()})})(Ie,pe).catch(Oe=>pe.error(Oe))})}},451:(He,le,R)=>{R.d(le,{T:()=>me});var g=R(189),H=R(421),ie=R(515),J=R(269),fe=R(76);function me(...ce){const he=(0,J.yG)(ce),we=(0,J._6)(ce,1/0),j=ce;return j.length?1===j.length?(0,H.Xf)(j[0]):(0,g.J)(we)((0,fe.D)(j,he)):ie.E}},403:(He,le,R)=>{R.d(le,{x:()=>H});var g=R(930);function H(J,fe,me,ce,he){return new ie(J,fe,me,ce,he)}class ie extends g.Lv{constructor(fe,me,ce,he,we,j){super(fe),this.onFinalize=we,this.shouldUnsubscribe=j,this._next=me?function(U){try{me(U)}catch(Y){fe.error(Y)}}:super._next,this._error=he?function(U){try{he(U)}catch(Y){fe.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(U){fe.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4:(He,le,R)=>{R.d(le,{U:()=>ie});var g=R(482),H=R(403);function ie(J,fe){return(0,g.e)((me,ce)=>{let he=0;me.subscribe((0,H.x)(ce,we=>{ce.next(J.call(fe,we,he++))}))})}},189:(He,le,R)=>{R.d(le,{J:()=>ie});var g=R(577),H=R(671);function ie(J=1/0){return(0,g.z)(H.y,J)}},577:(He,le,R)=>{R.d(le,{z:()=>he});var g=R(4),H=R(421),ie=R(482),J=R(672),fe=R(403),ce=R(576);function he(we,j,U=1/0){return(0,ce.m)(j)?he((Y,xe)=>(0,g.U)((_e,De)=>j(Y,_e,xe,De))((0,H.Xf)(we(Y,xe))),U):("number"==typeof j&&(U=j),(0,ie.e)((Y,xe)=>function me(we,j,U,Y,xe,_e,De,Pe){const ue=[];let Re=0,st=0,ve=!1;const Ie=()=>{ve&&!ue.length&&!Re&&j.complete()},pe=ot=>Re<Y?Oe(ot):ue.push(ot),Oe=ot=>{_e&&j.next(ot),Re++;let ke=!1;(0,H.Xf)(U(ot,st++)).subscribe((0,fe.x)(j,ee=>{null==xe||xe(ee),_e?pe(ee):j.next(ee)},()=>{ke=!0},void 0,()=>{if(ke)try{for(Re--;ue.length&&Re<Y;){const ee=ue.shift();De?(0,J.f)(j,De,()=>Oe(ee)):Oe(ee)}Ie()}catch(ee){j.error(ee)}}))};return we.subscribe((0,fe.x)(j,pe,()=>{ve=!0,Ie()})),()=>{null==Pe||Pe()}}(Y,xe,we,U)))}},99:(He,le,R)=>{R.d(le,{B:()=>fe});var g=R(421),H=R(579),ie=R(930),J=R(482);function fe(ce={}){const{connector:he=(()=>new H.x),resetOnError:we=!0,resetOnComplete:j=!0,resetOnRefCountZero:U=!0}=ce;return Y=>{let xe,_e,De,Pe=0,ue=!1,Re=!1;const st=()=>{null==_e||_e.unsubscribe(),_e=void 0},ve=()=>{st(),xe=De=void 0,ue=Re=!1},Ie=()=>{const pe=xe;ve(),null==pe||pe.unsubscribe()};return(0,J.e)((pe,Oe)=>{Pe++,!Re&&!ue&&st();const ot=De=null!=De?De:he();Oe.add(()=>{Pe--,0===Pe&&!Re&&!ue&&(_e=me(Ie,U))}),ot.subscribe(Oe),!xe&&Pe>0&&(xe=new ie.Hp({next:ke=>ot.next(ke),error:ke=>{Re=!0,st(),_e=me(ve,we,ke),ot.error(ke)},complete:()=>{ue=!0,st(),_e=me(ve,j),ot.complete()}}),(0,g.Xf)(pe).subscribe(xe))})(Y)}}function me(ce,he,...we){if(!0===he)return void ce();if(!1===he)return;const j=new ie.Hp({next:()=>{j.unsubscribe(),ce()}});return he(...we).subscribe(j)}},410:(He,le,R)=>{R.d(le,{z:()=>g});const g={setTimeout(H,ie,...J){const{delegate:fe}=g;return(null==fe?void 0:fe.setTimeout)?fe.setTimeout(H,ie,...J):setTimeout(H,ie,...J)},clearTimeout(H){const{delegate:ie}=g;return((null==ie?void 0:ie.clearTimeout)||clearTimeout)(H)},delegate:void 0}},202:(He,le,R)=>{R.d(le,{h:()=>H});const H=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},822:(He,le,R)=>{R.d(le,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},269:(He,le,R)=>{R.d(le,{jO:()=>J,yG:()=>fe,_6:()=>me});var g=R(576),H=R(532);function ie(ce){return ce[ce.length-1]}function J(ce){return(0,g.m)(ie(ce))?ce.pop():void 0}function fe(ce){return(0,H.K)(ie(ce))?ce.pop():void 0}function me(ce,he){return"number"==typeof ie(ce)?ce.pop():he}},737:(He,le,R)=>{function g(H,ie){if(H){const J=H.indexOf(ie);0<=J&&H.splice(J,1)}}R.d(le,{P:()=>g})},888:(He,le,R)=>{function g(H){const J=H(fe=>{Error.call(fe),fe.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}R.d(le,{d:()=>g})},806:(He,le,R)=>{R.d(le,{x:()=>ie,O:()=>J});var g=R(416);let H=null;function ie(fe){if(g.v.useDeprecatedSynchronousErrorHandling){const me=!H;if(me&&(H={errorThrown:!1,error:null}),fe(),me){const{errorThrown:ce,error:he}=H;if(H=null,ce)throw he}}else fe()}function J(fe){g.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=fe)}},672:(He,le,R)=>{function g(H,ie,J,fe=0,me=!1){const ce=ie.schedule(function(){J(),me?H.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(H.add(ce),!me)return ce}R.d(le,{f:()=>g})},671:(He,le,R)=>{function g(H){return H}R.d(le,{y:()=>g})},144:(He,le,R)=>{R.d(le,{z:()=>g});const g=H=>H&&"number"==typeof H.length&&"function"!=typeof H},206:(He,le,R)=>{R.d(le,{D:()=>H});var g=R(576);function H(ie){return Symbol.asyncIterator&&(0,g.m)(null==ie?void 0:ie[Symbol.asyncIterator])}},576:(He,le,R)=>{function g(H){return"function"==typeof H}R.d(le,{m:()=>g})},670:(He,le,R)=>{R.d(le,{c:()=>ie});var g=R(822),H=R(576);function ie(J){return(0,H.m)(J[g.L])}},495:(He,le,R)=>{R.d(le,{T:()=>ie});var g=R(202),H=R(576);function ie(J){return(0,H.m)(null==J?void 0:J[g.h])}},239:(He,le,R)=>{R.d(le,{t:()=>H});var g=R(576);function H(ie){return(0,g.m)(null==ie?void 0:ie.then)}},260:(He,le,R)=>{R.d(le,{Q:()=>ie,L:()=>J});var g=R(655),H=R(576);function ie(fe){return(0,g.FC)(this,arguments,function*(){const ce=fe.getReader();try{for(;;){const{value:he,done:we}=yield(0,g.qq)(ce.read());if(we)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(he)}}finally{ce.releaseLock()}})}function J(fe){return(0,H.m)(null==fe?void 0:fe.getReader)}},532:(He,le,R)=>{R.d(le,{K:()=>H});var g=R(576);function H(ie){return ie&&(0,g.m)(ie.schedule)}},482:(He,le,R)=>{R.d(le,{A:()=>H,e:()=>ie});var g=R(576);function H(J){return(0,g.m)(null==J?void 0:J.lift)}function ie(J){return fe=>{if(H(fe))return fe.lift(function(me){try{return J(me,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},32:(He,le,R)=>{function g(){}R.d(le,{Z:()=>g})},849:(He,le,R)=>{R.d(le,{h:()=>ie});var g=R(416),H=R(410);function ie(J){H.z.setTimeout(()=>{const{onUnhandledError:fe}=g.v;if(!fe)throw J;fe(J)})}},645:(He,le,R)=>{function g(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(le,{z:()=>g})},655:(He,le,R)=>{function he(V,q,K,te){return new(K||(K=Promise))(function(Ee,ze){function _t(Lt){try{Me(te.next(Lt))}catch(xn){ze(xn)}}function ht(Lt){try{Me(te.throw(Lt))}catch(xn){ze(xn)}}function Me(Lt){Lt.done?Ee(Lt.value):function Q(Ee){return Ee instanceof K?Ee:new K(function(ze){ze(Ee)})}(Lt.value).then(_t,ht)}Me((te=te.apply(V,q||[])).next())})}function ue(V){return this instanceof ue?(this.v=V,this):new ue(V)}function Re(V,q,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,te=K.apply(V,q||[]),Ee=[];return Q={},ze("next"),ze("throw"),ze("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function ze(zt){te[zt]&&(Q[zt]=function(Ct){return new Promise(function(Rn,On){Ee.push([zt,Ct,Rn,On])>1||_t(zt,Ct)})})}function _t(zt,Ct){try{!function ht(zt){zt.value instanceof ue?Promise.resolve(zt.value.v).then(Me,Lt):xn(Ee[0][2],zt)}(te[zt](Ct))}catch(Rn){xn(Ee[0][3],Rn)}}function Me(zt){_t("next",zt)}function Lt(zt){_t("throw",zt)}function xn(zt,Ct){zt(Ct),Ee.shift(),Ee.length&&_t(Ee[0][0],Ee[0][1])}}function ve(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,q=V[Symbol.asyncIterator];return q?q.call(V):(V=function Y(V){var q="function"==typeof Symbol&&Symbol.iterator,K=q&&V[q],te=0;if(K)return K.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&te>=V.length&&(V=void 0),{value:V&&V[te++],done:!V}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),K={},te("next"),te("throw"),te("return"),K[Symbol.asyncIterator]=function(){return this},K);function te(Ee){K[Ee]=V[Ee]&&function(ze){return new Promise(function(_t,ht){!function Q(Ee,ze,_t,ht){Promise.resolve(ht).then(function(Me){Ee({value:Me,done:_t})},ze)}(_t,ht,(ze=V[Ee](ze)).done,ze.value)})}}}R.d(le,{mG:()=>he,qq:()=>ue,FC:()=>Re,KL:()=>ve})},0:(He,le,R)=>{R.d(le,{deG:()=>xu,tb:()=>bb,AFp:()=>vb,ip1:()=>yb,CZH:()=>Zy,hGG:()=>AS,z2F:()=>iv,sBO:()=>Ub,Sil:()=>oS,_Vd:()=>dh,EJc:()=>iS,SBq:()=>ra,qLn:()=>qu,vpe:()=>Zr,tBr:()=>fs,XFs:()=>Ge,OlP:()=>Ut,zs3:()=>Ei,ZZ4:()=>gv,aQg:()=>mv,soG:()=>Xy,YKP:()=>Oy,h0i:()=>ia,PXZ:()=>gS,R0b:()=>ns,FiY:()=>ci,Lbi:()=>wb,g9A:()=>Cb,n_E:()=>_h,Qsj:()=>Pw,FYo:()=>Ow,JOm:()=>qi,q3G:()=>Xt,tp0:()=>Wi,Rgc:()=>yh,dDg:()=>Ib,q4F:()=>Nw,GfV:()=>My,s_b:()=>nu,ifc:()=>wt,eFA:()=>Rb,G48:()=>Bb,Gpc:()=>U,f3M:()=>Lu,X6Q:()=>Lb,_c5:()=>IS,VLi:()=>Mb,c2e:()=>Db,zSh:()=>yd,wAp:()=>Ze,vHH:()=>De,EiD:()=>sf,mCW:()=>Lo,qzn:()=>Ua,JVY:()=>uc,pB0:()=>oE,eBb:()=>Gg,L6k:()=>Jh,LAX:()=>qg,cg1:()=>Vp,kL8:()=>dy,yhl:()=>cc,dqk:()=>ft,sIi:()=>Yo,CqO:()=>bp,QGY:()=>wp,F4k:()=>O_,RDi:()=>_u,AaK:()=>he,z3N:()=>gs,qOj:()=>ro,TTD:()=>So,_Bn:()=>by,xp6:()=>Ya,uIk:()=>ap,ekj:()=>xp,Suo:()=>Xw,Xpm:()=>Se,lG2:()=>Ps,Yz7:()=>Ct,cJS:()=>On,oAB:()=>gt,Yjl:()=>hu,Y36:()=>jc,_UZ:()=>sl,qZA:()=>Uc,TgZ:()=>kd,EpF:()=>Cp,LFG:()=>qe,$8M:()=>Er,$Z:()=>_p,NdJ:()=>Qi,CRH:()=>Jw,oxw:()=>N_,Hsn:()=>Dp,F$t:()=>F_,Q6J:()=>yp,WLB:()=>mo,iGM:()=>Zw,MAs:()=>g_,CHM:()=>Vl,LSH:()=>Vu,Udp:()=>Wd,WFA:()=>Bd,d8E:()=>jp,YNc:()=>Bc,_uU:()=>ll,Oqu:()=>qr,hij:()=>co,Gf:()=>Qw});var g=R(579),H=R(727),ie=R(306),J=R(451),fe=R(99);function me(i){for(let s in i)if(i[s]===me)return s;throw Error("Could not find renamed property on target object.")}function ce(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function he(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(he).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function we(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const j=me({__forward_ref__:me});function U(i){return i.__forward_ref__=U,i.toString=function(){return he(this())},i}function Y(i){return function xe(i){return"function"==typeof i&&i.hasOwnProperty(j)&&i.__forward_ref__===U}(i)?i():i}class De extends Error{constructor(s,o){super(function Pe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,o)),this.code=s}}function ue(i){return"string"==typeof i?i:null==i?"":String(i)}function Re(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ue(i)}function pe(i,s){const o=s?` in ${s}`:"";throw new De(-201,`No provider for ${Re(i)} found${o}`)}function ht(i,s){null==i&&function Me(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Ct(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function On(i){return{providers:i.providers||[],imports:i.imports||[]}}function un(i){return Mr(i,xr)||Mr(i,Os)}function Mr(i,s){return i.hasOwnProperty(s)?i[s]:null}function da(i){return i&&(i.hasOwnProperty(Rs)||i.hasOwnProperty(Rr))?i[Rs]:null}const xr=me({\u0275prov:me}),Rs=me({\u0275inj:me}),Os=me({ngInjectableDef:me}),Rr=me({ngInjectorDef:me});var Ge=(()=>((Ge=Ge||{})[Ge.Default=0]="Default",Ge[Ge.Host=1]="Host",Ge[Ge.Self=2]="Self",Ge[Ge.SkipSelf=4]="SkipSelf",Ge[Ge.Optional=8]="Optional",Ge))();let Xr;function Pn(i){const s=Xr;return Xr=i,s}function Jr(i,s,o){const l=un(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Ge.Optional?null:void 0!==s?s:void pe(he(i),"Injector")}function Yt(i){return{toString:i}.toString()}var sn=(()=>((sn=sn||{})[sn.OnPush=0]="OnPush",sn[sn.Default=1]="Default",sn))(),wt=(()=>{return(i=wt||(wt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",wt;var i})();const Be="undefined"!=typeof globalThis&&globalThis,et="undefined"!=typeof window&&window,ei="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ft=Be||"undefined"!=typeof global&&global||et||ei,Nn={},Ye=[],Pr=me({\u0275cmp:me}),N=me({\u0275dir:me}),L=me({\u0275pipe:me}),x=me({\u0275mod:me}),F=me({\u0275fac:me}),k=me({__NG_ELEMENT_ID__:me});let ae=0;function Se(i){return Yt(()=>{const o={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===sn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Ye,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||wt.Emulated,id:"c",styles:i.styles||Ye,_:null,setInput:null,schemas:i.schemas||null,tView:null},u=i.directives,h=i.features,p=i.pipes;return l.id+=ae++,l.inputs=ni(i.inputs,o),l.outputs=ni(i.outputs),h&&h.forEach(m=>m(l)),l.directiveDefs=u?()=>("function"==typeof u?u():u).map(Tt):null,l.pipeDefs=p?()=>("function"==typeof p?p():p).map(Ot):null,l})}function Tt(i){return on(i)||function ri(i){return i[N]||null}(i)}function Ot(i){return function Ii(i){return i[L]||null}(i)}const hr={};function gt(i){return Yt(()=>{const s={type:i.type,bootstrap:i.bootstrap||Ye,declarations:i.declarations||Ye,imports:i.imports||Ye,exports:i.exports||Ye,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(hr[i.id]=i.type),s})}function ni(i,s){if(null==i)return Nn;const o={};for(const l in i)if(i.hasOwnProperty(l)){let u=i[l],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=l,s&&(s[u]=h)}return o}const Ps=Se;function hu(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function on(i){return i[Pr]||null}function _n(i,s){const o=i[x]||null;if(!o&&!0===s)throw new Error(`Type ${he(i)} does not have '\u0275mod' property.`);return o}function jt(i){return Array.isArray(i)&&"object"==typeof i[1]}function pr(i){return Array.isArray(i)&&!0===i[1]}function Il(i){return 0!=(8&i.flags)}function Al(i){return 2==(2&i.flags)}function Bs(i){return 1==(1&i.flags)}function gr(i){return null!==i.template}function Ml(i){return 0!=(512&i[2])}function Nr(i,s){return i.hasOwnProperty(F)?i[F]:null}class os{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function So(){return fa}function fa(i){return i.type.prototype.ngOnChanges&&(i.setInput=Fg),Th}function Th(){const i=Pl(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Nn)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Fg(i,s,o,l){const u=Pl(i)||function kg(i,s){return i[Ol]=s}(i,{previous:Nn,current:null}),h=u.current||(u.current={}),p=u.previous,m=this.declaredInputs[o],v=p[m];h[m]=new os(v&&v.currentValue,s,p===Nn),i[l]=s}So.ngInherit=!0;const Ol="__ngSimpleChanges__";function Pl(i){return i[Ol]||null}let Fl;function _u(i){Fl=i}function Pt(i){return!!i.listen}const Fr={createRenderer:(i,s)=>function kl(){return void 0!==Fl?Fl:"undefined"!=typeof document?document:void 0}()};function kt(i){for(;Array.isArray(i);)i=i[0];return i}function ga(i,s){return kt(s[i])}function Tn(i,s){return kt(s[i.index])}function Bl(i,s){return i.data[s]}function an(i,s){const o=s[i];return jt(o)?o:o[0]}function as(i){return 4==(4&i[2])}function Oi(i){return 128==(128&i[2])}function mr(i,s){return null==s?null:i[s]}function Pi(i){i[18]=0}function js(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const Je={lFrame:bu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function vu(){return Je.bindingsEnabled}function oe(){return Je.lFrame.lView}function pt(){return Je.lFrame.tView}function Vl(i){return Je.lFrame.contextLView=i,i[8]}function Ht(){let i=Us();for(;null!==i&&64===i.type;)i=i.parent;return i}function Us(){return Je.lFrame.currentTNode}function tr(i,s){const o=Je.lFrame;o.currentTNode=i,o.isParent=s}function Hl(){return Je.lFrame.isParent}function $l(){Je.lFrame.isParent=!1}function Vs(){return Je.isInCheckNoChangesMode}function ya(i){Je.isInCheckNoChangesMode=i}function Hs(){return Je.lFrame.bindingIndex++}function Oh(i,s){const o=Je.lFrame;o.bindingIndex=o.bindingRootIndex=i,Gl(s)}function Gl(i){Je.lFrame.currentDirectiveIndex=i}function Ea(i){const s=Je.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Cu(){return Je.lFrame.currentQueryIndex}function ql(i){Je.lFrame.currentQueryIndex=i}function wu(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Nh(i,s,o){if(o&Ge.SkipSelf){let u=s,h=i;for(;!(u=u.parent,null!==u||o&Ge.Host||(u=wu(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;s=u,i=h}const l=Je.lFrame=Ca();return l.currentTNode=s,l.lView=i,!0}function Io(i){const s=Ca(),o=i[1];Je.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Ca(){const i=Je.lFrame,s=null===i?null:i.child;return null===s?bu(i):s}function bu(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Kl(){const i=Je.lFrame;return Je.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Fh=Kl;function cs(){const i=Kl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function In(){return Je.lFrame.selectedIndex}function nr(i){Je.lFrame.selectedIndex=i}function Wt(){const i=Je.lFrame;return Bl(i.tView,i.selectedIndex)}function Zl(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:m,ngAfterViewInit:v,ngAfterViewChecked:w,ngOnDestroy:D}=h;p&&(i.contentHooks||(i.contentHooks=[])).push(-o,p),m&&((i.contentHooks||(i.contentHooks=[])).push(o,m),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,m)),v&&(i.viewHooks||(i.viewHooks=[])).push(-o,v),w&&((i.viewHooks||(i.viewHooks=[])).push(o,w),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,w)),null!=D&&(i.destroyHooks||(i.destroyHooks=[])).push(o,D)}}function wa(i,s,o){Xl(i,s,3,o)}function Ao(i,s,o,l){(3&i[2])===o&&Xl(i,s,o,l)}function Ql(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Xl(i,s,o,l){const h=null!=l?l:-1,p=s.length-1;let m=0;for(let v=void 0!==l?65535&i[18]:0;v<p;v++)if("number"==typeof s[v+1]){if(m=s[v],null!=l&&m>=l)break}else s[v]<0&&(i[18]+=65536),(m<h||-1==h)&&(Vg(i,o,s,v),i[18]=(4294901760&i[18])+v+2),v++}function Vg(i,s,o,l){const u=o[l]<0,h=o[l+1],m=i[u?-o[l]:o[l]];if(u){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(m)}finally{}}}else try{h.call(m)}finally{}}class Jl{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Lr(i,s,o){const l=Pt(i);let u=0;for(;u<o.length;){const h=o[u];if("number"==typeof h){if(0!==h)break;u++;const p=o[u++],m=o[u++],v=o[u++];l?i.setAttribute(s,m,v,p):s.setAttributeNS(p,m,v)}else{const p=h,m=o[++u];Zt(p)?l&&i.setProperty(s,p,m):l?i.setAttribute(s,p,m):s.setAttribute(p,m),u++}}return u}function Fe(i){return 3===i||4===i||6===i}function Zt(i){return 64===i.charCodeAt(0)}function An(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const u=s[l];"number"==typeof u?o=u:0===o||yr(i,o,u,null,-1===o||2===o?s[++l]:null)}}return i}function yr(i,s,o,l,u){let h=0,p=i.length;if(-1===s)p=-1;else for(;h<i.length;){const m=i[h++];if("number"==typeof m){if(m===s){p=-1;break}if(m>s){p=h-1;break}}}for(;h<i.length;){const m=i[h];if("number"==typeof m)break;if(m===o){if(null===l)return void(null!==u&&(i[h+1]=u));if(l===i[h+1])return void(i[h+2]=u)}h++,null!==l&&h++,null!==u&&h++}-1!==p&&(i.splice(p,0,s),h=p+1),i.splice(h++,0,o),null!==l&&i.splice(h++,0,l),null!==u&&i.splice(h++,0,u)}function Au(i){return-1!==i}function Ni(i){return 32767&i}function Fi(i,s){let o=function Bh(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let ba=!0;function Da(i){const s=ba;return ba=i,s}let jh=0;function Gs(i,s){const o=tc(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Gt(l.data,i),Gt(s,null),Gt(l.blueprint,null));const u=Sa(i,s),h=i.injectorIndex;if(Au(u)){const p=Ni(u),m=Fi(u,s),v=m[1].data;for(let w=0;w<8;w++)s[h+w]=m[p+w]|v[p+w]}return s[h+8]=u,h}function Gt(i,s){i.push(0,0,0,0,0,0,0,0,s)}function tc(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Sa(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,u=s;for(;null!==u;){const h=u[1],p=h.type;if(l=2===p?h.declTNode:1===p?u[6]:null,null===l)return-1;if(o++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function qs(i,s,o){!function ec(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(k)&&(l=o[k]),null==l&&(l=o[k]=jh++);const u=255&l;s.data[i+(u>>5)]|=1<<u}(i,s,o)}function qn(i,s,o){if(o&Ge.Optional)return i;pe(s,"NodeInjector")}function us(i,s,o,l){if(o&Ge.Optional&&void 0===l&&(l=null),0==(o&(Ge.Self|Ge.Host))){const u=i[9],h=Pn(void 0);try{return u?u.get(s,l,o&Ge.Optional):Jr(s,l,o&Ge.Optional)}finally{Pn(h)}}return qn(l,s,o)}function Ta(i,s,o,l=Ge.Default,u){if(null!==i){const h=function Aa(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(k)?i[k]:void 0;return"number"==typeof s?s>=0?255&s:Ia:s}(o);if("function"==typeof h){if(!Nh(s,i,l))return l&Ge.Host?qn(u,o,l):us(s,o,l,u);try{const p=h(l);if(null!=p||l&Ge.Optional)return p;pe(o)}finally{Fh()}}else if("number"==typeof h){let p=null,m=tc(i,s),v=-1,w=l&Ge.Host?s[16][6]:null;for((-1===m||l&Ge.SkipSelf)&&(v=-1===m?Sa(i,s):s[m+8],-1!==v&&Bi(l,!1)?(p=s[1],m=Ni(v),s=Fi(v,s)):m=-1);-1!==m;){const D=s[1];if(Li(h,m,D.data)){const I=Uh(m,s,o,p,l,w);if(I!==xo)return I}v=s[m+8],-1!==v&&Bi(l,s[1].data[m+8]===w)&&Li(h,m,s)?(p=D,m=Ni(v),s=Fi(v,s)):m=-1}}}return us(s,o,l,u)}const xo={};function Ia(){return new qt(Ht(),oe())}function Uh(i,s,o,l,u,h){const p=s[1],m=p.data[i+8],D=ki(m,p,o,null==l?Al(m)&&ba:l!=p&&0!=(3&m.type),u&Ge.Host&&h===m);return null!==D?vr(s,p,D,m):xo}function ki(i,s,o,l,u){const h=i.providerIndexes,p=s.data,m=1048575&h,v=i.directiveStart,D=h>>20,P=u?m+D:i.directiveEnd;for(let z=l?m:m+D;z<P;z++){const ne=p[z];if(z<v&&o===ne||z>=v&&ne.type===o)return z}if(u){const z=p[v];if(z&&gr(z)&&z.type===o)return v}return null}function vr(i,s,o,l){let u=i[o];const h=s.data;if(function Tu(i){return i instanceof Jl}(u)){const p=u;p.resolving&&function st(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new De(-200,`Circular dependency in DI detected for ${i}${o}`)}(Re(h[o]));const m=Da(p.canSeeViewProviders);p.resolving=!0;const v=p.injectImpl?Pn(p.injectImpl):null;Nh(i,l,Ge.Default);try{u=i[o]=p.factory(void 0,h,i,l),s.firstCreatePass&&o>=l.directiveStart&&function Lh(i,s,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:h}=s.type.prototype;if(l){const p=fa(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,p)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==v&&Pn(v),Da(m),p.resolving=!1,Fh()}}return u}function Li(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function Bi(i,s){return!(i&Ge.Self||i&Ge.Host&&s)}class qt{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return Ta(this._tNode,this._lView,s,l,o)}}function Er(i){return function Mu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const h=o[u];if(Fe(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(h===s)return o[u+1];u+=2}}}return null}(Ht(),i)}const Br="__parameters__";function Bn(i,s,o){return Yt(()=>{const l=function pn(i){return function(...o){if(i){const l=i(...o);for(const u in l)this[u]=l[u]}}}(s);function u(...h){if(this instanceof u)return l.apply(this,h),this;const p=new u(...h);return m.annotation=p,m;function m(v,w,D){const I=v.hasOwnProperty(Br)?v[Br]:Object.defineProperty(v,Br,{value:[]})[Br];for(;I.length<=D;)I.push(null);return(I[D]=I[D]||[]).push(p),v}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=i,u.annotationCls=u,u})}class Ut{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ct({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xu=new Ut("AnalyzeForEntryComponents");function ir(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),ir(l,s)):s!==i&&s.push(l)}return s}function sr(i,s){i.forEach(o=>Array.isArray(o)?sr(o,s):s(o))}function $h(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Pa(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Oo(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}function Kn(i,s,o){let l=li(i,s);return l>=0?i[1|l]=o:(l=~l,function Wh(i,s,o,l){let u=i.length;if(u==s)i.push(o,l);else if(1===u)i.push(l,i[0]),i[0]=o;else{for(u--,i.push(i[u-1],i[u]);u>s;)i[u]=i[u-2],u--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function ai(i,s){const o=li(i,s);if(o>=0)return i[1|o]}function li(i,s){return function Fa(i,s,o){let l=0,u=i.length>>o;for(;u!==l;){const h=l+(u-l>>1),p=i[h<<o];if(s===p)return h<<o;p>s?u=h:l=h+1}return~(u<<o)}(i,s,1)}const jr={},Fu="__NG_DI_FLAG__",Po="ngTempTokenPath",ds=/\n/gm,$i="__source",Yh=me({provide:String,useValue:me});let No;function Fo(i){const s=No;return No=i,s}function hs(i,s=Ge.Default){if(void 0===No)throw new De(203,"");return null===No?Jr(i,void 0,s):No.get(i,s&Ge.Optional?null:void 0,s)}function qe(i,s=Ge.Default){return(function dn(){return Xr}()||hs)(Y(i),s)}const Lu=qe;function zi(i){const s=[];for(let o=0;o<i.length;o++){const l=Y(i[o]);if(Array.isArray(l)){if(0===l.length)throw new De(900,"");let u,h=Ge.Default;for(let p=0;p<l.length;p++){const m=l[p],v=sc(m);"number"==typeof v?-1===v?u=m.token:h|=v:u=m}s.push(qe(u,h))}else s.push(qe(l))}return s}function La(i,s){return i[Fu]=s,i.prototype[Fu]=s,i}function sc(i){return i[Fu]}const fs=La(Bn("Inject",i=>({token:i})),-1),ci=La(Bn("Optional"),8),Wi=La(Bn("SkipSelf"),4);let vt;function Cr(i){var s;return(null===(s=function ar(){if(void 0===vt&&(vt=null,ft.trustedTypes))try{vt=ft.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return vt}())||void 0===s?void 0:s.createHTML(i))||i}class Qs{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qh extends Qs{getTypeName(){return"HTML"}}class Xh extends Qs{getTypeName(){return"Style"}}class iE extends Qs{getTypeName(){return"Script"}}class lc extends Qs{getTypeName(){return"URL"}}class sE extends Qs{getTypeName(){return"ResourceURL"}}function gs(i){return i instanceof Qs?i.changingThisBreaksApplicationSecurity:i}function Ua(i,s){const o=cc(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function cc(i){return i instanceof Qs&&i.getTypeName()||null}function uc(i){return new Qh(i)}function Jh(i){return new Xh(i)}function Gg(i){return new iE(i)}function qg(i){return new lc(i)}function oE(i){return new sE(i)}class aE{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Cr(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class lE{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Cr(s),o;const l=this.inertDocument.createElement("body");return l.innerHTML=Cr(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const o=s.attributes;for(let u=o.length-1;0<u;u--){const p=o.item(u).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&s.removeAttribute(p)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Kg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,uE=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Lo(i){return(i=String(i)).match(Kg)||i.match(uE)?i:"unsafe:"+i}function hi(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Va(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const Zg=hi("area,br,col,hr,img,wbr"),Qg=hi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xg=hi("rp,rt"),ms=Va(Zg,Va(Qg,hi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Va(Xg,hi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Va(Xg,Qg)),tf=hi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nf=hi("srcset"),Ha=Va(tf,nf,hi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dc=hi("script,style,template");class dE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!ms.hasOwnProperty(o))return this.sanitizedSomething=!0,!dc.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let u=0;u<l.length;u++){const h=l.item(u),p=h.name,m=p.toLowerCase();if(!Ha.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let v=h.value;tf[m]&&(v=Lo(v)),nf[m]&&(i=v,v=(i=String(i)).split(",").map(s=>Lo(s.trim())).join(", ")),this.buf.push(" ",p,'="',em(v),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();ms.hasOwnProperty(o)&&!Zg.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(em(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const hc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rf=/([^\#-~ |!])/g;function em(i){return i.replace(/&/g,"&amp;").replace(hc,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(rf,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fc;function sf(i,s){let o=null;try{fc=fc||function Uu(i){const s=new lE(i);return function cE(){try{return!!(new window.DOMParser).parseFromString(Cr(""),"text/html")}catch(i){return!1}}()?new aE(s):s}(i);let l=s?String(s):"";o=fc.getInertBodyElement(l);let u=5,h=l;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,l=h,h=o.innerHTML,o=fc.getInertBodyElement(l)}while(l!==h);return Cr((new dE).sanitizeChildren(af(o)||o))}finally{if(o){const l=af(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function af(i){return"content"in i&&function hE(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Xt=(()=>((Xt=Xt||{})[Xt.NONE=0]="NONE",Xt[Xt.HTML=1]="HTML",Xt[Xt.STYLE=2]="STYLE",Xt[Xt.SCRIPT=3]="SCRIPT",Xt[Xt.URL=4]="URL",Xt[Xt.RESOURCE_URL=5]="RESOURCE_URL",Xt))();function Vu(i){const s=function $a(){const i=oe();return i&&i[12]}();return s?s.sanitize(Xt.URL,i)||"":Ua(i,"URL")?gs(i):Lo(ue(i))}const cf="__ngContext__";function jn(i,s){i[cf]=s}function uf(i){const s=function gc(i){return i[cf]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function ff(i){return i.ngOriginalError}function bE(i,...s){i.error(...s)}class qu{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),l=function _c(i){return i&&i.ngErrorLogger||bE}(s);l(this._console,"ERROR",s),o&&l(this._console,"ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&ff(s);for(;o&&ff(o);)o=ff(o);return o||null}}const OE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ft))();function fi(i){return i instanceof Function?i():i}var qi=(()=>((qi=qi||{})[qi.Important=1]="Important",qi[qi.DashCase=2]="DashCase",qi))();function mf(i,s){return undefined(i,s)}function jo(i){const s=i[3];return pr(s)?s[3]:s}function _f(i){return yf(i[13])}function vc(i){return yf(i[4])}function yf(i){for(;null!==i&&!pr(i);)i=i[4];return i}function Wa(i,s,o,l,u){if(null!=l){let h,p=!1;pr(l)?h=l:jt(l)&&(p=!0,l=l[0]);const m=kt(l);0===i&&null!==o?null==u?Xs(s,o,m):Ga(s,o,m,u||null,!0):1===i&&null!==o?Ga(s,o,m,u||null,!0):2===i?function Em(i,s,o){const l=Zu(i,s);l&&function UE(i,s,o,l){Pt(i)?i.removeChild(s,o,l):s.removeChild(o)}(i,l,s,o)}(s,m,p):3===i&&s.destroyNode(m),null!=h&&function VE(i,s,o,l,u){const h=o[7];h!==kt(o)&&Wa(s,i,l,h,u);for(let m=10;m<o.length;m++){const v=o[m];Ec(v[1],v,i,s,l,h)}}(s,i,h,o,u)}}function Ef(i,s,o){if(Pt(i))return i.createElement(s,o);{const l=null!==o?function mu(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(o):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function Uo(i,s){const o=i[9],l=o.indexOf(s),u=s[3];1024&s[2]&&(s[2]&=-1025,js(u,-1)),o.splice(l,1)}function bf(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const u=l[17];null!==u&&u!==i&&Uo(u,l),s>0&&(i[o-1][4]=l[4]);const h=Pa(i,10+s);!function LE(i,s){Ec(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const p=h[19];null!==p&&p.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function fm(i,s){if(!(256&s[2])){const o=s[11];Pt(o)&&o.destroyNode&&Ec(i,s,o,3,null,null),function hm(i){let s=i[13];if(!s)return Ku(i[1],i);for(;s;){let o=null;if(jt(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)jt(s)&&Ku(s[1],s),s=s[3];null===s&&(s=i),jt(s)&&Ku(s[1],s),o=s&&s[4]}s=o}}(s)}}function Ku(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function pm(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const u=s[o[l]];if(!(u instanceof Jl)){const h=o[l+1];if(Array.isArray(h))for(let p=0;p<h.length;p+=2){const m=u[h[p]],v=h[p+1];try{v.call(m)}finally{}}else try{h.call(u)}finally{}}}}(i,s),function jE(i,s){const o=i.cleanup,l=s[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const p=o[h+1],m="function"==typeof p?p(s):kt(s[p]),v=l[u=o[h+2]],w=o[h+3];"boolean"==typeof w?m.removeEventListener(o[h],v,w):w>=0?l[u=w]():l[u=-w].unsubscribe(),h+=2}else{const p=l[u=o[h+1]];o[h].call(p)}if(null!==l){for(let h=u+1;h<l.length;h++)l[h]();s[7]=null}}(i,s),1===s[1].type&&Pt(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&pr(s[3])){o!==s[3]&&Uo(o,s);const l=s[19];null!==l&&l.detachView(i)}}}function Df(i,s,o){return function Yu(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const u=i.data[l.directiveStart].encapsulation;if(u===wt.None||u===wt.Emulated)return null}return Tn(l,o)}(i,s.parent,o)}function Ga(i,s,o,l,u){Pt(i)?i.insertBefore(s,o,l,u):s.insertBefore(o,l,u)}function Xs(i,s,o){Pt(i)?i.appendChild(s,o):s.appendChild(o)}function Sf(i,s,o,l,u){null!==l?Ga(i,s,o,l,u):Xs(i,s,o)}function Zu(i,s){return Pt(i)?i.parentNode(s):s.parentNode}function mm(i,s,o){return ym(i,s,o)}let ym=function _m(i,s,o){return 40&i.type?Tn(i,o):null};function Xu(i,s,o,l){const u=Df(i,l,s),h=s[11],m=mm(l.parent||s[6],l,s);if(null!=u)if(Array.isArray(o))for(let v=0;v<o.length;v++)Sf(h,u,o[v],m,!1);else Sf(h,u,o,m,!1)}function Ju(i,s){if(null!==s){const o=s.type;if(3&o)return Tn(s,i);if(4&o)return Tf(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return Ju(i,l);{const u=i[s.index];return pr(u)?Tf(-1,u):kt(u)}}if(32&o)return mf(s,i)()||kt(i[s.index]);{const l=ed(i,s);return null!==l?Array.isArray(l)?l[0]:Ju(jo(i[16]),l):Ju(i,s.next)}}return null}function ed(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Tf(i,s){const o=10+i+1;if(o<s.length){const l=s[o],u=l[1].firstChild;if(null!==u)return Ju(l,u)}return s[7]}function td(i,s,o,l,u,h,p){for(;null!=o;){const m=l[o.index],v=o.type;if(p&&0===s&&(m&&jn(kt(m),l),o.flags|=4),64!=(64&o.flags))if(8&v)td(i,s,o.child,l,u,h,!1),Wa(s,i,u,m,h);else if(32&v){const w=mf(o,l);let D;for(;D=w();)Wa(s,i,u,D,h);Wa(s,i,u,m,h)}else 16&v?Cm(i,s,l,o,u,h):Wa(s,i,u,m,h);o=p?o.projectionNext:o.next}}function Ec(i,s,o,l,u,h){td(o,l,i.firstChild,s,u,h,!1)}function Cm(i,s,o,l,u,h){const p=o[16],v=p[6].projection[l.projection];if(Array.isArray(v))for(let w=0;w<v.length;w++)Wa(s,i,u,v[w],h);else td(i,s,v,p[3],u,h,!0)}function Vo(i,s,o){Pt(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function If(i,s,o){Pt(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function W(i,s,o){let l=i.length;for(;;){const u=i.indexOf(s,o);if(-1===u)return u;if(0===u||i.charCodeAt(u-1)<=32){const h=s.length;if(u+h===l||i.charCodeAt(u+h)<=32)return u}o=u+1}}const Af="ng-template";function wm(i,s,o){let l=0;for(;l<i.length;){let u=i[l++];if(o&&"class"===u){if(u=i[l],-1!==W(u.toLowerCase(),s,0))return!0}else if(1===u){for(;l<i.length&&"string"==typeof(u=i[l++]);)if(u.toLowerCase()===s)return!0;return!1}}return!1}function nd(i){return 4===i.type&&i.value!==Af}function zE(i,s,o){return s===(4!==i.type||o?i.value:Af)}function WE(i,s,o){let l=4;const u=i.attrs||[],h=function qa(i){for(let s=0;s<i.length;s++)if(Fe(i[s]))return s;return i.length}(u);let p=!1;for(let m=0;m<s.length;m++){const v=s[m];if("number"!=typeof v){if(!p)if(4&l){if(l=2|1&l,""!==v&&!zE(i,v,o)||""===v&&1===s.length){if(pi(l))return!1;p=!0}}else{const w=8&l?v:s[++m];if(8&l&&null!==i.attrs){if(!wm(i.attrs,w,o)){if(pi(l))return!1;p=!0}continue}const I=bm(8&l?"class":v,u,nd(i),o);if(-1===I){if(pi(l))return!1;p=!0;continue}if(""!==w){let P;P=I>h?"":u[I+1].toLowerCase();const z=8&l?P:null;if(z&&-1!==W(z,w,0)||2&l&&w!==P){if(pi(l))return!1;p=!0}}}}else{if(!p&&!pi(l)&&!pi(v))return!1;if(p&&pi(v))continue;p=!1,l=v|1&l}}return pi(l)||p}function pi(i){return 0==(1&i)}function bm(i,s,o,l){if(null===s)return-1;let u=0;if(l||!o){let h=!1;for(;u<s.length;){const p=s[u];if(p===i)return u;if(3===p||6===p)h=!0;else{if(1===p||2===p){let m=s[++u];for(;"string"==typeof m;)m=s[++u];continue}if(4===p)break;if(0===p){u+=4;continue}}u+=h?1:2}return-1}return function Dm(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function Js(i,s,o=!1){for(let l=0;l<s.length;l++)if(WE(i,s[l],o))return!0;return!1}function Sm(i,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(i.length===l.length){for(let u=0;u<i.length;u++)if(i[u]!==l[u])continue e;return!0}}return!1}function Ka(i,s){return i?":not("+s.trim()+")":s}function Ho(i){let s=i[0],o=1,l=2,u="",h=!1;for(;o<i.length;){let p=i[o];if("string"==typeof p)if(2&l){const m=i[++o];u+="["+p+(m.length>0?'="'+m+'"':"")+"]"}else 8&l?u+="."+p:4&l&&(u+=" "+p);else""!==u&&!pi(p)&&(s+=Ka(h,u),u=""),l=p,h=h||!pi(l);o++}return""!==u&&(s+=Ka(h,u)),s}const Ue={};function Ya(i){rd(pt(),oe(),In()+i,Vs())}function rd(i,s,o,l){if(!l)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&wa(s,h,o)}else{const h=i.preOrderHooks;null!==h&&Ao(s,h,0,o)}nr(o)}function vn(i,s){return i<<17|s<<2}function mi(i){return i>>17&32767}function _i(i){return 2|i}function Dn(i){return(131068&i)>>2}function _s(i,s){return-131069&i|s<<2}function $o(i){return 1|i}function Lm(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const u=o[l],h=o[l+1];if(-1!==h){const p=i.data[h];ql(u),p.contentQueries(2,s[h],h)}}}function Sc(i,s,o,l,u,h,p,m,v,w){const D=s.blueprint.slice();return D[0]=u,D[2]=140|l,Pi(D),D[3]=D[15]=i,D[8]=o,D[10]=p||i&&i[10],D[11]=m||i&&i[11],D[12]=v||i&&i[12]||null,D[9]=w||i&&i[9]||null,D[6]=h,D[16]=2==s.type?i[16]:D,D}function Xa(i,s,o,l,u){let h=i.data[s];if(null===h)h=function dd(i,s,o,l,u){const h=Us(),p=Hl(),v=i.data[s]=function Uf(i,s,o,l,u,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?h:h&&h.parent,o,s,l,u);return null===i.firstChild&&(i.firstChild=v),null!==h&&(p?null==h.child&&null!==v.parent&&(h.child=v):null===h.next&&(h.next=v)),v}(i,s,o,l,u),function Rh(){return Je.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=u;const p=function ls(){const i=Je.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===p?-1:p.injectorIndex}return tr(h,!0),h}function zo(i,s,o,l){if(0===o)return-1;const u=s.length;for(let h=0;h<o;h++)s.push(l),i.blueprint.push(l),i.data.push(null);return u}function Tc(i,s,o){Io(s);try{const l=i.viewQuery;null!==l&&ct(1,l,o);const u=i.template;null!==u&&ys(i,s,u,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Lm(i,s),i.staticViewQueries&&ct(2,i.viewQuery,o);const h=i.components;null!==h&&function sC(i,s){for(let o=0;o<s.length;o++)Wo(i,s[o])}(s,h)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,cs()}}function Ja(i,s,o,l){const u=s[2];if(256==(256&u))return;Io(s);const h=Vs();try{Pi(s),function va(i){return Je.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&ys(i,s,o,2,l);const p=3==(3&u);if(!h)if(p){const w=i.preOrderCheckHooks;null!==w&&wa(s,w,null)}else{const w=i.preOrderHooks;null!==w&&Ao(s,w,0,null),Ql(s,0)}if(function fC(i){for(let s=_f(i);null!==s;s=vc(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const u=o[l],h=u[3];0==(1024&u[2])&&js(h,1),u[2]|=1024}}}(s),function hC(i){for(let s=_f(i);null!==s;s=vc(s))for(let o=10;o<s.length;o++){const l=s[o],u=l[1];Oi(l)&&Ja(u,l,u.template,l[8])}}(s),null!==i.contentQueries&&Lm(i,s),!h)if(p){const w=i.contentCheckHooks;null!==w&&wa(s,w)}else{const w=i.contentHooks;null!==w&&Ao(s,w,1),Ql(s,1)}!function km(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)nr(~u);else{const h=u,p=o[++l],m=o[++l];Oh(p,h),m(2,s[h])}}}finally{nr(-1)}}(i,s);const m=i.components;null!==m&&function iC(i,s){for(let o=0;o<s.length;o++)pC(i,s[o])}(s,m);const v=i.viewQuery;if(null!==v&&ct(2,v,l),!h)if(p){const w=i.viewCheckHooks;null!==w&&wa(s,w)}else{const w=i.viewHooks;null!==w&&Ao(s,w,2),Ql(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,js(s[3],-1))}finally{cs()}}function oC(i,s,o,l){const u=s[10],h=!Vs(),p=as(s);try{h&&!p&&u.begin&&u.begin(),p&&Tc(i,s,l),Ja(i,s,o,l)}finally{h&&!p&&u.end&&u.end()}}function ys(i,s,o,l,u){const h=In(),p=2&l;try{nr(-1),p&&s.length>20&&rd(i,s,20,Vs()),o(l,u)}finally{nr(h)}}function Bf(i,s,o){!vu()||(function Km(i,s,o,l){const u=o.directiveStart,h=o.directiveEnd;i.firstCreatePass||Gs(o,s),jn(l,s);const p=o.initialInputs;for(let m=u;m<h;m++){const v=i.data[m],w=gr(v);w&&Zm(s,o,v);const D=vr(s,i,m,o);jn(D,s),null!==p&&Yn(0,m-u,D,v,0,p),w&&(an(o.index,s)[8]=D)}}(i,s,o,Tn(o,s)),128==(128&o.flags)&&function Rt(i,s,o){const l=o.directiveStart,u=o.directiveEnd,p=o.index,m=function Ph(){return Je.lFrame.currentDirectiveIndex}();try{nr(p);for(let v=l;v<u;v++){const w=i.data[v],D=s[v];Gl(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&bt(w,D)}}finally{nr(-1),Gl(m)}}(i,s,o))}function jf(i,s,o=Tn){const l=s.localNames;if(null!==l){let u=s.index+1;for(let h=0;h<l.length;h+=2){const p=l[h+1],m=-1===p?o(s,i):i[p];i[u++]=m}}}function Ic(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=vs(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function vs(i,s,o,l,u,h,p,m,v,w){const D=20+l,I=D+u,P=function Bm(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:Ue);return o}(D,I),z="function"==typeof w?w():w;return P[1]={type:i,blueprint:P,template:o,queries:null,viewQuery:m,declTNode:s,data:P.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:v,consts:z,incompleteFirstPass:!1}}function Vm(i,s,o,l){const u=Kf(s);null===o?u.push(l):(u.push(o),i.firstCreatePass&&yi(i).push(l,u.length-1))}function Vf(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const u=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,u):o[l]=[s,u]}return o}function wr(i,s,o,l,u,h,p,m){const v=Tn(s,o);let D,w=s.inputs;!m&&null!=w&&(D=w[l])?(t_(i,o,D,l,u),Al(s)&&function $m(i,s){const o=an(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(l=function Hm(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),u=null!=p?p(u,s.value||"",l):u,Pt(h)?h.setProperty(v,l,u):Zt(l)||(v.setProperty?v.setProperty(l,u):v[l]=u))}function fd(i,s,o,l){let u=!1;if(vu()){const h=function dt(i,s,o){const l=i.directiveRegistry;let u=null;if(l)for(let h=0;h<l.length;h++){const p=l[h];Js(o,p.selectors,!1)&&(u||(u=[]),qs(Gs(o,s),i,p.type),gr(p)?(Es(i,o),u.unshift(p)):u.push(p))}return u}(i,s,o),p=null===l?null:{"":-1};if(null!==h){u=!0,Ym(o,i.data.length,h.length);for(let D=0;D<h.length;D++){const I=h[D];I.providersResolver&&I.providersResolver(I)}let m=!1,v=!1,w=zo(i,s,h.length,null);for(let D=0;D<h.length;D++){const I=h[D];o.mergedAttrs=An(o.mergedAttrs,I.hostAttrs),el(i,o,s,w,I),Hf(w,I,p),null!==I.contentQueries&&(o.flags|=8),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(o.flags|=128);const P=I.type.prototype;!m&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),m=!0),!v&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),v=!0),w++}!function aC(i,s){const l=s.directiveEnd,u=i.data,h=s.attrs,p=[];let m=null,v=null;for(let w=s.directiveStart;w<l;w++){const D=u[w],I=D.inputs,P=null===h||nd(s)?null:dC(I,h);p.push(P),m=Vf(I,w,m),v=Vf(D.outputs,w,v)}null!==m&&(m.hasOwnProperty("class")&&(s.flags|=16),m.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=p,s.inputs=m,s.outputs=v}(i,o)}p&&function Vt(i,s,o){if(s){const l=i.localNames=[];for(let u=0;u<s.length;u+=2){const h=o[s[u+1]];if(null==h)throw new De(-301,!1);l.push(s[u],h)}}}(o,l,p)}return o.mergedAttrs=An(o.mergedAttrs,o.attrs),u}function Ac(i,s,o,l,u,h){const p=h.hostBindings;if(p){let m=i.hostBindingOpCodes;null===m&&(m=i.hostBindingOpCodes=[]);const v=~s.index;(function qm(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(m)!=v&&m.push(v),m.push(l,u,p)}}function bt(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Es(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Hf(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;gr(s)&&(o[""]=i)}}function Ym(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function el(i,s,o,l,u){i.data[l]=u;const h=u.factory||(u.factory=Nr(u.type)),p=new Jl(h,gr(u),null);i.blueprint[l]=p,o[l]=p,Ac(i,s,0,l,zo(i,o,u.hostVars,Ue),u)}function Zm(i,s,o){const l=Tn(s,i),u=Ic(o),h=i[10],p=no(i,Sc(i,u,null,o.onPush?64:16,l,s,h,h.createRenderer(l,o),null,null));i[s.index]=p}function Dt(i,s,o,l,u,h){const p=Tn(i,s);!function at(i,s,o,l,u,h,p){if(null==h)Pt(i)?i.removeAttribute(s,u,o):s.removeAttribute(u);else{const m=null==p?ue(h):p(h,l||"",u);Pt(i)?i.setAttribute(s,u,m,o):o?s.setAttributeNS(o,u,m):s.setAttribute(u,m)}}(s[11],p,h,i.value,o,l,u)}function Yn(i,s,o,l,u,h){const p=h[s];if(null!==p){const m=l.setInput;for(let v=0;v<p.length;){const w=p[v++],D=p[v++],I=p[v++];null!==m?l.setInput(o,I,w,D):o[D]=I}}}function dC(i,s){let o=null,l=0;for(;l<s.length;){const u=s[l];if(0!==u)if(5!==u){if("number"==typeof u)break;i.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,i[u],s[l+1])),l+=2}else l+=2;else l+=4}return o}function br(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function pC(i,s){const o=an(s,i);if(Oi(o)){const l=o[1];80&o[2]?Ja(l,o,l.template,o[8]):o[5]>0&&pd(o)}}function pd(i){for(let l=_f(i);null!==l;l=vc(l))for(let u=10;u<l.length;u++){const h=l[u];if(1024&h[2]){const p=h[1];Ja(p,h,p.template,h[8])}else h[5]>0&&pd(h)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const u=an(o[l],i);Oi(u)&&u[5]>0&&pd(u)}}function Wo(i,s){const o=an(s,i),l=o[1];(function $f(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),Tc(l,o,o[8])}function no(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function zf(i){for(;i;){i[2]|=64;const s=jo(i);if(Ml(i)&&!s)return i;i=s}return null}function Gf(i,s,o){const l=s[10];l.begin&&l.begin();try{Ja(i,s,i.template,o)}catch(u){throw Hr(s,u),u}finally{l.end&&l.end()}}function Jm(i){!function Wf(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],l=uf(o),u=l[1];oC(u,l,u.template,o)}}(i[8])}function ct(i,s,o){ql(0),s(i,o)}const gd=(()=>Promise.resolve(null))();function Kf(i){return i[7]||(i[7]=[])}function yi(i){return i.cleanup||(i.cleanup=[])}function Mc(i,s,o){return(null===i||gr(i))&&(o=function Ah(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}function Hr(i,s){const o=i[9],l=o?o.get(qu,null):null;l&&l.handleError(s)}function t_(i,s,o,l,u){for(let h=0;h<o.length;){const p=o[h++],m=o[h++],v=s[p],w=i.data[p];null!==w.setInput?w.setInput(v,u,l,m):v[m]=u}}function nn(i,s,o){const l=ga(s,i);!function um(i,s,o){Pt(i)?i.setValue(s,o):s.textContent=o}(i[11],l,o)}function md(i,s,o){let l=o?i.styles:null,u=o?i.classes:null,h=0;if(null!==s)for(let p=0;p<s.length;p++){const m=s[p];"number"==typeof m?h=m:1==h?u=we(u,m):2==h&&(l=we(l,m+": "+s[++p]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=u:i.classesWithoutHost=u}const _d=new Ut("INJECTOR",-1);class Qf{get(s,o=jr){if(o===jr){const l=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw l.name="NullInjectorError",l}return o}}const yd=new Ut("Set Injector scope."),Ki={},n_={};let vd;function r_(){return void 0===vd&&(vd=new Qf),vd}function i_(i,s=null,o=null,l){const u=s_(i,s,o,l);return u._resolveInjectorDefTypes(),u}function s_(i,s=null,o=null,l){return new $t(i,o,s||r_(),l)}class $t{constructor(s,o,l,u=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&sr(o,m=>this.processProvider(m,s,o)),sr([s],m=>this.processInjectorType(m,[],h)),this.records.set(_d,vi(void 0,this));const p=this.records.get(yd);this.scope=null!=p?p.value:null,this.source=u||("object"==typeof s?null:he(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=jr,l=Ge.Default){this.assertNotDestroyed();const u=Fo(this),h=Pn(void 0);try{if(!(l&Ge.SkipSelf)){let m=this.records.get(s);if(void 0===m){const v=function Jf(i){return"function"==typeof i||"object"==typeof i&&i instanceof Ut}(s)&&un(s);m=v&&this.injectableDefInScope(v)?vi(Xf(s),Ki):null,this.records.set(s,m)}if(null!=m)return this.hydrate(s,m)}return(l&Ge.Self?r_():this.parent).get(s,o=l&Ge.Optional&&o===jr?null:o)}catch(p){if("NullInjectorError"===p.name){if((p[Po]=p[Po]||[]).unshift(he(s)),u)throw p;return function oc(i,s,o,l){const u=i[Po];throw s[$i]&&u.unshift(s[$i]),i.message=function Bu(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let u=he(s);if(Array.isArray(s))u=s.map(he).join(" -> ");else if("object"==typeof s){let h=[];for(let p in s)if(s.hasOwnProperty(p)){let m=s[p];h.push(p+":"+("string"==typeof m?JSON.stringify(m):he(m)))}u=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${i.replace(ds,"\n  ")}`}("\n"+i.message,u,o,l),i.ngTokenPath=u,i[Po]=null,i}(p,s,"R3InjectorError",this.source)}throw p}finally{Pn(h),Fo(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,u)=>s.push(he(u))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processInjectorType(s,o,l){if(!(s=Y(s)))return!1;let u=da(s);const h=null==u&&s.ngModule||void 0,p=void 0===h?s:h,m=-1!==l.indexOf(p);if(void 0!==h&&(u=da(h)),null==u)return!1;if(null!=u.imports&&!m){let D;l.push(p);try{sr(u.imports,I=>{this.processInjectorType(I,o,l)&&(void 0===D&&(D=[]),D.push(I))})}finally{}if(void 0!==D)for(let I=0;I<D.length;I++){const{ngModule:P,providers:z}=D[I];sr(z,ne=>this.processProvider(ne,P,z||Ye))}}this.injectorDefTypes.add(p);const v=Nr(p)||(()=>new p);this.records.set(p,vi(v,Ki));const w=u.providers;if(null!=w&&!m){const D=s;sr(w,I=>this.processProvider(I,D,w))}return void 0!==h&&void 0!==s.providers}processProvider(s,o,l){let u=tl(s=Y(s))?s:Y(s&&s.provide);const h=function Ed(i,s,o){return Yi(i)?vi(void 0,i.useValue):vi(Cd(i),Ki)}(s);if(tl(s)||!0!==s.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=vi(void 0,Ki,!0),p.factory=()=>zi(p.multi),this.records.set(u,p)),u=s,p.multi.push(s)}this.records.set(u,h)}hydrate(s,o){return o.value===Ki&&(o.value=n_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Jt(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Y(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Xf(i){const s=un(i),o=null!==s?s.factory:Nr(i);if(null!==o)return o;if(i instanceof Ut)throw new De(204,!1);if(i instanceof Function)return function gC(i){const s=i.length;if(s>0)throw Oo(s,"?"),new De(204,!1);const o=function xs(i){const s=i&&(i[xr]||i[Os]);if(s){const o=function Jn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new De(204,!1)}function Cd(i,s,o){let l;if(tl(i)){const u=Y(i);return Nr(u)||Xf(u)}if(Yi(i))l=()=>Y(i.useValue);else if(function nt(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...zi(i.deps||[]));else if(function xc(i){return!(!i||!i.useExisting)}(i))l=()=>qe(Y(i.useExisting));else{const u=Y(i&&(i.useClass||i.provide));if(!function mC(i){return!!i.deps}(i))return Nr(u)||Xf(u);l=()=>new u(...zi(i.deps))}return l}function vi(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function Yi(i){return null!==i&&"object"==typeof i&&Yh in i}function tl(i){return"function"==typeof i}let Ei=(()=>{class i{static create(o,l){var u;if(Array.isArray(o))return i_({name:""},l,o,"");{const h=null!==(u=o.name)&&void 0!==u?u:"";return i_({name:h},o.parent,o.providers,h)}}}return i.THROW_IF_NOT_FOUND=jr,i.NULL=new Qf,i.\u0275prov=Ct({token:i,providedIn:"any",factory:()=>qe(_d)}),i.__NG_ELEMENT_ID__=-1,i})();function Sd(i,s){Zl(uf(i)[1],Ht())}function ro(i){let s=function Fc(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let u;if(gr(i))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new De(903,"");u=s.\u0275dir}if(u){if(o){l.push(u);const p=i;p.inputs=kc(i.inputs),p.declaredInputs=kc(i.declaredInputs),p.outputs=kc(i.outputs);const m=u.hostBindings;m&&f_(i,m);const v=u.viewQuery,w=u.contentQueries;if(v&&EC(i,v),w&&CC(i,w),ce(i.inputs,u.inputs),ce(i.declaredInputs,u.declaredInputs),ce(i.outputs,u.outputs),gr(u)&&u.data.animation){const D=i.data;D.animation=(D.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let p=0;p<h.length;p++){const m=h[p];m&&m.ngInherit&&m(i),m===ro&&(o=!1)}}s=Object.getPrototypeOf(s)}!function sp(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const u=i[l];u.hostVars=s+=u.hostVars,u.hostAttrs=An(u.hostAttrs,o=An(o,u.hostAttrs))}}(l)}function kc(i){return i===Nn?{}:i===Ye?[]:i}function EC(i,s){const o=i.viewQuery;i.viewQuery=o?(l,u)=>{s(l,u),o(l,u)}:s}function CC(i,s){const o=i.contentQueries;i.contentQueries=o?(l,u,h)=>{s(l,u,h),o(l,u,h)}:s}function f_(i,s){const o=i.hostBindings;i.hostBindings=o?(l,u)=>{s(l,u),o(l,u)}:s}let Zn=null;function io(){if(!Zn){const i=ft.Symbol;if(i&&i.iterator)Zn=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Zn=l)}}}return Zn}function Yo(i){return!!Cs(i)&&(Array.isArray(i)||!(i instanceof Map)&&io()in i)}function Cs(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Un(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function ap(i,s,o,l){const u=oe();return Un(u,Hs(),s)&&(pt(),Dt(Wt(),u,i,s,o,l)),ap}function Bc(i,s,o,l,u,h,p,m){const v=oe(),w=pt(),D=i+20,I=w.firstCreatePass?function p_(i,s,o,l,u,h,p,m,v){const w=s.consts,D=Xa(s,i,4,p||null,mr(w,m));fd(s,o,D,mr(w,v)),Zl(s,D);const I=D.tViews=vs(2,D,l,u,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,w);return null!==s.queries&&(s.queries.template(s,D),I.queries=s.queries.embeddedTView(D)),D}(D,w,v,s,o,l,u,h,p):w.data[D];tr(I,!1);const P=v[11].createComment("");Xu(w,v,P,I),jn(P,v),no(v,v[D]=br(P,v,P,I)),Bs(I)&&Bf(w,v,I),null!=p&&jf(v,I,m)}function g_(i){return function Ri(i,s){return i[s]}(function zl(){return Je.lFrame.contextLView}(),20+i)}function jc(i,s=Ge.Default){const o=oe();return null===o?qe(i,s):Ta(Ht(),o,Y(i),s)}function _p(){throw new Error("invalid")}function yp(i,s,o){const l=oe();return Un(l,Hs(),s)&&wr(pt(),Wt(),l,i,s,l[11],o,!1),yp}function Fd(i,s,o,l,u){const p=u?"class":"style";t_(i,o,s.inputs[p],p,l)}function kd(i,s,o,l){const u=oe(),h=pt(),p=20+i,m=u[11],v=u[p]=Ef(m,s,function Ug(){return Je.lFrame.currentNamespace}()),w=h.firstCreatePass?function R_(i,s,o,l,u,h,p){const m=s.consts,w=Xa(s,i,2,u,mr(m,h));return fd(s,o,w,mr(m,p)),null!==w.attrs&&md(w,w.attrs,!1),null!==w.mergedAttrs&&md(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(p,h,u,0,s,o,l):h.data[p];tr(w,!0);const D=w.mergedAttrs;null!==D&&Lr(m,v,D);const I=w.classes;null!==I&&If(m,v,I);const P=w.styles;return null!==P&&Vo(m,v,P),64!=(64&w.flags)&&Xu(h,u,v,w),0===function _a(){return Je.lFrame.elementDepthCount}()&&jn(v,u),function yu(){Je.lFrame.elementDepthCount++}(),Bs(w)&&(Bf(h,u,w),function hd(i,s,o){if(Il(s)){const u=s.directiveEnd;for(let h=s.directiveStart;h<u;h++){const p=i.data[h];p.contentQueries&&p.contentQueries(1,o[h],h)}}}(h,w,u)),null!==l&&jf(u,w),kd}function Uc(){let i=Ht();Hl()?$l():(i=i.parent,tr(i,!1));const s=i;!function yn(){Je.lFrame.elementDepthCount--}();const o=pt();return o.firstCreatePass&&(Zl(o,i),Il(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Iu(i){return 0!=(16&i.flags)}(s)&&Fd(o,s,oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Hg(i){return 0!=(32&i.flags)}(s)&&Fd(o,s,oe(),s.stylesWithoutHost,!1),Uc}function sl(i,s,o,l){return kd(i,s,o,l),Uc(),sl}function Cp(){return oe()}function wp(i){return!!i&&"function"==typeof i.then}function O_(i){return!!i&&"function"==typeof i.subscribe}const bp=O_;function Qi(i,s,o,l){const u=oe(),h=pt(),p=Ht();return Ss(h,u,u[11],p,i,s,!!o,l),Qi}function Bd(i,s){const o=Ht(),l=oe(),u=pt();return Ss(u,l,Mc(Ea(u.data),o,l),o,i,s,!1),Bd}function Ss(i,s,o,l,u,h,p,m){const v=Bs(l),D=i.firstCreatePass&&yi(i),I=s[8],P=Kf(s);let z=!0;if(3&l.type||m){const be=Tn(l,s),Le=m?m(be):be,se=P.length,Ke=m?mt=>m(kt(mt[l.index])):l.index;if(Pt(o)){let mt=null;if(!m&&v&&(mt=function P_(i,s,o,l){const u=i.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const p=u[h];if(p===o&&u[h+1]===l){const m=s[7],v=u[h+2];return m.length>v?m[v]:null}"string"==typeof p&&(h+=2)}return null}(i,s,u,l.index)),null!==mt)(mt.__ngLastListenerFn__||mt).__ngNextListenerFn__=h,mt.__ngLastListenerFn__=h,z=!1;else{h=ol(l,s,I,h,!1);const Nt=o.listen(Le,u,h);P.push(h,Nt),D&&D.push(u,Ke,se,se+1)}}else h=ol(l,s,I,h,!0),Le.addEventListener(u,h,p),P.push(h),D&&D.push(u,Ke,se,p)}else h=ol(l,s,I,h,!1);const ne=l.outputs;let ye;if(z&&null!==ne&&(ye=ne[u])){const be=ye.length;if(be)for(let Le=0;Le<be;Le+=2){const Qr=s[ye[Le]][ye[Le+1]].subscribe(h),gl=P.length;P.push(h,Qr),D&&D.push(u,l.index,gl,-(gl+1))}}}function Vc(i,s,o,l){try{return!1!==o(l)}catch(u){return Hr(i,u),!1}}function ol(i,s,o,l,u){return function h(p){if(p===Function)return l;const m=2&i.flags?an(i.index,s):s;0==(32&s[2])&&zf(m);let v=Vc(s,0,l,p),w=h.__ngNextListenerFn__;for(;w;)v=Vc(s,0,w,p)&&v,w=w.__ngNextListenerFn__;return u&&!1===v&&(p.preventDefault(),p.returnValue=!1),v}}function N_(i=1){return function oi(i){return(Je.lFrame.contextLView=function Yl(i,s){for(;i>0;)s=s[15],i--;return s}(i,Je.lFrame.contextLView))[8]}(i)}function jC(i,s){let o=null;const l=function Mf(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(0==(1&o))return s[o+1]}return null}(i);for(let u=0;u<s.length;u++){const h=s[u];if("*"!==h){if(null===l?Js(i,h,!0):Sm(l,h))return u}else o=u}return o}function F_(i){const s=oe()[16][6];if(!s.projection){const l=s.projection=Oo(i?i.length:1,null),u=l.slice();let h=s.child;for(;null!==h;){const p=i?jC(h,i):0;null!==p&&(u[p]?u[p].projectionNext=h:l[p]=h,u[p]=h),h=h.next}}}function Dp(i,s=0,o){const l=oe(),u=pt(),h=Xa(u,20+i,16,null,o||null);null===h.projection&&(h.projection=s),$l(),64!=(64&h.flags)&&function F0(i,s,o){Cm(s[11],0,s,o,Df(i,o,s),mm(o.parent||s[6],o,s))}(u,l,h)}function ea(i,s,o,l,u){const h=i[o+1],p=null===s;let m=l?mi(h):Dn(h),v=!1;for(;0!==m&&(!1===v||p);){const D=i[m+1];V_(i[m],s)&&(v=!0,i[m+1]=l?$o(D):_i(D)),m=l?mi(D):Dn(D)}v&&(i[o+1]=l?_i(h):$o(h))}function V_(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&li(i,s)>=0}function Wd(i,s,o){return Dr(i,s,o,!1),Wd}function xp(i,s){return Dr(i,s,null,!0),xp}function Dr(i,s,o,l){const u=oe(),h=pt(),p=function _r(i){const s=Je.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);h.firstUpdatePass&&function Gd(i,s,o,l){const u=i.data;if(null===u[o+1]){const h=u[In()],p=function lo(i,s){return s>=i.expandoStartIndex}(i,o);(function Z_(i,s){return 0!=(i.flags&(s?16:32))})(h,l)&&null===s&&!p&&(s=!1),s=function W_(i,s,o,l){const u=Ea(i);let h=l?s.residualClasses:s.residualStyles;if(null===u)0===(l?s.classBindings:s.styleBindings)&&(o=Is(o=Op(null,i,s,o,l),s.attrs,l),h=null);else{const p=s.directiveStylingLast;if(-1===p||i[p]!==u)if(o=Op(u,i,s,o,l),null===h){let v=function $C(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==Dn(l))return i[mi(l)]}(i,s,l);void 0!==v&&Array.isArray(v)&&(v=Op(null,i,s,v[1],l),v=Is(v,s.attrs,l),function qd(i,s,o,l){i[mi(o?s.classBindings:s.styleBindings)]=l}(i,s,l,v))}else h=function G_(i,s,o){let l;const u=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<u;h++)l=Is(l,i[h].hostAttrs,o);return Is(l,s.attrs,o)}(i,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),o}(u,h,s,l),function Ud(i,s,o,l,u,h){let p=h?s.classBindings:s.styleBindings,m=mi(p),v=Dn(p);i[l]=o;let D,w=!1;if(Array.isArray(o)){const I=o;D=I[1],(null===D||li(I,D)>0)&&(w=!0)}else D=o;if(u)if(0!==v){const P=mi(i[m+1]);i[l+1]=vn(P,m),0!==P&&(i[P+1]=_s(i[P+1],l)),i[m+1]=function GE(i,s){return 131071&i|s<<17}(i[m+1],l)}else i[l+1]=vn(m,0),0!==m&&(i[m+1]=_s(i[m+1],l)),m=l;else i[l+1]=vn(v,0),0===m?m=l:i[v+1]=_s(i[v+1],l),v=l;w&&(i[l+1]=_i(i[l+1])),ea(i,D,l,!0),ea(i,D,l,!1),function UC(i,s,o,l,u){const h=u?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&li(h,s)>=0&&(o[l+1]=$o(o[l+1]))}(s,D,i,l,h),p=vn(m,v),h?s.classBindings=p:s.styleBindings=p}(u,h,s,o,p,l)}}(h,i,p,l),s!==Ue&&Un(u,p,s)&&function K_(i,s,o,l,u,h,p,m){if(!(3&s.type))return;const v=i.data,w=v[m+1];ta(function Am(i){return 1==(1&i)}(w)?Kd(v,s,o,u,Dn(w),p):void 0)||(ta(h)||function Cc(i){return 2==(2&i)}(w)&&(h=Kd(v,null,o,u,m,p)),function HE(i,s,o,l,u){const h=Pt(i);if(s)u?h?i.addClass(o,l):o.classList.add(l):h?i.removeClass(o,l):o.classList.remove(l);else{let p=-1===l.indexOf("-")?void 0:qi.DashCase;if(null==u)h?i.removeStyle(o,l,p):o.style.removeProperty(l);else{const m="string"==typeof u&&u.endsWith("!important");m&&(u=u.slice(0,-10),p|=qi.Important),h?i.setStyle(o,l,u,p):o.style.setProperty(l,u,m?"important":"")}}}(l,p,ga(In(),o),u,h))}(h,h.data[In()],u,u[11],i,u[p+1]=function Y_(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=he(gs(i)))),i}(s,o),l,p)}function Op(i,s,o,l,u){let h=null;const p=o.directiveEnd;let m=o.directiveStylingLast;for(-1===m?m=o.directiveStart:m++;m<p&&(h=s[m],l=Is(l,h.hostAttrs,u),h!==i);)m++;return null!==i&&(o.directiveStylingLast=m),l}function Is(i,s,o){const l=o?1:2;let u=-1;if(null!==s)for(let h=0;h<s.length;h++){const p=s[h];"number"==typeof p?u=p:u===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Kn(i,p,!!o||s[++h]))}return void 0===i?null:i}function Kd(i,s,o,l,u,h){const p=null===s;let m;for(;u>0;){const v=i[u],w=Array.isArray(v),D=w?v[1]:v,I=null===D;let P=o[u+1];P===Ue&&(P=I?Ye:void 0);let z=I?ai(P,l):D===l?P:void 0;if(w&&!ta(z)&&(z=ai(v,l)),ta(z)&&(m=z,p))return m;const ne=i[u+1];u=p?mi(ne):Dn(ne)}if(null!==s){let v=h?s.residualClasses:s.residualStyles;null!=v&&(m=ai(v,l))}return m}function ta(i){return void 0!==i}function ll(i,s=""){const o=oe(),l=pt(),u=i+20,h=l.firstCreatePass?Xa(l,u,1,s,null):l.data[u],p=o[u]=function vf(i,s){return Pt(i)?i.createText(s):i.createTextNode(s)}(o[11],s);Xu(l,o,p,h),tr(h,!1)}function qr(i){return co("",i,""),qr}function co(i,s,o){const l=oe(),u=function Zi(i,s,o,l){return Un(i,Hs(),o)?s+ue(o)+l:Ue}(l,i,s,o);return u!==Ue&&nn(l,In(),u),co}function jp(i,s,o){const l=oe();if(Un(l,Hs(),s)){const h=pt(),p=Wt();wr(h,p,l,i,s,Mc(Ea(h.data),p,l),o,!0)}return jp}const Kr=void 0;var XC=["en",[["a","p"],["AM","PM"],Kr],[["AM","PM"],Kr,Kr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kr,"{1} 'at' {0}",Kr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uo(i){const o=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let ho={};function Vp(i){const s=function th(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Hp(s);if(o)return o;const l=s.split("-")[0];if(o=Hp(l),o)return o;if("en"===l)return XC;throw new Error(`Missing locale data for the locale "${i}".`)}function dy(i){return Vp(i)[Ze.PluralCase]}function Hp(i){return i in ho||(ho[i]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[i]),ho[i]}var Ze=(()=>((Ze=Ze||{})[Ze.LocaleId=0]="LocaleId",Ze[Ze.DayPeriodsFormat=1]="DayPeriodsFormat",Ze[Ze.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ze[Ze.DaysFormat=3]="DaysFormat",Ze[Ze.DaysStandalone=4]="DaysStandalone",Ze[Ze.MonthsFormat=5]="MonthsFormat",Ze[Ze.MonthsStandalone=6]="MonthsStandalone",Ze[Ze.Eras=7]="Eras",Ze[Ze.FirstDayOfWeek=8]="FirstDayOfWeek",Ze[Ze.WeekendRange=9]="WeekendRange",Ze[Ze.DateFormat=10]="DateFormat",Ze[Ze.TimeFormat=11]="TimeFormat",Ze[Ze.DateTimeFormat=12]="DateTimeFormat",Ze[Ze.NumberSymbols=13]="NumberSymbols",Ze[Ze.NumberFormats=14]="NumberFormats",Ze[Ze.CurrencyCode=15]="CurrencyCode",Ze[Ze.CurrencySymbol=16]="CurrencySymbol",Ze[Ze.CurrencyName=17]="CurrencyName",Ze[Ze.Currencies=18]="Currencies",Ze[Ze.Directionality=19]="Directionality",Ze[Ze.PluralCase=20]="PluralCase",Ze[Ze.ExtraData=21]="ExtraData",Ze))();const nh="en-US";let ih=nh;function Cy(i,s,o,l,u){if(i=Y(i),Array.isArray(i))for(let h=0;h<i.length;h++)Cy(i[h],s,o,l,u);else{const h=pt(),p=oe();let m=tl(i)?i:Y(i.provide),v=Cd(i);const w=Ht(),D=1048575&w.providerIndexes,I=w.directiveStart,P=w.providerIndexes>>20;if(tl(i)||!i.multi){const z=new Jl(v,u,jc),ne=Yp(m,s,u?D:D+P,I);-1===ne?(qs(Gs(w,p),h,m),Kp(h,i,s.length),s.push(m),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),o.push(z),p.push(z)):(o[ne]=z,p[ne]=z)}else{const z=Yp(m,s,D+P,I),ne=Yp(m,s,D,D+P),ye=z>=0&&o[z],be=ne>=0&&o[ne];if(u&&!be||!u&&!ye){qs(Gs(w,p),h,m);const Le=function Mw(i,s,o,l,u){const h=new Jl(i,o,jc);return h.multi=[],h.index=s,h.componentProviders=0,wy(h,u,l&&!o),h}(u?Zc:Aw,o.length,u,l,v);!u&&be&&(o[ne].providerFactory=Le),Kp(h,i,s.length,0),s.push(m),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),o.push(Le),p.push(Le)}else Kp(h,i,z>-1?z:ne,wy(o[u?ne:z],v,!u&&l));!u&&l&&be&&o[ne].componentProviders++}}}function Kp(i,s,o,l){const u=tl(s),h=function Rc(i){return!!i.useClass}(s);if(u||h){const v=(h?Y(s.useClass):s).prototype.ngOnDestroy;if(v){const w=i.destroyHooks||(i.destroyHooks=[]);if(!u&&s.multi){const D=w.indexOf(o);-1===D?w.push(o,[l,v]):w[D+1].push(l,v)}else w.push(o,v)}}}function wy(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Yp(i,s,o,l){for(let u=o;u<l;u++)if(s[u]===i)return u;return-1}function Aw(i,s,o,l){return ch(this.multi,[])}function Zc(i,s,o,l){const u=this.multi;let h;if(this.providerFactory){const p=this.providerFactory.componentProviders,m=vr(o,o[1],this.providerFactory.index,l);h=m.slice(0,p),ch(u,h);for(let v=p;v<m.length;v++)h.push(m[v])}else h=[],ch(u,h);return h}function ch(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function by(i,s=[]){return o=>{o.providersResolver=(l,u)=>function lh(i,s,o){const l=pt();if(l.firstCreatePass){const u=gr(i);Cy(o,l.data,l.blueprint,u,!0),Cy(s,l.data,l.blueprint,u,!1)}}(l,u?u(i):i,s)}}class Dy{}class Qc{resolveComponentFactory(s){throw function uh(i){const s=Error(`No component factory found for ${he(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let dh=(()=>{class i{}return i.NULL=new Qc,i})();function Iy(){return ts(Ht(),oe())}function ts(i,s){return new ra(Tn(i,s))}let ra=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=Iy,i})();function Rw(i){return i instanceof ra?i.nativeElement:i}class Ow{}let Pw=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function hh(){const i=oe(),o=an(Ht().index,i);return function Zp(i){return i[11]}(jt(o)?o:i)}(),i})(),Ay=(()=>{class i{}return i.\u0275prov=Ct({token:i,providedIn:"root",factory:()=>null}),i})();class My{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Nw=new My("13.2.7"),Qp={};function fh(i,s,o,l,u=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&l.push(kt(h)),pr(h))for(let m=10;m<h.length;m++){const v=h[m],w=v[1].firstChild;null!==w&&fh(v[1],v,w,l)}const p=o.type;if(8&p)fh(i,s,o.child,l);else if(32&p){const m=mf(o,s);let v;for(;v=m();)l.push(v)}else if(16&p){const m=ed(s,o);if(Array.isArray(m))l.push(...m);else{const v=jo(s[16]);fh(v[1],v,m,l,!0)}}o=u?o.projectionNext:o.next}return l}class po{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return fh(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(pr(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(bf(s,l),Pa(o,l))}this._attachedToViewContainer=!1}fm(this._lView[1],this._lView)}onDestroy(s){Vm(this._lView[1],this._lView,null,s)}markForCheck(){zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function e_(i,s,o){ya(!0);try{Gf(i,s,o)}finally{ya(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new De(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BE(i,s){Ec(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new De(902,"");this._appRef=s}}class Fw extends po{constructor(s){super(s),this._view=s}detectChanges(){Jm(this._view)}checkNoChanges(){!function Go(i){ya(!0);try{Jm(i)}finally{ya(!1)}}(this._view)}get context(){return null}}class xy extends dh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=on(s);return new Jp(o,this.ngModule)}}function Ry(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class Jp extends Dy{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Tm(i){return i.map(Ho).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Ry(this.componentDef.inputs)}get outputs(){return Ry(this.componentDef.outputs)}create(s,o,l,u){const h=(u=u||this.ngModule)?function Xp(i,s){return{get:(o,l,u)=>{const h=i.get(o,Qp,u);return h!==Qp||l===Qp?h:s.get(o,l,u)}}}(s,u.injector):s,p=h.get(Ow,Fr),m=h.get(Ay,null),v=p.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",D=l?function Um(i,s,o){if(Pt(i))return i.selectRootElement(s,o===wt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(v,l,this.componentDef.encapsulation):Ef(p.createRenderer(null,this.componentDef),w,function yD(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(w)),I=this.componentDef.onPush?576:528,P=function ip(i,s){return{components:[],scheduler:i||OE,clean:gd,playerHandler:s||null,flags:0}}(),z=vs(0,null,null,1,0,null,null,null,null,null),ne=Sc(null,z,P,I,null,null,p,v,m,h);let ye,be;Io(ne);try{const Le=function Nc(i,s,o,l,u,h){const p=o[1];o[20]=i;const v=Xa(p,20,2,"#host",null),w=v.mergedAttrs=s.hostAttrs;null!==w&&(md(v,w,!0),null!==i&&(Lr(u,i,w),null!==v.classes&&If(u,i,v.classes),null!==v.styles&&Vo(u,i,v.styles)));const D=l.createRenderer(i,s),I=Sc(o,Ic(s),null,s.onPush?64:16,o[20],v,l,D,h||null,null);return p.firstCreatePass&&(qs(Gs(v,o),p,s.type),Es(p,v),Ym(v,o.length,1)),no(o,I),o[20]=I}(D,this.componentDef,ne,p,v);if(D)if(l)Lr(v,D,["ng-version",Nw.full]);else{const{attrs:se,classes:Ke}=function Im(i){const s=[],o=[];let l=1,u=2;for(;l<i.length;){let h=i[l];if("string"==typeof h)2===u?""!==h&&s.push(h,i[++l]):8===u&&o.push(h);else{if(!pi(u))break;u=h}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);se&&Lr(v,D,se),Ke&&Ke.length>0&&If(v,D,Ke.join(" "))}if(be=Bl(z,20),void 0!==o){const se=be.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const mt=o[Ke];se.push(null!=mt?Array.from(mt):null)}}ye=function rp(i,s,o,l,u){const h=o[1],p=function Gm(i,s,o){const l=Ht();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),el(i,l,s,zo(i,s,1,null),o));const u=vr(s,i,l.directiveStart,l);jn(u,s);const h=Tn(l,s);return h&&jn(h,s),u}(h,o,s);if(l.components.push(p),i[8]=p,u&&u.forEach(v=>v(p,s)),s.contentQueries){const v=Ht();s.contentQueries(1,p,v.directiveStart)}const m=Ht();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(nr(m.index),Ac(o[1],m,0,m.directiveStart,m.directiveEnd,s),bt(s,p)),p}(Le,this.componentDef,ne,P,[Sd]),Tc(z,ne,null)}finally{cs()}return new Lw(this.componentType,ye,ts(be,ne),ne,be)}}class Lw extends class xw{}{constructor(s,o,l,u,h){super(),this.location=l,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Fw(u),this.componentType=s}get injector(){return new qt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class ia{}class Oy{}const Hn=new Map;class pl extends ia{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xy(this);const l=_n(s);this._bootstrapComponents=fi(l.bootstrap),this._r3Injector=s_(s,o,[{provide:ia,useValue:this},{provide:dh,useValue:this.componentFactoryResolver}],he(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Ei.THROW_IF_NOT_FOUND,l=Ge.Default){return s===Ei||s===ia||s===_d?this:this._r3Injector.get(s,o,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class tg extends Oy{constructor(s){super(),this.moduleType=s,null!==_n(s)&&function ED(i){const s=new Set;!function o(l){const u=_n(l,!0),h=u.id;null!==h&&(function go(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${he(s)} vs ${he(s.name)}`)}(h,Hn.get(h),l),Hn.set(h,l));const p=fi(u.imports);for(const m of p)s.has(m)||(s.add(m),o(m))}(i)}(s)}create(s){return new pl(this.moduleType,s)}}function mo(i,s,o,l,u){return function Fy(i,s,o,l,u,h,p){const m=s+o;return function Zo(i,s,o,l){const u=Un(i,s,o);return Un(i,s+1,l)||u}(i,m,u,h)?function Qn(i,s,o){return i[s]=o}(i,m+2,p?l.call(p,u,h):l(u,h)):function tu(i,s){const o=i[s];return o===Ue?void 0:o}(i,m+2)}(oe(),function fn(){const i=Je.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,o,l,u)}function mh(i){return s=>{setTimeout(i,void 0,s)}}const Zr=class Hw extends g.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){var u,h,p;let m=s,v=o||(()=>null),w=l;if(s&&"object"==typeof s){const I=s;m=null===(u=I.next)||void 0===u?void 0:u.bind(I),v=null===(h=I.error)||void 0===h?void 0:h.bind(I),w=null===(p=I.complete)||void 0===p?void 0:p.bind(I)}this.__isAsync&&(v=mh(v),m&&(m=mh(m)),w&&(w=mh(w)));const D=super.subscribe({next:m,error:v,complete:w});return s instanceof H.w0&&s.add(D),D}};function $w(){return this._results[io()]()}class _h{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=io(),l=_h.prototype;l[o]||(l[o]=$w)}get changes(){return this._changes||(this._changes=new Zr)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const u=ir(s);(this._changesDetected=!function Hh(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let u=i[l],h=s[l];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let yh=(()=>{class i{}return i.__NG_ELEMENT_ID__=xD,i})();const AD=yh,MD=class extends AD{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s){const o=this._declarationTContainer.tViews,l=Sc(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(o)),Tc(o,l,s),new po(l)}};function xD(){return sg(Ht(),oe())}function sg(i,s){return 4&i.type?new MD(s,i,ts(i,s)):null}let nu=(()=>{class i{}return i.__NG_ELEMENT_ID__=RD,i})();function RD(){return Gw(Ht(),oe())}const jy=nu,zw=class extends jy{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return ts(this._hostTNode,this._hostLView)}get injector(){return new qt(this._hostTNode,this._hostLView)}get parentInjector(){const s=Sa(this._hostTNode,this._hostLView);if(Au(s)){const o=Fi(s,this._hostLView),l=Ni(s);return new qt(o[1].data[l+8],o)}return new qt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Ww(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){const u=s.createEmbeddedView(o||{});return this.insert(u,l),u}createComponent(s,o,l,u,h){const p=s&&!function Ro(i){return"function"==typeof i}(s);let m;if(p)m=o;else{const I=o||{};m=I.index,l=I.injector,u=I.projectableNodes,h=I.ngModuleRef}const v=p?s:new Jp(on(s)),w=l||this.parentInjector;if(!h&&null==v.ngModule){const P=(p?w:this.parentInjector).get(ia,null);P&&(h=P)}const D=v.create(w,u,void 0,h);return this.insert(D.hostView,m),D}insert(s,o){const l=s._lView,u=l[1];if(function jl(i){return pr(i[3])}(l)){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const I=l[3],P=new zw(I,I[6],I[3]);P.detach(P.indexOf(s))}}const h=this._adjustIndex(o),p=this._lContainer;!function Cf(i,s,o,l){const u=10+l,h=o.length;l>0&&(o[u-1][4]=s),l<h-10?(s[4]=o[u],$h(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const p=s[17];null!==p&&o!==p&&function wf(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(p,s);const m=s[19];null!==m&&m.insertView(i),s[2]|=128}(u,l,p,h);const m=Tf(h,p),v=l[11],w=Zu(v,p[7]);return null!==w&&function lr(i,s,o,l,u,h){l[0]=u,l[6]=s,Ec(i,l,o,1,u,h)}(u,p[6],v,l,w,m),s.attachToViewContainerRef(),$h(Uy(p),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Ww(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=bf(this._lContainer,o);l&&(Pa(Uy(this._lContainer),o),fm(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=bf(this._lContainer,o);return l&&null!=Pa(Uy(this._lContainer),o)?new po(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function Ww(i){return i[8]}function Uy(i){return i[8]||(i[8]=[])}function Gw(i,s){let o;const l=s[i.index];if(pr(l))o=l;else{let u;if(8&i.type)u=kt(l);else{const h=s[11];u=h.createComment("");const p=Tn(i,s);Ga(h,Zu(h,p),u,function gm(i,s){return Pt(i)?i.nextSibling(s):s.nextSibling}(h,p),!1)}s[i.index]=o=br(l,s,u,i),no(s,o)}return new zw(o,i,s)}class og{constructor(s){this.queryList=s,this.matches=null}clone(){return new og(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vy{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,u=[];for(let h=0;h<l;h++){const p=o.getByIndex(h);u.push(this.queries[p.indexInDeclarationView].clone())}return new Vy(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==nb(s,o).matches&&this.queries[o].setDirty()}}class Kw{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class ag{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(s,u);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new ag(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Hy{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Hy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const h=l[u];this.matchTNodeWithReadOption(s,o,ND(o,h)),this.matchTNodeWithReadOption(s,o,ki(o,s,h,!1,!1))}else l===yh?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,ki(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===ra||u===nu||u===yh&&4&o.type)this.addMatch(o.index,-2);else{const h=ki(o,s,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function ND(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function kD(i,s,o,l){return-1===o?function FD(i,s){return 11&i.type?ts(i,s):4&i.type?sg(i,s):null}(s,i):-2===o?function LD(i,s,o){return o===ra?ts(s,i):o===yh?sg(s,i):o===nu?Gw(s,i):void 0}(i,s,l):vr(i,i[1],o,s)}function Yw(i,s,o,l){const u=s[19].queries[l];if(null===u.matches){const h=i.data,p=o.matches,m=[];for(let v=0;v<p.length;v+=2){const w=p[v];m.push(w<0?null:kD(s,h[w],p[v+1],o.metadata.read))}u.matches=m}return u.matches}function $y(i,s,o,l){const u=i.queries.getByIndex(o),h=u.matches;if(null!==h){const p=Yw(i,s,u,o);for(let m=0;m<h.length;m+=2){const v=h[m];if(v>0)l.push(p[m/2]);else{const w=h[m+1],D=s[-v];for(let I=10;I<D.length;I++){const P=D[I];P[17]===P[3]&&$y(P[1],P,w,l)}if(null!==D[9]){const I=D[9];for(let P=0;P<I.length;P++){const z=I[P];$y(z[1],z,w,l)}}}}}return l}function Zw(i){const s=oe(),o=pt(),l=Cu();ql(l+1);const u=nb(o,l);if(i.dirty&&as(s)===(2==(2&u.metadata.flags))){if(null===u.matches)i.reset([]);else{const h=u.crossesNgTemplate?$y(o,s,l,[]):Yw(o,s,u,l);i.reset(h,Rw),i.notifyOnChanges()}return!0}return!1}function Qw(i,s,o){const l=pt();l.firstCreatePass&&(tb(l,new Kw(i,s,o),-1),2==(2&s)&&(l.staticViewQueries=!0)),eb(l,oe(),s)}function Xw(i,s,o,l){const u=pt();if(u.firstCreatePass){const h=Ht();tb(u,new Kw(s,o,l),h.index),function jD(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(u,i),2==(2&o)&&(u.staticContentQueries=!0)}eb(u,oe(),o)}function Jw(){return function BD(i,s){return i[19].queries[s].queryList}(oe(),Cu())}function eb(i,s,o){const l=new _h(4==(4&o));Vm(i,s,l,l.destroy),null===s[19]&&(s[19]=new Vy),s[19].queries.push(new og(l))}function tb(i,s,o){null===i.queries&&(i.queries=new ag),i.queries.track(new Hy(s,o))}function nb(i,s){return i.queries.getByIndex(s)}function ug(...i){}const yb=new Ut("Application Initializer");let Zy=(()=>{class i{constructor(o){this.appInits=o,this.resolve=ug,this.reject=ug,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(wp(h))o.push(h);else if(bp(h)){const p=new Promise((m,v)=>{h.subscribe({complete:m,error:v})});o.push(p)}}Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(qe(yb,8))},i.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const vb=new Ut("AppId",{providedIn:"root",factory:function Eb(){return`${Qy()}${Qy()}${Qy()}`}});function Qy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cb=new Ut("Platform Initializer"),wb=new Ut("Platform ID"),bb=new Ut("appBootstrapListener");let Db=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ct({token:i,factory:i.\u0275fac}),i})();const Xy=new Ut("LocaleId",{providedIn:"root",factory:()=>Lu(Xy,Ge.Optional|Ge.SkipSelf)||function rS(){return"undefined"!=typeof $localize&&$localize.locale||nh}()}),iS=new Ut("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class sS{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let oS=(()=>{class i{compileModuleSync(o){return new tg(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),h=fi(_n(o).declarations).reduce((p,m)=>{const v=on(m);return v&&p.push(new Jp(v)),p},[]);return new sS(l,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const lS=(()=>Promise.resolve(0))();function Jy(i){"undefined"==typeof Zone?lS.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ns{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zr(!1),this.onMicrotaskEmpty=new Zr(!1),this.onStable=new Zr(!1),this.onError=new Zr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function cS(){let i=ft.requestAnimationFrame,s=ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function hS(i){const s=()=>{!function dS(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ft,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,tv(i),i.isCheckStableRunning=!0,ev(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),tv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,h,p,m)=>{try{return Sb(i),o.invokeTask(u,h,p,m)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),Tb(i)}},onInvoke:(o,l,u,h,p,m,v)=>{try{return Sb(i),o.invoke(u,h,p,m,v)}finally{i.shouldCoalesceRunChangeDetection&&s(),Tb(i)}},onHasTask:(o,l,u,h)=>{o.hasTask(u,h),l===u&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,tv(i),ev(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,u,h)=>(o.handleError(u,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ns.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ns.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,u){const h=this._inner,p=h.scheduleEventTask("NgZoneEvent: "+u,s,uS,ug,ug);try{return h.runTask(p,o,l)}finally{h.cancelTask(p)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const uS={};function ev(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function tv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Sb(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Tb(i){i._nesting--,ev(i)}class fS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zr,this.onMicrotaskEmpty=new Zr,this.onStable=new Zr,this.onError=new Zr}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,u){return s.apply(o,l)}}let Ib=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ns.assertNotInAngularZone(),Jy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jy(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,u){return[]}}return i.\u0275fac=function(o){return new(o||i)(qe(ns))},i.\u0275prov=Ct({token:i,factory:i.\u0275fac}),i})(),nv=(()=>{class i{constructor(){this._applications=new Map,Eh.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return Eh.findTestabilityInTree(this,o,l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ct({token:i,factory:i.\u0275fac}),i})();class Ab{addToWindow(s){}findTestabilityInTree(s,o,l){return null}}function Mb(i){Eh=i}let bi,Eh=new Ab;const dg=new Ut("AllowMultipleToken");class gS{constructor(s,o){this.name=s,this.token=o}}function Rb(i,s,o=[]){const l=`Platform: ${s}`,u=new Ut(l);return(h=[])=>{let p=Pb();if(!p||p.injector.get(dg,!1))if(i)i(o.concat(h).concat({provide:u,useValue:!0}));else{const m=o.concat(h).concat({provide:u,useValue:!0},{provide:yd,useValue:"platform"});!function xb(i){if(bi&&!bi.destroyed&&!bi.injector.get(dg,!1))throw new De(400,"");bi=i.get(Nb);const s=i.get(Cb,null);s&&s.forEach(o=>o())}(Ei.create({providers:m,name:l}))}return function Ob(i){const s=Pb();if(!s)throw new De(401,"");return s}()}}function Pb(){return bi&&!bi.destroyed?bi:null}let Nb=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const m=function mS(i,s){let o;return o="noop"===i?new fS:("zone.js"===i?void 0:i)||new ns({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),v=[{provide:ns,useValue:m}];return m.run(()=>{const w=Ei.create({providers:v,parent:this.injector,name:o.moduleType.name}),D=o.create(w),I=D.injector.get(qu,null);if(!I)throw new De(402,"");return m.runOutsideAngular(()=>{const P=m.onError.subscribe({next:z=>{I.handleError(z)}});D.onDestroy(()=>{Ch(this._modules,D),P.unsubscribe()})}),function _S(i,s,o){try{const l=o();return wp(l)?l.catch(u=>{throw s.runOutsideAngular(()=>i.handleError(u)),u}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(I,m,()=>{const P=D.injector.get(Zy);return P.runInitializers(),P.donePromise.then(()=>(function nw(i){ht(i,"Expected localeId to be defined"),"string"==typeof i&&(ih=i.toLowerCase().replace(/_/g,"-"))}(D.injector.get(Xy,nh)||nh),this._moduleDoBootstrap(D),D))})})}bootstrapModule(o,l=[]){const u=Fb({},l);return function rv(i,s,o){const l=new tg(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const l=o.injector.get(iv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new De(403,"");o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(qe(Ei))},i.\u0275prov=Ct({token:i,factory:i.\u0275fac}),i})();function Fb(i,s){return Array.isArray(s)?s.reduce(Fb,i):Object.assign(Object.assign({},i),s)}let iv=(()=>{class i{constructor(o,l,u,h,p){this._zone=o,this._injector=l,this._exceptionHandler=u,this._componentFactoryResolver=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new ie.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),v=new ie.y(w=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ns.assertNotInAngularZone(),Jy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{ns.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{D.unsubscribe(),I.unsubscribe()}});this.isStable=(0,J.T)(m,v.pipe((0,fe.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new De(405,"");let u;u=o instanceof Dy?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(u.componentType);const h=function pS(i){return i.isBoundToModule}(u)?void 0:this._injector.get(ia),m=u.create(Ei.NULL,[],l||u.selector,h),v=m.location.nativeElement,w=m.injector.get(Ib,null),D=w&&m.injector.get(nv);return w&&D&&D.registerApplication(v,w),m.onDestroy(()=>{this.detachView(m.hostView),Ch(this.components,m),D&&D.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new De(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Ch(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(bb,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(qe(ns),qe(Ei),qe(qu),qe(dh),qe(Zy))},i.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ch(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}let ov=!0,av=!1;function Lb(){return av=!0,ov}function Bb(){if(av)throw new Error("Cannot enable prod mode after platform setup.");ov=!1}let Ub=(()=>{class i{}return i.__NG_ELEMENT_ID__=Vb,i})();function Vb(i){return function Hb(i,s,o){if(Al(i)&&!o){const l=an(i.index,s);return new po(l,l)}return 47&i.type?new po(s[16],s):null}(Ht(),oe(),16==(16&i))}class dv{constructor(){}supports(s){return Yo(s)}create(s){return new hv(s)}}const DS=(i,s)=>s;class hv{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||DS}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,u=0,h=null;for(;o||l;){const p=!l||o&&o.currentIndex<Wb(l,u,h)?o:l,m=Wb(p,u,h),v=p.currentIndex;if(p===l)u--,l=l._nextRemoved;else if(o=o._next,null==p.previousIndex)u++;else{h||(h=[]);const w=m-u,D=v-u;if(w!=D){for(let P=0;P<w;P++){const z=P<h.length?h[P]:h[P]=0,ne=z+P;D<=ne&&ne<w&&(h[P]=z+1)}h[p.previousIndex]=D-w}}m!==v&&s(p,m,v)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Yo(s))throw new De(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,h,p,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let m=0;m<this.length;m++)h=s[m],p=this._trackByFn(m,h),null!==o&&Object.is(o.trackById,p)?(l&&(o=this._verifyReinsertion(o,h,p,m)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,p,m),l=!0),o=o._next}else u=0,function Lc(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[io()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,m=>{p=this._trackByFn(u,m),null!==o&&Object.is(o.trackById,p)?(l&&(o=this._verifyReinsertion(o,m,p,u)),Object.is(o.item,m)||this._addIdentityChange(o,m)):(o=this._mismatch(o,m,p,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,u){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,u)):s=this._addAfter(new fv(o,l),h,u),s}_verifyReinsertion(s,o,l,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,h=s._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const u=null===o?this._itHead:o._next;return s._next=u,s._prev=o,null===u?this._itTail=s:u._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new pv),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class fv{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _g{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class pv{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new _g,this.map.set(o,l)),l.add(s)}get(s,o){const u=this.map.get(s);return u?u.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wb(i,s,o){const l=i.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+s+u}class Gb{constructor(){}supports(s){return s instanceof Map||Cs(s)}create(){return new SS}}class SS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Cs(s)))throw new De(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,o);const h=u._prev,p=u._next;return h&&(h._next=p),p&&(p._prev=h),u._next=null,u._prev=null,u}const l=new TS(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class TS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qb(){return new gv([new dv])}let gv=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||qb()),deps:[[i,new Wi,new ci]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new De(901,"")}}return i.\u0275prov=Ct({token:i,providedIn:"root",factory:qb}),i})();function Yb(){return new mv([new Gb])}let mv=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Yb()),deps:[[i,new Wi,new ci]]}}find(o){const l=this.factories.find(h=>h.supports(o));if(l)return l;throw new De(901,"")}}return i.\u0275prov=Ct({token:i,providedIn:"root",factory:Yb}),i})();const IS=Rb(null,"core",[{provide:wb,useValue:"unknown"},{provide:Nb,deps:[Ei]},{provide:nv,deps:[]},{provide:Db,deps:[]}]);let AS=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(qe(iv))},i.\u0275mod=gt({type:i}),i.\u0275inj=On({}),i})()},681:(He,le,R)=>{R.r(le),R.d(le,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>xr,_DEFAULT_ENTRY_NAME:()=>ht,_addComponent:()=>zt,_addOrOverwriteComponent:()=>Ct,_apps:()=>Lt,_clearComponents:()=>Mr,_components:()=>xn,_getProvider:()=>On,_registerComponent:()=>Rn,_removeServiceInstance:()=>un,deleteApp:()=>Ge,getApp:()=>Os,getApps:()=>Rr,initializeApp:()=>Rs,onLog:()=>Pn,registerVersion:()=>dn,setLogLevel:()=>Jr});var g=R(861),H=R(859),ie=R(877),J=R(90),fe=R(766);class me{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map(k=>{if(function ce(x){const F=x.getComponent();return"VERSION"===(null==F?void 0:F.type)}(k)){const ae=k.getImmediate();return`${ae.library}/${ae.version}`}return null}).filter(k=>k).join(" ")}}const he="@firebase/app",j=new ie.Yd("@firebase/app"),ht="[DEFAULT]",Me={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lt=new Map,xn=new Map;function zt(x,F){try{x.container.addComponent(F)}catch(k){j.debug(`Component ${F.name} failed to register with FirebaseApp ${x.name}`,k)}}function Ct(x,F){x.container.addOrOverwriteComponent(F)}function Rn(x){const F=x.name;if(xn.has(F))return j.debug(`There were multiple attempts to register component ${F}.`),!1;xn.set(F,x);for(const k of Lt.values())zt(k,x);return!0}function On(x,F){const k=x.container.getProvider("heartbeat").getImmediate({optional:!0});return k&&k.triggerHeartbeat(),x.container.getProvider(F)}function un(x,F,k=ht){On(x,F).clearInstance(k)}function Mr(){xn.clear()}const Jn=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class da{constructor(F,k,ae){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},k),this._name=k.name,this._automaticDataCollectionEnabled=k.automaticDataCollectionEnabled,this._container=ae,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}const xr="9.9.3";function Rs(x,F={}){"object"!=typeof F&&(F={name:F});const k=Object.assign({name:ht,automaticDataCollectionEnabled:!1},F),ae=k.name;if("string"!=typeof ae||!ae)throw Jn.create("bad-app-name",{appName:String(ae)});const Se=Lt.get(ae);if(Se){if((0,J.vZ)(x,Se.options)&&(0,J.vZ)(k,Se.config))return Se;throw Jn.create("duplicate-app",{appName:ae})}const Qe=new H.H0(ae);for(const Ot of xn.values())Qe.addComponent(Ot);const Tt=new da(x,k,Qe);return Lt.set(ae,Tt),Tt}function Os(x=ht){const F=Lt.get(x);if(!F)throw Jn.create("no-app",{appName:x});return F}function Rr(){return Array.from(Lt.values())}function Ge(x){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,g.Z)(function*(x){const F=x.name;Lt.has(F)&&(Lt.delete(F),yield Promise.all(x.container.getProviders().map(k=>k.delete())),x.isDeleted=!0)})).apply(this,arguments)}function dn(x,F,k){var ae;let Se=null!==(ae=Me[x])&&void 0!==ae?ae:x;k&&(Se+=`-${k}`);const Qe=Se.match(/\s|\//),Tt=F.match(/\s|\//);if(Qe||Tt){const Ot=[`Unable to register library "${Se}" with version "${F}":`];return Qe&&Ot.push(`library name "${Se}" contains illegal characters (whitespace or "/")`),Qe&&Tt&&Ot.push("and"),Tt&&Ot.push(`version name "${F}" contains illegal characters (whitespace or "/")`),void j.warn(Ot.join(" "))}Rn(new H.wA(`${Se}-version`,()=>({library:Se,version:F}),"VERSION"))}function Pn(x,F){if(null!==x&&"function"!=typeof x)throw Jn.create("invalid-log-argument");(0,ie.Am)(x,F)}function Jr(x){(0,ie.Ub)(x)}const sn="firebase-heartbeat-store";let Or=null;function ha(){return Or||(Or=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(x,F)=>{0===F&&x.createObjectStore(sn)}}).catch(x=>{throw Jn.create("idb-open",{originalErrorMessage:x.message})})),Or}function Be(){return(Be=(0,g.Z)(function*(x){var F;try{return(yield ha()).transaction(sn).objectStore(sn).get(dr(x))}catch(k){if(k instanceof J.ZR)j.warn(k.message);else{const ae=Jn.create("idb-get",{originalErrorMessage:null===(F=k)||void 0===F?void 0:F.message});j.warn(ae.message)}}})).apply(this,arguments)}function et(x,F){return ei.apply(this,arguments)}function ei(){return(ei=(0,g.Z)(function*(x,F){var k;try{const Se=(yield ha()).transaction(sn,"readwrite");return yield Se.objectStore(sn).put(F,dr(x)),Se.done}catch(ae){if(ae instanceof J.ZR)j.warn(ae.message);else{const Se=Jn.create("idb-set",{originalErrorMessage:null===(k=ae)||void 0===k?void 0:k.message});j.warn(Se.message)}}})).apply(this,arguments)}function dr(x){return`${x.name}!${x.options.appId}`}class En{constructor(F){this.container=F,this._heartbeatsCache=null;const k=this.container.getProvider("app").getImmediate();this._storage=new Pr(k),this._heartbeatsCachePromise=this._storage.read().then(ae=>(this._heartbeatsCache=ae,ae))}triggerHeartbeat(){var F=this;return(0,g.Z)(function*(){const ae=F.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Se=Nn();if(null===F._heartbeatsCache&&(F._heartbeatsCache=yield F._heartbeatsCachePromise),F._heartbeatsCache.lastSentHeartbeatDate!==Se&&!F._heartbeatsCache.heartbeats.some(Qe=>Qe.date===Se))return F._heartbeatsCache.heartbeats.push({date:Se,agent:ae}),F._heartbeatsCache.heartbeats=F._heartbeatsCache.heartbeats.filter(Qe=>{const Tt=new Date(Qe.date).valueOf();return Date.now()-Tt<=2592e6}),F._storage.overwrite(F._heartbeatsCache)})()}getHeartbeatsHeader(){var F=this;return(0,g.Z)(function*(){if(null===F._heartbeatsCache&&(yield F._heartbeatsCachePromise),null===F._heartbeatsCache||0===F._heartbeatsCache.heartbeats.length)return"";const k=Nn(),{heartbeatsToSend:ae,unsentEntries:Se}=function Ye(x,F=1024){const k=[];let ae=x.slice();for(const Se of x){const Qe=k.find(Tt=>Tt.agent===Se.agent);if(Qe){if(Qe.dates.push(Se.date),N(k)>F){Qe.dates.pop();break}}else if(k.push({agent:Se.agent,dates:[Se.date]}),N(k)>F){k.pop();break}ae=ae.slice(1)}return{heartbeatsToSend:k,unsentEntries:ae}}(F._heartbeatsCache.heartbeats),Qe=(0,J.L)(JSON.stringify({version:2,heartbeats:ae}));return F._heartbeatsCache.lastSentHeartbeatDate=k,Se.length>0?(F._heartbeatsCache.heartbeats=Se,yield F._storage.overwrite(F._heartbeatsCache)):(F._heartbeatsCache.heartbeats=[],F._storage.overwrite(F._heartbeatsCache)),Qe})()}}function Nn(){return(new Date).toISOString().substring(0,10)}class Pr{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var F=this;return(0,g.Z)(function*(){return(yield F._canUseIndexedDBPromise)&&(yield function wt(x){return Be.apply(this,arguments)}(F.app))||{heartbeats:[]}})()}overwrite(F){var k=this;return(0,g.Z)(function*(){var ae;if(yield k._canUseIndexedDBPromise){const Qe=yield k.read();return et(k.app,{lastSentHeartbeatDate:null!==(ae=F.lastSentHeartbeatDate)&&void 0!==ae?ae:Qe.lastSentHeartbeatDate,heartbeats:F.heartbeats})}})()}add(F){var k=this;return(0,g.Z)(function*(){var ae;if(yield k._canUseIndexedDBPromise){const Qe=yield k.read();return et(k.app,{lastSentHeartbeatDate:null!==(ae=F.lastSentHeartbeatDate)&&void 0!==ae?ae:Qe.lastSentHeartbeatDate,heartbeats:[...Qe.heartbeats,...F.heartbeats]})}})()}}function N(x){return(0,J.L)(JSON.stringify({version:2,heartbeats:x})).length}!function L(x){Rn(new H.wA("platform-logger",F=>new me(F),"PRIVATE")),Rn(new H.wA("heartbeat",F=>new En(F),"PRIVATE")),dn(he,"0.7.31",x),dn(he,"0.7.31","esm2017"),dn("fire-js","")}("")},859:(He,le,R)=>{R.d(le,{wA:()=>ie,H0:()=>he});var g=R(861),H=R(90);class ie{constructor(j,U,Y){this.name=j,this.instanceFactory=U,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const J="[DEFAULT]";class fe{constructor(j,U){this.name=j,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const U=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(U)){const Y=new H.BH;if(this.instancesDeferred.set(U,Y),this.isInitialized(U)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:U});xe&&Y.resolve(xe)}catch(xe){}}return this.instancesDeferred.get(U).promise}getImmediate(j){var U;const Y=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),xe=null!==(U=null==j?void 0:j.optional)&&void 0!==U&&U;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(_e){if(xe)return null;throw _e}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ce(we){return"EAGER"===we.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:J})}catch(U){}for(const[U,Y]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(U);try{const _e=this.getOrInitializeService({instanceIdentifier:xe});Y.resolve(_e)}catch(_e){}}}}clearInstance(j=J){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,g.Z)(function*(){const U=Array.from(j.instances.values());yield Promise.all([...U.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...U.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=J){return this.instances.has(j)}getOptions(j=J){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:U={}}=j,Y=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:Y,options:U});for(const[_e,De]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(_e)&&De.resolve(xe);return xe}onInit(j,U){var Y;const xe=this.normalizeInstanceIdentifier(U),_e=null!==(Y=this.onInitCallbacks.get(xe))&&void 0!==Y?Y:new Set;_e.add(j),this.onInitCallbacks.set(xe,_e);const De=this.instances.get(xe);return De&&j(De,xe),()=>{_e.delete(j)}}invokeOnInitCallbacks(j,U){const Y=this.onInitCallbacks.get(U);if(Y)for(const xe of Y)try{xe(j,U)}catch(_e){}}getOrInitializeService({instanceIdentifier:j,options:U={}}){let Y=this.instances.get(j);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(we=j,we===J?void 0:we),options:U}),this.instances.set(j,Y),this.instancesOptions.set(j,U),this.invokeOnInitCallbacks(Y,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Y)}catch(xe){}var we;return Y||null}normalizeInstanceIdentifier(j=J){return this.component?this.component.multipleInstances?j:J:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const U=this.getProvider(j.name);if(U.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);U.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const U=new fe(j,this);return this.providers.set(j,U),U}getProviders(){return Array.from(this.providers.values())}}},877:(He,le,R)=>{R.d(le,{in:()=>H,Yd:()=>ce,Ub:()=>he,Am:()=>we});const g=[];var H=(()=>{return(j=H||(H={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",H;var j})();const ie={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},J=H.INFO,fe={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},me=(j,U,...Y)=>{if(U<j.logLevel)return;const xe=(new Date).toISOString(),_e=fe[U];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[_e](`[${xe}]  ${j.name}:`,...Y)};class ce{constructor(U){this.name=U,this._logLevel=J,this._logHandler=me,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in H))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?ie[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...U),this._logHandler(this,H.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...U),this._logHandler(this,H.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,H.INFO,...U),this._logHandler(this,H.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,H.WARN,...U),this._logHandler(this,H.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...U),this._logHandler(this,H.ERROR,...U)}}function he(j){g.forEach(U=>{U.setLogLevel(j)})}function we(j,U){for(const Y of g){let xe=null;U&&U.level&&(xe=ie[U.level]),Y.userLogHandler=null===j?null:(_e,De,...Pe)=>{const ue=Pe.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch(st){return null}}).filter(Re=>Re).join(" ");De>=(null!=xe?xe:_e.logLevel)&&j({level:H[De].toLowerCase(),message:ue,args:Pe,type:_e.name})}}}},766:(He,le,R)=>{R.d(le,{Lj:()=>Ie,X3:()=>ve});var g=R(861);let ie,J;const ce=new WeakMap,he=new WeakMap,we=new WeakMap,j=new WeakMap,U=new WeakMap;let _e={get(ee,de,V){if(ee instanceof IDBTransaction){if("done"===de)return he.get(ee);if("objectStoreNames"===de)return ee.objectStoreNames||we.get(ee);if("store"===de)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return Re(ee[de])},set:(ee,de,V)=>(ee[de]=V,!0),has:(ee,de)=>ee instanceof IDBTransaction&&("done"===de||"store"===de)||de in ee};function ue(ee){return"function"==typeof ee?function Pe(ee){return ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return J||(J=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ee)?function(...de){return ee.apply(st(this),de),Re(ce.get(this))}:function(...de){return Re(ee.apply(st(this),de))}:function(de,...V){const q=ee.call(st(this),de,...V);return we.set(q,de.sort?de.sort():[de]),Re(q)}}(ee):(ee instanceof IDBTransaction&&function xe(ee){if(he.has(ee))return;const de=new Promise((V,q)=>{const K=()=>{ee.removeEventListener("complete",te),ee.removeEventListener("error",Q),ee.removeEventListener("abort",Q)},te=()=>{V(),K()},Q=()=>{q(ee.error||new DOMException("AbortError","AbortError")),K()};ee.addEventListener("complete",te),ee.addEventListener("error",Q),ee.addEventListener("abort",Q)});he.set(ee,de)}(ee),((ee,de)=>de.some(V=>ee instanceof V))(ee,function fe(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ee,_e):ee)}function Re(ee){if(ee instanceof IDBRequest)return function Y(ee){const de=new Promise((V,q)=>{const K=()=>{ee.removeEventListener("success",te),ee.removeEventListener("error",Q)},te=()=>{V(Re(ee.result)),K()},Q=()=>{q(ee.error),K()};ee.addEventListener("success",te),ee.addEventListener("error",Q)});return de.then(V=>{V instanceof IDBCursor&&ce.set(V,ee)}).catch(()=>{}),U.set(de,ee),de}(ee);if(j.has(ee))return j.get(ee);const de=ue(ee);return de!==ee&&(j.set(ee,de),U.set(de,ee)),de}const st=ee=>U.get(ee);function ve(ee,de,{blocked:V,upgrade:q,blocking:K,terminated:te}={}){const Q=indexedDB.open(ee,de),Ee=Re(Q);return q&&Q.addEventListener("upgradeneeded",ze=>{q(Re(Q.result),ze.oldVersion,ze.newVersion,Re(Q.transaction))}),V&&Q.addEventListener("blocked",()=>V()),Ee.then(ze=>{te&&ze.addEventListener("close",()=>te()),K&&ze.addEventListener("versionchange",()=>K())}).catch(()=>{}),Ee}function Ie(ee,{blocked:de}={}){const V=indexedDB.deleteDatabase(ee);return de&&V.addEventListener("blocked",()=>de()),Re(V).then(()=>{})}const pe=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],ot=new Map;function ke(ee,de){if(!(ee instanceof IDBDatabase)||de in ee||"string"!=typeof de)return;if(ot.get(de))return ot.get(de);const V=de.replace(/FromIndex$/,""),q=de!==V,K=Oe.includes(V);if(!(V in(q?IDBIndex:IDBObjectStore).prototype)||!K&&!pe.includes(V))return;const te=function(){var Q=(0,g.Z)(function*(Ee,...ze){const _t=this.transaction(Ee,K?"readwrite":"readonly");let ht=_t.store;return q&&(ht=ht.index(ze.shift())),(yield Promise.all([ht[V](...ze),K&&_t.done]))[0]});return function(ze){return Q.apply(this,arguments)}}();return ot.set(de,te),te}!function De(ee){_e=ee(_e)}(ee=>GT(WT({},ee),{get:(de,V,q)=>ke(de,V)||ee.get(de,V,q),has:(de,V)=>!!ke(de,V)||ee.has(de,V)}))},861:(He,le,R)=>{function g(ie,J,fe,me,ce,he,we){try{var j=ie[he](we),U=j.value}catch(Y){return void fe(Y)}j.done?J(U):Promise.resolve(U).then(me,ce)}function H(ie){return function(){var J=this,fe=arguments;return new Promise(function(me,ce){var he=ie.apply(J,fe);function we(U){g(he,me,ce,we,j,"next",U)}function j(U){g(he,me,ce,we,j,"throw",U)}we(void 0)})}}R.d(le,{Z:()=>H})}},He=>{He(He.s=439)}]);