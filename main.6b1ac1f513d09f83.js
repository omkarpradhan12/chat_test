"use strict";var xM=Object.defineProperty,RM=Object.defineProperties,OM=Object.getOwnPropertyDescriptors,DT=Object.getOwnPropertySymbols,PM=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable,ST=(Ve,he,R)=>he in Ve?xM(Ve,he,{enumerable:!0,configurable:!0,writable:!0,value:R}):Ve[he]=R,TT=(Ve,he)=>{for(var R in he||(he={}))PM.call(he,R)&&ST(Ve,R,he[R]);if(DT)for(var R of DT(he))NM.call(he,R)&&ST(Ve,R,he[R]);return Ve},IT=(Ve,he)=>RM(Ve,OM(he));(self.webpackChunkchat_test=self.webpackChunkchat_test||[]).push([[179],{773:(Ve,he,R)=>{R.d(he,{hO:()=>Ja});var m=R(893),$=R(90),ae=R(859),ee=R(681),ge=R(877);class Pe{constructor(E,b){this._delegate=E,this.firebase=b,(0,ee._addComponent)(E,new ae.wA("app-compat",()=>this,"PUBLIC")),this.container=E.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(E){this._delegate.automaticDataCollectionEnabled=E}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(E=>{this._delegate.checkDestroyed(),E()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(E,b=ee._DEFAULT_ENTRY_NAME){var M;this._delegate.checkDestroyed();const j=this._delegate.container.getProvider(E);return!j.isInitialized()&&"EXPLICIT"===(null===(M=j.getComponent())||void 0===M?void 0:M.instantiationMode)&&j.initialize(),j.getImmediate({identifier:b})}_removeServiceInstance(E,b=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(E).clearInstance(b)}_addComponent(E){(0,ee._addComponent)(this._delegate,E)}_addOrOverwriteComponent(E){(0,ee._addOrOverwriteComponent)(this._delegate,E)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new $.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function P(){const y=function Ce(y){const E={},b={__esModule:!0,initializeApp:function G(Se,We={}){const Ie=ee.initializeApp(Se,We);if((0,$.r3)(E,Ie.name))return E[Ie.name];const At=new y(Ie,b);return E[Ie.name]=At,At},app:j,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function fe(Se){const We=Se.name,Ie=We.replace("-compat","");if(ee._registerComponent(Se)&&"PUBLIC"===Se.type){const At=(Mt=j())=>{if("function"!=typeof Mt[Ie])throw Me.create("invalid-app-argument",{appName:We});return Mt[Ie]()};void 0!==Se.serviceProps&&(0,$.ZB)(At,Se.serviceProps),b[Ie]=At,y.prototype[Ie]=function(...Mt){return this._getService.bind(this,We).apply(this,Se.multipleInstances?Mt:[])}}return"PUBLIC"===Se.type?b[Ie]:null},removeApp:function M(Se){delete E[Se]},useAsService:function Oe(Se,We){return"serverAuth"===We?null:We},modularAPIs:ee}};function j(Se){if(!(0,$.r3)(E,Se=Se||ee._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:Se});return E[Se]}return b.default=b,Object.defineProperty(b,"apps",{get:function re(){return Object.keys(E).map(Se=>E[Se])}}),j.App=y,b}(Pe);return y.INTERNAL=Object.assign(Object.assign({},y.INTERNAL),{createFirebaseNamespace:P,extendNamespace:function E(b){(0,$.ZB)(y,b)},createSubscribe:$.ne,ErrorFactory:$.LL,deepExtend:$.ZB}),y}(),X=new ge.Yd("@firebase/app-compat");if((0,$.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ue=V;!function et(y){(0,ee.registerVersion)("@firebase/app-compat","0.1.32",y)}(),ue.registerVersion("firebase","9.9.3","app-compat"),R(867);var ye=R(861),ie=R(766);const de="@firebase/installations",He="0.5.12",Fe=`w:${He}`,J="FIS_v2",Y=new $.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _e(y){return y instanceof $.ZR&&y.code.includes("request-failed")}function ze({projectId:y}){return`https://firebaseinstallations.googleapis.com/v1/projects/${y}/installations`}function gt(y){return{token:y.token,requestStatus:2,expiresIn:On(y.expiresIn),creationTime:Date.now()}}function Bt(y,E){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,ye.Z)(function*(y,E){const M=(yield E.json()).error;return Y.create("request-failed",{requestName:y,serverCode:M.code,serverMessage:M.message,serverStatus:M.status})})).apply(this,arguments)}function Rt({apiKey:y}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":y})}function Rn(y,{refreshToken:E}){const b=Rt(y);return b.append("Authorization",function br(y){return`${J} ${y}`}(E)),b}function ut(y){return rt.apply(this,arguments)}function rt(){return(rt=(0,ye.Z)(function*(y){const E=yield y();return E.status>=500&&E.status<600?y():E})).apply(this,arguments)}function On(y){return Number(y.replace("s","000"))}function Tn(y,E){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,ye.Z)(function*({appConfig:y,heartbeatServiceProvider:E},{fid:b}){const M=ze(y),j=Rt(y),G=E.getImmediate({optional:!0});if(G){const Se=yield G.getHeartbeatsHeader();Se&&j.append("x-firebase-client",Se)}const fe={method:"POST",headers:j,body:JSON.stringify({fid:b,authVersion:J,appId:y.appId,sdkVersion:Fe})},Oe=yield ut(()=>fetch(M,fe));if(Oe.ok){const Se=yield Oe.json();return{fid:Se.fid||b,registrationStatus:2,refreshToken:Se.refreshToken,authToken:gt(Se.authToken)}}throw yield Bt("Create Installation",Oe)})).apply(this,arguments)}function _o(y){return new Promise(E=>{setTimeout(E,y)})}const yo=/^[cdef][\w-]{21}$/;function Ca(){try{const y=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(y),y[0]=112+y[0]%16;const b=function vo(y){return function In(y){return btoa(String.fromCharCode(...y)).replace(/\+/g,"-").replace(/\//g,"_")}(y).substr(0,22)}(y);return yo.test(b)?b:""}catch(y){return""}}function cr(y){return`${y.appName}!${y.appId}`}const $n=new Map;function $r(y,E){const b=cr(y);Ke(b,E),function ws(y,E){const b=function En(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=y=>{Ke(y.data.key,y.data.fid)}),Pn}();b&&b.postMessage({key:y,fid:E}),function Yn(){0===$n.size&&Pn&&(Pn.close(),Pn=null)}()}(b,E)}function Ke(y,E){const b=$n.get(y);if(b)for(const M of b)M(E)}let Pn=null;const Te="firebase-installations-store";let Je=null;function hi(){return Je||(Je=(0,ie.X3)("firebase-installations-database",1,{upgrade:(y,E)=>{0===E&&y.createObjectStore(Te)}})),Je}function Xt(y,E){return An.apply(this,arguments)}function An(){return(An=(0,ye.Z)(function*(y,E){const b=cr(y),j=(yield hi()).transaction(Te,"readwrite"),G=j.objectStore(Te),re=yield G.get(b);return yield G.put(E,b),yield j.done,(!re||re.fid!==E.fid)&&$r(y,E.fid),E})).apply(this,arguments)}function Dr(y){return hn.apply(this,arguments)}function hn(){return(hn=(0,ye.Z)(function*(y){const E=cr(y),M=(yield hi()).transaction(Te,"readwrite");yield M.objectStore(Te).delete(E),yield M.done})).apply(this,arguments)}function fi(y,E){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,ye.Z)(function*(y,E){const b=cr(y),j=(yield hi()).transaction(Te,"readwrite"),G=j.objectStore(Te),re=yield G.get(b),fe=E(re);return void 0===fe?yield G.delete(b):yield G.put(fe,b),yield j.done,fe&&(!re||re.fid!==fe.fid)&&$r(y,fe.fid),fe})).apply(this,arguments)}function Cs(y){return N.apply(this,arguments)}function N(){return(N=(0,ye.Z)(function*(y){let E;const b=yield fi(y.appConfig,M=>{const j=F(M),G=x(y,j);return E=G.registrationPromise,G.installationEntry});return""===b.fid?{installationEntry:yield E}:{installationEntry:b,registrationPromise:E}})).apply(this,arguments)}function F(y){return _t(y||{fid:Ca(),registrationStatus:0})}function x(y,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(Y.create("app-offline"))};const b={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},M=function B(y,E){return k.apply(this,arguments)}(y,b);return{installationEntry:b,registrationPromise:M}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:ce(y)}:{installationEntry:E}}function k(){return(k=(0,ye.Z)(function*(y,E){try{const b=yield Tn(y,E);return Xt(y.appConfig,b)}catch(b){throw _e(b)&&409===b.customData.serverCode?yield Dr(y.appConfig):yield Xt(y.appConfig,{fid:E.fid,registrationStatus:0}),b}})).apply(this,arguments)}function ce(y){return be.apply(this,arguments)}function be(){return(be=(0,ye.Z)(function*(y){let E=yield Be(y.appConfig);for(;1===E.registrationStatus;)yield _o(100),E=yield Be(y.appConfig);if(0===E.registrationStatus){const{installationEntry:b,registrationPromise:M}=yield Cs(y);return M||b}return E})).apply(this,arguments)}function Be(y){return fi(y,E=>{if(!E)throw Y.create("installation-not-found");return _t(E)})}function _t(y){return function Ot(y){return 1===y.registrationStatus&&y.registrationTime+1e4<Date.now()}(y)?{fid:y.fid,registrationStatus:0}:y}function Zn(y,E){return mt.apply(this,arguments)}function mt(){return(mt=(0,ye.Z)(function*({appConfig:y,heartbeatServiceProvider:E},b){const M=Qn(y,b),j=Rn(y,b),G=E.getImmediate({optional:!0});if(G){const Se=yield G.getHeartbeatsHeader();Se&&j.append("x-firebase-client",Se)}const fe={method:"POST",headers:j,body:JSON.stringify({installation:{sdkVersion:Fe,appId:y.appId}})},Oe=yield ut(()=>fetch(M,fe));if(Oe.ok)return gt(yield Oe.json());throw yield Bt("Generate Auth Token",Oe)})).apply(this,arguments)}function Qn(y,{fid:E}){return`${ze(y)}/${E}/authTokens:generate`}function zr(y){return bs.apply(this,arguments)}function bs(){return(bs=(0,ye.Z)(function*(y,E=!1){let b;const M=yield fi(y.appConfig,G=>{if(!qt(G))throw Y.create("not-registered");const re=G.authToken;if(!E&&pi(re))return G;if(1===re.requestStatus)return b=Vl(y,E),G;{if(!navigator.onLine)throw Y.create("app-offline");const fe=Nn(G);return b=Hl(y,fe),fe}});return b?yield b:M.authToken})).apply(this,arguments)}function Vl(y,E){return Da.apply(this,arguments)}function Da(){return(Da=(0,ye.Z)(function*(y,E){let b=yield Ul(y.appConfig);for(;1===b.authToken.requestStatus;)yield _o(100),b=yield Ul(y.appConfig);const M=b.authToken;return 0===M.requestStatus?zr(y,E):M})).apply(this,arguments)}function Ul(y){return fi(y,E=>{if(!qt(E))throw Y.create("not-registered");return function Eo(y){return 1===y.requestStatus&&y.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function Hl(y,E){return $i.apply(this,arguments)}function $i(){return($i=(0,ye.Z)(function*(y,E){try{const b=yield Zn(y,E),M=Object.assign(Object.assign({},E),{authToken:b});return yield Xt(y.appConfig,M),b}catch(b){if(!_e(b)||401!==b.customData.serverCode&&404!==b.customData.serverCode){const M=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield Xt(y.appConfig,M)}else yield Dr(y.appConfig);throw b}})).apply(this,arguments)}function qt(y){return void 0!==y&&2===y.registrationStatus}function pi(y){return 2===y.requestStatus&&!function zi(y){const E=Date.now();return E<y.creationTime||y.creationTime+y.expiresIn<E+36e5}(y)}function Nn(y){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},y),{authToken:E})}function Wr(){return(Wr=(0,ye.Z)(function*(y){const E=y,{installationEntry:b,registrationPromise:M}=yield Cs(E);return M?M.catch(console.error):zr(E).catch(console.error),b.fid})).apply(this,arguments)}function Gr(){return(Gr=(0,ye.Z)(function*(y,E=!1){const b=y;return yield wn(b),(yield zr(b,E)).token})).apply(this,arguments)}function wn(y){return wo.apply(this,arguments)}function wo(){return(wo=(0,ye.Z)(function*(y){const{registrationPromise:E}=yield Cs(y);E&&(yield E)})).apply(this,arguments)}function Ut(y){return Y.create("missing-app-config-values",{valueName:y})}const Gi="installations",it=y=>{const E=y.getProvider("app").getImmediate(),b=function Ds(y){if(!y||!y.options)throw Ut("App Configuration");if(!y.name)throw Ut("App Name");const E=["projectId","apiKey","appId"];for(const b of E)if(!y.options[b])throw Ut(b);return{appName:y.name,projectId:y.options.projectId,apiKey:y.options.apiKey,appId:y.options.appId}}(E);return{app:E,appConfig:b,heartbeatServiceProvider:(0,ee._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},Co=y=>{const E=y.getProvider("app").getImmediate(),b=(0,ee._getProvider)(E,Gi).getImmediate();return{getId:()=>function $l(y){return Wr.apply(this,arguments)}(b),getToken:j=>function Sa(y){return Gr.apply(this,arguments)}(b,j)}};(function Ki(){(0,ee._registerComponent)(new ae.wA(Gi,it,"PUBLIC")),(0,ee._registerComponent)(new ae.wA("installations-internal",Co,"PRIVATE"))})(),(0,ee.registerVersion)(de,He),(0,ee.registerVersion)(de,He,"esm2017");const Ta="@firebase/remote-config",Pt=new $.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _g{constructor(E,b,M,j){this.client=E,this.storage=b,this.storageCache=M,this.logger=j}isCachedDataFresh(E,b){if(!b)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const M=Date.now()-b,j=M<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${M}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${j}.`),j}fetch(E){var b=this;return(0,ye.Z)(function*(){const[M,j]=yield Promise.all([b.storage.getLastSuccessfulFetchTimestampMillis(),b.storage.getLastSuccessfulFetchResponse()]);if(j&&b.isCachedDataFresh(E.cacheMaxAgeMillis,M))return j;E.eTag=j&&j.eTag;const G=yield b.client.fetch(E),re=[b.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===G.status&&re.push(b.storage.setLastSuccessfulFetchResponse(G)),yield Promise.all(re),G})()}}function yg(y=navigator){return y.languages&&y.languages[0]||y.language}class vg{constructor(E,b,M,j,G,re){this.firebaseInstallations=E,this.sdkVersion=b,this.namespace=M,this.projectId=j,this.apiKey=G,this.appId=re}fetch(E){var b=this;return(0,ye.Z)(function*(){var M,j,G;const[re,fe]=yield Promise.all([b.firebaseInstallations.getId(),b.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${b.projectId}/namespaces/${b.namespace}:fetch?key=${b.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},Ie={sdk_version:b.sdkVersion,app_instance_id:re,app_instance_id_token:fe,app_id:b.appId,language_code:yg()},At={method:"POST",headers:We,body:JSON.stringify(Ie)},Mt=fetch(Se,At),Ar=new Promise((ls,ei)=>{E.signal.addEventListener(()=>{const Wu=new Error("The operation was aborted.");Wu.name="AbortError",ei(Wu)})});let Ks;try{yield Promise.race([Mt,Ar]),Ks=yield Mt}catch(ls){let ei="fetch-client-network";throw"AbortError"===(null===(M=ls)||void 0===M?void 0:M.name)&&(ei="fetch-timeout"),Pt.create(ei,{originalErrorMessage:null===(j=ls)||void 0===j?void 0:j.message})}let as=Ks.status;const el=Ks.headers.get("ETag")||void 0;let mr,_r;if(200===Ks.status){let ls;try{ls=yield Ks.json()}catch(ei){throw Pt.create("fetch-client-parse",{originalErrorMessage:null===(G=ei)||void 0===G?void 0:G.message})}mr=ls.entries,_r=ls.state}if("INSTANCE_STATE_UNSPECIFIED"===_r?as=500:"NO_CHANGE"===_r?as=304:("NO_TEMPLATE"===_r||"EMPTY_CONFIG"===_r)&&(mr={}),304!==as&&200!==as)throw Pt.create("fetch-status",{httpStatus:as});return{status:as,eTag:el,config:mr}})()}}class Cg{constructor(E,b){this.client=E,this.storage=b}fetch(E){var b=this;return(0,ye.Z)(function*(){const M=(yield b.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return b.attemptFetch(E,M)})()}attemptFetch(E,{throttleEndTimeMillis:b,backoffCount:M}){var j=this;return(0,ye.Z)(function*(){yield function Eg(y,E){return new Promise((b,M)=>{const j=Math.max(E-Date.now(),0),G=setTimeout(b,j);y.addEventListener(()=>{clearTimeout(G),M(Pt.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,b);try{const G=yield j.client.fetch(E);return yield j.storage.deleteThrottleMetadata(),G}catch(G){if(!function wg(y){if(!(y instanceof $.ZR&&y.customData))return!1;const E=Number(y.customData.httpStatus);return 429===E||500===E||503===E||504===E}(G))throw G;const re={throttleEndTimeMillis:Date.now()+(0,$.$s)(M),backoffCount:M+1};return yield j.storage.setThrottleMetadata(re),j.attemptFetch(E,re)}})()}}class Du{constructor(E,b,M,j,G){this.app=E,this._client=b,this._storageCache=M,this._storage=j,this._logger=G,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ts(y,E){var b;const M=y.target.error||void 0;return Pt.create(E,{originalErrorMessage:M&&(null===(b=M)||void 0===b?void 0:b.message)})}const Is="app_namespace_store";class Dg{constructor(E,b,M,j=function Yi(){return new Promise((y,E)=>{var b;try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=j=>{E(Ts(j,"storage-open"))},M.onsuccess=j=>{y(j.target.result)},M.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(Is,{keyPath:"compositeKey"})}}catch(M){E(Pt.create("storage-open",{originalErrorMessage:null===(b=M)||void 0===b?void 0:b.message}))}})}()){this.appId=E,this.appName=b,this.namespace=M,this.openDbPromise=j}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var b=this;return(0,ye.Z)(function*(){const M=yield b.openDbPromise;return new Promise((j,G)=>{var re;const Oe=M.transaction([Is],"readonly").objectStore(Is),Se=b.createCompositeKey(E);try{const We=Oe.get(Se);We.onerror=Ie=>{G(Ts(Ie,"storage-get"))},We.onsuccess=Ie=>{const At=Ie.target.result;j(At?At.value:void 0)}}catch(We){G(Pt.create("storage-get",{originalErrorMessage:null===(re=We)||void 0===re?void 0:re.message}))}})})()}set(E,b){var M=this;return(0,ye.Z)(function*(){const j=yield M.openDbPromise;return new Promise((G,re)=>{var fe;const Se=j.transaction([Is],"readwrite").objectStore(Is),We=M.createCompositeKey(E);try{const Ie=Se.put({compositeKey:We,value:b});Ie.onerror=At=>{re(Ts(At,"storage-set"))},Ie.onsuccess=()=>{G()}}catch(Ie){re(Pt.create("storage-set",{originalErrorMessage:null===(fe=Ie)||void 0===fe?void 0:fe.message}))}})})()}delete(E){var b=this;return(0,ye.Z)(function*(){const M=yield b.openDbPromise;return new Promise((j,G)=>{var re;const Oe=M.transaction([Is],"readwrite").objectStore(Is),Se=b.createCompositeKey(E);try{const We=Oe.delete(Se);We.onerror=Ie=>{G(Ts(Ie,"storage-delete"))},We.onsuccess=()=>{j()}}catch(We){G(Pt.create("storage-delete",{originalErrorMessage:null===(re=We)||void 0===re?void 0:re.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Ia{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,ye.Z)(function*(){const b=E.storage.getLastFetchStatus(),M=E.storage.getLastSuccessfulFetchTimestampMillis(),j=E.storage.getActiveConfig(),G=yield b;G&&(E.lastFetchStatus=G);const re=yield M;re&&(E.lastSuccessfulFetchTimestampMillis=re);const fe=yield j;fe&&(E.activeConfig=fe)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function Iu(){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,ye.Z)(function*(){if(!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch(y){return!1}})).apply(this,arguments)}!function ql(){(0,ee._registerComponent)(new ae.wA("remote-config",function y(E,{instanceIdentifier:b}){const M=E.getProvider("app").getImmediate(),j=E.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Pt.create("registration-window");if(!(0,$.hl)())throw Pt.create("indexed-db-unavailable");const{projectId:G,apiKey:re,appId:fe}=M.options;if(!G)throw Pt.create("registration-project-id");if(!re)throw Pt.create("registration-api-key");if(!fe)throw Pt.create("registration-app-id");const Oe=new Dg(fe,M.name,b=b||"firebase"),Se=new Ia(Oe),We=new ge.Yd(Ta);We.logLevel=ge.in.ERROR;const Ie=new vg(j,ee.SDK_VERSION,b,G,re,fe),At=new Cg(Ie,Oe),Mt=new _g(At,Oe,Se,We),Ar=new Du(M,Mt,Se,Oe,We);return function Eh(y){const E=(0,$.m9)(y);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(Ar),Ar},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(Ta,"0.3.11"),(0,ee.registerVersion)(Ta,"0.3.11","esm2017")}();const Tg="/firebase-messaging-sw.js",Au="/firebase-cloud-messaging-push-scope",Ch="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ma="google.c.a.c_id",bh="google.c.a.c_l",xa="google.c.a.ts",Dh="google.c.a.e";var _i=(()=>{return(y=_i||(_i={})).PUSH_RECEIVED="push-received",y.NOTIFICATION_CLICKED="notification-clicked",_i;var y})();function Kr(y){const E=new Uint8Array(y);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Do(y){const b=(y+"=".repeat((4-y.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),M=atob(b),j=new Uint8Array(M.length);for(let G=0;G<M.length;++G)j[G]=M.charCodeAt(G);return j}const As="fcm_token_details_db",Ms="fcm_token_object_Store";function Sh(y){return $t.apply(this,arguments)}function $t(){return $t=(0,ye.Z)(function*(y){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(G=>G.name).includes(As))return null;let E=null;return(yield(0,ie.X3)(As,5,{upgrade:(M=(0,ye.Z)(function*(j,G,re,fe){var Oe;if(G<2||!j.objectStoreNames.contains(Ms))return;const Se=fe.objectStore(Ms),We=yield Se.index("fcmSenderId").get(y);if(yield Se.clear(),We)if(2===G){const Ie=We;if(!Ie.auth||!Ie.p256dh||!Ie.endpoint)return;E={token:Ie.fcmToken,createTime:null!==(Oe=Ie.createTime)&&void 0!==Oe?Oe:Date.now(),subscriptionOptions:{auth:Ie.auth,p256dh:Ie.p256dh,endpoint:Ie.endpoint,swScope:Ie.swScope,vapidKey:"string"==typeof Ie.vapidKey?Ie.vapidKey:Kr(Ie.vapidKey)}}}else if(3===G){const Ie=We;E={token:Ie.fcmToken,createTime:Ie.createTime,subscriptionOptions:{auth:Kr(Ie.auth),p256dh:Kr(Ie.p256dh),endpoint:Ie.endpoint,swScope:Ie.swScope,vapidKey:Kr(Ie.vapidKey)}}}else if(4===G){const Ie=We;E={token:Ie.fcmToken,createTime:Ie.createTime,subscriptionOptions:{auth:Kr(Ie.auth),p256dh:Kr(Ie.p256dh),endpoint:Ie.endpoint,swScope:Ie.swScope,vapidKey:Kr(Ie.vapidKey)}}}}),function(G,re,fe,Oe){return M.apply(this,arguments)})})).close(),yield(0,ie.Lj)(As),yield(0,ie.Lj)("fcm_vapid_details_db"),yield(0,ie.Lj)("undefined"),Th(E)?E:null;var M}),$t.apply(this,arguments)}function Th(y){if(!y||!y.subscriptionOptions)return!1;const{subscriptionOptions:E}=y;return"number"==typeof y.createTime&&y.createTime>0&&"string"==typeof y.token&&y.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const cn="firebase-messaging-store";let Rs=null;function yi(){return Rs||(Rs=(0,ie.X3)("firebase-messaging-database",1,{upgrade:(y,E)=>{0===E&&y.createObjectStore(cn)}})),Rs}function vi(y){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,ye.Z)(function*(y){const E=So(y),M=yield(yield yi()).transaction(cn).objectStore(cn).get(E);if(M)return M;{const j=yield Sh(y.appConfig.senderId);if(j)return yield Ei(y,j),j}})).apply(this,arguments)}function Ei(y,E){return Os.apply(this,arguments)}function Os(){return(Os=(0,ye.Z)(function*(y,E){const b=So(y),j=(yield yi()).transaction(cn,"readwrite");return yield j.objectStore(cn).put(E,b),yield j.done,E})).apply(this,arguments)}function Zl(y){return er.apply(this,arguments)}function er(){return(er=(0,ye.Z)(function*(y){const E=So(y),M=(yield yi()).transaction(cn,"readwrite");yield M.objectStore(cn).delete(E),yield M.done})).apply(this,arguments)}function So({appConfig:y}){return y.appId}const Ne=new $.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ag(y,E){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,ye.Z)(function*(y,E){var b;const M=yield oe(y),j=Pa(E),G={method:"POST",headers:M,body:JSON.stringify(j)};let re;try{re=yield(yield fetch(Ns(y.appConfig),G)).json()}catch(fe){throw Ne.create("token-subscribe-failed",{errorInfo:null===(b=fe)||void 0===b?void 0:b.toString()})}if(re.error)throw Ne.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Ne.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function Ih(y,E){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,ye.Z)(function*(y,E){var b;const M=yield oe(y),j=Pa(E.subscriptionOptions),G={method:"PATCH",headers:M,body:JSON.stringify(j)};let re;try{re=yield(yield fetch(`${Ns(y.appConfig)}/${E.token}`,G)).json()}catch(fe){throw Ne.create("token-update-failed",{errorInfo:null===(b=fe)||void 0===b?void 0:b.toString()})}if(re.error)throw Ne.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Ne.create("token-update-no-token");return re.token})).apply(this,arguments)}function Oa(y,E){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,ye.Z)(function*(y,E){var b;const j={method:"DELETE",headers:yield oe(y)};try{const re=yield(yield fetch(`${Ns(y.appConfig)}/${E}`,j)).json();if(re.error)throw Ne.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(G){throw Ne.create("token-unsubscribe-failed",{errorInfo:null===(b=G)||void 0===b?void 0:b.toString()})}})).apply(this,arguments)}function Ns({projectId:y}){return`https://fcmregistrations.googleapis.com/v1/projects/${y}/registrations`}function oe(y){return dt.apply(this,arguments)}function dt(){return(dt=(0,ye.Z)(function*({appConfig:y,installations:E}){const b=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":y.apiKey,"x-goog-firebase-installations-auth":`FIS ${b}`})})).apply(this,arguments)}function Pa({p256dh:y,auth:E,endpoint:b,vapidKey:M}){const j={web:{endpoint:b,auth:E,p256dh:y}};return M!==Ch&&(j.web.applicationPubKey=M),j}const rn=6048e5;function xu(y){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,ye.Z)(function*(y){const E=yield Na(y.swRegistration,y.vapidKey),b={vapidKey:y.vapidKey,swScope:y.swRegistration.scope,endpoint:E.endpoint,auth:Kr(E.getKey("auth")),p256dh:Kr(E.getKey("p256dh"))},M=yield vi(y.firebaseDependencies);if(M){if(qr(M.subscriptionOptions,b))return Date.now()>=M.createTime+rn?Xl(y,{token:M.token,createTime:Date.now(),subscriptionOptions:b}):M.token;try{yield Oa(y.firebaseDependencies,M.token)}catch(j){console.warn(j)}return Ru(y.firebaseDependencies,b)}return Ru(y.firebaseDependencies,b)})).apply(this,arguments)}function tr(y){return To.apply(this,arguments)}function To(){return(To=(0,ye.Z)(function*(y){const E=yield vi(y.firebaseDependencies);E&&(yield Oa(y.firebaseDependencies,E.token),yield Zl(y.firebaseDependencies));const b=yield y.swRegistration.pushManager.getSubscription();return!b||b.unsubscribe()})).apply(this,arguments)}function Xl(y,E){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,ye.Z)(function*(y,E){try{const b=yield Ih(y.firebaseDependencies,E),M=Object.assign(Object.assign({},E),{token:b,createTime:Date.now()});return yield Ei(y.firebaseDependencies,M),b}catch(b){throw yield tr(y),b}})).apply(this,arguments)}function Ru(y,E){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,ye.Z)(function*(y,E){const M={token:yield Ag(y,E),createTime:Date.now(),subscriptionOptions:E};return yield Ei(y,M),M.token})).apply(this,arguments)}function Na(y,E){return gn.apply(this,arguments)}function gn(){return(gn=(0,ye.Z)(function*(y,E){return(yield y.pushManager.getSubscription())||y.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Do(E)})})).apply(this,arguments)}function qr(y,E){return E.vapidKey===y.vapidKey&&E.endpoint===y.endpoint&&E.auth===y.auth&&E.p256dh===y.p256dh}function ec(y){const E={from:y.from,collapseKey:y.collapse_key,messageId:y.fcmMessageId};return function ks(y,E){if(!E.notification)return;y.notification={};const b=E.notification.title;b&&(y.notification.title=b);const M=E.notification.body;M&&(y.notification.body=M);const j=E.notification.image;j&&(y.notification.image=j)}(E,y),function Yr(y,E){!E.data||(y.data=E.data)}(E,y),function Ah(y,E){var b,M,j,G,re;if(!E.fcmOptions&&!(null===(b=E.notification)||void 0===b?void 0:b.click_action))return;y.fcmOptions={};const fe=null!==(j=null===(M=E.fcmOptions)||void 0===M?void 0:M.link)&&void 0!==j?j:null===(G=E.notification)||void 0===G?void 0:G.click_action;fe&&(y.fcmOptions.link=fe);const Oe=null===(re=E.fcmOptions)||void 0===re?void 0:re.analytics_label;Oe&&(y.fcmOptions.analyticsLabel=Oe)}(E,y),E}function tc(y){return"object"==typeof y&&!!y&&Ma in y}function Mh(y,E){const b=[];for(let M=0;M<y.length;M++)b.push(y.charAt(M)),M<E.length&&b.push(E.charAt(M));return b.join("")}function Fa(y){return Ne.create("missing-app-config-values",{valueName:y})}Mh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Mh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ou{constructor(E,b,M){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const j=function xh(y){if(!y||!y.options)throw Fa("App Configuration Object");if(!y.name)throw Fa("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:b}=y;for(const M of E)if(!b[M])throw Fa(M);return{appName:y.name,projectId:b.projectId,apiKey:b.apiKey,appId:b.appId,senderId:b.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:j,installations:b,analyticsProvider:M}}_delete(){return Promise.resolve()}}function nc(y){return Io.apply(this,arguments)}function Io(){return(Io=(0,ye.Z)(function*(y){var E;try{y.swRegistration=yield navigator.serviceWorker.register(Tg,{scope:Au}),y.swRegistration.update().catch(()=>{})}catch(b){throw Ne.create("failed-service-worker-registration",{browserErrorMessage:null===(E=b)||void 0===E?void 0:E.message})}})).apply(this,arguments)}function Rh(y,E){return rc.apply(this,arguments)}function rc(){return(rc=(0,ye.Z)(function*(y,E){if(!E&&!y.swRegistration&&(yield nc(y)),E||!y.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw Ne.create("invalid-sw-registration");y.swRegistration=E}})).apply(this,arguments)}function ic(y,E){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,ye.Z)(function*(y,E){E?y.vapidKey=E:y.vapidKey||(y.vapidKey=Ch)})).apply(this,arguments)}function ka(){return(ka=(0,ye.Z)(function*(y,E){if(!navigator)throw Ne.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ne.create("permission-blocked");return yield ic(y,null==E?void 0:E.vapidKey),yield Rh(y,null==E?void 0:E.serviceWorkerRegistration),xu(y)})).apply(this,arguments)}function Pu(y,E,b){return wi.apply(this,arguments)}function wi(){return(wi=(0,ye.Z)(function*(y,E,b){const M=Nu(E);(yield y.firebaseDependencies.analyticsProvider.get()).logEvent(M,{message_id:b[Ma],message_name:b[bh],message_time:b[xa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Nu(y){switch(y){case _i.NOTIFICATION_CLICKED:return"notification_open";case _i.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function bn(){return(bn=(0,ye.Z)(function*(y,E){const b=E.data;if(!b.isFirebaseMessaging)return;y.onMessageHandler&&b.messageType===_i.PUSH_RECEIVED&&("function"==typeof y.onMessageHandler?y.onMessageHandler(ec(b)):y.onMessageHandler.next(ec(b)));const M=b.data;tc(M)&&"1"===M[Dh]&&(yield Pu(y,b.messageType,M))})).apply(this,arguments)}const Ci="@firebase/messaging",xg=y=>{const E=new Ou(y.getProvider("app").getImmediate(),y.getProvider("installations-internal").getImmediate(),y.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",b=>function Mg(y,E){return bn.apply(this,arguments)}(E,b)),E},Oh=y=>{const E=y.getProvider("messaging").getImmediate();return{getToken:M=>function Sr(y,E){return ka.apply(this,arguments)}(E,M)}};function Ph(){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,ye.Z)(function*(){try{yield(0,$.eu)()}catch(y){return!1}return"undefined"!=typeof window&&(0,$.hl)()&&(0,$.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rg(){(0,ee._registerComponent)(new ae.wA("messaging",xg,"PUBLIC")),(0,ee._registerComponent)(new ae.wA("messaging-internal",Oh,"PRIVATE")),(0,ee.registerVersion)(Ci,"0.9.16"),(0,ee.registerVersion)(Ci,"0.9.16","esm2017")}();const Qi="analytics",kh="firebase_id",mn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bs="https://www.googletagmanager.com/gtag/js",ke=new ge.Yd("@firebase/analytics");function un(y){return Promise.all(y.map(E=>E.catch(b=>b)))}function hr(y,E){const b=document.createElement("script");b.src=`${Bs}?l=${y}&id=${E}`,b.async=!0,document.head.appendChild(b)}function Lu(y,E,b,M,j,G){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,ye.Z)(function*(y,E,b,M,j,G){const re=M[j];try{if(re)yield E[re];else{const Oe=(yield un(b)).find(Se=>Se.measurementId===j);Oe&&(yield E[Oe.appId])}}catch(fe){ke.error(fe)}y("config",j,G)})).apply(this,arguments)}function La(y,E,b,M,j){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,ye.Z)(function*(y,E,b,M,j){try{let G=[];if(j&&j.send_to){let re=j.send_to;Array.isArray(re)||(re=[re]);const fe=yield un(b);for(const Oe of re){const Se=fe.find(Ie=>Ie.measurementId===Oe),We=Se&&E[Se.appId];if(!We){G=[];break}G.push(We)}}0===G.length&&(G=Object.values(E)),yield Promise.all(G),y("event",M,j||{})}catch(G){ke.error(G)}})).apply(this,arguments)}function Vs(){const y=window.document.getElementsByTagName("script");for(const E of Object.values(y))if(E.src&&E.src.includes(Bs))return E;return null}const Mn=new $.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jt=new class ju{constructor(E={},b=1e3){this.throttleMetadata=E,this.intervalMillis=b}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,b){this.throttleMetadata[E]=b}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function Bh(y){return new Headers({Accept:"application/json","x-goog-api-key":y})}function jh(y){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,ye.Z)(function*(y){var E;const{appId:b,apiKey:M}=y,j={method:"GET",headers:Bh(M)},G=mn.replace("{app-id}",b),re=yield fetch(G,j);if(200!==re.status&&304!==re.status){let fe="";try{const Oe=yield re.json();(null===(E=Oe.error)||void 0===E?void 0:E.message)&&(fe=Oe.error.message)}catch(Oe){}throw Mn.create("config-fetch-failed",{httpStatus:re.status,responseMessage:fe})}return re.json()})).apply(this,arguments)}function Va(y){return kn.apply(this,arguments)}function kn(){return(kn=(0,ye.Z)(function*(y,E=Jt,b){const{appId:M,apiKey:j,measurementId:G}=y.options;if(!M)throw Mn.create("no-app-id");if(!j){if(G)return{measurementId:G,appId:M};throw Mn.create("no-api-key")}const re=E.getThrottleMetadata(M)||{backoffCount:0,throttleEndTimeMillis:Date.now()},fe=new Vu;return setTimeout((0,ye.Z)(function*(){fe.abort()}),void 0!==b?b:6e4),bi({appId:M,apiKey:j,measurementId:G},re,fe,E)})).apply(this,arguments)}function bi(y,E,b){return Us.apply(this,arguments)}function Us(){return(Us=(0,ye.Z)(function*(y,{throttleEndTimeMillis:E,backoffCount:b},M,j=Jt){var G,re;const{appId:fe,measurementId:Oe}=y;try{yield Ua(M,E)}catch(Se){if(Oe)return ke.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${null===(G=Se)||void 0===G?void 0:G.message}]`),{appId:fe,measurementId:Oe};throw Se}try{const Se=yield jh(y);return j.deleteThrottleMetadata(fe),Se}catch(Se){const We=Se;if(!Oo(We)){if(j.deleteThrottleMetadata(fe),Oe)return ke.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${null==We?void 0:We.message}]`),{appId:fe,measurementId:Oe};throw Se}const Ie=503===Number(null===(re=null==We?void 0:We.customData)||void 0===re?void 0:re.httpStatus)?(0,$.$s)(b,j.intervalMillis,30):(0,$.$s)(b,j.intervalMillis),At={throttleEndTimeMillis:Date.now()+Ie,backoffCount:b+1};return j.setThrottleMetadata(fe,At),ke.debug(`Calling attemptFetch again in ${Ie} millis`),bi(y,At,M,j)}})).apply(this,arguments)}function Ua(y,E){return new Promise((b,M)=>{const j=Math.max(E-Date.now(),0),G=setTimeout(b,j);y.addEventListener(()=>{clearTimeout(G),M(Mn.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function Oo(y){if(!(y instanceof $.ZR&&y.customData))return!1;const E=Number(y.customData.httpStatus);return 429===E||500===E||503===E||504===E}class Vu{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}let Hs,No;function Ha(){return(Ha=(0,ye.Z)(function*(y,E,b,M,j){if(j&&j.global)y("event",b,M);else{const G=yield E;y("event",b,Object.assign(Object.assign({},M),{send_to:G}))}})).apply(this,arguments)}function Fo(y){No=y}function en(y){Hs=y}function zn(){return jt.apply(this,arguments)}function jt(){return(jt=(0,ye.Z)(function*(){var y;if(!(0,$.hl)())return ke.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,$.eu)()}catch(E){return ke.warn(Mn.create("indexeddb-unavailable",{errorInfo:null===(y=E)||void 0===y?void 0:y.toString()}).message),!1}return!0})).apply(this,arguments)}function ts(){return(ts=(0,ye.Z)(function*(y,E,b,M,j,G,re){var fe;const Oe=Va(y);Oe.then(Mt=>{b[Mt.measurementId]=Mt.appId,y.options.measurementId&&Mt.measurementId!==y.options.measurementId&&ke.warn(`The measurement ID in the local Firebase config (${y.options.measurementId}) does not match the measurement ID fetched from the server (${Mt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mt=>ke.error(Mt)),E.push(Oe);const Se=zn().then(Mt=>{if(Mt)return M.getId()}),[We,Ie]=yield Promise.all([Oe,Se]);Vs()||hr(G,We.measurementId),No&&(j("consent","default",No),Fo(void 0)),j("js",new Date);const At=null!==(fe=null==re?void 0:re.config)&&void 0!==fe?fe:{};return At.origin="firebase",At.update=!0,null!=Ie&&(At[kh]=Ie),j("config",We.measurementId,At),Hs&&(j("set",Hs),en(void 0)),We.measurementId})).apply(this,arguments)}class ns{constructor(E){this.app=E}_delete(){return delete Di[this.app.options.appId],Promise.resolve()}}let Di={},ac=[];const Gt={};let Vh,Dn,Qr="dataLayer",za=!1;function ko(y,E,b){!function Uh(){const y=[];if((0,$.ru)()&&y.push("This is a browser extension environment."),(0,$.zI)()||y.push("Cookies are not available."),y.length>0){const E=y.map((M,j)=>`(${j+1}) ${M}`).join(" "),b=Mn.create("invalid-analytics-context",{errorInfo:E});ke.warn(b.message)}}();const M=y.options.appId;if(!M)throw Mn.create("no-app-id");if(!y.options.apiKey){if(!y.options.measurementId)throw Mn.create("no-api-key");ke.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${y.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Di[M])throw Mn.create("already-exists",{id:M});if(!za){!function nr(y){let E=[];Array.isArray(window[y])?E=window[y]:window[y]=E}(Qr);const{wrappedGtag:G,gtagCore:re}=function js(y,E,b,M,j){let G=function(...re){window[M].push(arguments)};return window[j]&&"function"==typeof window[j]&&(G=window[j]),window[j]=function Bu(y,E,b,M){function G(){return(G=(0,ye.Z)(function*(re,fe,Oe){try{"event"===re?yield La(y,E,b,fe,Oe):"config"===re?yield Lu(y,E,b,M,fe,Oe):"consent"===re?y("consent","update",Oe):y("set",fe)}catch(Se){ke.error(Se)}})).apply(this,arguments)}return function j(re,fe,Oe){return G.apply(this,arguments)}}(G,y,E,b),{gtagCore:G,wrappedGtag:window[j]}}(Di,ac,Gt,Qr,"gtag");Dn=G,Vh=re,za=!0}return Di[M]=function $s(y,E,b,M,j,G,re){return ts.apply(this,arguments)}(y,ac,Gt,E,Vh,Qr,b),new ns(y)}function cc(){return rs.apply(this,arguments)}function rs(){return(rs=(0,ye.Z)(function*(){if((0,$.ru)()||!(0,$.zI)()||!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch(y){return!1}})).apply(this,arguments)}const Ka="@firebase/analytics";!function zh(){(0,ee._registerComponent)(new ae.wA(Qi,(E,{options:b})=>ko(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),b),"PUBLIC")),(0,ee._registerComponent)(new ae.wA("analytics-internal",function y(E){try{const b=E.getProvider(Qi).getImmediate();return{logEvent:(M,j,G)=>function Wa(y,E,b,M){y=(0,$.m9)(y),function Ji(y,E,b,M,j){return Ha.apply(this,arguments)}(Dn,Di[y.app.options.appId],E,b,M).catch(j=>ke.error(j))}(b,M,j,G)}}catch(b){throw Mn.create("interop-component-reg-failed",{reason:b})}},"PRIVATE")),(0,ee.registerVersion)(Ka,"0.8.0"),(0,ee.registerVersion)(Ka,"0.8.0","esm2017")}();const zs=new m.GfV("7.4.1"),uc="__angularfire_symbol__analyticsIsSupportedValue",Ws="__angularfire_symbol__analyticsIsSupported",xn="__angularfire_symbol__remoteConfigIsSupportedValue",Lo="__angularfire_symbol__remoteConfigIsSupported",Si="__angularfire_symbol__messagingIsSupportedValue",pr="__angularfire_symbol__messagingIsSupported";globalThis[Ws]||(globalThis[Ws]=cc().then(y=>globalThis[uc]=y).catch(()=>globalThis[uc]=!1)),globalThis[pr]||(globalThis[pr]=Ph().then(y=>globalThis[Si]=y).catch(()=>globalThis[Si]=!1)),globalThis[Lo]||(globalThis[Lo]=Iu().then(y=>globalThis[xn]=y).catch(()=>globalThis[xn]=!1)),Ve=R.hmd(Ve);class Za{constructor(E){return E}}const Qa=new m.OlP("angularfire2.app.options"),Xa=new m.OlP("angularfire2.app.name"),zu={provide:Za,useFactory:function Ai(y,E,b){const j="object"==typeof b&&b||{};j.name=j.name||"string"==typeof b&&b||"[DEFAULT]";const re=ue.apps.filter(fe=>fe&&fe.name===j.name)[0]||E.runOutsideAngular(()=>ue.initializeApp(y,j));try{JSON.stringify(y)!==JSON.stringify(re.options)&&((y,...E)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[y](...E)})("error",`${re.name} Firebase App already initialized with different options${Ve.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(fe){}return new Za(re)},deps:[Qa,m.R0b,[new m.FiY,Xa]]};let Ja=(()=>{class y{constructor(b){ue.registerVersion("angularfire",zs.full,"core"),ue.registerVersion("angularfire",zs.full,"app-compat"),ue.registerVersion("angular",m.q4F.full,b.toString())}static initializeApp(b,M){return{ngModule:y,providers:[{provide:Qa,useValue:b},{provide:Xa,useValue:M}]}}}return y.\u0275fac=function(b){return new(b||y)(m.LFG(m.Lbi))},y.\u0275mod=m.oAB({type:y}),y.\u0275inj=m.cJS({providers:[zu]}),y})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},90:(Ve,he,R)=>{R.d(he,{BH:()=>xe,LL:()=>Y,ZR:()=>Q,gQ:()=>cr,zI:()=>U,hu:()=>$,g5:()=>ae,US:()=>Pe,h$:()=>me,L:()=>Me,$s:()=>hn,r3:()=>On,ne:()=>$n,p$:()=>P,vZ:()=>_o,ZB:()=>V,gK:()=>Pn,m9:()=>Cs,GJ:()=>rt,jU:()=>Ye,ru:()=>Re,xb:()=>Tn,hl:()=>J,uI:()=>ue,Yr:()=>ft,b$:()=>ye,w9:()=>ut,cI:()=>gt,UI:()=>Vt,xO:()=>di,DV:()=>br,ug:()=>Te,dS:()=>bt,Pz:()=>Bt,eu:()=>le});const $=function(N,F){if(!N)throw ae(F)},ae=function(N){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+N)},ee=function(N){const F=[];let x=0;for(let B=0;B<N.length;B++){let k=N.charCodeAt(B);k<128?F[x++]=k:k<2048?(F[x++]=k>>6|192,F[x++]=63&k|128):55296==(64512&k)&&B+1<N.length&&56320==(64512&N.charCodeAt(B+1))?(k=65536+((1023&k)<<10)+(1023&N.charCodeAt(++B)),F[x++]=k>>18|240,F[x++]=k>>12&63|128,F[x++]=k>>6&63|128,F[x++]=63&k|128):(F[x++]=k>>12|224,F[x++]=k>>6&63|128,F[x++]=63&k|128)}return F},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(N,F){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let k=0;k<N.length;k+=3){const ce=N[k],be=k+1<N.length,Be=be?N[k+1]:0,_t=k+2<N.length,Ot=_t?N[k+2]:0;let Qn=(15&Be)<<2|Ot>>6,zr=63&Ot;_t||(zr=64,be||(Qn=64)),B.push(x[ce>>2],x[(3&ce)<<4|Be>>4],x[Qn],x[zr])}return B.join("")},encodeString(N,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(N):this.encodeByteArray(ee(N),F)},decodeString(N,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(N):function(N){const F=[];let x=0,B=0;for(;x<N.length;){const k=N[x++];if(k<128)F[B++]=String.fromCharCode(k);else if(k>191&&k<224){const ce=N[x++];F[B++]=String.fromCharCode((31&k)<<6|63&ce)}else if(k>239&&k<365){const _t=((7&k)<<18|(63&N[x++])<<12|(63&N[x++])<<6|63&N[x++])-65536;F[B++]=String.fromCharCode(55296+(_t>>10)),F[B++]=String.fromCharCode(56320+(1023&_t))}else{const ce=N[x++],be=N[x++];F[B++]=String.fromCharCode((15&k)<<12|(63&ce)<<6|63&be)}}return F.join("")}(this.decodeStringToByteArray(N,F))},decodeStringToByteArray(N,F){this.init_();const x=F?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let k=0;k<N.length;){const ce=x[N.charAt(k++)],Be=k<N.length?x[N.charAt(k)]:0;++k;const Ot=k<N.length?x[N.charAt(k)]:64;++k;const mt=k<N.length?x[N.charAt(k)]:64;if(++k,null==ce||null==Be||null==Ot||null==mt)throw Error();B.push(ce<<2|Be>>4),64!==Ot&&(B.push(Be<<4&240|Ot>>2),64!==mt&&B.push(Ot<<6&192|mt))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}},me=function(N){const F=ee(N);return Pe.encodeByteArray(F,!0)},Me=function(N){return me(N).replace(/\./g,"")},Ce=function(N){try{return Pe.decodeString(N,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function P(N){return V(void 0,N)}function V(N,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===N&&(N={});break;case Array:N=[];break;default:return F}for(const x in F)!F.hasOwnProperty(x)||!X(x)||(N[x]=V(N[x],F[x]));return N}function X(N){return"__proto__"!==N}class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,x)=>{this.resolve=F,this.reject=x})}wrapCallback(F){return(x,B)=>{x?this.reject(x):this.resolve(B),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(x):F(x,B))}}}function ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(function et(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())}function Ye(){return"object"==typeof self&&self.self===self}function Re(){const N="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof N&&void 0!==N.id}function ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ft(){return!1}function J(){return"object"==typeof indexedDB}function le(){return new Promise((N,F)=>{try{let x=!0;const B="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(B);k.onsuccess=()=>{k.result.close(),x||self.indexedDB.deleteDatabase(B),N(!0)},k.onupgradeneeded=()=>{x=!1},k.onerror=()=>{var ce;F((null===(ce=k.error)||void 0===ce?void 0:ce.message)||"")}}catch(x){F(x)}})}function U(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Q extends Error{constructor(F,x,B){super(x),this.code=F,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,Q.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y.prototype.create)}}class Y{constructor(F,x,B){this.service=F,this.serviceName=x,this.errors=B}create(F,...x){const B=x[0]||{},k=`${this.service}/${F}`,ce=this.errors[F],be=ce?function _e(N,F){return N.replace(ze,(x,B)=>{const k=F[B];return null!=k?String(k):`<${B}?>`})}(ce,B):"Error";return new Q(k,`${this.serviceName}: ${be} (${k}).`,B)}}const ze=/\{\$([^}]+)}/g;function gt(N){return JSON.parse(N)}function Bt(N){return JSON.stringify(N)}const Xe=function(N){let F={},x={},B={},k="";try{const ce=N.split(".");F=gt(Ce(ce[0])||""),x=gt(Ce(ce[1])||""),k=ce[2],B=x.d||{},delete x.d}catch(ce){}return{header:F,claims:x,data:B,signature:k}},ut=function(N){const x=Xe(N).claims;return!!x&&"object"==typeof x&&x.hasOwnProperty("iat")},rt=function(N){const F=Xe(N).claims;return"object"==typeof F&&!0===F.admin};function On(N,F){return Object.prototype.hasOwnProperty.call(N,F)}function br(N,F){if(Object.prototype.hasOwnProperty.call(N,F))return N[F]}function Tn(N){for(const F in N)if(Object.prototype.hasOwnProperty.call(N,F))return!1;return!0}function Vt(N,F,x){const B={};for(const k in N)Object.prototype.hasOwnProperty.call(N,k)&&(B[k]=F.call(x,N[k],k,N));return B}function _o(N,F){if(N===F)return!0;const x=Object.keys(N),B=Object.keys(F);for(const k of x){if(!B.includes(k))return!1;const ce=N[k],be=F[k];if(In(ce)&&In(be)){if(!_o(ce,be))return!1}else if(ce!==be)return!1}for(const k of B)if(!x.includes(k))return!1;return!0}function In(N){return null!==N&&"object"==typeof N}function di(N){const F=[];for(const[x,B]of Object.entries(N))Array.isArray(B)?B.forEach(k=>{F.push(encodeURIComponent(x)+"="+encodeURIComponent(k))}):F.push(encodeURIComponent(x)+"="+encodeURIComponent(B));return F.length?"&"+F.join("&"):""}class cr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(F,x){x||(x=0);const B=this.W_;if("string"==typeof F)for(let mt=0;mt<16;mt++)B[mt]=F.charCodeAt(x)<<24|F.charCodeAt(x+1)<<16|F.charCodeAt(x+2)<<8|F.charCodeAt(x+3),x+=4;else for(let mt=0;mt<16;mt++)B[mt]=F[x]<<24|F[x+1]<<16|F[x+2]<<8|F[x+3],x+=4;for(let mt=16;mt<80;mt++){const Qn=B[mt-3]^B[mt-8]^B[mt-14]^B[mt-16];B[mt]=4294967295&(Qn<<1|Qn>>>31)}let Ot,Zn,k=this.chain_[0],ce=this.chain_[1],be=this.chain_[2],Be=this.chain_[3],_t=this.chain_[4];for(let mt=0;mt<80;mt++){mt<40?mt<20?(Ot=Be^ce&(be^Be),Zn=1518500249):(Ot=ce^be^Be,Zn=1859775393):mt<60?(Ot=ce&be|Be&(ce|be),Zn=2400959708):(Ot=ce^be^Be,Zn=3395469782);const Qn=(k<<5|k>>>27)+Ot+_t+Zn+B[mt]&4294967295;_t=Be,Be=be,be=4294967295&(ce<<30|ce>>>2),ce=k,k=Qn}this.chain_[0]=this.chain_[0]+k&4294967295,this.chain_[1]=this.chain_[1]+ce&4294967295,this.chain_[2]=this.chain_[2]+be&4294967295,this.chain_[3]=this.chain_[3]+Be&4294967295,this.chain_[4]=this.chain_[4]+_t&4294967295}update(F,x){if(null==F)return;void 0===x&&(x=F.length);const B=x-this.blockSize;let k=0;const ce=this.buf_;let be=this.inbuf_;for(;k<x;){if(0===be)for(;k<=B;)this.compress_(F,k),k+=this.blockSize;if("string"==typeof F){for(;k<x;)if(ce[be]=F.charCodeAt(k),++be,++k,be===this.blockSize){this.compress_(ce),be=0;break}}else for(;k<x;)if(ce[be]=F[k],++be,++k,be===this.blockSize){this.compress_(ce),be=0;break}}this.inbuf_=be,this.total_+=x}digest(){const F=[];let x=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let k=this.blockSize-1;k>=56;k--)this.buf_[k]=255&x,x/=256;this.compress_(this.buf_);let B=0;for(let k=0;k<5;k++)for(let ce=24;ce>=0;ce-=8)F[B]=this.chain_[k]>>ce&255,++B;return F}}function $n(N,F){const x=new $r(N,F);return x.subscribe.bind(x)}class $r{constructor(F,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{F(this)}).catch(B=>{this.error(B)})}next(F){this.forEachObserver(x=>{x.next(F)})}error(F){this.forEachObserver(x=>{x.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,x,B){let k;if(void 0===F&&void 0===x&&void 0===B)throw new Error("Missing Observer.");k=function Hi(N,F){if("object"!=typeof N||null===N)return!1;for(const x of F)if(x in N&&"function"==typeof N[x])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:x,complete:B},void 0===k.next&&(k.next=Ke),void 0===k.error&&(k.error=Ke),void 0===k.complete&&(k.complete=Ke);const ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch(be){}}),this.observers.push(k),ce}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,F)}sendOne(F,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{x(this.observers[F])}catch(B){"undefined"!=typeof console&&console.error&&console.error(B)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ke(){}function Pn(N,F){return`${N} failed: ${F} argument `}const bt=function(N){const F=[];let x=0;for(let B=0;B<N.length;B++){let k=N.charCodeAt(B);if(k>=55296&&k<=56319){const ce=k-55296;B++,$(B<N.length,"Surrogate pair missing trail surrogate."),k=65536+(ce<<10)+(N.charCodeAt(B)-56320)}k<128?F[x++]=k:k<2048?(F[x++]=k>>6|192,F[x++]=63&k|128):k<65536?(F[x++]=k>>12|224,F[x++]=k>>6&63|128,F[x++]=63&k|128):(F[x++]=k>>18|240,F[x++]=k>>12&63|128,F[x++]=k>>6&63|128,F[x++]=63&k|128)}return F},Te=function(N){let F=0;for(let x=0;x<N.length;x++){const B=N.charCodeAt(x);B<128?F++:B<2048?F+=2:B>=55296&&B<=56319?(F+=4,x++):F+=3}return F};function hn(N,F=1e3,x=2){const B=F*Math.pow(x,N),k=Math.round(.5*B*(Math.random()-.5)*2);return Math.min(144e5,B+k)}function Cs(N){return N&&N._delegate?N._delegate:N}},916:(Ve,he,R)=>{var m=R(893);let $=null;function ae(){return $}const me=new m.OlP("DocumentToken");let Me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return function Ce(){return(0,m.LFG)(V)}()},providedIn:"platform"}),n})();const P=new m.OlP("Location Initialized");let V=(()=>{class n extends Me{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(e){const r=ae().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=ae().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){X()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){X()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(me))},n.\u0275prov=m.Yz7({token:n,factory:function(){return function xe(){return new V((0,m.LFG)(me))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function ve(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function et(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ue(n){return n&&"?"!==n[0]?"?"+n:n}let Ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return function Ye(n){const t=(0,m.LFG)(me).location;return new ye((0,m.LFG)(Me),t&&t.origin||"")}()},providedIn:"root"}),n})();const Re=new m.OlP("appBaseHref");let ye=(()=>{class n extends Ue{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ve(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+ue(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,c){const h=this.prepareExternalUrl(a+ue(c));this._platformLocation.pushState(e,r,h)}replaceState(e,r,a,c){const h=this.prepareExternalUrl(a+ue(c));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Me),m.LFG(Re,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),ie=(()=>{class n extends Ue{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=ve(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,c){let h=this.prepareExternalUrl(a+ue(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,a,c){let h=this.prepareExternalUrl(a+ue(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Me),m.LFG(Re,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),de=(()=>{class n{constructor(e,r){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=et(Fe(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ue(r))}normalize(e){return n.stripTrailingSlash(function ft(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Fe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ue(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ue(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.normalizeQueryParams=ue,n.joinWithSlash=ve,n.stripTrailingSlash=et,n.\u0275fac=function(e){return new(e||n)(m.LFG(Ue),m.LFG(Me))},n.\u0275prov=m.Yz7({token:n,factory:function(){return function He(){return new de((0,m.LFG)(Ue),(0,m.LFG)(Me))}()},providedIn:"root"}),n})();function Fe(n){return n.replace(/\/index.html$/,"")}let Gi=(()=>{class n{constructor(e,r,a,c){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=a,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class it{constructor(t,e,r,a){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Co=(()=>{class n{constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((a,c,h)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new it(a.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===c?void 0:c);else if(null!==c){const f=r.get(c);r.move(f,h),Ki(f,a)}});for(let a=0,c=r.length;a<c;a++){const f=r.get(a).context;f.index=a,f.count=c,f.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{Ki(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ki(n,t){n.context.$implicit=t.item}let gi=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Fn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){qi("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){qi("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.s_b),m.Y36(m.Rgc))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Fn{constructor(){this.$implicit=null,this.ngIf=null}}function qi(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,m.AaK)(t)}'.`)}let Ia=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();const ql="browser";let Ma=(()=>{class n{}return n.\u0275prov=(0,m.Yz7)({token:n,providedIn:"root",factory:()=>new bh((0,m.LFG)(me),window)}),n})();class bh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Dh(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const h=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(h)return h}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=xa(this.window.history)||xa(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function xa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Do extends class Kr extends class Pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){$||($=n)}(new Do)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Wt(){return As=As||document.querySelector("base"),As?As.getAttribute("href"):null}();return null==e?null:function Sh(n){Ms=Ms||document.createElement("a"),Ms.setAttribute("href",n);const t=Ms.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){As=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Ut(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Ms,As=null;const $t=new m.OlP("TRANSITION_ID"),Ig=[{provide:m.ip1,useFactory:function Th(n,t,e){return()=>{e.get(m.CZH).donePromise.then(()=>{const r=ae(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)r.remove(a[c])})}},deps:[$t,me,m.zs3],multi:!0}];class xs{static init(){(0,m.VLi)(new xs)}addToWindow(t){m.dqk.getAngularTestability=(r,a=!0)=>{const c=t.findTestabilityInTree(r,a);if(null==c)throw new Error("Could not find testability for element.");return c},m.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(r=>{const a=m.dqk.getAllAngularTestabilities();let c=a.length,h=!1;const f=function(_){h=h||_,c--,0==c&&r(h)};a.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:r?ae().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let cn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Rs=new m.OlP("EventManagerPlugins");let yi=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let c=0;c<a.length;c++){const h=a[c];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Rs),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class vi{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=ae().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let Cn=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Ei=(()=>{class n extends Cn{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,a.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Os),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Os))}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(me))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function Os(n){ae().remove(n)}const Zl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},er=/%COMP%/g;function Ps(n,t,e){for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?Ps(n,a,e):(a=a.replace(er,n),e.push(a))}return e}function Oa(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ns=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new oe(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case m.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new rn(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case m.ifc.ShadowDom:return new xu(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=Ps(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(yi),m.LFG(Ei),m.LFG(m.AFp))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class oe{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Zl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const c=Zl[a];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=Zl[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(m.JOm.DashCase|m.JOm.Important)?t.style.setProperty(e,r,a&m.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&m.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Oa(r)):this.eventManager.addEventListener(t,e,Oa(r))}}class rn extends oe{constructor(t,e,r,a){super(t),this.component=r;const c=Ps(a+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr=function Ql(n){return"_ngcontent-%COMP%".replace(er,n)}(a+"-"+r.id),this.hostAttr=function Ih(n){return"_nghost-%COMP%".replace(er,n)}(a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class xu extends oe{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Ps(a.id,a.styles,[]);for(let h=0;h<c.length;h++){const f=document.createElement("style");f.textContent=c[h],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Zi=(()=>{class n extends vi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(me))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const tr=["alt","control","meta","shift"],Xl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ru={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fs=(()=>{class n extends vi{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const c=n.parseEventName(r),h=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ae().onAndCancel(e,c.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(r.pop());let h="";if(tr.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),h+=_+".")}),h+=c,0!=r.length||0===c.length)return null;const f={};return f.domEventName=a,f.fullKey=h,f}static getEventFullKey(e){let r="",a=function Na(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Jl.hasOwnProperty(t)&&(t=Jl[t]))}return Xl[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),tr.forEach(c=>{c!=a&&Ru[c](e)&&(r+=c+".")}),r+=a,r}static eventCallback(e,r,a){return c=>{n.getEventFullKey(c)===e&&a.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(me))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Yr=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:ql},{provide:m.g9A,useValue:function gn(){Do.makeCurrent(),xs.init()},multi:!0},{provide:me,useFactory:function ec(){return(0,m.RDi)(document),document},deps:[]}]),Ah=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function qr(){return new m.qLn},deps:[]},{provide:Rs,useClass:Zi,multi:!0,deps:[me,m.R0b,m.Lbi]},{provide:Rs,useClass:Fs,multi:!0,deps:[me]},{provide:Ns,useClass:Ns,deps:[yi,Ei,m.AFp]},{provide:m.FYo,useExisting:Ns},{provide:Cn,useExisting:Ei},{provide:Ei,useClass:Ei,deps:[me]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:yi,useClass:yi,deps:[Rs,m.R0b]},{provide:class _i{},useClass:cn,deps:[]}];let tc=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:m.AFp,useValue:e.appId},{provide:$t,useExisting:m.AFp},Ig]}}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(n,12))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:Ah,imports:[Ia,m.hGG]}),n})();"undefined"!=typeof window&&window;var xo=R(773),mn=R(76),Bs=R(269);function ke(...n){const t=(0,Bs.yG)(n);return(0,mn.D)(n,t)}var un=R(579);class hr extends un.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}var nr=R(306);const{isArray:Lu}=Array,{getPrototypeOf:Ro,prototype:La,keys:Ba}=Object;var Vs=R(671),yt=R(4);const{isArray:Mn}=Array;function Lh(n){return(0,yt.U)(t=>function ja(n,t){return Mn(t)?n(...t):n(t)}(n,t))}var Jt=R(403),Bh=R(672);function jh(...n){const t=(0,Bs.yG)(n),e=(0,Bs.jO)(n),{args:r,keys:a}=function Bu(n){if(1===n.length){const t=n[0];if(Lu(t))return{args:t,keys:null};if(function js(n){return n&&"object"==typeof n&&Ro(n)===La}(t)){const e=Ba(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,mn.D)([],t);const c=new nr.y(function Xi(n,t,e=Vs.y){return r=>{Va(t,()=>{const{length:a}=n,c=new Array(a);let h=a,f=a;for(let _=0;_<a;_++)Va(t,()=>{const w=(0,mn.D)(n[_],t);let S=!1;w.subscribe((0,Jt.x)(r,T=>{c[_]=T,S||(S=!0,f--),f||r.next(e(c.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,t,a?h=>function ju(n,t){return n.reduce((e,r,a)=>(e[r]=t[a],e),{})}(a,h):Vs.y));return e?c.pipe(Lh(e)):c}function Va(n,t,e){n?(0,Bh.f)(e,n,t):t()}var kn=R(576);function bi(n,t){const e=(0,kn.m)(n)?n:()=>n,r=a=>a.error(e());return new nr.y(t?a=>t.schedule(r,0,a):r)}const Ua=(0,R(888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Oo=R(189);function Hs(...n){return function Vu(){return(0,Oo.J)(1)}()((0,mn.D)(n,(0,Bs.yG)(n)))}var Ji=R(421);function Ha(n){return new nr.y(t=>{(0,Ji.Xf)(n()).subscribe(t)})}var es=R(515),Zr=R(727),Yt=R(482);function $a(){return(0,Yt.e)((n,t)=>{let e=null;n._refCount++;const r=(0,Jt.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,c=e;e=null,a&&(!c||a===c)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class Uu extends nr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Yt.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Zr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Jt.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Zr.w0.EMPTY)}return t}refCount(){return $a()(this)}}function Tr(n,t){return(0,Yt.e)((e,r)=>{let a=null,c=0,h=!1;const f=()=>h&&!a&&r.complete();e.subscribe((0,Jt.x)(r,_=>{null==a||a.unsubscribe();let w=0;const S=c++;(0,Ji.Xf)(n(_,S)).subscribe(a=(0,Jt.x)(r,T=>r.next(t?t(_,T,S,w++):T),()=>{a=null,f()}))},()=>{h=!0,f()}))})}function fr(n){return n<=0?()=>es.E:(0,Yt.e)((t,e)=>{let r=0;t.subscribe((0,Jt.x)(e,a=>{++r<=n&&(e.next(a),n<=r&&e.complete())}))})}function Po(...n){const t=(0,Bs.yG)(n);return(0,Yt.e)((e,r)=>{(t?Hs(n,e,t):Hs(n,e)).subscribe(r)})}function No(n,t,e,r,a){return(c,h)=>{let f=e,_=t,w=0;c.subscribe((0,Jt.x)(h,S=>{const T=w++;_=f?n(_,S,T):(f=!0,S),r&&h.next(_)},a&&(()=>{f&&h.next(_),h.complete()})))}}function Fo(n,t){return(0,Yt.e)(No(n,t,arguments.length>=2,!0))}function en(n,t){return(0,Yt.e)((e,r)=>{let a=0;e.subscribe((0,Jt.x)(r,c=>n.call(t,c,a++)&&r.next(c)))})}function zn(n){return(0,Yt.e)((t,e)=>{let c,r=null,a=!1;r=t.subscribe((0,Jt.x)(e,void 0,void 0,h=>{c=(0,Ji.Xf)(n(h,zn(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):a=!0})),a&&(r.unsubscribe(),r=null,c.subscribe(e))})}var jt=R(577);function $s(n,t){return(0,kn.m)(t)?(0,jt.z)(n,t,1):(0,jt.z)(n,1)}function ts(n){return n<=0?()=>es.E:(0,Yt.e)((t,e)=>{let r=[];t.subscribe((0,Jt.x)(e,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)e.next(a);e.complete()},void 0,()=>{r=null}))})}function ns(n=Di){return(0,Yt.e)((t,e)=>{let r=!1;t.subscribe((0,Jt.x)(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(n())))})}function Di(){return new Ua}function ac(n){return(0,Yt.e)((t,e)=>{let r=!1;t.subscribe((0,Jt.x)(e,a=>{r=!0,e.next(a)},()=>{r||e.next(n),e.complete()}))})}function Qr(n,t){const e=arguments.length>=2;return r=>r.pipe(n?en((a,c)=>n(a,c,r)):Vs.y,fr(1),e?ac(t):ns(()=>new Ua))}function Wn(n,t,e){const r=(0,kn.m)(n)||t||e?{next:n,error:t,complete:e}:n;return r?(0,Yt.e)((a,c)=>{var h;null===(h=r.subscribe)||void 0===h||h.call(r);let f=!0;a.subscribe((0,Jt.x)(c,_=>{var w;null===(w=r.next)||void 0===w||w.call(r,_),c.next(_)},()=>{var _;f=!1,null===(_=r.complete)||void 0===_||_.call(r),c.complete()},_=>{var w;f=!1,null===(w=r.error)||void 0===w||w.call(r,_),c.error(_)},()=>{var _,w;f&&(null===(_=r.unsubscribe)||void 0===_||_.call(r)),null===(w=r.finalize)||void 0===w||w.call(r)}))}):Vs.y}class Dn{constructor(t,e){this.id=t,this.url=e}}class za extends Dn{constructor(t,e,r="imperative",a=null){super(t,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lc extends Dn{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Uh extends Dn{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ko extends Dn{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qv extends Dn{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sn extends Dn{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cc extends Dn{constructor(t,e,r,a,c){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rs extends Dn{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yv extends Dn{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $h{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wa{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ga{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ka{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const st="primary";class zh{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function zs(n){return new zh(n)}const uc="ngNavigationCancelingError";function Ws(n){const t=Error("NavigationCancelingError: "+n);return t[uc]=!0,t}function Lo(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let c=0;c<r.length;c++){const h=r[c],f=n[c];if(h.startsWith(":"))a[h.substring(1)]=f;else if(h!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function pr(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!Bo(n[a],t[a]))return!1;return!0}function Bo(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,c)=>r[c]===a)}return n===t}function Wh(n){return Array.prototype.concat.apply([],n)}function Gh(n){return n.length>0?n[n.length-1]:null}function Sn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Jr(n){return(0,m.CqO)(n)?n:(0,m.QGY)(n)?(0,mn.D)(Promise.resolve(n)):ke(n)}const Hu={exact:function qa(n,t,e){if(!Gs(n.segments,t.segments)||!Ya(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!qa(n.children[r],t.children[r],e))return!1;return!0},subset:Kh},jo={exact:function gr(n,t){return pr(n,t)},subset:function Ir(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Bo(n[e],t[e]))},ignored:()=>!0};function Pg(n,t,e){return Hu[e.paths](n.root,t.root,e.matrixParams)&&jo[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Kh(n,t,e){return qh(n,t,t.segments,e)}function qh(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Gs(a,e)||t.hasChildren()||!Ya(a,e,r))}if(n.segments.length===e.length){if(!Gs(n.segments,e)||!Ya(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!Kh(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Gs(n.segments,a)&&Ya(n.segments,a,r)&&n.children[st])&&qh(n.children[st],t,c,r)}}function Ya(n,t,e){return t.every((r,a)=>jo[e](n[a].parameters,r.parameters))}class Ti{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zs(this.queryParams)),this._queryParamMap}toString(){return Xa.serialize(this)}}class ht{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Sn(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ai(this)}}class Ii{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=zs(this.parameters)),this._parameterMap}toString(){return y(this)}}function Gs(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class Za{}class Qa{parse(t){const e=new Se(t);return new Ti(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Vo(t.root,!0)}`,r=function b(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${Ja(e)}=${Ja(a)}`).join("&"):`${Ja(e)}=${Ja(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function dc(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Xa=new Qa;function Ai(n){return n.segments.map(t=>y(t)).join("/")}function Vo(n,t){if(!n.hasChildren())return Ai(n);if(t){const e=n.children[st]?Vo(n.children[st],!1):"",r=[];return Sn(n.children,(a,c)=>{c!==st&&r.push(`${c}:${Vo(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function _n(n,t){let e=[];return Sn(n.children,(r,a)=>{a===st&&(e=e.concat(t(r,a)))}),Sn(n.children,(r,a)=>{a!==st&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===st?[Vo(n.children[st],!1)]:[`${a}:${Vo(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[st]?`${Ai(n)}/${e[0]}`:`${Ai(n)}/(${e.join("//")})`}}function zu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ja(n){return zu(n).replace(/%3B/gi,";")}function ss(n){return zu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uo(n){return decodeURIComponent(n)}function os(n){return Uo(n.replace(/\+/g,"%20"))}function y(n){return`${ss(n.path)}${function E(n){return Object.keys(n).map(t=>`;${ss(t)}=${ss(n[t])}`).join("")}(n.parameters)}`}const M=/^[^\/()?;=#]+/;function j(n){const t=n.match(M);return t?t[0]:""}const G=/^[^=?&#]+/,fe=/^[^&#]+/;class Se{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ht([],{}):new ht([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[st]=new ht(t,e)),r}parseSegment(){const t=j(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ii(Uo(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=j(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=j(this.remaining);a&&(r=a,this.capture(r))}t[Uo(e)]=Uo(r)}parseQueryParam(t){const e=function re(n){const t=n.match(G);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function Oe(n){const t=n.match(fe);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const a=os(e),c=os(r);if(t.hasOwnProperty(a)){let h=t[a];Array.isArray(h)||(h=[h],t[a]=h),h.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=j(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=st);const h=this.parseChildren();e[c]=1===Object.keys(h).length?h[st]:new ht([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class We{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ie(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Ie(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=At(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return At(t,this._root).map(e=>e.value)}}function Ie(n,t){if(n===t.value)return t;for(const e of t.children){const r=Ie(n,e);if(r)return r}return null}function At(n,t){if(n===t.value)return[t];for(const e of t.children){const r=At(n,e);if(r.length)return r.unshift(t),r}return[]}class Mt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ar(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Ks extends We{constructor(t,e){super(t),this.snapshot=e,tl(this,t)}toString(){return this.snapshot.toString()}}function as(n,t){const e=function el(n,t){const h=new ei([],{},{},"",{},st,t,null,n.root,-1,{});return new Wu("",new Mt(h,[]))}(n,t),r=new hr([new Ii("",{})]),a=new hr({}),c=new hr({}),h=new hr({}),f=new hr(""),_=new mr(r,a,h,f,c,st,t,e.root);return _.snapshot=e.root,new Ks(new Mt(_,[]),e)}class mr{constructor(t,e,r,a,c,h,f,_){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=h,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(t=>zs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(t=>zs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _r(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],c=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function ls(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class ei{constructor(t,e,r,a,c,h,f,_,w,S,T){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=h,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=S,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wu extends We{constructor(t,e){super(e),this.url=t,tl(this,e)}toString(){return Gu(this._root)}}function tl(n,t){t.value._routerState=n,t.children.forEach(e=>tl(n,e))}function Gu(n){const t=n.children.length>0?` { ${n.children.map(Gu).join(", ")} } `:"";return`${n.value}${t}`}function Ku(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,pr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),pr(t.params,e.params)||n.params.next(e.params),function Si(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!pr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),pr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function qu(n,t){const e=pr(n.params,t.params)&&function $u(n,t){return Gs(n,t)&&n.every((e,r)=>pr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||qu(n.parent,t.parent))}function nl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function Qv(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return nl(n,r,a);return nl(n,r)})}(n,t,e);return new Mt(r,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const h=c.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(f=>nl(n,f)),h}}const r=function Xv(n){return new mr(new hr(n.url),new hr(n.params),new hr(n.queryParams),new hr(n.fragment),new hr(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>nl(n,c));return new Mt(r,a)}}function Yu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hc(n){return"object"==typeof n&&null!=n&&n.outlets}function Mi(n,t,e,r,a){let c={};if(r&&Sn(r,(f,_)=>{c[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),n===t)return new Ti(e,c,a);const h=rl(n,t,e);return new Ti(h,c,a)}function rl(n,t,e){const r={};return Sn(n.children,(a,c)=>{r[c]=a===t?e:rl(a,t,e)}),new ht(n.segments,r)}class Fg{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Yu(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(hc);if(a&&a!==Gh(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kg{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Yh(n,t,e){if(n||(n=new ht([],{})),0===n.segments.length&&n.hasChildren())return Zu(n,t,e);const r=function eE(n,t,e){let r=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return c;const h=n.segments[a],f=e[r];if(hc(f))break;const _=`${f}`,w=r<e.length-1?e[r+1]:null;if(a>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Lg(_,w,h))return c;r+=2}else{if(!Lg(_,{},h))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new ht(n.segments.slice(0,r.pathIndex),{});return c.children[st]=new ht(n.segments.slice(r.pathIndex),n.children),Zu(c,0,a)}return r.match&&0===a.length?new ht(n.segments,{}):r.match&&!n.hasChildren()?Zh(n,t,e):r.match?Zu(n,0,a):Zh(n,t,e)}function Zu(n,t,e){if(0===e.length)return new ht(n.segments,{});{const r=function h0(n){return hc(n[0])?n[0].outlets:{[st]:n}}(e),a={};return Sn(r,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[h]=Yh(n.children[h],t,c))}),Sn(n.children,(c,h)=>{void 0===r[h]&&(a[h]=c)}),new ht(n.segments,a)}}function Zh(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(hc(c)){const _=tE(c.outlets);return new ht(r,_)}if(0===a&&Yu(e[0])){r.push(new Ii(n.segments[t].path,nE(e[0]))),a++;continue}const h=hc(c)?c.outlets[st]:`${c}`,f=a<e.length-1?e[a+1]:null;h&&f&&Yu(f)?(r.push(new Ii(h,nE(f))),a+=2):(r.push(new Ii(h,{})),a++)}return new ht(r,{})}function tE(n){const t={};return Sn(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Zh(new ht([],{}),0,e))}),t}function nE(n){const t={};return Sn(n,(e,r)=>t[r]=`${e}`),t}function Lg(n,t,e){return n==e.path&&pr(t,e.parameters)}class Bg{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Ku(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=Ar(e);t.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,a[h],r),delete a[h]}),Sn(a,(c,h)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const h=r.getContext(a.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=Ar(t);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],a);if(r&&r.outlet){const h=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=Ar(t);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=Ar(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new Ga(c.value.snapshot))}),t.children.length&&this.forwardEvent(new $h(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(Ku(a),a===c)if(a.component){const h=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const h=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const f=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(f.contexts),h.attachRef=f.componentRef,h.route=f.route.value,h.outlet&&h.outlet.attach(f.componentRef,f.route.value),Ku(f.route.value),this.activateChildRoutes(t,null,h.children)}else{const f=function xi(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),_=f?f.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=_,h.outlet&&h.outlet.activateWith(a,_),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}class Ho{constructor(t,e){this.routes=t,this.module=e}}function cs(n){return"function"==typeof n}function qs(n){return n instanceof Ti}const $o=Symbol("INITIAL_VALUE");function zo(){return Tr(n=>jh(n.map(t=>t.pipe(fr(1),Po($o)))).pipe(Fo((t,e)=>{let r=!1;return e.reduce((a,c,h)=>a!==$o?a:(c===$o&&(r=!0),r||!1!==c&&h!==e.length-1&&!qs(c)?a:c),t)},$o),en(t=>t!==$o),(0,yt.U)(t=>qs(t)?t:!0===t),fr(1)))}class m0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xu,this.attachRef=null}}class Xu{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new m0,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Ju=(()=>{class n{constructor(e,r,a,c,h){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=c||st,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new rE(e,f,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(Xu),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},n.\u0275dir=m.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class rE{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===mr?this.route:t===Xu?this.childContexts:this.parent.get(t,e)}}let Vg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&m._UZ(0,"router-outlet")},directives:[Ju],encapsulation:2}),n})();function Ug(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];iE(r,Hg(t,r))}}function iE(n,t){n.children&&Ug(n.children,t)}function Hg(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function il(n){const t=n.children&&n.children.map(il),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==st&&(e.component=Vg),e}function Mr(n){return n.outlet||st}function ed(n,t){const e=n.filter(r=>Mr(r)===t);return e.push(...n.filter(r=>Mr(r)!==t)),e}const $g={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zt(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},$g):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const c=(t.matcher||Lo)(e,n,t);if(!c)return Object.assign({},$g);const h={};Sn(c.posParams,(_,w)=>{h[w]=_.path});const f=c.consumed.length>0?Object.assign(Object.assign({},h),c.consumed[c.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:c.consumed,remainingSegments:e.slice(c.consumed.length),parameters:f,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function td(n,t,e,r,a="corrected"){if(e.length>0&&function zg(n,t,e){return e.some(r=>nd(n,t,r)&&Mr(r)!==st)}(n,e,r)){const h=new ht(t,function Xh(n,t,e,r){const a={};a[st]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Mr(c)!==st){const h=new ht([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,a[Mr(c)]=h}return a}(n,t,r,new ht(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function oE(n,t,e){return e.some(r=>nd(n,t,r))}(n,e,r)){const h=new ht(n.segments,function sE(n,t,e,r,a,c){const h={};for(const f of r)if(nd(n,e,f)&&!a[Mr(f)]){const _=new ht([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===c?n.segments.length:t.length,h[Mr(f)]=_}return Object.assign(Object.assign({},a),h)}(n,t,e,r,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const c=new ht(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function nd(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Wg(n,t,e,r){return!!(Mr(n)===r||r!==st&&nd(t,e,n))&&("**"===n.path||Zt(t,n,e).matched)}function Gg(n,t,e){return 0===t.length&&!n.children[e]}class rd{constructor(t){this.segmentGroup=t||null}}class aE{constructor(t){this.urlTree=t}}function id(n){return bi(new rd(n))}function sl(n){return bi(new aE(n))}class qg{constructor(t,e,r,a,c){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(m.h0i)}apply(){const t=td(this.urlTree.root,[],[],this.config).segmentGroup,e=new ht(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,st).pipe((0,yt.U)(c=>this.createUrlTree(Wo(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zn(c=>{if(c instanceof aE)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof rd?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,st).pipe((0,yt.U)(a=>this.createUrlTree(Wo(a),t.queryParams,t.fragment))).pipe(zn(a=>{throw a instanceof rd?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const a=t.segments.length>0?new ht([],{[st]:t}):t;return new Ti(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,yt.U)(c=>new ht([],c))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return(0,mn.D)(a).pipe($s(c=>{const h=r.children[c],f=ed(e,c);return this.expandSegmentGroup(t,f,h,c).pipe((0,yt.U)(_=>({segment:_,outlet:c})))}),Fo((c,h)=>(c[h.outlet]=h.segment,c),{}),function Gt(n,t){const e=arguments.length>=2;return r=>r.pipe(n?en((a,c)=>n(a,c,r)):Vs.y,ts(1),e?ac(t):ns(()=>new Ua))}())}expandSegment(t,e,r,a,c,h){return(0,mn.D)(r).pipe($s(f=>this.expandSegmentAgainstRoute(t,e,r,f,a,c,h).pipe(zn(w=>{if(w instanceof rd)return ke(null);throw w}))),Qr(f=>!!f),zn((f,_)=>{if(f instanceof Ua||"EmptyError"===f.name)return Gg(e,a,c)?ke(new ht([],{})):id(e);throw f}))}expandSegmentAgainstRoute(t,e,r,a,c,h,f){return Wg(a,e,c,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,h):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,h):id(e):id(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sl(c):this.lineralizeSegments(r,c).pipe((0,jt.z)(h=>{const f=new ht(h,{});return this.expandSegment(t,f,e,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,h){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:S}=Zt(e,a,c);if(!f)return id(e);const T=this.applyRedirectCommands(_,a.redirectTo,S);return a.redirectTo.startsWith("/")?sl(T):this.lineralizeSegments(a,T).pipe((0,jt.z)(L=>this.expandSegment(t,e,r,L.concat(w),h,!1)))}matchSegmentAgainstRoute(t,e,r,a,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ke(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,yt.U)(T=>(r._loadedConfig=T,new ht(a,{})))):ke(new ht(a,{}));const{matched:h,consumedSegments:f,remainingSegments:_}=Zt(e,r,a);return h?this.getChildConfig(t,r,a).pipe((0,jt.z)(S=>{const T=S.module,L=S.routes,{segmentGroup:W,slicedSegments:te}=td(e,f,_,L),Ee=new ht(W.segments,W.children);if(0===te.length&&Ee.hasChildren())return this.expandChildren(T,L,Ee).pipe((0,yt.U)(tn=>new ht(f,tn)));if(0===L.length&&0===te.length)return ke(new ht(f,{}));const $e=Mr(r)===c;return this.expandSegment(T,Ee,L,te,$e?st:c,!0).pipe((0,yt.U)(wt=>new ht(f.concat(wt.segments),wt.children)))})):id(e)}getChildConfig(t,e,r){return e.children?ke(new Ho(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ke(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,jt.z)(a=>a?this.configLoader.load(t.injector,e).pipe((0,yt.U)(c=>(e._loadedConfig=c,c))):function Jh(n){return bi(Ws(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):ke(new Ho([],t))}runCanLoadGuards(t,e,r){const a=e.canLoad;return a&&0!==a.length?ke(a.map(h=>{const f=t.get(h);let _;if(function f0(n){return n&&cs(n.canLoad)}(f))_=f.canLoad(e,r);else{if(!cs(f))throw new Error("Invalid CanLoad guard");_=f(e,r)}return Jr(_)})).pipe(zo(),Wn(h=>{if(!qs(h))return;const f=Ws(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw f.url=h,f}),(0,yt.U)(h=>!0===h)):ke(!0)}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return ke(r);if(a.numberOfChildren>1||!a.children[st])return bi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));a=a.children[st]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,a){const c=this.createSegmentGroup(t,e.root,r,a);return new Ti(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Sn(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);r[c]=e[f]}else r[c]=a}),r}createSegmentGroup(t,e,r,a){const c=this.createSegments(t,e.segments,r,a);let h={};return Sn(e.children,(f,_)=>{h[_]=this.createSegmentGroup(t,f,r,a)}),new ht(c,h)}createSegments(t,e,r,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}function Wo(n){const t={};for(const r of Object.keys(n.children)){const c=Wo(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function Ln(n){if(1===n.numberOfChildren&&n.children[st]){const t=n.children[st];return new ht(n.segments.concat(t.segments),t.children)}return n}(new ht(n.segments,t))}class Yg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class sd{constructor(t,e){this.component=t,this.route=e}}function Zg(n,t,e){const r=n._root;return ol(r,t?t._root:null,e,[r.value])}function fc(n,t,e){const r=function cE(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function ol(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ar(t);return n.children.forEach(h=>{(function uE(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const _=function dE(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Gs(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Gs(n.url,t.url)||!pr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qu(n,t)||!pr(n.queryParams,t.queryParams);default:return!qu(n,t)}}(h,c,c.routeConfig.runGuardsAndResolvers);_?a.canActivateChecks.push(new Yg(r)):(c.data=h.data,c._resolvedData=h._resolvedData),ol(n,t,c.component?f?f.children:null:e,r,a),_&&f&&f.outlet&&f.outlet.isActivated&&a.canDeactivateChecks.push(new sd(f.outlet.component,h))}else h&&Go(t,f,a),a.canActivateChecks.push(new Yg(r)),ol(n,null,c.component?f?f.children:null:e,r,a)})(h,c[h.value.outlet],e,r.concat([h.value]),a),delete c[h.value.outlet]}),Sn(c,(h,f)=>Go(h,e.getContext(f),a)),a}function Go(n,t,e){const r=Ar(n),a=n.value;Sn(r,(c,h)=>{Go(c,a.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new sd(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class yE{}function Qg(n){return new nr.y(t=>t.error(n))}class Xg{constructor(t,e,r,a,c,h){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h}recognize(){const t=td(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,st);if(null===e)return null;const r=new ei([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},st,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Mt(r,e),c=new Wu(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,r=_r(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const c of Object.keys(e.children)){const h=e.children[c],f=ed(t,c),_=this.processSegmentGroup(f,h,c);if(null===_)return null;r.push(..._)}const a=Jg(r);return function EE(n){n.sort((t,e)=>t.value.outlet===st?-1:e.value.outlet===st?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(t,e,r,a){for(const c of t){const h=this.processSegmentAgainstRoute(c,e,r,a);if(null!==h)return h}return Gg(e,r,a)?[]:null}processSegmentAgainstRoute(t,e,r,a){if(t.redirectTo||!Wg(t,e,r,a))return null;let c,h=[],f=[];if("**"===t.path){const W=r.length>0?Gh(r).parameters:{};c=new ei(r,W,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nm(t),Mr(t),t.component,t,em(e),tm(e)+r.length,Ko(t))}else{const W=Zt(e,t,r);if(!W.matched)return null;h=W.consumedSegments,f=W.remainingSegments,c=new ei(h,W.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nm(t),Mr(t),t.component,t,em(e),tm(e)+h.length,Ko(t))}const _=function wE(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:w,slicedSegments:S}=td(e,h,f,_.filter(W=>void 0===W.redirectTo),this.relativeLinkResolution);if(0===S.length&&w.hasChildren()){const W=this.processChildren(_,w);return null===W?null:[new Mt(c,W)]}if(0===_.length&&0===S.length)return[new Mt(c,[])];const T=Mr(t)===a,L=this.processSegment(_,w,S,T?st:a);return null===L?null:[new Mt(c,L)]}}function CE(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Jg(n){const t=[],e=new Set;for(const r of n){if(!CE(r)){t.push(r);continue}const a=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=Jg(r.children);t.push(new Mt(r.value,a))}return t.filter(r=>!e.has(r))}function em(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function tm(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function nm(n){return n.data||{}}function Ko(n){return n.resolve||{}}function bE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function pc(n){return Tr(t=>{const e=n(t);return e?(0,mn.D)(e).pipe((0,yt.U)(()=>t)):ke(t)})}class im extends class DE{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const qo=new m.OlP("ROUTES");class rf{constructor(t,e,r,a){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,yt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=c.create(t);return new Ho(Wh(h.injector.get(qo,void 0,m.XFs.Self|m.XFs.Optional)).map(il),h)}),zn(c=>{throw e._loader$=void 0,c}));return e._loader$=new Uu(a,()=>new un.x).pipe($a()),e._loader$}loadModuleFactory(t){return Jr(t()).pipe((0,jt.z)(e=>e instanceof m.YKP?ke(e):(0,mn.D)(this.compiler.compileModuleAsync(e))))}}class sf{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function af(n){throw n}function om(n,t,e){return t.parse("/")}function SE(n,t){return ke(null)}const al={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kn=(()=>{class n{constructor(e,r,a,c,h,f,_){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=c,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new un.x,this.errorHandler=af,this.malformedUriErrorHandler=om,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:SE,afterPreactivation:SE},this.urlHandlingStrategy=new sf,this.routeReuseStrategy=new im,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(m.h0i),this.console=h.get(m.c2e);const T=h.get(m.R0b);this.isNgZoneEnabled=T instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function is(){return new Ti(new ht([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new rf(h,f,L=>this.triggerEvent(new Hh(L)),L=>this.triggerEvent(new rr(L))),this.routerState=as(this.currentUrlTree,this.rootComponentType),this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(en(a=>0!==a.id),(0,yt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Tr(a=>{let c=!1,h=!1;return ke(a).pipe(Wn(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Tr(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return ad(f.source)&&(this.browserUrlTree=f.extractedUrl),ke(f).pipe(Tr(T=>{const L=this.transitions.getValue();return r.next(new za(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),L!==this.transitions.getValue()?es.E:Promise.resolve(T)}),function ef(n,t,e,r){return Tr(a=>function Kg(n,t,e,r,a){return new qg(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe((0,yt.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Wn(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function Ri(n,t,e,r,a){return(0,jt.z)(c=>function vE(n,t,e,r,a="emptyOnly",c="legacy"){try{const h=new Xg(n,t,e,r,a,c).recognize();return null===h?Qg(new yE):ke(h)}catch(h){return Qg(h)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),r,a).pipe((0,yt.U)(h=>Object.assign(Object.assign({},c),{targetSnapshot:h}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),Wn(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const W=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(W,T)}this.browserUrlTree=T.urlAfterRedirects}const L=new qv(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);r.next(L)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:W,source:te,restoredState:Ee,extras:$e}=f,St=new za(L,this.serializeUrl(W),te,Ee);r.next(St);const wt=as(W,this.rootComponentType).snapshot;return ke(Object.assign(Object.assign({},f),{targetSnapshot:wt,urlAfterRedirects:W,extras:Object.assign(Object.assign({},$e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),es.E}),pc(f=>{const{targetSnapshot:_,id:w,extractedUrl:S,rawUrl:T,extras:{skipLocationChange:L,replaceUrl:W}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:S,rawUrlTree:T,skipLocationChange:!!L,replaceUrl:!!W})}),Wn(f=>{const _=new sn(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,yt.U)(f=>Object.assign(Object.assign({},f),{guards:Zg(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function hE(n,t){return(0,jt.z)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:h}}=e;return 0===h.length&&0===c.length?ke(Object.assign(Object.assign({},e),{guardsResult:!0})):function fE(n,t,e,r){return(0,mn.D)(n).pipe((0,jt.z)(a=>function _E(n,t,e,r,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?ke(c.map(f=>{const _=fc(f,t,a);let w;if(function Qh(n){return n&&cs(n.canDeactivate)}(_))w=Jr(_.canDeactivate(n,t,e,r));else{if(!cs(_))throw new Error("Invalid CanDeactivate guard");w=Jr(_(n,t,e,r))}return w.pipe(Qr())})).pipe(zo()):ke(!0)}(a.component,a.route,e,t,r)),Qr(a=>!0!==a,!0))}(h,r,a,n).pipe((0,jt.z)(f=>f&&function jg(n){return"boolean"==typeof n}(f)?function tf(n,t,e,r){return(0,mn.D)(t).pipe($s(a=>Hs(function gE(n,t){return null!==n&&t&&t(new Xr(n)),ke(!0)}(a.route.parent,r),function pE(n,t){return null!==n&&t&&t(new Wa(n)),ke(!0)}(a.route,r),function mE(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(h=>function lE(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>Ha(()=>ke(h.guards.map(_=>{const w=fc(_,h.node,e);let S;if(function g0(n){return n&&cs(n.canActivateChild)}(w))S=Jr(w.canActivateChild(r,n));else{if(!cs(w))throw new Error("Invalid CanActivateChild guard");S=Jr(w(r,n))}return S.pipe(Qr())})).pipe(zo())));return ke(c).pipe(zo())}(n,a.path,e),function od(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ke(!0);const a=r.map(c=>Ha(()=>{const h=fc(c,t,e);let f;if(function p0(n){return n&&cs(n.canActivate)}(h))f=Jr(h.canActivate(t,n));else{if(!cs(h))throw new Error("Invalid CanActivate guard");f=Jr(h(t,n))}return f.pipe(Qr())}));return ke(a).pipe(zo())}(n,a.route,e))),Qr(a=>!0!==a,!0))}(r,c,n,t):ke(f)),(0,yt.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),Wn(f=>{if(qs(f.guardsResult)){const w=Ws(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new cc(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),en(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),pc(f=>{if(f.guards.canActivateChecks.length)return ke(f).pipe(Wn(_=>{const w=new rs(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Tr(_=>{let w=!1;return ke(_).pipe(function y0(n,t){return(0,jt.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return ke(e);let c=0;return(0,mn.D)(a).pipe($s(h=>function v0(n,t,e,r){return function rm(n,t,e,r){const a=bE(n);if(0===a.length)return ke({});const c={};return(0,mn.D)(a).pipe((0,jt.z)(h=>function Oi(n,t,e,r){const a=fc(n,t,r);return Jr(a.resolve?a.resolve(t,e):a(t,e))}(n[h],t,e,r).pipe(Wn(f=>{c[h]=f}))),ts(1),(0,jt.z)(()=>bE(c).length===a.length?ke(c):es.E))}(n._resolve,n,t,r).pipe((0,yt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),_r(n,e).resolve),null)))}(h.route,r,n,t)),Wn(()=>c++),ts(1),(0,jt.z)(h=>c===a.length?ke(e):es.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Wn({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),Wn(_=>{const w=new Yv(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),pc(f=>{const{targetSnapshot:_,id:w,extractedUrl:S,rawUrl:T,extras:{skipLocationChange:L,replaceUrl:W}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:S,rawUrlTree:T,skipLocationChange:!!L,replaceUrl:!!W})}),(0,yt.U)(f=>{const _=function Ng(n,t,e){const r=nl(n,t._root,e?e._root:void 0);return new Ks(r,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),Wn(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,yt.U)(r=>(new Bg(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),Wn({next(){c=!0},complete(){c=!0}}),function Vh(n){return(0,Yt.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var f;c||h||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===a.id&&(this.currentNavigation=null)}),zn(f=>{if(h=!0,function xn(n){return n&&n[uc]}(f)){const _=qs(f.url);_||(this.navigated=!0,this.restoreHistory(a,!0));const w=new Uh(a.id,this.serializeUrl(a.extractedUrl),f.message);r.next(w),_?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),T={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ad(a.source)};this.scheduleNavigation(S,"imperative",null,T,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const _=new ko(a.id,this.serializeUrl(a.extractedUrl),f);r.next(_);try{a.resolve(this.errorHandler(f))}catch(w){a.reject(w)}}return es.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const c={replaceUrl:!0},h=(null===(a=e.state)||void 0===a?void 0:a.navigationId)?e.state:null;if(h){const _=Object.assign({},h);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(c.state=_)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,r,h,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ug(e),this.config=e.map(il),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:c,fragment:h,queryParamsHandling:f,preserveFragment:_}=r,w=a||this.routerState.root,S=_?this.currentUrlTree.fragment:h;let T=null;switch(f){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=c||null}return null!==T&&(T=this.removeEmptyProps(T)),function Jv(n,t,e,r,a){if(0===e.length)return Mi(t.root,t.root,t.root,r,a);const c=function c0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Fg(!0,0,n);let t=0,e=!1;const r=n.reduce((a,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const f={};return Sn(c.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...a,{outlets:f}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===h?(c.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?e=!0:".."===f?t++:""!=f&&a.push(f))}),a):[...a,c]},[]);return new Fg(e,t,r)}(e);if(c.toRoot())return Mi(t.root,t.root,new ht([],{}),r,a);const h=function u0(n,t,e){if(n.isAbsolute)return new kg(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new kg(c,c===t.root,0)}const r=Yu(n.commands[0])?0:1;return function d0(n,t,e){let r=n,a=t,c=e;for(;c>a;){if(c-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new kg(r,!1,a-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,t,n),f=h.processChildren?Zu(h.segmentGroup,h.index,c.commands):Yh(h.segmentGroup,h.index,c.commands);return Mi(t.root,h.segmentGroup,f,r,a)}(w,this.currentUrlTree,e,T,null!=S?S:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=qs(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function TE(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?Object.assign({},al):!1===r?Object.assign({},lf):r,qs(e))return Pg(this.currentUrlTree,e,a);const c=this.parseUrl(e);return Pg(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const c=e[a];return null!=c&&(r[a]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new lc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,c,h){var f,_;if(this.disposed)return Promise.resolve(!1);let w,S,T;h?(w=h.resolve,S=h.reject,T=h.promise):T=new Promise((te,Ee)=>{w=te,S=Ee});const L=++this.navigationId;let W;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),W=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):W=0,this.setTransition({id:L,targetPageId:W,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:w,reject:S,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(te=>Promise.reject(te))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,r=!1){var a,c;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new Uh(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){m.$Z()},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function ad(n){return"imperative"!==n}class am{}class ld{preload(t,e){return ke(null)}}let df=(()=>{class n{constructor(e,r,a,c){this.router=e,this.injector=a,this.preloadingStrategy=c,this.loader=new rf(a,r,_=>e.triggerEvent(new Hh(_)),_=>e.triggerEvent(new rr(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(en(e=>e instanceof lc),$s(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(m.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const h=c._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(e,c)):c.children&&a.push(this.processRoutes(e,c.children));return(0,mn.D)(a).pipe((0,Oo.J)(),(0,yt.U)(c=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ke(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,jt.z)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Kn),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(am))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),gc=(()=>{class n{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof za?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof lc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ka&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new Ka(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){m.$Z()},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Yo=new m.OlP("ROUTER_CONFIGURATION"),hf=new m.OlP("ROUTER_FORROOT_GUARD"),cm=[de,{provide:Za,useClass:Qa},{provide:Kn,useFactory:function hm(n,t,e,r,a,c,h={},f,_){const w=new Kn(null,n,t,e,r,a,Wh(c));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function fm(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(h,w),h.enableTracing&&w.events.subscribe(S=>{var T,L;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(L=console.groupEnd)||void 0===L||L.call(console)}),w},deps:[Za,Xu,de,m.zs3,m.Sil,qo,Yo,[class sm{},new m.FiY],[class nf{},new m.FiY]]},Xu,{provide:mr,useFactory:function pm(n){return n.routerState.root},deps:[Kn]},df,ld,class lm{preload(t,e){return e().pipe(zn(()=>ke(null)))}},{provide:Yo,useValue:{enableTracing:!1}}];function Zo(){return new m.PXZ("Router",Kn)}let ff=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[cm,dm(e),{provide:hf,useFactory:cd,deps:[[Kn,new m.FiY,new m.tp0]]},{provide:Yo,useValue:r||{}},{provide:Ue,useFactory:ME,deps:[Me,[new m.tBr(Re),new m.FiY],Yo]},{provide:gc,useFactory:um,deps:[Kn,Ma,Yo]},{provide:am,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ld},{provide:m.PXZ,multi:!0,useFactory:Zo},[mc,{provide:m.ip1,multi:!0,useFactory:gm,deps:[mc]},{provide:_c,useFactory:ud,deps:[mc]},{provide:m.tb,multi:!0,useExisting:_c}]]}}static forChild(e){return{ngModule:n,providers:[dm(e)]}}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(hf,8),m.LFG(Kn,8))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();function um(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new gc(n,t,e)}function ME(n,t,e={}){return e.useHash?new ie(n,t):new ye(n,t)}function cd(n){return"guarded"}function dm(n){return[{provide:m.deG,multi:!0,useValue:n},{provide:qo,multi:!0,useValue:n}]}let mc=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new un.x}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(f=>r=f),c=this.injector.get(Kn),h=this.injector.get(Yo);return"disabled"===h.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?ke(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(Yo),a=this.injector.get(df),c=this.injector.get(gc),h=this.injector.get(Kn),f=this.injector.get(m.z2F);e===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),c.init(),h.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(m.zs3))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function gm(n){return n.appInitializer.bind(n)}function ud(n){return n.bootstrapListener.bind(n)}const _c=new m.OlP("Router Initializer");let ym=(()=>{class n{constructor(e){this.Router=e}take_me_to_chats(e){this.Router.navigate(["/chat"],{queryParams:{user:e}})}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(Kn))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-login"]],decls:7,vars:0,consts:[["username",""],[3,"click"]],template:function(e,r){if(1&e){const a=m.EpF();m.TgZ(0,"h1"),m._uU(1,"Enter Username"),m.qZA(),m._UZ(2,"input",null,0),m.TgZ(4,"button",1),m.NdJ("click",function(){m.CHM(a);const h=m.MAs(3);return r.take_me_to_chats(h.value)}),m._uU(5,"Click me"),m.qZA(),m._UZ(6,"br")}},styles:[""]}),n})();var pf=R(867),yc=R(861),cl=R(681),vm=R(859),z=R(90),Em=R(877);const gf="@firebase/database";let hd="";class wm{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,z.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,z.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class xE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,z.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const mf=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new wm(t)}}catch(t){}return new xE},Qo=mf("localStorage"),_f=mf("sessionStorage"),Bn=new Em.Yd("@firebase/database"),Cm=function(){let n=1;return function(){return n++}}(),yf=function(n){const t=(0,z.dS)(n),e=new z.gQ;e.update(t);const r=e.digest();return z.US.encodeByteArray(r)},vc=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=vc.apply(null,r):t+="object"==typeof r?(0,z.Pz)(r):r,t+=" "}return t};let Xo=null,bm=!0;const yn=function(...n){if(!0===bm&&(bm=!1,null===Xo&&!0===_f.get("logging_enabled")&&function(n,t){(0,z.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Bn.logLevel=Em.in.VERBOSE,Xo=Bn.log.bind(Bn),t&&_f.set("logging_enabled",!0)):"function"==typeof n?Xo=n:(Xo=null,_f.remove("logging_enabled"))}(!0)),Xo){const t=vc.apply(null,n);Xo(t)}},Ec=function(n){return function(...t){yn(n,...t)}},vf=function(...n){const t="FIREBASE INTERNAL ERROR: "+vc(...n);Bn.error(t)},Pi=function(...n){const t=`FIREBASE FATAL ERROR: ${vc(...n)}`;throw Bn.error(t),new Error(t)},je=function(...n){const t="FIREBASE WARNING: "+vc(...n);Bn.warn(t)},wc=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},xr="[MIN_NAME]",dn="[MAX_NAME]",Ys=function(n,t){if(n===t)return 0;if(n===xr||t===dn)return-1;if(t===xr||n===dn)return 1;{const e=ul(n),r=ul(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},RE=function(n,t){return n===t?0:n<t?-1:1},Jo=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,z.Pz)(t))},ti=function(n){if("object"!=typeof n||null===n)return(0,z.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,z.Pz)(t[r]),e+=":",e+=ti(n[t[r]]);return e+="}",e},fd=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let a=0;a<e;a+=t)r.push(n.substring(a,a+t>e?e:a+t));return r};function vn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const pd=function(n){(0,z.hu)(!wc(n),"Invalid JSON number");const r=1023;let a,c,h,f,_;0===n?(c=0,h=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=f+r,h=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(c=0,h=Math.round(n/Math.pow(2,-1074))));const w=[];for(_=52;_;_-=1)w.push(h%2?1:0),h=Math.floor(h/2);for(_=11;_;_-=1)w.push(c%2?1:0),c=Math.floor(c/2);w.push(a?1:0),w.reverse();const S=w.join("");let T="";for(_=0;_<64;_+=8){let L=parseInt(S.substr(_,8),2).toString(16);1===L.length&&(L="0"+L),T+=L}return T.toLowerCase()},gd=new RegExp("^-?(0*)\\d{1,10}$"),ul=function(n){if(gd.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Zs=function(n){try{n()}catch(t){setTimeout(()=>{throw je("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Dc=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class OE{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class PE{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',je(t)}}let Sc=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const wf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kE="websocket",LE="long_polling";class Rm{constructor(t,e,r,a,c=!1,h="",f=!1){this.secure=e,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qo.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Qo.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function BE(n,t,e){let r;if((0,z.hu)("string"==typeof t,"typeof type must == string"),(0,z.hu)("object"==typeof e,"typeof params must == object"),t===kE)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==LE)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function S0(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return vn(e,(c,h)=>{a.push(c+"="+h)}),r+a.join("&")}class T0{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,z.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,z.p$)(this.counters_)}}const Om={},Pm={};function Nm(n){const t=n.toString();return Om[t]||(Om[t]=new T0),Om[t]}class Cf{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&Zs(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class yr{constructor(t,e,r,a,c,h,f){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=a,this.authToken=c,this.transportSessionId=h,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ec(t),this.stats_=Nm(e),this.urlFn=_=>(this.appCheckToken&&(_.ac=this.appCheckToken),BE(e,LE,_))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Cf(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,z.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ea((...c)=>{const[h,f,_,w,S]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=f,this.password=_;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[h,f]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,f)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&wf.test(location.hostname)&&(r.r="f");const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yr.forceAllow_=!0}static forceDisallow(){yr.forceDisallow_=!0}static isAvailable(){return!((0,z.Yr)()||!yr.forceAllow_&&(yr.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,z.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,z.h$)(e),a=fd(r,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,z.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,z.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class ea{constructor(t,e,r,a){if(this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,z.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Cm(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=ea.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(f){yn("frame writing exception"),f.stack&&yn(f.stack),yn(f)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||yn("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const h=this.pendingSegs.shift();r=r+"&seg"+a+"="+h.seg+"&ts"+a+"="+h.ts+"&d"+a+"="+h.d,a++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),r()})}addTag(t,e){(0,z.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||"loaded"===a||"complete"===a)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{yn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Ac=null;"undefined"!=typeof MozWebSocket?Ac=MozWebSocket:"undefined"!=typeof WebSocket&&(Ac=WebSocket);let ta=(()=>{class n{constructor(e,r,a,c,h,f,_){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ec(this.connId),this.stats_=Nm(r),this.connURL=n.connectionURL_(r,f,_,c,a),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,a,c,h){const f={v:"5"};return!(0,z.Yr)()&&"undefined"!=typeof location&&location.hostname&&wf.test(location.hostname)&&(f.r="f"),r&&(f.s=r),a&&(f.ls=a),c&&(f.ac=c),h&&(f.p=h),BE(e,kE,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qo.set("previous_websocket_failure",!0);try{let a;if((0,z.Yr)()){a={headers:{"User-Agent":`Firebase/5/${hd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,f=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;f&&(a.proxy={origin:f})}this.mySock=new Ac(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Ac&&!n.forceDisallow_}static previouslyFailed(){return Qo.isInMemoryStorage||!0===Qo.get("previous_websocket_failure")}markConnectionHealthy(){Qo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=(0,z.cI)(r);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,z.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const r=(0,z.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=fd(r,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),yd=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[yr,ta]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=ta&&ta.isAvailable();let a=r&&!ta.previouslyFailed();if(e.webSocketOnly&&(r||je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[ta];else{const c=this.transports_=[];for(const h of n.ALL_TRANSPORTS)h&&h.isAvailable()&&c.push(h);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Km{constructor(t,e,r,a,c,h,f,_,w,S){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=h,this.onReady_=f,this.onDisconnect_=_,this.onKill_=w,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ec("c:"+this.id+":"),this.transportManager_=new yd(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Dc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Jo("t",t),r=Jo("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Jo("t",t),r=Jo("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Jo("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?vf("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vf("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Dc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Dc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class GE{put(t,e,r,a){}merge(t,e,r,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class KE{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,z.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const a=this.getInitialEvent(t);a&&e.apply(r,a)}off(t,e,r){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!r||r===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,z.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Mc extends KE{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,z.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Mc}getInitialEvent(t){return(0,z.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Dt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ct(){return new Dt("")}function ct(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Xs(n){return n.pieces_.length-n.pieceNum_}function Lt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Dt(n.pieces_,t)}function wd(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function fl(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Ym(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Dt(t,0)}function Kt(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Dt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&e.push(r[a])}return new Dt(e,0)}function at(n){return n.pieceNum_>=n.pieces_.length}function jn(n,t){const e=ct(n),r=ct(t);if(null===e)return t;if(e===r)return jn(Lt(n),Lt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Rr(n,t){if(Xs(n)!==Xs(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function sr(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Xs(n)>Xs(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class QE{constructor(t,e){this.errorPrefix_=e,this.parts_=fl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,z.ug)(this.parts_[r]);Mf(this)}}function Mf(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+na(n))}function na(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class xf extends KE{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new xf}getInitialEvent(t){return(0,z.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const xc=1e3;let bd,ds=(()=>{class n extends GE{constructor(e,r,a,c,h,f,_,w){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=h,this.authTokenProvider_=f,this.appCheckTokenProvider_=_,this.authOverride_=w,this.id=n.nextPersistentConnectionId_++,this.log_=Ec("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,w&&!(0,z.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Mc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,a){const c=++this.requestNumber_,h={r:c,a:e,b:r};this.log_((0,z.Pz)(h)),(0,z.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const r=new z.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:f=>{const _=f.d;"ok"===f.s?r.resolve(_):r.reject(_)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,a,c){this.initConnection_();const h=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+h),this.listens.has(f)||this.listens.set(f,new Map),(0,z.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,z.hu)(!this.listens.get(f).has(h),"listen() called twice for same path/queryId.");const _={onComplete:c,hashFn:r,query:e,tag:a};this.listens.get(f).set(h,_),this.connected_&&this.sendListen_(_)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(e){const r=e.query,a=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+a+" for "+c);const h={p:a};e.tag&&(h.q=r._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,_=>{const w=_.d,S=_.s;n.warnOnListenWarnings_(w,r),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",_),"ok"!==S&&this.removeListen_(a,c),e.onComplete&&e.onComplete(S,w))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,z.r3)(e,"w")){const a=(0,z.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',h=r._path.toString();je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,z.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,z.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(r,a,c=>{const h=c.s,f=c.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,a=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(e,r){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,z.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,r)}sendUnlisten_(e,r,a,c){this.log_("Unlisten on "+e+" for "+r);const h={p:e};c&&(h.q=a,h.t=c),this.sendRequest("n",h)}onDisconnectPut(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:a})}onDisconnectMerge(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:a})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,a,c){const h={p:r,d:a};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,f=>{c&&setTimeout(()=>{c(f.s,f.d)},Math.floor(0))})}put(e,r,a,c){this.putInternal("p",e,r,a,c)}merge(e,r,a,c){this.putInternal("m",e,r,a,c)}putInternal(e,r,a,c,h){this.initConnection_();const f={p:r,d:a};void 0!==h&&(f.h=h),this.outstandingPuts_.push({action:e,request:f,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,a,h=>{this.log_(r+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(h.s,h.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,z.Pz)(e));const r=e.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):vf("Unrecognized action received from server: "+(0,z.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,z.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=xc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,yc.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+n.nextConnectionId_++,f=e.lastSessionId;let _=!1,w=null;const S=function(){w?w.close():(_=!0,c())};e.realtime_={close:S,sendRequest:function(W){(0,z.hu)(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(W)}};const L=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[W,te]=yield Promise.all([e.authTokenProvider_.getToken(L),e.appCheckTokenProvider_.getToken(L)]);_?yn("getToken() completed but was canceled"):(yn("getToken() completed. Creating connection."),e.authToken_=W&&W.accessToken,e.appCheckToken_=te&&te.token,w=new Km(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,a,c,Ee=>{je(Ee+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},f))}catch(W){e.log_("Failed to get token: "+W),_||(e.repoInfo_.nodeAdmin&&je(W),S())}}})()}interrupt(e){yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,z.xb)(this.interruptReasons_)&&(this.reconnectDelay_=xc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let a;a=r?r.map(h=>ti(h)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,r){const a=new Dt(e).toString();let c;if(this.listens.has(a)){const h=this.listens.get(a);c=h.get(r),h.delete(r),0===h.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,r){yn("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){yn("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,z.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+hd.replace(/\./g,"-")]=1,(0,z.uI)()?e["framework.cordova"]=1:(0,z.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mc.getInstance().currentlyOnline();return(0,z.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class lt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new lt(t,e)}}class Rc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new lt(xr,t),a=new lt(xr,e);return 0!==this.compare(r,a)}minPost(){return lt.MIN}}class Xm extends Rc{static get __EMPTY_NODE(){return bd}static set __EMPTY_NODE(t){bd=t}compare(t,e){return Ys(t.name,e.name)}isDefinedOn(t){throw(0,z.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return lt.MIN}maxPost(){return new lt(dn,bd)}makePost(t,e){return(0,z.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new lt(t,bd)}toString(){return".key"}}const Or=new Xm;class Pf{constructor(t,e,r,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=e?r(t.key,e):1,a&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Sd,ni=(()=>{class n{constructor(e,r,a,c,h){this.key=e,this.value=r,this.color=null!=a?a:n.RED,this.left=null!=c?c:qn.EMPTY_NODE,this.right=null!=h?h:qn.EMPTY_NODE}copy(e,r,a,c,h){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=h?h:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let c=this;const h=a(e,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(e,r,a),null):0===h?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return qn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let a,c;if(a=this,r(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===r(e,a.key)){if(a.right.isEmpty())return qn.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class qn{constructor(t,e=qn.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new qn(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ni.BLACK,null,null))}remove(t){return new qn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ni.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,a=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(a=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Pf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Pf(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Pf(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Pf(this.root_,null,this.comparator_,!0,t)}}function e_(n,t){return Ys(n.name,t.name)}function Dd(n,t){return Ys(n,t)}qn.EMPTY_NODE=new class Jm{copy(t,e,r,a,c){return this}insert(t,e,r){return new ni(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Oc=function(n){return"number"==typeof n?"number:"+pd(n):"string:"+n},t_=function(n){if(n.isLeafNode()){const t=n.val();(0,z.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,z.r3)(t,".sv"),"Priority must be a string or number.")}else(0,z.hu)(n===Sd||n.isEmpty(),"priority of unexpected type.");(0,z.hu)(n===Sd||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let n_,Td,Nf,Pc=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,z.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),t_(this.priorityNode_)}static set __childrenNodeConstructor(e){n_=e}static get __childrenNodeConstructor(){return n_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return at(e)?this:".priority"===ct(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const a=ct(e);return null===a?r:r.isEmpty()&&".priority"!==a?this:((0,z.hu)(".priority"!==a||1===Xs(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Lt(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Oc(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?pd(this.value_):this.value_,this.lazyHash_=yf(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,z.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),h=n.VALUE_TYPE_ORDER.indexOf(a);return(0,z.hu)(c>=0,"Unknown leaf type: "+r),(0,z.hu)(h>=0,"Unknown leaf type: "+a),c===h?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ft=new class ew extends Rc{compare(t,e){const r=t.node.getPriority(),a=e.node.getPriority(),c=r.compareTo(a);return 0===c?Ys(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return lt.MIN}maxPost(){return new lt(dn,new Pc("[PRIORITY-POST]",Nf))}makePost(t,e){const r=Td(t);return new lt(e,new Pc("[PRIORITY-POST]",r))}toString(){return".priority"}},r_=Math.log(2);class i_{constructor(t){this.count=parseInt(Math.log(t+1)/r_,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Fc=function(n,t,e,r){n.sort(t);const a=function(_,w){const S=w-_;let T,L;if(0===S)return null;if(1===S)return T=n[_],L=e?e(T):T,new ni(L,T.node,ni.BLACK,null,null);{const W=parseInt(S/2,10)+_,te=a(_,W),Ee=a(W+1,w);return T=n[W],L=e?e(T):T,new ni(L,T.node,ni.BLACK,te,Ee)}},f=function(_){let w=null,S=null,T=n.length;const L=function(te,Ee){const $e=T-te,St=T;T-=te;const wt=a($e+1,St),tn=n[$e],an=e?e(tn):tn;W(new ni(an,tn.node,Ee,null,wt))},W=function(te){w?(w.left=te,w=te):(S=te,w=te)};for(let te=0;te<_.count;++te){const Ee=_.nextBitIsOne(),$e=Math.pow(2,_.count-(te+1));Ee?L($e,ni.BLACK):(L($e,ni.BLACK),L($e,ni.RED))}return S}(new i_(n.length));return new qn(r||t,f)};let kf;const Js={};class fs{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,z.hu)(Js&&Ft,"ChildrenNode.ts has not been loaded"),kf=kf||new fs({".priority":Js},{".priority":Ft}),kf}get(t){const e=(0,z.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof qn?e:null}hasIndex(t){return(0,z.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,z.hu)(t!==Or,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const c=e.getIterator(lt.Wrap);let f,h=c.getNext();for(;h;)a=a||t.isDefinedOn(h.node),r.push(h),h=c.getNext();f=a?Fc(r,t.getCompare()):Js;const _=t.toString(),w=Object.assign({},this.indexSet_);w[_]=t;const S=Object.assign({},this.indexes_);return S[_]=f,new fs(S,w)}addToIndexes(t,e){const r=(0,z.UI)(this.indexes_,(a,c)=>{const h=(0,z.DV)(this.indexSet_,c);if((0,z.hu)(h,"Missing index implementation for "+c),a===Js){if(h.isDefinedOn(t.node)){const f=[],_=e.getIterator(lt.Wrap);let w=_.getNext();for(;w;)w.name!==t.name&&f.push(w),w=_.getNext();return f.push(t),Fc(f,h.getCompare())}return Js}{const f=e.get(t.name);let _=a;return f&&(_=_.remove(new lt(t.name,f))),_.insert(t,t.node)}});return new fs(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,z.UI)(this.indexes_,a=>{if(a===Js)return a;{const c=e.get(t.name);return c?a.remove(new lt(t.name,c)):a}});return new fs(r,this.indexSet_)}}let kc,nt=(()=>{class n{constructor(e,r,a){this.children_=e,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&t_(this.priorityNode_),this.children_.isEmpty()&&(0,z.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return kc||(kc=new n(new qn(Dd),null,fs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||kc}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?kc:r}}getChild(e){const r=ct(e);return null===r?this:this.getImmediateChild(r).getChild(Lt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,z.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const a=new lt(e,r);let c,h;r.isEmpty()?(c=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,r),h=this.indexMap_.addToIndexes(a,this.children_));const f=c.isEmpty()?kc:this.priorityNode_;return new n(c,f,h)}}updateChild(e,r){const a=ct(e);if(null===a)return r;{(0,z.hu)(".priority"!==ct(e)||1===Xs(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(Lt(e),r);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let a=0,c=0,h=!0;if(this.forEachChild(Ft,(f,_)=>{r[f]=_.val(e),a++,h&&n.INTEGER_REGEXP_.test(f)?c=Math.max(c,Number(f)):h=!1}),!e&&h&&c<2*a){const f=[];for(const _ in r)f[_]=r[_];return f}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Oc(this.getPriority().val())+":"),this.forEachChild(Ft,(r,a)=>{const c=a.hash();""!==c&&(e+=":"+r+":"+c)}),this.lazyHash_=""===e?"":yf(e)}return this.lazyHash_}getPredecessorChildName(e,r,a){const c=this.resolveIndex_(a);if(c){const h=c.getPredecessorKey(new lt(e,r));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new lt(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new lt(r,this.children_.get(r)):null}forEachChild(e,r){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,lt.Wrap);let h=c.peek();for(;null!=h&&r.compare(h,e)<0;)c.getNext(),h=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,lt.Wrap);let h=c.peek();for(;null!=h&&r.compare(h,e)>0;)c.getNext(),h=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gl?-1:0}withIndex(e){if(e===Or||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Or||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const a=this.getIterator(Ft),c=r.getIterator(Ft);let h=a.getNext(),f=c.getNext();for(;h&&f;){if(h.name!==f.name||!h.node.equals(f.node))return!1;h=a.getNext(),f=c.getNext()}return null===h&&null===f}return!1}return!1}}resolveIndex_(e){return e===Or?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const gl=new class pl extends nt{constructor(){super(new qn(Dd),nt.EMPTY_NODE,fs.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return nt.EMPTY_NODE}isEmpty(){return!1}};function Qt(n,t=null){if(null===n)return nt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,z.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Pc(n,Qt(t));if(n instanceof Array){let e=nt.EMPTY_NODE;return vn(n,(r,a)=>{if((0,z.r3)(n,r)&&"."!==r.substring(0,1)){const c=Qt(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(r,c))}}),e.updatePriority(Qt(t))}{const e=[];let r=!1;if(vn(n,(h,f)=>{if("."!==h.substring(0,1)){const _=Qt(f);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),e.push(new lt(h,_)))}}),0===e.length)return nt.EMPTY_NODE;const c=Fc(e,e_,h=>h.name,Dd);if(r){const h=Fc(e,Ft.getCompare());return new nt(c,Qt(t),new fs({".priority":h},{".priority":Ft}))}return new nt(c,Qt(t),fs.Default)}}Object.defineProperties(lt,{MIN:{value:new lt(xr,nt.EMPTY_NODE)},MAX:{value:new lt(dn,gl)}}),Xm.__EMPTY_NODE=nt.EMPTY_NODE,Pc.__childrenNodeConstructor=nt,function hs(n){Sd=n}(gl),function Nc(n){Nf=n}(gl),function Ff(n){Td=n}(Qt);class eo extends Rc{constructor(t){super(),this.indexPath_=t,(0,z.hu)(!at(t)&&".priority"!==ct(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),a=this.extractChild(e.node),c=r.compareTo(a);return 0===c?Ys(t.name,e.name):c}makePost(t,e){const r=Qt(t),a=nt.EMPTY_NODE.updateChild(this.indexPath_,r);return new lt(e,a)}maxPost(){const t=nt.EMPTY_NODE.updateChild(this.indexPath_,gl);return new lt(dn,t)}toString(){return fl(this.indexPath_,0).join("/")}}const Lf=new class nw extends Rc{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?Ys(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return lt.MIN}maxPost(){return lt.MAX}makePost(t,e){const r=Qt(t);return new lt(e,r)}toString(){return".value"}},ml="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",s_=function(){let n=0;const t=[];return function(e){const r=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=ml.charAt(e%64),e=Math.floor(e/64);(0,z.hu)(0===e,"Cannot push at time == 0");let h=c.join("");if(r){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)h+=ml.charAt(t[a]);return(0,z.hu)(20===h.length,"nextPushId: Length should be 20."),h}}();function Uf(n){return{type:"value",snapshotNode:n}}function _l(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Lc(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Bc(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Ad{constructor(t){this.index_=t}updateChild(t,e,r,a,c,h){(0,z.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=t.getImmediateChild(e);return f.getChild(a).equals(r.getChild(a))&&f.isEmpty()===r.isEmpty()||(null!=h&&(r.isEmpty()?t.hasChild(e)?h.trackChildChange(Lc(e,f)):(0,z.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?h.trackChildChange(_l(e,r)):h.trackChildChange(Bc(e,r,f))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Ft,(a,c)=>{e.hasChild(a)||r.trackChildChange(Lc(a,c))}),e.isLeafNode()||e.forEachChild(Ft,(a,c)=>{if(t.hasChild(a)){const h=t.getImmediateChild(a);h.equals(c)||r.trackChildChange(Bc(a,c,h))}else r.trackChildChange(_l(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?nt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Md{constructor(t){this.indexedFilter_=new Ad(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Md.getStartPost_(t),this.endPost_=Md.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,a,c,h){return this.matches(new lt(e,r))||(r=nt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,a,c,h)}updateFullNode(t,e,r){e.isLeafNode()&&(e=nt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(nt.EMPTY_NODE);const c=this;return e.forEachChild(Ft,(h,f)=>{c.matches(new lt(h,f))||(a=a.updateImmediateChild(h,nt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class o_{constructor(t){this.rangedFilter_=new Md(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,a,c,h){return this.rangedFilter_.matches(new lt(e,r))||(r=nt.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,a,c,h):this.fullLimitUpdateChild_(t,e,r,c,h)}updateFullNode(t,e,r){let a;if(e.isLeafNode()||e.isEmpty())a=nt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=nt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const f=c.getNext();let _;if(_=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),f)<=0:this.index_.compare(f,this.rangedFilter_.getEndPost())<=0,!_)break;a=a.updateImmediateChild(f.name,f.node),h++}}else{let c,h,f,_;if(a=e.withIndex(this.index_),a=a.updatePriority(nt.EMPTY_NODE),this.reverse_){_=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();const T=this.index_.getCompare();f=(L,W)=>T(W,L)}else _=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();let w=0,S=!1;for(;_.hasNext();){const T=_.getNext();!S&&f(c,T)<=0&&(S=!0),S&&w<this.limit_&&f(T,h)<=0?w++:a=a.updateImmediateChild(T.name,nt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,a,c){let h;if(this.reverse_){const T=this.index_.getCompare();h=(L,W)=>T(W,L)}else h=this.index_.getCompare();const f=t;(0,z.hu)(f.numChildren()===this.limit_,"");const _=new lt(e,r),w=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),S=this.rangedFilter_.matches(_);if(f.hasChild(e)){const T=f.getImmediateChild(e);let L=a.getChildAfterChild(this.index_,w,this.reverse_);for(;null!=L&&(L.name===e||f.hasChild(L.name));)L=a.getChildAfterChild(this.index_,L,this.reverse_);const W=null==L?1:h(L,_);if(S&&!r.isEmpty()&&W>=0)return null!=c&&c.trackChildChange(Bc(e,r,T)),f.updateImmediateChild(e,r);{null!=c&&c.trackChildChange(Lc(e,T));const Ee=f.updateImmediateChild(e,nt.EMPTY_NODE);return null!=L&&this.rangedFilter_.matches(L)?(null!=c&&c.trackChildChange(_l(L.name,L.node)),Ee.updateImmediateChild(L.name,L.node)):Ee}}return r.isEmpty()?t:S&&h(w,_)>=0?(null!=c&&(c.trackChildChange(Lc(w.name,w.node)),c.trackChildChange(_l(e,r))),f.updateImmediateChild(e,r).updateImmediateChild(w.name,nt.EMPTY_NODE)):t}}class Hf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ft}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,z.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,z.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,z.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,z.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,z.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ft}copy(){const t=new Hf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Nr(n){const t={};if(n.isDefault())return t;let e;return n.index_===Ft?e="$priority":n.index_===Lf?e="$value":n.index_===Or?e="$key":((0,z.hu)(n.index_ instanceof eo,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,z.Pz)(e),n.startSet_&&(t.startAt=(0,z.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,z.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,z.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,z.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function ow(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Ft&&(t.i=n.index_.toString()),t}class zf extends GE{constructor(t,e,r,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=Ec("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,z.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const h=zf.getListenId_(t,r),f={};this.listens_[h]=f;const _=Nr(t._queryParams);this.restRequest_(c+".json",_,(w,S)=>{let T=S;if(404===w&&(T=null,w=null),null===w&&this.onDataUpdate_(c,T,!1,r),(0,z.DV)(this.listens_,h)===f){let L;L=w?401===w?"permission_denied":"rest_error:"+w:"ok",a(L,null)}})}unlisten(t,e){const r=zf.getListenId_(t,e);delete this.listens_[r]}get(t){const e=Nr(t._queryParams),r=t._path.toString(),a=new z.BH;return this.restRequest_(r+".json",e,(c,h)=>{let f=h;404===c&&(f=null,c=null),null===c?(this.onDataUpdate_(r,f,!1,null),a.resolve(f)):a.reject(new Error(f))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,z.xO)(e);this.log_("Sending REST request for "+h);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&4===f.readyState){this.log_("REST Response for "+h+" received. status:",f.status,"response:",f.responseText);let _=null;if(f.status>=200&&f.status<300){try{_=(0,z.cI)(f.responseText)}catch(w){je("Failed to parse JSON response for "+h+": "+f.responseText)}r(null,_)}else 401!==f.status&&404!==f.status&&je("Got unsuccessful REST response for "+h+" Status: "+f.status),r(f.status);r=null}},f.open("GET",h,!0),f.send()})}}class l_{constructor(){this.rootNode_=nt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Vc(){return{value:null,children:new Map}}function ra(n,t,e){if(at(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=ct(t);n.children.has(r)||n.children.set(r,Vc()),ra(n.children.get(r),t=Lt(t),e)}}function c_(n,t,e){null!==n.value?e(t,n.value):function u_(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,a)=>{c_(a,new Dt(t.toString()+"/"+r),e)})}class Gf{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&vn(this.last_,(r,a)=>{e[r]=e[r]-a}),this.last_=t,e}}class lw{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Gf(t);const r=1e4+2e4*Math.random();Dc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;vn(t,(a,c)=>{c>0&&(0,z.r3)(this.statsToReport_,a)&&(e[a]=c,r=!0)}),r&&this.server_.reportStats(e),Dc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fr=(()=>{return(n=Fr||(Fr={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Fr;var n})();function Zf(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ia{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Fr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(at(this.path)){if(null!=this.affectedTree.value)return(0,z.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Dt(t));return new ia(Ct(),e,this.revert)}}return(0,z.hu)(ct(this.path)===t,"operationForChild called for unrelated child."),new ia(Lt(this.path),this.affectedTree,this.revert)}}class Ni{constructor(t,e){this.source=t,this.path=e,this.type=Fr.LISTEN_COMPLETE}operationForChild(t){return at(this.path)?new Ni(this.source,Ct()):new Ni(this.source,Lt(this.path))}}class sa{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Fr.OVERWRITE}operationForChild(t){return at(this.path)?new sa(this.source,Ct(),this.snap.getImmediateChild(t)):new sa(this.source,Lt(this.path),this.snap)}}class Fi{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Fr.MERGE}operationForChild(t){if(at(this.path)){const e=this.children.subtree(new Dt(t));return e.isEmpty()?null:e.value?new sa(this.source,Ct(),e.value):new Fi(this.source,Ct(),e)}return(0,z.hu)(ct(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Fi(this.source,Lt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class to{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(at(t))return this.isFullyInitialized()&&!this.filtered_;const e=ct(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class cw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function or(n,t,e,r,a,c){const h=r.filter(f=>f.type===e);h.sort((f,_)=>function Vn(n,t,e){if(null==t.childName||null==e.childName)throw(0,z.g5)("Should only compare child_ events.");const r=new lt(t.childName,t.snapshotNode),a=new lt(e.childName,e.snapshotNode);return n.index_.compare(r,a)}(n,f,_)),h.forEach(f=>{const _=function Uc(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,f,c);a.forEach(w=>{w.respondsTo(f.type)&&t.push(w.createEvent(_,n.query_))})})}function ki(n,t){return{eventCache:n,serverCache:t}}function no(n,t,e,r){return ki(new to(t,e,r),n.serverCache)}function vr(n,t,e,r){return ki(n.eventCache,new to(t,e,r))}function yl(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function kr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let ro;class Tt{constructor(t,e=(()=>(ro||(ro=new qn(RE)),ro))()){this.value=t,this.children=e}static fromObject(t){let e=new Tt(null);return vn(t,(r,a)=>{e=e.set(new Dt(r),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ct(),value:this.value};if(at(t))return null;{const r=ct(t),a=this.children.get(r);if(null!==a){const c=a.findRootMostMatchingPathAndValue(Lt(t),e);return null!=c?{path:Kt(new Dt(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(at(t))return this;{const e=ct(t),r=this.children.get(e);return null!==r?r.subtree(Lt(t)):new Tt(null)}}set(t,e){if(at(t))return new Tt(e,this.children);{const r=ct(t),c=(this.children.get(r)||new Tt(null)).set(Lt(t),e),h=this.children.insert(r,c);return new Tt(this.value,h)}}remove(t){if(at(t))return this.children.isEmpty()?new Tt(null):new Tt(null,this.children);{const e=ct(t),r=this.children.get(e);if(r){const a=r.remove(Lt(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new Tt(null):new Tt(this.value,c)}return this}}get(t){if(at(t))return this.value;{const e=ct(t),r=this.children.get(e);return r?r.get(Lt(t)):null}}setTree(t,e){if(at(t))return e;{const r=ct(t),c=(this.children.get(r)||new Tt(null)).setTree(Lt(t),e);let h;return h=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new Tt(this.value,h)}}fold(t){return this.fold_(Ct(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((a,c)=>{r[a]=c.fold_(Kt(t,a),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Ct(),e)}findOnPath_(t,e,r){const a=!!this.value&&r(e,this.value);if(a)return a;if(at(t))return null;{const c=ct(t),h=this.children.get(c);return h?h.findOnPath_(Lt(t),Kt(e,c),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ct(),e)}foreachOnPath_(t,e,r){if(at(t))return this;{this.value&&r(e,this.value);const a=ct(t),c=this.children.get(a);return c?c.foreachOnPath_(Lt(t),Kt(e,a),r):new Tt(null)}}foreach(t){this.foreach_(Ct(),t)}foreach_(t,e){this.children.inorderTraversal((r,a)=>{a.foreach_(Kt(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class Un{constructor(t){this.writeTree_=t}static empty(){return new Un(new Tt(null))}}function Li(n,t,e){if(at(t))return new Un(new Tt(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let c=r.value;const h=jn(a,t);return c=c.updateChild(h,e),new Un(n.writeTree_.set(a,c))}{const a=new Tt(e),c=n.writeTree_.setTree(t,a);return new Un(c)}}}function io(n,t,e){let r=n;return vn(e,(a,c)=>{r=Li(r,Kt(t,a),c)}),r}function oa(n,t){if(at(t))return Un.empty();{const e=n.writeTree_.setTree(t,new Tt(null));return new Un(e)}}function so(n,t){return null!=oo(n,t)}function oo(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(jn(e.path,t)):null}function Xf(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ft,(r,a)=>{t.push(new lt(r,a))}):n.writeTree_.children.inorderTraversal((r,a)=>{null!=a.value&&t.push(new lt(r,a.value))}),t}function ps(n,t){if(at(t))return n;{const e=oo(n,t);return new Un(null!=e?new Tt(e):n.writeTree_.subtree(t))}}function Rd(n){return n.writeTree_.isEmpty()}function aa(n,t){return Jf(Ct(),n.writeTree_,t)}function Jf(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,z.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):e=Jf(Kt(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Kt(n,".priority"),r)),e}}function Hc(n,t){return C_(t,n)}function dw(n,t){if(n.snap)return sr(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&sr(Kt(n.path,e),t))return!0;return!1}function m_(n){return n.visible}function __(n,t,e){let r=Un.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const h=c.path;let f;if(c.snap)sr(e,h)?(f=jn(e,h),r=Li(r,f,c.snap)):sr(h,e)&&(f=jn(h,e),r=Li(r,Ct(),c.snap.getChild(f)));else{if(!c.children)throw(0,z.g5)("WriteRecord should have .snap or .children");if(sr(e,h))f=jn(e,h),r=io(r,f,c.children);else if(sr(h,e))if(f=jn(h,e),at(f))r=io(r,Ct(),c.children);else{const _=(0,z.DV)(c.children,ct(f));if(_){const w=_.getChild(Lt(f));r=Li(r,Ct(),w)}}}}}return r}function y_(n,t,e,r,a){if(r||a){const c=ps(n.visibleWrites,t);return!a&&Rd(c)?e:a||null!=e||so(c,Ct())?aa(__(n.allWrites,function(w){return(w.visible||a)&&(!r||!~r.indexOf(w.writeId))&&(sr(w.path,t)||sr(t,w.path))},t),e||nt.EMPTY_NODE):null}{const c=oo(n.visibleWrites,t);if(null!=c)return c;{const h=ps(n.visibleWrites,t);return Rd(h)?e:null!=e||so(h,Ct())?aa(h,e||nt.EMPTY_NODE):null}}}function Od(n,t,e,r){return y_(n.writeTree,n.treePath,t,e,r)}function $c(n,t){return function v_(n,t,e){let r=nt.EMPTY_NODE;const a=oo(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Ft,(c,h)=>{r=r.updateImmediateChild(c,h)}),r;if(e){const c=ps(n.visibleWrites,t);return e.forEachChild(Ft,(h,f)=>{const _=aa(ps(c,new Dt(h)),f);r=r.updateImmediateChild(h,_)}),Xf(c).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}return Xf(ps(n.visibleWrites,t)).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}(n.writeTree,n.treePath,t)}function Pd(n,t,e,r){return function hw(n,t,e,r,a){(0,z.hu)(r||a,"Either existingEventSnap or existingServerSnap must exist");const c=Kt(t,e);if(so(n.visibleWrites,c))return null;{const h=ps(n.visibleWrites,c);return Rd(h)?a.getChild(e):aa(h,a.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function Nd(n,t){return function fw(n,t){return oo(n.visibleWrites,t)}(n.writeTree,Kt(n.treePath,t))}function w_(n,t,e){return function E_(n,t,e,r){const a=Kt(t,e),c=oo(n.visibleWrites,a);return null!=c?c:r.isCompleteForChild(e)?aa(ps(n.visibleWrites,a),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function gw(n,t){return C_(Kt(n.treePath,t),n.writeTree)}function C_(n,t){return{treePath:n,writeTree:t}}class b_{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,z.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,z.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(r,Bc(r,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(r,Lc(r,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(r,_l(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,z.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(r,Bc(r,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const D_=new class O0{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class ao{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new to(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return w_(this.writes_,t,r)}}getChildAfterChild(t,e,r){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:kr(this.viewCache_),c=function R0(n,t,e,r,a,c){return function pw(n,t,e,r,a,c,h){let f;const _=ps(n.visibleWrites,t),w=oo(_,Ct());if(null!=w)f=w;else{if(null==e)return[];f=aa(_,e)}if(f=f.withIndex(h),f.isEmpty()||f.isLeafNode())return[];{const S=[],T=h.getCompare(),L=c?f.getReverseIteratorFrom(r,h):f.getIteratorFrom(r,h);let W=L.getNext();for(;W&&S.length<a;)0!==T(W,r)&&S.push(W),W=L.getNext();return S}}(n.writeTree,n.treePath,t,e,r,a,c)}(this.writes_,a,e,1,r,t);return 0===c.length?null:c[0]}}function zc(n,t,e,r,a,c){const h=t.eventCache;if(null!=Nd(r,e))return t;{let f,_;if(at(e))if((0,z.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const w=kr(t),T=$c(r,w instanceof nt?w:nt.EMPTY_NODE);f=n.filter.updateFullNode(t.eventCache.getNode(),T,c)}else{const w=Od(r,kr(t));f=n.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const w=ct(e);if(".priority"===w){(0,z.hu)(1===Xs(e),"Can't have a priority with additional path components");const S=h.getNode();_=t.serverCache.getNode();const T=Pd(r,e,S,_);f=null!=T?n.filter.updatePriority(S,T):h.getNode()}else{const S=Lt(e);let T;if(h.isCompleteForChild(w)){_=t.serverCache.getNode();const L=Pd(r,e,h.getNode(),_);T=null!=L?h.getNode().getImmediateChild(w).updateChild(S,L):h.getNode().getImmediateChild(w)}else T=w_(r,w,t.serverCache);f=null!=T?n.filter.updateChild(h.getNode(),w,T,S,a,c):h.getNode()}}return no(t,f,h.isFullyInitialized()||at(e),n.filter.filtersNodes())}}function Fd(n,t,e,r,a,c,h,f){const _=t.serverCache;let w;const S=h?n.filter:n.filter.getIndexedFilter();if(at(e))w=S.updateFullNode(_.getNode(),r,null);else if(S.filtersNodes()&&!_.isFiltered()){const W=_.getNode().updateChild(e,r);w=S.updateFullNode(_.getNode(),W,null)}else{const W=ct(e);if(!_.isCompleteForPath(e)&&Xs(e)>1)return t;const te=Lt(e),$e=_.getNode().getImmediateChild(W).updateChild(te,r);w=".priority"===W?S.updatePriority(_.getNode(),$e):S.updateChild(_.getNode(),W,$e,te,D_,null)}const T=vr(t,w,_.isFullyInitialized()||at(e),S.filtersNodes());return zc(n,T,e,a,new ao(a,T,c),f)}function kd(n,t,e,r,a,c,h){const f=t.eventCache;let _,w;const S=new ao(a,t,c);if(at(e))w=n.filter.updateFullNode(t.eventCache.getNode(),r,h),_=no(t,w,!0,n.filter.filtersNodes());else{const T=ct(e);if(".priority"===T)w=n.filter.updatePriority(t.eventCache.getNode(),r),_=no(t,w,f.isFullyInitialized(),f.isFiltered());else{const L=Lt(e),W=f.getNode().getImmediateChild(T);let te;if(at(L))te=r;else{const Ee=S.getCompleteChild(T);te=null!=Ee?".priority"===wd(L)&&Ee.getChild(Ym(L)).isEmpty()?Ee:Ee.updateChild(L,r):nt.EMPTY_NODE}_=W.equals(te)?t:no(t,n.filter.updateChild(f.getNode(),T,te,L,S,h),f.isFullyInitialized(),n.filter.filtersNodes())}}return _}function I_(n,t){return n.eventCache.isCompleteForChild(t)}function A_(n,t,e){return e.foreach((r,a)=>{t=t.updateChild(r,a)}),t}function ep(n,t,e,r,a,c,h,f){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let w,_=t;w=at(e)?r:new Tt(null).setTree(e,r);const S=t.serverCache.getNode();return w.children.inorderTraversal((T,L)=>{if(S.hasChild(T)){const te=A_(0,t.serverCache.getNode().getImmediateChild(T),L);_=Fd(n,_,new Dt(T),te,a,c,h,f)}}),w.children.inorderTraversal((T,L)=>{const W=!t.serverCache.isCompleteForChild(T)&&null===L.value;if(!S.hasChild(T)&&!W){const Ee=A_(0,t.serverCache.getNode().getImmediateChild(T),L);_=Fd(n,_,new Dt(T),Ee,a,c,h,f)}}),_}class x_{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new Ad(r.getIndex()),c=function iw(n){return n.loadsAllData()?new Ad(n.getIndex()):n.hasLimit()?new o_(n):new Md(n)}(r);this.processor_=function mw(n){return{filter:n}}(c);const h=e.serverCache,f=e.eventCache,_=a.updateFullNode(nt.EMPTY_NODE,h.getNode(),null),w=c.updateFullNode(nt.EMPTY_NODE,f.getNode(),null),S=new to(_,h.isFullyInitialized(),a.filtersNodes()),T=new to(w,f.isFullyInitialized(),c.filtersNodes());this.viewCache_=ki(T,S),this.eventGenerator_=new cw(this.query_)}get query(){return this.query_}}function P0(n,t){const e=kr(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!at(t)&&!e.getImmediateChild(ct(t)).isEmpty())?e.getChild(t):null}function Ld(n){return 0===n.eventRegistrations_.length}function Cw(n,t,e){const r=[];if(e){(0,z.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(e,a);h&&r.push(h)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const h=n.eventRegistrations_[c];if(h.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(h)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return r}function El(n,t,e,r){t.type===Fr.MERGE&&null!==t.source.queryId&&((0,z.hu)(kr(n.viewCache_),"We should always have a full cache before handling merges"),(0,z.hu)(yl(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function _w(n,t,e,r,a){const c=new b_;let h,f;if(e.type===Fr.OVERWRITE){const w=e;w.source.fromUser?h=kd(n,t,w.path,w.snap,r,a,c):((0,z.hu)(w.source.fromServer,"Unknown source."),f=w.source.tagged||t.serverCache.isFiltered()&&!at(w.path),h=Fd(n,t,w.path,w.snap,r,a,f,c))}else if(e.type===Fr.MERGE){const w=e;w.source.fromUser?h=function yw(n,t,e,r,a,c,h){let f=t;return r.foreach((_,w)=>{const S=Kt(e,_);I_(t,ct(S))&&(f=kd(n,f,S,w,a,c,h))}),r.foreach((_,w)=>{const S=Kt(e,_);I_(t,ct(S))||(f=kd(n,f,S,w,a,c,h))}),f}(n,t,w.path,w.children,r,a,c):((0,z.hu)(w.source.fromServer,"Unknown source."),f=w.source.tagged||t.serverCache.isFiltered(),h=ep(n,t,w.path,w.children,r,a,f,c))}else if(e.type===Fr.ACK_USER_WRITE){const w=e;h=w.revert?function Ew(n,t,e,r,a,c){let h;if(null!=Nd(r,e))return t;{const f=new ao(r,t,a),_=t.eventCache.getNode();let w;if(at(e)||".priority"===ct(e)){let S;if(t.serverCache.isFullyInitialized())S=Od(r,kr(t));else{const T=t.serverCache.getNode();(0,z.hu)(T instanceof nt,"serverChildren would be complete if leaf node"),S=$c(r,T)}S=S,w=n.filter.updateFullNode(_,S,c)}else{const S=ct(e);let T=w_(r,S,t.serverCache);null==T&&t.serverCache.isCompleteForChild(S)&&(T=_.getImmediateChild(S)),w=null!=T?n.filter.updateChild(_,S,T,Lt(e),f,c):t.eventCache.getNode().hasChild(S)?n.filter.updateChild(_,S,nt.EMPTY_NODE,Lt(e),f,c):_,w.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Od(r,kr(t)),h.isLeafNode()&&(w=n.filter.updateFullNode(w,h,c)))}return h=t.serverCache.isFullyInitialized()||null!=Nd(r,Ct()),no(t,w,h,n.filter.filtersNodes())}}(n,t,w.path,r,a,c):function vw(n,t,e,r,a,c,h){if(null!=Nd(a,e))return t;const f=t.serverCache.isFiltered(),_=t.serverCache;if(null!=r.value){if(at(e)&&_.isFullyInitialized()||_.isCompleteForPath(e))return Fd(n,t,e,_.getNode().getChild(e),a,c,f,h);if(at(e)){let w=new Tt(null);return _.getNode().forEachChild(Or,(S,T)=>{w=w.set(new Dt(S),T)}),ep(n,t,e,w,a,c,f,h)}return t}{let w=new Tt(null);return r.foreach((S,T)=>{const L=Kt(e,S);_.isCompleteForPath(L)&&(w=w.set(S,_.getNode().getChild(L)))}),ep(n,t,e,w,a,c,f,h)}}(n,t,w.path,w.affectedTree,r,a,c)}else{if(e.type!==Fr.LISTEN_COMPLETE)throw(0,z.g5)("Unknown operation type: "+e.type);h=function M_(n,t,e,r,a){const c=t.serverCache;return zc(n,vr(t,c.getNode(),c.isFullyInitialized()||at(e),c.isFiltered()),e,r,D_,a)}(n,t,e.path,r,c)}const _=c.getChanges();return function T_(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=yl(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&e.push(Uf(yl(t)))}}(t,h,_),{viewCache:h,changes:_}}(n.processor_,a,t,e,r);return function S_(n,t){(0,z.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,z.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,z.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,Bd(n,c.changes,c.viewCache.eventCache.getNode(),null)}function Bd(n,t,e,r){return function Qf(n,t,e,r){const a=[],c=[];return t.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(function rw(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(h.childName,h.snapshotNode))}),or(n,a,"child_removed",t,r,e),or(n,a,"child_added",t,r,e),or(n,a,"child_moved",c,r,e),or(n,a,"child_changed",t,r,e),or(n,a,"value",t,r,e),a}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let wl,bl;class P_{constructor(){this.views=new Map}}function N_(n,t,e,r){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,z.hu)(null!=c,"SyncTree gave us an op for an invalid query."),El(c,t,e,r)}{let c=[];for(const h of n.views.values())c=c.concat(El(h,t,e,r));return c}}function rp(n,t,e,r,a,c){const h=function F_(n,t,e,r,a){const h=n.views.get(t._queryIdentifier);if(!h){let f=Od(e,a?r:null),_=!1;f?_=!0:r instanceof nt?(f=$c(e,r),_=!1):(f=nt.EMPTY_NODE,_=!1);const w=ki(new to(f,_,!1),new to(r,a,!1));return new x_(t,w)}return h}(n,t,r,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,h),function ww(n,t){n.eventRegistrations_.push(t)}(h,e),function O_(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ft,(c,h)=>{r.push(_l(c,h))}),e.isFullyInitialized()&&r.push(Uf(e.getNode())),Bd(n,r,e.getNode(),t)}(h,e)}function sp(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function gs(n,t){let e=null;for(const r of n.views.values())e=e||P0(r,t);return e}function Ud(n,t){return t._queryParams.loadsAllData()?Cl(n):n.views.get(t._queryIdentifier)}function op(n,t){return null!=Ud(n,t)}function ms(n){return null!=Cl(n)}function Cl(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let L_=1;class Hd{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Tt(null),this.pendingWriteTree_=function x0(){return{visibleWrites:Un.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $d(n,t,e,r,a){return function h_(n,t,e,r,a){(0,z.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:a}),a&&(n.visibleWrites=Li(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,a),a?la(n,new sa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function _s(n,t,e=!1){const r=function uw(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function p_(n,t){const e=n.allWrites.findIndex(f=>f.writeId===t);(0,z.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let a=r.visible,c=!1,h=n.allWrites.length-1;for(;a&&h>=0;){const f=n.allWrites[h];f.visible&&(h>=e&&dw(f,r.path)?a=!1:sr(r.path,f.path)&&(c=!0)),h--}return!!a&&(c?(function g_(n){n.visibleWrites=__(n.allWrites,m_,Ct()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=oa(n.visibleWrites,r.path):vn(r.children,_=>{n.visibleWrites=oa(n.visibleWrites,Kt(r.path,_))}),!0))}(n.pendingWriteTree_,t)){let c=new Tt(null);return null!=r.snap?c=c.set(Ct(),!0):vn(r.children,h=>{c=c.set(new Dt(h),!0)}),la(n,new ia(r.path,c,e))}return[]}function Dl(n,t,e){return la(n,new sa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Wc(n,t,e,r,a=!1){const c=t._path,h=n.syncPointTree_.get(c);let f=[];if(h&&("default"===t._queryIdentifier||op(h,t))){const _=function ip(n,t,e,r){const a=t._queryIdentifier,c=[];let h=[];const f=ms(n);if("default"===a)for(const[_,w]of n.views.entries())h=h.concat(Cw(w,e,r)),Ld(w)&&(n.views.delete(_),w.query._queryParams.loadsAllData()||c.push(w.query));else{const _=n.views.get(a);_&&(h=h.concat(Cw(_,e,r)),Ld(_)&&(n.views.delete(a),_.query._queryParams.loadsAllData()||c.push(_.query)))}return f&&!ms(n)&&c.push(new(function Vd(){return(0,z.hu)(wl,"Reference.ts has not been loaded"),wl}())(t._repo,t._path)),{removed:c,events:h}}(h,t,e,r);(function np(n){return 0===n.views.size})(h)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const w=_.removed;if(f=_.events,!a){const S=-1!==w.findIndex(L=>L._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(c,(L,W)=>ms(W));if(S&&!T){const L=n.syncPointTree_.subtree(c);if(!L.isEmpty()){const W=function Tw(n){return n.fold((t,e,r)=>{if(e&&ms(e))return[Cl(e)];{let a=[];return e&&(a=sp(e)),vn(r,(c,h)=>{a=a.concat(h)}),a}})}(L);for(let te=0;te<W.length;++te){const Ee=W[te],$e=Ee.query,St=$_(n,Ee);n.listenProvider_.startListening(Tl($e),Sl(n,$e),St.hashFn,St.onComplete)}}}!T&&w.length>0&&!r&&(S?n.listenProvider_.stopListening(Tl(t),null):w.forEach(L=>{const W=n.queryToTagMap.get(Wd(L));n.listenProvider_.stopListening(Tl(L),W)}))}!function Iw(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const a=Wd(r),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,w)}return f}function zd(n,t,e,r=!1){const a=t._path;let c=null,h=!1;n.syncPointTree_.foreachOnPath(a,(L,W)=>{const te=jn(L,a);c=c||gs(W,te),h=h||ms(W)});let _,f=n.syncPointTree_.get(a);f?(h=h||ms(f),c=c||gs(f,Ct())):(f=new P_,n.syncPointTree_=n.syncPointTree_.set(a,f)),null!=c?_=!0:(_=!1,c=nt.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((W,te)=>{const Ee=gs(te,Ct());Ee&&(c=c.updateImmediateChild(W,Ee))}));const w=op(f,t);if(!w&&!t._queryParams.loadsAllData()){const L=Wd(t);(0,z.hu)(!n.queryToTagMap.has(L),"View does not exist, but we have a tag");const W=function z_(){return L_++}();n.queryToTagMap.set(L,W),n.tagToQueryMap.set(W,L)}let T=rp(f,t,e,Hc(n.pendingWriteTree_,a),c,_);if(!w&&!h&&!r){const L=Ud(f,t);T=T.concat(function W_(n,t,e){const r=t._path,a=Sl(n,t),c=$_(n,e),h=n.listenProvider_.startListening(Tl(t),a,c.hashFn,c.onComplete),f=n.syncPointTree_.subtree(r);if(a)(0,z.hu)(!ms(f.value),"If we're adding a query, it shouldn't be shadowed");else{const _=f.fold((w,S,T)=>{if(!at(w)&&S&&ms(S))return[Cl(S).query];{let L=[];return S&&(L=L.concat(sp(S).map(W=>W.query))),vn(T,(W,te)=>{L=L.concat(te)}),L}});for(let w=0;w<_.length;++w){const S=_[w];n.listenProvider_.stopListening(Tl(S),Sl(n,S))}}return h}(n,t,L))}return T}function Gc(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(h,f)=>{const w=gs(f,jn(h,t));if(w)return w});return y_(a,t,c,e,!0)}function la(n,t){return Sw(t,n.syncPointTree_,null,Hc(n.pendingWriteTree_,Ct()))}function Sw(n,t,e,r){if(at(n.path))return H_(n,t,e,r);{const a=t.get(Ct());null==e&&null!=a&&(e=gs(a,Ct()));let c=[];const h=ct(n.path),f=n.operationForChild(h),_=t.children.get(h);if(_&&f){const w=e?e.getImmediateChild(h):null,S=gw(r,h);c=c.concat(Sw(f,_,w,S))}return a&&(c=c.concat(N_(a,n,r,e))),c}}function H_(n,t,e,r){const a=t.get(Ct());null==e&&null!=a&&(e=gs(a,Ct()));let c=[];return t.children.inorderTraversal((h,f)=>{const _=e?e.getImmediateChild(h):null,w=gw(r,h),S=n.operationForChild(h);S&&(c=c.concat(H_(S,f,_,w)))}),a&&(c=c.concat(N_(a,n,r,e))),c}function $_(n,t){const e=t.query,r=Sl(n,e);return{hashFn:()=>(function R_(n){return n.viewCache_.serverCache.getNode()}(t)||nt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return r?function j_(n,t,e){const r=on(n,e);if(r){const a=Gd(r),c=a.path,h=a.queryId,f=jn(c,t);return cp(n,c,new Ni(Zf(h),f))}return[]}(n,e._path,r):function ap(n,t){return la(n,new Ni({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function b0(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(a,e);return Wc(n,e,null,c)}}}}function Sl(n,t){const e=Wd(t);return n.queryToTagMap.get(e)}function Wd(n){return n._path.toString()+"$"+n._queryIdentifier}function on(n,t){return n.tagToQueryMap.get(t)}function Gd(n){const t=n.indexOf("$");return(0,z.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Dt(n.substr(0,t))}}function cp(n,t,e){const r=n.syncPointTree_.get(t);return(0,z.hu)(r,"Missing sync point for query tag that we're tracking"),N_(r,e,Hc(n.pendingWriteTree_,t),null)}function Tl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function k_(){return(0,z.hu)(bl,"Reference.ts has not been loaded"),bl}())(n._repo,n._path):n}class lo{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new lo(e)}node(){return this.node_}}class up{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Kt(this.path_,t);return new up(this.syncTree_,e)}node(){return Gc(this.syncTree_,this.path_)}}const dp=function(n,t,e){return n&&"object"==typeof n?((0,z.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Mw(n[".sv"],t,e):"object"==typeof n[".sv"]?G_(n[".sv"],t):void(0,z.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Mw=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,z.hu)(!1,"Unexpected server value: "+n)},G_=function(n,t,e){n.hasOwnProperty("increment")||(0,z.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,z.hu)(!1,"Unexpected increment value: "+r);const a=t.node();if((0,z.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const h=a.getValue();return"number"!=typeof h?r:h+r},Kc=function(n,t,e){return qc(n,new lo(t),e)};function qc(n,t,e){const r=n.getPriority().val(),a=dp(r,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const h=n,f=dp(h.getValue(),t,e);return f!==h.getValue()||a!==h.getPriority().val()?new Pc(f,Qt(a)):n}{const h=n;return c=h,a!==h.getPriority().val()&&(c=c.updatePriority(new Pc(a))),h.forEachChild(Ft,(f,_)=>{const w=qc(_,t.getImmediateChild(f),e);w!==_&&(c=c.updateImmediateChild(f,w))}),c}}class Lr{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function Kd(n,t){let e=t instanceof Dt?t:new Dt(t),r=n,a=ct(e);for(;null!==a;){const c=(0,z.DV)(r.node.children,a)||{children:{},childCount:0};r=new Lr(a,r,c),e=Lt(e),a=ct(e)}return r}function ca(n){return n.node.value}function Br(n,t){n.node.value=t,fp(n)}function jr(n){return n.node.childCount>0}function Yc(n,t){vn(n.node.children,(e,r)=>{t(new Lr(e,n,r))})}function hp(n,t,e,r){e&&!r&&t(n),Yc(n,a=>{hp(a,t,!0,r)}),e&&r&&t(n)}function Zc(n){return new Dt(null===n.parent?n.name:Zc(n.parent)+"/"+n.name)}function fp(n){null!==n.parent&&function Ow(n,t,e){const r=function ri(n){return void 0===ca(n)&&!jr(n)}(e),a=(0,z.r3)(n.node.children,t);r&&a?(delete n.node.children[t],n.node.childCount--,fp(n)):!r&&!a&&(n.node.children[t]=e.node,n.node.childCount++,fp(n))}(n.parent,n.name,n)}const pp=/[\[\].#$\/\u0000-\u001F\u007F]/,Qc=/[\[\].#$\u0000-\u001F\u007F]/,gp=10485760,Xc=function(n){return"string"==typeof n&&0!==n.length&&!pp.test(n)},K_=function(n){return"string"==typeof n&&0!==n.length&&!Qc.test(n)},Er=function(n,t,e,r){r&&void 0===t||Jc((0,z.gK)(n,"value"),t,e)},Jc=function(n,t,e){const r=e instanceof Dt?new QE(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+na(r));if("function"==typeof t)throw new Error(n+"contains a function "+na(r)+" with contents = "+t.toString());if(wc(t))throw new Error(n+"contains "+t.toString()+" "+na(r));if("string"==typeof t&&t.length>gp/3&&(0,z.ug)(t)>gp)throw new Error(n+"contains a string greater than "+gp+" utf8 bytes "+na(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(vn(t,(h,f)=>{if(".value"===h)a=!0;else if(".priority"!==h&&".sv"!==h&&(c=!0,!Xc(h)))throw new Error(n+" contains an invalid key ("+h+") "+na(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function XE(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,z.ug)(t),Mf(n)})(r,h),Jc(n,f,r),function I0(n){const t=n.parts_.pop();n.byteLength_-=(0,z.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),a&&c)throw new Error(n+' contains ".value" child '+na(r)+" in addition to actual children.")}},qd=function(n,t,e,r){if(!(r&&void 0===e||K_(e)))throw new Error((0,z.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ii=function(n,t){if(".info"===ct(t))throw new Error(n+" failed = Can't modify data under /.info/")};class Q_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tu(n,t){let e=null;for(let r=0;r<t.length;r++){const a=t[r],c=a.getPath();null!==e&&!Rr(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function yp(n,t,e){tu(n,e),X_(n,r=>Rr(r,t))}function ar(n,t,e){tu(n,e),X_(n,r=>sr(r,t)||sr(t,r))}function X_(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const a=n.eventLists_[r];a&&(t(a.path)?(Pw(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Pw(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Xo&&yn("event: "+e.toString()),Zs(r)}}}class Fw{constructor(t,e,r,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Q_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vc(),this.transactionQueueTree_=new Lr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ey(n){const e=n.infoData_.getNode(new Dt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function nu(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:ey(n)})}function ty(n,t,e,r,a){n.dataUpdateCount++;const c=new Dt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let h=[];if(a)if(r){const _=(0,z.UI)(e,w=>Qt(w));h=function V_(n,t,e,r){const a=on(n,r);if(a){const c=Gd(a),h=c.path,f=c.queryId,_=jn(h,t),w=Tt.fromObject(e);return cp(n,h,new Fi(Zf(f),_,w))}return[]}(n.serverSyncTree_,c,_,a)}else{const _=Qt(e);h=function lp(n,t,e,r){const a=on(n,r);if(null!=a){const c=Gd(a),h=c.path,f=c.queryId,_=jn(h,t);return cp(n,h,new sa(Zf(f),_,e))}return[]}(n.serverSyncTree_,c,_,a)}else if(r){const _=(0,z.UI)(e,w=>Qt(w));h=function B_(n,t,e){const r=Tt.fromObject(e);return la(n,new Fi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,c,_)}else{const _=Qt(e);h=Dl(n.serverSyncTree_,c,_)}let f=c;h.length>0&&(f=Al(n,c)),ar(n.eventQueue_,f,h)}function ny(n,t){vp(n,"connected",t),!1===t&&function Vw(n){ua(n,"onDisconnectEvents");const t=nu(n),e=Vc();c_(n.onDisconnect_,Ct(),(a,c)=>{const h=function(n,t,e,r){return qc(t,new up(e,n),r)}(a,c,n.serverSyncTree_,t);ra(e,a,h)});let r=[];c_(e,Ct(),(a,c)=>{r=r.concat(Dl(n.serverSyncTree_,a,c));const h=Xd(n,a);Al(n,h)}),n.onDisconnect_=Vc(),ar(n.eventQueue_,Ct(),r)}(n)}function vp(n,t,e){const r=new Dt("/.info/"+t),a=Qt(e);n.infoData_.updateSnapshot(r,a);const c=Dl(n.infoSyncTree_,r,a);ar(n.eventQueue_,r,c)}function Yd(n){return n.nextWriteId_++}function Ep(n,t,e,r,a){ua(n,"set",{path:t.toString(),value:e,priority:r});const c=nu(n),h=Qt(e,r),f=Gc(n.serverSyncTree_,t),_=Kc(h,f,c),w=Yd(n),S=$d(n.serverSyncTree_,t,_,w,!0);tu(n.eventQueue_,S),n.server_.put(t.toString(),h.val(!0),(L,W)=>{const te="ok"===L;te||je("set at "+t+" failed: "+L);const Ee=_s(n.serverSyncTree_,w,!te);ar(n.eventQueue_,t,Ee),function ys(n,t,e,r){t&&Zs(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;r&&(c+=": "+r);const h=new Error(c);h.code=a,t(h)}})}(0,a,L,W)});const T=Xd(n,t);Al(n,T),ar(n.eventQueue_,T,[])}function Zd(n,t,e){let r;r=".info"===ct(t._path)?Wc(n.infoSyncTree_,t,e):Wc(n.serverSyncTree_,t,e),yp(n.eventQueue_,t._path,r)}function ua(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),yn(e,...t)}function ru(n,t,e){return Gc(n.serverSyncTree_,t,e)||nt.EMPTY_NODE}function Bi(n,t=n.transactionQueueTree_){if(t||iu(n,t),ca(t)){const e=Qd(n,t);(0,z.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function Hw(n,t,e){const r=e.map(w=>w.currentWriteId),a=ru(n,t,r);let c=a;const h=a.hash();for(let w=0;w<e.length;w++){const S=e[w];(0,z.hu)(0===S.status,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const T=jn(t,S.path);c=c.updateChild(T,S.currentOutputSnapshotRaw)}const f=c.val(!0),_=t;n.server_.put(_.toString(),f,w=>{ua(n,"transaction put response",{path:_.toString(),status:w});let S=[];if("ok"===w){const T=[];for(let L=0;L<e.length;L++)e[L].status=2,S=S.concat(_s(n.serverSyncTree_,e[L].currentWriteId)),e[L].onComplete&&T.push(()=>e[L].onComplete(null,!0,e[L].currentOutputSnapshotResolved)),e[L].unwatcher();iu(n,Kd(n.transactionQueueTree_,t)),Bi(n,n.transactionQueueTree_),ar(n.eventQueue_,t,S);for(let L=0;L<T.length;L++)Zs(T[L])}else{if("datastale"===w)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{je("transaction at "+_.toString()+" failed: "+w);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=w}Al(n,t)}},h)}(n,Zc(t),e)}else jr(t)&&Yc(t,e=>{Bi(n,e)})}function Al(n,t){const e=$w(n,t),r=Zc(e);return function Ml(n,t,e){if(0===t.length)return;const r=[];let a=[];const h=t.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<t.length;f++){const _=t[f],w=jn(e,_.path);let T,S=!1;if((0,z.hu)(null!==w,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_.status)S=!0,T=_.abortReason,a=a.concat(_s(n.serverSyncTree_,_.currentWriteId,!0));else if(0===_.status)if(_.retryCount>=25)S=!0,T="maxretry",a=a.concat(_s(n.serverSyncTree_,_.currentWriteId,!0));else{const L=ru(n,_.path,h);_.currentInputSnapshot=L;const W=t[f].update(L.val());if(void 0!==W){Jc("transaction failed: Data returned ",W,_.path);let te=Qt(W);"object"==typeof W&&null!=W&&(0,z.r3)(W,".priority")||(te=te.updatePriority(L.getPriority()));const $e=_.currentWriteId,St=nu(n),wt=Kc(te,L,St);_.currentOutputSnapshotRaw=te,_.currentOutputSnapshotResolved=wt,_.currentWriteId=Yd(n),h.splice(h.indexOf($e),1),a=a.concat($d(n.serverSyncTree_,_.path,wt,_.currentWriteId,_.applyLocally)),a=a.concat(_s(n.serverSyncTree_,$e,!0))}else S=!0,T="nodata",a=a.concat(_s(n.serverSyncTree_,_.currentWriteId,!0))}ar(n.eventQueue_,e,a),a=[],S&&(t[f].status=2,setTimeout(t[f].unwatcher,Math.floor(0)),t[f].onComplete&&r.push("nodata"===T?()=>t[f].onComplete(null,!1,t[f].currentInputSnapshot):()=>t[f].onComplete(new Error(T),!1,null)))}iu(n,n.transactionQueueTree_);for(let f=0;f<r.length;f++)Zs(r[f]);Bi(n,n.transactionQueueTree_)}(n,Qd(n,e),r),r}function $w(n,t){let e,r=n.transactionQueueTree_;for(e=ct(t);null!==e&&void 0===ca(r);)r=Kd(r,e),e=ct(t=Lt(t));return r}function Qd(n,t){const e=[];return zw(n,t,e),e.sort((r,a)=>r.order-a.order),e}function zw(n,t,e){const r=ca(t);if(r)for(let a=0;a<r.length;a++)e.push(r[a]);Yc(t,a=>{zw(n,a,e)})}function iu(n,t){const e=ca(t);if(e){let r=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[r]=e[a],r++);e.length=r,Br(t,e.length>0?e:void 0)}Yc(t,r=>{iu(n,r)})}function Xd(n,t){const e=Zc($w(n,t)),r=Kd(n.transactionQueueTree_,t);return function Rw(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,a=>{ly(n,a)}),ly(n,r),hp(r,a=>{ly(n,a)}),e}function ly(n,t){const e=ca(t);if(e){const r=[];let a=[],c=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,z.hu)(c===h-1,"All SENT items should be at beginning of queue."),c=h,e[h].status=3,e[h].abortReason="set"):((0,z.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),a=a.concat(_s(n.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&r.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Br(t,void 0):e.length=c+1,ar(n.eventQueue_,Zc(t),a);for(let h=0;h<r.length;h++)Zs(r[h])}}const bp=function(n,t){const e=Gw(n),r=e.namespace;return"firebase.com"===e.domain&&Pi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Rm(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new Dt(e.pathString)}},Gw=function(n){let t="",e="",r="",a="",c="",h=!0,f="https",_=443;if("string"==typeof n){let w=n.indexOf("//");w>=0&&(f=n.substring(0,w-1),n=n.substring(w+2));let S=n.indexOf("/");-1===S&&(S=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),t=n.substring(0,Math.min(S,T)),S<T&&(a=function qe(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let a=e[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(c){}t+="/"+a}return t}(n.substring(S,T)));const L=function Ww(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):je(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,T)));w=t.indexOf(":"),w>=0?(h="https"===f||"wss"===f,_=parseInt(t.substring(w+1),10)):w=t.length;const W=t.slice(0,w);if("localhost"===W.toLowerCase())e="localhost";else if(W.split(".").length<=2)e=W;else{const te=t.indexOf(".");r=t.substring(0,te).toLowerCase(),e=t.substring(te+1),c=r}"ns"in L&&(c=L.ns)}return{host:t,port:_,domain:e,subdomain:r,secure:h,scheme:f,pathString:a,namespace:c}};class su{constructor(t,e,r,a){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,z.Pz)(this.snapshot.exportVal())}}class cy{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class xl{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,z.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class vt{constructor(t,e,r,a){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=a}get key(){return at(this._path)?null:wd(this._path)}get ref(){return new si(this._repo,this._path)}get _queryIdentifier(){const t=ow(this._queryParams),e=ti(t);return"{}"===e?"default":e}get _queryObject(){return ow(this._queryParams)}isEqual(t){if(!((t=(0,z.m9)(t))instanceof vt))return!1;const e=this._repo===t._repo,r=Rr(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function YE(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class si extends vt{constructor(t,e){super(t,e,new Hf,!1)}get parent(){const t=Ym(this._path);return null===t?null:new si(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class uo{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Dt(t),r=da(this.ref,t);return new uo(this._node.getChild(e),r,Ft)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,a)=>t(new uo(a,da(this.ref,r),Ft)))}hasChild(t){const e=new Dt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Rl(n,t){return(n=(0,z.m9)(n))._checkNotDeleted("ref"),void 0!==t?da(n._root,t):n._root}function da(n,t){return null===ct((n=(0,z.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qd("child","path",e,!1)):qd("child","path",t,!1),new si(n._repo,Kt(n._path,t));var e}function ha(n,t){n=(0,z.m9)(n),ii("set",n._path),Er("set",t,n._path,!1);const e=new z.BH;return Ep(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}class Ol{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new su("value",this,new uo(t.snapshotNode,new si(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new cy(this,t,e):null}matches(t){return t instanceof Ol&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ou{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new cy(this,t,e):null}createEvent(t,e){(0,z.hu)(null!=t.childName,"Child events should have a childName.");const r=da(new si(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new su(t.type,this,new uo(t.snapshotNode,r,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ou&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function th(n,t,e,r){return function Pl(n,t,e,r,a){let c;if("object"==typeof r&&(c=void 0,a=r),"function"==typeof r&&(c=r),a&&a.onlyOnce){const _=e,w=(S,T)=>{Zd(n._repo,n,f),_(S,T)};w.userCallback=e.userCallback,w.context=e.context,e=w}const h=new xl(e,c||void 0),f="value"===t?new Ol(h):new ou(t,h);return function sy(n,t,e){let r;r=".info"===ct(t._path)?zd(n.infoSyncTree_,t,e):zd(n.serverSyncTree_,t,e),yp(n.eventQueue_,t._path,r)}(n._repo,n,f),()=>Zd(n._repo,n,f)}(n,"value",t,e,r)}(function jd(n){(0,z.hu)(!wl,"__referenceConstructor has already been defined"),wl=n})(si),function bw(n){(0,z.hu)(!bl,"__referenceConstructor has already been defined"),bl=n}(si);const ho={};function sC(n,t,e,r,a){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||Pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yn("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let _,w,h=bp(c,a),f=h.repoInfo;"undefined"!=typeof process&&process.env&&(w=process.env.FIREBASE_DATABASE_EMULATOR_HOST),w?(_=!0,c=`http://${w}?ns=${f.namespace}`,h=bp(c,a),f=h.repoInfo):_=!h.repoInfo.secure;const S=a&&_?new Sc(Sc.OWNER):new PE(n.name,n.options,t);(function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Xc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),K_(n)}(e))throw new Error((0,z.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",h),at(h.path)||Pi("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function oC(n,t,e,r){let a=ho[t.name];a||(a={},ho[t.name]=a);let c=a[n.toURLString()];return c&&Pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new Fw(n,false,e,r),a[n.toURLString()]=c,c}(f,n,S,new OE(n.name,e));return new aC(T,n)}class aC{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function kw(n,t,e){if(n.stats_=Nm(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new zf(n.repoInfo_,(r,a,c,h)=>{ty(n,r,a,c,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>ny(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,z.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new ds(n.repoInfo_,t,(r,a,c,h)=>{ty(n,r,a,c,h)},r=>{ny(n,r)},r=>{!function Lw(n,t){vn(t,(e,r)=>{vp(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Qs(n,t){const e=n.toString();return Pm[e]||(Pm[e]=t()),Pm[e]}(n.repoInfo_,()=>new lw(n.stats_,n.server_)),n.infoData_=new l_,n.infoSyncTree_=new Hd({startListening:(r,a,c,h)=>{let f=[];const _=n.infoData_.getNode(r._path);return _.isEmpty()||(f=Dl(n.infoSyncTree_,r._path,_),setTimeout(()=>{h("ok")},0)),f},stopListening:()=>{}}),vp(n,"connected",!1),n.serverSyncTree_=new Hd({startListening:(r,a,c,h)=>(n.server_.listen(r,c,a,(f,_)=>{const w=h(f,_);ar(n.eventQueue_,r._path,w)}),[]),stopListening:(r,a)=>{n.server_.unlisten(r,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new si(this._repo,Ct())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function gy(n,t){const e=ho[t];(!e||e[n.key]!==n)&&Pi(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function Cp(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Pi("Cannot call "+t+" on a deleted database.")}}function au(n){return null!=n&&"false"!=`${n}`}function oh(n){return n instanceof m.SBq?n.nativeElement:n}ds.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},ds.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function cC(n){(function w0(n){hd=n})(cl.SDK_VERSION),(0,cl._registerComponent)(new vm.wA("database",(t,{instanceIdentifier:e})=>sC(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,cl.registerVersion)(gf,"0.13.5",n),(0,cl.registerVersion)(gf,"0.13.5","esm2017")}();var fC=R(144);const pC=["addListener","removeListener"],gC=["addEventListener","removeEventListener"],Ap=["on","off"];function fa(n,t,e,r){if((0,kn.m)(e)&&(r=e,e=void 0),r)return fa(n,t,e).pipe(Lh(r));const[a,c]=function _C(n){return(0,kn.m)(n.addEventListener)&&(0,kn.m)(n.removeEventListener)}(n)?gC.map(h=>f=>n[h](t,f,e)):function xp(n){return(0,kn.m)(n.addListener)&&(0,kn.m)(n.removeListener)}(n)?pC.map(Mp(n,t)):function mC(n){return(0,kn.m)(n.on)&&(0,kn.m)(n.off)}(n)?Ap.map(Mp(n,t)):[];if(!a&&(0,fC.z)(n))return(0,jt.z)(h=>fa(h,t,e))((0,Ji.Xf)(n));if(!a)throw new TypeError("Invalid event target");return new nr.y(h=>{const f=(..._)=>h.next(1<_.length?_:_[0]);return a(f),()=>c(f)})}function Mp(n,t){return e=>r=>n[e](t,r)}class Rp extends Zr.w0{constructor(t,e){super()}schedule(t,e=0){return this}}const ah={setInterval(n,t,...e){const{delegate:r}=ah;return(null==r?void 0:r.setInterval)?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=ah;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};var wy=R(737);class Op extends Rp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(a,this.id,e),this}requestAsyncId(t,e,r=0){return ah.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;ah.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let a,r=!1;try{this.work(t)}catch(c){r=!0,a=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,wy.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Nl={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Nl;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const a=t(c=>{e=void 0,n(c)});return new Zr.w0(()=>null==e?void 0:e(a))},requestAnimationFrame(...n){const{delegate:t}=Nl;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Nl;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},Pp={now:()=>(Pp.delegate||Date).now(),delegate:void 0};class lh{constructor(t,e=lh.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}lh.now=Pp.now;class Np extends lh{constructor(t,e=lh.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}new class ch extends Np{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let a;t=t||r.shift();do{if(a=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,a){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw a}}}(class yC extends Op{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Nl.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(a=>a.id===e)||(Nl.cancelAnimationFrame(e),t._scheduled=void 0)}});let Fp,cu=1;const kp={};function Lp(n){return n in kp&&(delete kp[n],!0)}const EC={setImmediate(n){const t=cu++;return kp[t]=!0,Fp||(Fp=Promise.resolve()),Fp.then(()=>Lp(t)&&n()),t},clearImmediate(n){Lp(n)}},{setImmediate:wC,clearImmediate:CC}=EC,uu={setImmediate(...n){const{delegate:t}=uu;return((null==t?void 0:t.setImmediate)||wC)(...n)},clearImmediate(n){const{delegate:t}=uu;return((null==t?void 0:t.clearImmediate)||CC)(n)},delegate:void 0},jp=(new class Bp extends Np{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let a;t=t||r.shift();do{if(a=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,a){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw a}}}(class Cy extends Op{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=uu.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(a=>a.id===e)||(uu.clearImmediate(e),t._scheduled=void 0)}}),new Np(Op)),by=jp;var bC=R(532);function Sy(n,t=jp){return function Dy(n){return(0,Yt.e)((t,e)=>{let r=!1,a=null,c=null,h=!1;const f=()=>{if(null==c||c.unsubscribe(),c=null,r){r=!1;const w=a;a=null,e.next(w)}h&&e.complete()},_=()=>{c=null,h&&e.complete()};t.subscribe((0,Jt.x)(e,w=>{r=!0,a=w,c||(0,Ji.Xf)(n(w)).subscribe(c=(0,Jt.x)(e,f,_))},()=>{h=!0,(!r||!c||c.closed)&&e.complete()}))})}(()=>function Vp(n=0,t,e=by){let r=-1;return null!=t&&((0,bC.K)(t)?e=t:r=t),new nr.y(a=>{let c=function DC(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let h=0;return e.schedule(function(){a.closed||(a.next(h++),0<=r?this.schedule(void 0,r):a.complete())},c)})}(n,t))}var aD=R(32);function oi(n){return(0,Yt.e)((t,e)=>{(0,Ji.Xf)(n).subscribe((0,Jt.x)(e,()=>e.complete(),aD.Z)),!e.closed&&t.subscribe(e)})}let Up;try{Up="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Up=!1}let du,Hp,fo,zp,Vr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Aa(n){return n===ql}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Up)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(m.Lbi))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hh(n){return function lD(){if(null==du&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>du=!0}))}finally{du=du||!1}return du}()?n:!!n.capture}function hu(){if("object"!=typeof document||!document)return 0;if(null==Hp){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),Hp=0,0===n.scrollLeft&&(n.scrollLeft=1,Hp=0===n.scrollLeft?1:2),n.remove()}return Hp}function fu(n){return n.composedPath?n.composedPath()[0]:n.target}const xC=new m.OlP("cdk-dir-doc",{providedIn:"root",factory:function RC(){return(0,m.f3M)(me)}}),OC=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Wp=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new m.vpe,e){const a=e.documentElement?e.documentElement.dir:null;this.value=function pu(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?OC.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||a||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(xC,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})(),Iy=(()=>{class n{constructor(e,r,a){this._ngZone=e,this._platform=r,this._scrolled=new un.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new nr.y(r=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(Sy(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ke()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const a=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(en(c=>!c||a.indexOf(c)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((a,c)=>{this._scrollableContainsElement(c,e)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let a=oh(r),c=e.getElementRef().nativeElement;do{if(a==c)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fa(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(m.R0b),m.LFG(Vr),m.LFG(me,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kp=(()=>{class n{constructor(e,r,a,c){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=a,this.dir=c,this._destroyed=new un.x,this._elementScrolled=new nr.y(h=>this.ngZone.runOutsideAngular(()=>fa(this.elementRef.nativeElement,"scroll").pipe(oi(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=a?e.end:e.start),null==e.right&&(e.right=a?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),a&&0!=hu()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==hu()?e.left=e.right:1==hu()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;!function $p(){if(null==fo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fo=!1,fo;if("scrollBehavior"in document.documentElement.style)fo=!0;else{const n=Element.prototype.scrollTo;fo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return fo}()?(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left)):r.scrollTo(e)}measureScrollOffset(e){const r="left",a="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const h=this.dir&&"rtl"==this.dir.value;return"start"==e?e=h?a:r:"end"==e&&(e=h?r:a),h&&2==hu()?e==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:h&&1==hu()?e==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(Iy),m.Y36(m.R0b),m.Y36(Wp,8))},n.\u0275dir=m.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),LC=(()=>{class n{constructor(e,r,a){this._platform=e,this._change=new un.x,this._changeListener=c=>{this._change.next(c)},this._document=a,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+r,height:a,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),a=e.documentElement,c=a.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||a.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Sy(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Vr),m.LFG(m.R0b),m.LFG(me,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),My=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();function tg(n,t=Vs.y){return n=null!=n?n:Xy,(0,Yt.e)((e,r)=>{let a,c=!0;e.subscribe((0,Jt.x)(r,h=>{const f=t(h);(c||!n(a,f))&&(c=!1,a=f,r.next(h))}))})}function Xy(n,t){return n===t}let nv=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function rv(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function Eb(n){try{return n.frameElement}catch(t){return null}}(function lS(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===ov(r)||!this.isVisible(r)))return!1;let a=e.nodeName.toLowerCase(),c=ov(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function Cb(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==c:"video"===a?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function aS(n){return!function rg(n){return function wb(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function ng(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function iv(n){return function sv(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ig(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Vr))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ig(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function ov(n){if(!ig(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class av{constructor(t,e,r,a,c=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const a=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(a)return a}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const a=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(a)return a}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(fr(1)).subscribe(t)}}let bb=(()=>{class n{constructor(e,r,a){this._checker=e,this._ngZone=r,this._document=a}create(e,r=!1){return new av(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(nv),m.LFG(m.R0b),m.LFG(me))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gh=new m.OlP("cdk-input-modality-detector-options"),Sb={ignoreKeys:[18,17,224,91,16]},pa=hh({passive:!0,capture:!0});let ga=(()=>{class n{constructor(e,r,a,c){this._platform=e,this._mostRecentTarget=null,this._modality=new hr(null),this._lastTouchMs=0,this._onKeydown=h=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(w=>w===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=fu(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function dS(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(h)?"keyboard":"mouse"),this._mostRecentTarget=fu(h))},this._onTouchstart=h=>{!function Db(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(h)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fu(h)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},Sb),c),this.modalityDetected=this._modality.pipe(function mb(n){return en((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(tg()),e.isBrowser&&r.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,pa),a.addEventListener("mousedown",this._onMousedown,pa),a.addEventListener("touchstart",this._onTouchstart,pa)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,pa),document.removeEventListener("mousedown",this._onMousedown,pa),document.removeEventListener("touchstart",this._onTouchstart,pa))}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Vr),m.LFG(m.R0b),m.LFG(me),m.LFG(gh,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const og=new m.OlP("cdk-focus-monitor-default-options"),ma=hh({passive:!0,capture:!0});let fS=(()=>{class n{constructor(e,r,a,c,h){this._ngZone=e,this._platform=r,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new un.x,this._rootNodeFocusAndBlurListener=f=>{const _=fu(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let S=_;S;S=S.parentElement)w.call(this,f,S)},this._document=c,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(e,r=!1){const a=oh(e);if(!this._platform.isBrowser||1!==a.nodeType)return ke(null);const c=function AC(n){if(function Ty(){if(null==zp){const n="undefined"!=typeof document?document.head:null;zp=!(!n||!n.createShadowRoot&&!n.attachShadow)}return zp}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(a)||this._getDocument(),h=this._elementInfo.get(a);if(h)return r&&(h.checkChildren=!0),h.subject;const f={checkChildren:r,subject:new un.x,rootNode:c};return this._elementInfo.set(a,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const r=oh(e),a=this._elementInfo.get(r);a&&(a.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(a))}focusVia(e,r,a){const c=oh(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const a=this._elementInfo.get(r),c=fu(e);!a||!a.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),a)}_onBlur(e,r){const a=this._elementInfo.get(r);!a||a.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(a.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,a=this._rootNodeFocusListenerCount.get(r)||0;a||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,ma),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,ma)}),this._rootNodeFocusListenerCount.set(r,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(oi(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const a=this._rootNodeFocusListenerCount.get(r);a>1?this._rootNodeFocusListenerCount.set(r,a-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ma),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ma),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,a){this._setClasses(e,r),this._emitOrigin(a.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((a,c)=>{(c===e||a.checkChildren&&c.contains(e))&&r.push([c,a])}),r}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(m.R0b),m.LFG(Vr),m.LFG(ga),m.LFG(me,8),m.LFG(og,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ib="cdk-high-contrast-black-on-white",Ab="cdk-high-contrast-white-on-black",mh="cdk-high-contrast-active";let Mb=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,a=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(a&&a.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(mh),e.remove(Ib),e.remove(Ab),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(mh),e.add(Ib)):2===r&&(e.add(mh),e.add(Ab))}}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Vr),m.LFG(me))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yS=new m.OlP("mat-sanity-checks",{providedIn:"root",factory:function ag(){return!0}});let lg=(()=>{class n{constructor(e,r,a){this._sanityChecks=r,this._document=a,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function MC(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Mb),m.LFG(yS,8),m.LFG(me))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[[Gp],Gp]}),n})();var hI=R(451);function SS(n){return(0,yt.U)(()=>n)}class TS{}const _a="*";function gI(n,t){return{type:7,name:n,definitions:t,options:{}}}function IS(n,t=null){return{type:4,styles:t,timings:n}}function AS(n,t=null){return{type:2,steps:n,options:t}}function Cv(n){return{type:6,styles:n,offset:null}}function MS(n,t,e){return{type:0,name:n,styles:t,options:e}}function xS(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function RS(n){Promise.resolve(null).then(n)}class cg{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){RS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class OS{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,a=0;const c=this.players.length;0==c?RS(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==c&&this._onFinish()}),h.onDestroy(()=>{++r==c&&this._onDestroy()}),h.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((h,f)=>Math.max(h,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(a)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const Et=!1;function PS(n){return new m.vHH(3e3,Et)}function YI(){return"undefined"!=typeof window&&void 0!==window.document}function Fb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function kl(n){switch(n.length){case 0:return new cg;case 1:return n[0];default:return new OS(n)}}function NS(n,t,e,r,a={},c={}){const h=[],f=[];let _=-1,w=null;if(r.forEach(S=>{const T=S.offset,L=T==_,W=L&&w||{};Object.keys(S).forEach(te=>{let Ee=te,$e=S[te];if("offset"!==te)switch(Ee=t.normalizePropertyName(Ee,h),$e){case"!":$e=a[te];break;case _a:$e=c[te];break;default:$e=t.normalizeStyleValue(te,Ee,$e,h)}W[Ee]=$e}),L||f.push(W),w=W,_=T}),h.length)throw function BI(n){return new m.vHH(3502,Et)}();return f}function kb(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Lb(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Lb(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Lb(e,"destroy",n)))}}function Lb(n,t,e){const r=e.totalTime,c=Bb(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),h=n._data;return null!=h&&(c._data=h),c}function Bb(n,t,e,r,a="",c=0,h){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:a,totalTime:c,disabled:!!h}}function li(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function FS(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let jb=(n,t)=>!1,kS=(n,t,e)=>[],LS=null;function Vb(n){const t=n.parentNode||n.host;return t===LS?null:t}(Fb()||"undefined"!=typeof Element)&&(YI()?(LS=(()=>document.documentElement)(),jb=(n,t)=>{for(;t;){if(t===n)return!0;t=Vb(t)}return!1}):jb=(n,t)=>n.contains(t),kS=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let _u=null,BS=!1;function jS(n){_u||(_u=function QI(){return"undefined"!=typeof document?document.body:null}()||{},BS=!!_u.style&&"WebkitAppearance"in _u.style);let t=!0;return _u.style&&!function ZI(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in _u.style,!t&&BS&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in _u.style)),t}const VS=jb,US=kS;let HS=(()=>{class n{validateStyleProperty(e){return jS(e)}matchesElement(e,r){return!1}containsElement(e,r){return VS(e,r)}getParentElement(e){return Vb(e)}query(e,r,a){return US(e,r,a)}computeStyle(e,r,a){return a||""}animate(e,r,a,c,h,f=[],_){return new cg(a,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Ub=(()=>{class n{}return n.NOOP=new HS,n})();const Hb="ng-enter",Dv="ng-leave",Sv="ng-trigger",Tv=".ng-trigger",zS="ng-animating",$b=".ng-animating";function yu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:zb(parseFloat(t[1]),t[2])}function zb(n,t){return"s"===t?1e3*n:n}function Iv(n,t,e){return n.hasOwnProperty("duration")?n:function eA(n,t,e){let a,c=0,h="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(PS()),{duration:0,delay:0,easing:""};a=zb(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(c=zb(parseFloat(_),f[4]));const w=f[5];w&&(h=w)}else a=n;if(!e){let f=!1,_=t.length;a<0&&(t.push(function mI(){return new m.vHH(3100,Et)}()),f=!0),c<0&&(t.push(function _I(){return new m.vHH(3101,Et)}()),f=!0),f&&t.splice(_,0,PS())}return{duration:a,delay:c,easing:h}}(n,t,e)}function _h(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Ll(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else _h(n,e);return e}function GS(n,t,e){return e?t+":"+e+";":""}function KS(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=GS(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=GS(0,rA(e),n.style[e]));n.setAttribute("style",t)}function po(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const a=Gb(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[a]),n.style[a]=t[r]}),Fb()&&KS(n))}function vu(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=Gb(e);n.style[r]=""}),Fb()&&KS(n))}function ug(n){return Array.isArray(n)?1==n.length?n[0]:AS(n):n}const Wb=new RegExp("{{\\s*(.+?)\\s*}}","g");function qS(n){let t=[];if("string"==typeof n){let e;for(;e=Wb.exec(n);)t.push(e[1]);Wb.lastIndex=0}return t}function Av(n,t,e){const r=n.toString(),a=r.replace(Wb,(c,h)=>{let f=t[h];return t.hasOwnProperty(h)||(e.push(function vI(n){return new m.vHH(3003,Et)}()),f=""),f.toString()});return a==r?n:a}function Mv(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const nA=/-+([a-z0-9])/g;function Gb(n){return n.replace(nA,(...t)=>t[1].toUpperCase())}function rA(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ci(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function EI(n){return new m.vHH(3004,Et)}()}}function YS(n,t){return window.getComputedStyle(n)[t]}function cA(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function uA(n,t,e){if(":"==n[0]){const _=function dA(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function NI(n){return new m.vHH(3016,Et)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function PI(n){return new m.vHH(3015,Et)}()),t;const a=r[1],c=r[2],h=r[3];t.push(ZS(a,h));"<"==c[0]&&!("*"==a&&"*"==h)&&t.push(ZS(h,a))}(r,e,t)):e.push(n),e}const Pv=new Set(["true","1"]),Nv=new Set(["false","0"]);function ZS(n,t){const e=Pv.has(n)||Nv.has(n),r=Pv.has(t)||Nv.has(t);return(a,c)=>{let h="*"==n||n==a,f="*"==t||t==c;return!h&&e&&"boolean"==typeof a&&(h=a?Pv.has(n):Nv.has(n)),!f&&r&&"boolean"==typeof c&&(f=c?Pv.has(t):Nv.has(t)),h&&f}}const hA=new RegExp("s*:selfs*,?","g");function Kb(n,t,e,r){return new fA(n).build(t,e,r)}class fA{constructor(t){this._driver=t}build(t,e,r){const a=new mA(e);this._resetContextStyleTimingState(a);const c=ci(this,ug(t),a);return a.unsupportedCSSPropertiesFound.size&&a.unsupportedCSSPropertiesFound.keys(),c}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,a=e.depCount=0;const c=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push(function CI(){return new m.vHH(3006,Et)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,c.push(this.visitState(_,e))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,e);r+=_.queryCount,a+=_.depCount,h.push(_)}else e.errors.push(function bI(){return new m.vHH(3007,Et)}())}),{type:7,name:t.name,states:c,transitions:h,queryCount:r,depCount:a,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,h=a||{};r.styles.forEach(f=>{if(Fv(f)){const _=f;Object.keys(_).forEach(w=>{qS(_[w]).forEach(S=>{h.hasOwnProperty(S)||c.add(S)})})}}),c.size&&(Mv(c.values()),e.errors.push(function DI(n,t){return new m.vHH(3008,Et)}()))}return{type:0,name:t.name,style:r,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=ci(this,ug(t.animation),e);return{type:1,matchers:cA(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Eu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>ci(this,r,e)),options:Eu(t.options)}}visitGroup(t,e){const r=e.currentTime;let a=0;const c=t.steps.map(h=>{e.currentTime=r;const f=ci(this,h,e);return a=Math.max(a,e.currentTime),f});return e.currentTime=a,{type:3,steps:c,options:Eu(t.options)}}visitAnimate(t,e){const r=function yA(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return qb(Iv(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=qb(0,0,"");return c.dynamic=!0,c.strValue=r,c}return e=e||Iv(r,t),qb(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let a,c=t.styles?t.styles:Cv({});if(5==c.type)a=this.visitKeyframes(c,e);else{let h=t.styles,f=!1;if(!h){f=!0;const w={};r.easing&&(w.easing=r.easing),h=Cv(w)}e.currentTime+=r.duration+r.delay;const _=this.visitStyle(h,e);_.isEmptyStep=f,a=_}return e.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(h=>{"string"==typeof h?h==_a?r.push(h):e.errors.push(function SI(n){return new m.vHH(3002,Et)}()):r.push(h)}):r.push(t.styles);let a=!1,c=null;return r.forEach(h=>{if(Fv(h)){const f=h,_=f.easing;if(_&&(c=_,delete f.easing),!a)for(let w in f)if(f[w].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:c,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let a=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete h[f],void e.unsupportedCSSPropertiesFound.add(f);const _=e.collectedStyles[e.currentQuerySelector],w=_[f];let S=!0;w&&(c!=a&&c>=w.startTime&&a<=w.endTime&&(e.errors.push(function TI(n,t,e,r,a){return new m.vHH(3010,Et)}()),S=!1),c=w.startTime),S&&(_[f]={startTime:c,endTime:a}),e.options&&function tA(n,t,e){const r=t.params||{},a=qS(n);a.length&&a.forEach(c=>{r.hasOwnProperty(c)||e.push(function yI(n){return new m.vHH(3001,Et)}())})}(h[f],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function II(){return new m.vHH(3011,Et)}()),r;let c=0;const h=[];let f=!1,_=!1,w=0;const S=t.steps.map(St=>{const wt=this._makeStyleAst(St,e);let tn=null!=wt.offset?wt.offset:function _A(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Fv(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(Fv(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(wt.styles),an=0;return null!=tn&&(c++,an=wt.offset=tn),_=_||an<0||an>1,f=f||an<w,w=an,h.push(an),wt});_&&e.errors.push(function AI(){return new m.vHH(3012,Et)}()),f&&e.errors.push(function MI(){return new m.vHH(3200,Et)}());const T=t.steps.length;let L=0;c>0&&c<T?e.errors.push(function xI(){return new m.vHH(3202,Et)}()):0==c&&(L=1/(T-1));const W=T-1,te=e.currentTime,Ee=e.currentAnimateTimings,$e=Ee.duration;return S.forEach((St,wt)=>{const tn=L>0?wt==W?1:L*wt:h[wt],an=tn*$e;e.currentTime=te+Ee.delay+an,Ee.duration=an,this._validateStyleAst(St,e),St.offset=tn,r.styles.push(St)}),r}visitReference(t,e){return{type:8,animation:ci(this,ug(t.animation),e),options:Eu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Eu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Eu(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[c,h]=function pA(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(hA,"")),n=n.replace(/@\*/g,Tv).replace(/@\w+/g,e=>Tv+"-"+e.substr(1)).replace(/:animating/g,$b),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,li(e.collectedStyles,e.currentQuerySelector,{});const f=ci(this,ug(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:f,originalSelector:t.selector,options:Eu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function RI(){return new m.vHH(3013,Et)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Iv(t.timings,e.errors,!0);return{type:12,animation:ci(this,ug(t.animation),e),timings:r,options:null}}}class mA{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fv(n){return!Array.isArray(n)&&"object"==typeof n}function Eu(n){return n?(n=_h(n)).params&&(n.params=function gA(n){return n?_h(n):null}(n.params)):n={},n}function qb(n,t,e){return{duration:n,delay:t,easing:e}}function Yb(n,t,e,r,a,c,h=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:a,delay:c,totalTime:a+c,easing:h,subTimeline:f}}class kv{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const wA=new RegExp(":enter","g"),bA=new RegExp(":leave","g");function Zb(n,t,e,r,a,c={},h={},f,_,w=[]){return(new DA).buildKeyframes(n,t,e,r,a,c,h,f,_,w)}class DA{buildKeyframes(t,e,r,a,c,h,f,_,w,S=[]){w=w||new kv;const T=new Qb(t,e,w,a,c,S,[]);T.options=_,T.currentTimeline.setStyles([h],null,T.errors,_),ci(this,r,T);const L=T.timelines.filter(W=>W.containsAnimation());if(Object.keys(f).length){let W;for(let te=L.length-1;te>=0;te--){const Ee=L[te];if(Ee.element===e){W=Ee;break}}W&&!W.allowOnlyTimelineStyles()&&W.setStyles([f],null,T.errors,_)}return L.length?L.map(W=>W.buildKeyframes()):[Yb(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const a=e.createSubContext(t.options),c=e.currentTimeline.currentTime,h=this._visitSubInstructions(r,a,a.options);c!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const h=null!=r.duration?yu(r.duration):null,f=null!=r.delay?yu(r.delay):null;return 0!==h&&t.forEach(_=>{const w=e.appendInstructionToTimeline(_,h,f);c=Math.max(c,w.duration+w.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),ci(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let a=e;const c=t.options;if(c&&(c.params||c.delay)&&(a=e.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Lv);const h=yu(c.delay);a.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>ci(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let a=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?yu(t.options.delay):0;t.steps.forEach(h=>{const f=e.createSubContext(t.options);c&&f.delayNextStep(c),ci(this,h,f),a=Math.max(a,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Iv(e.params?Av(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),a.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,a=e.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const c=a&&a.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,a=e.currentTimeline.duration,c=r.duration,f=e.createSubContext().currentTimeline;f.easing=r.easing,t.styles.forEach(_=>{f.forwardTime((_.offset||0)*c),f.setStyles(_.styles,_.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(a+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,a=t.options||{},c=a.delay?yu(a.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Lv);let h=r;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=f.length;let _=null;f.forEach((w,S)=>{e.currentQueryIndex=S;const T=e.createSubContext(t.options,w);c&&T.delayNextStep(c),w===e.element&&(_=T.currentTimeline),ci(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,a=e.currentTimeline,c=t.timings,h=Math.abs(c.duration),f=h*(e.currentQueryTotal-1);let _=h*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const S=e.currentTimeline;_&&S.delayNextStep(_);const T=S.currentTime;ci(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=a.currentTime-T+(a.startTime-r.currentTimeline.startTime)}}const Lv={};class Qb{constructor(t,e,r,a,c,h,f,_){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=c,this.errors=h,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Bv(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let a=this.options;null!=r.duration&&(a.duration=yu(r.duration)),null!=r.delay&&(a.delay=yu(r.delay));const c=r.params;if(c){let h=a.params;h||(h=this.options.params={}),Object.keys(c).forEach(f=>{(!e||!h.hasOwnProperty(f))&&(h[f]=Av(c[f],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(a=>{r[a]=e[a]})}}return t}createSubContext(t=null,e,r){const a=e||this.element,c=new Qb(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=Lv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const a={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},c=new SA(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,a,c,h){let f=[];if(a&&f.push(this.element),t.length>0){t=(t=t.replace(wA,"."+this._enterClassName)).replace(bA,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!c&&0==f.length&&h.push(function OI(n){return new m.vHH(3014,Et)}()),f}}class Bv{constructor(t,e,r,a){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Bv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||_a,this._currentKeyframe[e]=_a}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,a){e&&(this._previousKeyframe.easing=e);const c=a&&a.params||{},h=function TA(n,t){const e={};let r;return n.forEach(a=>{"*"===a?(r=r||Object.keys(t),r.forEach(c=>{e[c]=_a})):Ll(a,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(h).forEach(f=>{const _=Av(h[f],c,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:_a),this._updateStyle(f,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],a=t._styleSummary[e];(!r||a.time>r.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((f,_)=>{const w=Ll(f,!0);Object.keys(w).forEach(S=>{const T=w[S];"!"==T?t.add(S):T==_a&&e.add(S)}),r||(w.offset=_/this.duration),a.push(w)});const c=t.size?Mv(t.values()):[],h=e.size?Mv(e.values()):[];if(r){const f=a[0],_=_h(f);f.offset=0,_.offset=1,a=[f,_]}return Yb(this.element,a,c,h,this.duration,this.startTime,this.easing,!1)}}class SA extends Bv{constructor(t,e,r,a,c,h,f=!1){super(t,e,h.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=f,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],h=r+e,f=e/h,_=Ll(t[0],!1);_.offset=0,c.push(_);const w=Ll(t[0],!1);w.offset=JS(f),c.push(w);const S=t.length-1;for(let T=1;T<=S;T++){let L=Ll(t[T],!1);L.offset=JS((e+L.offset*r)/h),c.push(L)}r=h,e=0,a="",t=c}return Yb(this.element,t,this.preStyleProps,this.postStyleProps,r,e,a,!0)}}function JS(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Xb{}class IA extends Xb{normalizePropertyName(t,e){return Gb(t)}normalizeStyleValue(t,e,r,a){let c="";const h=r.toString().trim();if(AA[e]&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&a.push(function wI(n,t){return new m.vHH(3005,Et)}())}return h+c}}const AA=(()=>function MA(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function eT(n,t,e,r,a,c,h,f,_,w,S,T,L){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:c,toState:r,toStyles:h,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:S,totalTime:T,errors:L}}const Jb={};class tT{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,a){return function xA(n,t,e,r,a){return n.some(c=>c(t,e,r,a))}(this.ast.matchers,t,e,r,a)}buildStyles(t,e,r){const a=this._stateStyles["*"],c=this._stateStyles[t],h=a?a.buildStyles(e,r):{};return c?c.buildStyles(e,r):h}build(t,e,r,a,c,h,f,_,w,S){const T=[],L=this.ast.options&&this.ast.options.params||Jb,te=this.buildStyles(r,f&&f.params||Jb,T),Ee=_&&_.params||Jb,$e=this.buildStyles(a,Ee,T),St=new Set,wt=new Map,tn=new Map,an="void"===a,ya={params:Object.assign(Object.assign({},L),Ee)},go=S?[]:Zb(t,e,this.ast.animation,c,h,te,$e,ya,w,T);let wr=0;if(go.forEach(Ea=>{wr=Math.max(Ea.duration+Ea.delay,wr)}),T.length)return eT(e,this._triggerName,r,a,an,te,$e,[],[],wt,tn,wr,T);go.forEach(Ea=>{const wa=Ea.element,ET=li(wt,wa,{});Ea.preStyleProps.forEach(wu=>ET[wu]=!0);const hg=li(tn,wa,{});Ea.postStyleProps.forEach(wu=>hg[wu]=!0),wa!==e&&St.add(wa)});const va=Mv(St.values());return eT(e,this._triggerName,r,a,an,te,$e,go,va,wt,tn,wr)}}class RA{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},a=_h(this.defaultParams);return Object.keys(t).forEach(c=>{const h=t[c];null!=h&&(a[c]=h)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const h=c;Object.keys(h).forEach(f=>{let _=h[f];_.length>1&&(_=Av(_,a,e));const w=this.normalizer.normalizePropertyName(f,e);_=this.normalizer.normalizeStyleValue(f,w,_,e),r[w]=_})}}),r}}class PA{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new RA(a.style,a.options&&a.options.params||{},r)}),nT(this.states,"true","1"),nT(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new tT(t,a,this.states))}),this.fallbackTransition=function NA(n,t,e){return new tT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,a){return this.transitionFactories.find(h=>h.match(t,e,r,a))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function nT(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const FA=new kv;class kA{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],c=Kb(this._driver,e,r,[]);if(r.length)throw function jI(n){return new m.vHH(3503,Et)}();this._animations[t]=c}_buildPlayer(t,e,r){const a=t.element,c=NS(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(a,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const a=[],c=this._animations[t];let h;const f=new Map;if(c?(h=Zb(this._driver,e,c,Hb,Dv,{},{},r,FA,a),h.forEach(S=>{const T=li(f,S.element,{});S.postStyleProps.forEach(L=>T[L]=null)})):(a.push(function VI(){return new m.vHH(3300,Et)}()),h=[]),a.length)throw function UI(n){return new m.vHH(3504,Et)}();f.forEach((S,T)=>{Object.keys(S).forEach(L=>{S[L]=this._driver.computeStyle(T,L,_a)})});const w=kl(h.map(S=>{const T=f.get(S.element);return this._buildPlayer(S,{},T)}));return this._playersById[t]=w,w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function HI(n){return new m.vHH(3301,Et)}();return e}listen(t,e,r,a){const c=Bb(e,"","","");return kb(this._getPlayer(t),r,c,a),()=>{}}command(t,e,r,a){if("register"==r)return void this.register(t,a[0]);if("create"==r)return void this.create(t,e,a[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const rT="ng-animate-queued",e0="ng-animate-disabled",UA=[],iT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vi="__ng_removed";class t0{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function GA(n){return null!=n?n:null}(r?t.value:t),r){const c=_h(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(a=>{null==r[a]&&(r[a]=e[a])})}}}const dg="void",n0=new t0(dg);class $A{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ui(e,this._hostClassName)}listen(t,e,r,a){if(!this._triggers.hasOwnProperty(e))throw function $I(n,t){return new m.vHH(3302,Et)}();if(null==r||0==r.length)throw function zI(n){return new m.vHH(3303,Et)}();if(!function KA(n){return"start"==n||"done"==n}(r))throw function WI(n,t){return new m.vHH(3400,Et)}();const c=li(this._elementListeners,t,[]),h={name:e,phase:r,callback:a};c.push(h);const f=li(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(Ui(t,Sv),Ui(t,Sv+"-"+e),f[e]=n0),()=>{this._engine.afterFlush(()=>{const _=c.indexOf(h);_>=0&&c.splice(_,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function GI(n){return new m.vHH(3401,Et)}();return e}trigger(t,e,r,a=!0){const c=this._getTrigger(e),h=new r0(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(Ui(t,Sv),Ui(t,Sv+"-"+e),this._engine.statesByElement.set(t,f={}));let _=f[e];const w=new t0(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f[e]=w,_||(_=n0),w.value!==dg&&_.value===w.value){if(!function ZA(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){const c=e[a];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(_.params,w.params)){const Ee=[],$e=c.matchStyles(_.value,_.params,Ee),St=c.matchStyles(w.value,w.params,Ee);Ee.length?this._engine.reportError(Ee):this._engine.afterFlush(()=>{vu(t,$e),po(t,St)})}return}const L=li(this._engine.playersByElement,t,[]);L.forEach(Ee=>{Ee.namespaceId==this.id&&Ee.triggerName==e&&Ee.queued&&Ee.destroy()});let W=c.matchTransition(_.value,w.value,t,w.params),te=!1;if(!W){if(!a)return;W=c.fallbackTransition,te=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:W,fromState:_,toState:w,player:h,isFallbackTransition:te}),te||(Ui(t,rT),h.onStart(()=>{yh(t,rT)})),h.onDone(()=>{let Ee=this.players.indexOf(h);Ee>=0&&this.players.splice(Ee,1);const $e=this._engine.playersByElement.get(t);if($e){let St=$e.indexOf(h);St>=0&&$e.splice(St,1)}}),this.players.push(h),L.push(h),h}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Tv,!0);r.forEach(a=>{if(a[Vi])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(h=>h.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,r,a){const c=this._engine.statesByElement.get(t),h=new Map;if(c){const f=[];if(Object.keys(c).forEach(_=>{if(h.set(_,c[_].value),this._triggers[_]){const w=this.trigger(t,_,dg,a);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,h),r&&kl(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const a=new Set;e.forEach(c=>{const h=c.name;if(a.has(h))return;a.add(h);const _=this._triggers[h].fallbackTransition,w=r[h]||n0,S=new t0(dg),T=new r0(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:_,fromState:w,toState:S,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)a=!0;else{let h=t;for(;h=h.parentNode;)if(r.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[Vi];(!c||c===iT)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Ui(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const c=r.element,h=this._elementListeners.get(c);h&&h.forEach(f=>{if(f.name==r.triggerName){const _=Bb(c,r.triggerName,r.fromState.value,r.toState.value);_._data=t,kb(r.player,f.phase,_,f.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(r)}),this._queue=[],e.sort((r,a)=>{const c=r.transition.ast.depCount,h=a.transition.ast.depCount;return 0==c||0==h?c-h:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class zA{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new $A(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,a=this.namespacesByHostElement,c=r.length-1;if(c>=0){let h=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(e);for(;f;){const _=a.get(f);if(_){const w=r.indexOf(_);r.splice(w+1,0,t),h=!0;break}f=this.driver.getParentElement(f)}}else for(let f=c;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,e)){r.splice(f+1,0,t),h=!0;break}h||r.unshift(t)}else r.push(t);return a.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let a=this._namespaceLookup[t];a&&a.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const a=Object.keys(r);for(let c=0;c<a.length;c++){const h=r[a[c]].namespaceId;if(h){const f=this._fetchNamespace(h);f&&e.add(f)}}}return e}trigger(t,e,r,a){if(jv(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,a),!0}return!1}insertNode(t,e,r,a){if(!jv(e))return;const c=e[Vi];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,r)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ui(t,e0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),yh(t,e0))}removeNode(t,e,r,a){if(jv(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),r){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,r,a,c){this.collectedLeaveElements.push(e),e[Vi]={namespaceId:t,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(t,e,r,a,c){return jv(e)?this._fetchNamespace(t).listen(e,r,a,c):()=>{}}_buildInstruction(t,e,r,a,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,a,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,Tv,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,$b,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return kl(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[Vi];if(r&&r.setForRemoval){if(t[Vi]=iT,r.namespaceId){this.destroyInnerAnimations(t);const a=this._fetchNamespace(r.namespaceId);a&&a.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(e0))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ui(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?kl(e).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(t){throw function KI(n){return new m.vHH(3402,Et)}()}_flushAnimations(t,e){const r=new kv,a=[],c=new Map,h=[],f=new Map,_=new Map,w=new Map,S=new Set;this.disabledNodes.forEach(Le=>{S.add(Le);const Ze=this.driver.query(Le,".ng-animate-queued",!0);for(let tt=0;tt<Ze.length;tt++)S.add(Ze[tt])});const T=this.bodyNode,L=Array.from(this.statesByElement.keys()),W=aT(L,this.collectedEnterElements),te=new Map;let Ee=0;W.forEach((Le,Ze)=>{const tt=Hb+Ee++;te.set(Ze,tt),Le.forEach(It=>Ui(It,tt))});const $e=[],St=new Set,wt=new Set;for(let Le=0;Le<this.collectedLeaveElements.length;Le++){const Ze=this.collectedLeaveElements[Le],tt=Ze[Vi];tt&&tt.setForRemoval&&($e.push(Ze),St.add(Ze),tt.hasAnimation?this.driver.query(Ze,".ng-star-inserted",!0).forEach(It=>St.add(It)):wt.add(Ze))}const tn=new Map,an=aT(L,Array.from(St));an.forEach((Le,Ze)=>{const tt=Dv+Ee++;tn.set(Ze,tt),Le.forEach(It=>Ui(It,tt))}),t.push(()=>{W.forEach((Le,Ze)=>{const tt=te.get(Ze);Le.forEach(It=>yh(It,tt))}),an.forEach((Le,Ze)=>{const tt=tn.get(Ze);Le.forEach(It=>yh(It,tt))}),$e.forEach(Le=>{this.processLeaveNode(Le)})});const ya=[],go=[];for(let Le=this._namespaceList.length-1;Le>=0;Le--)this._namespaceList[Le].drainQueuedTransitions(e).forEach(tt=>{const It=tt.player,Hn=tt.element;if(ya.push(It),this.collectedEnterElements.length){const Cr=Hn[Vi];if(Cr&&Cr.setForMove){if(Cr.previousTriggersValues&&Cr.previousTriggersValues.has(tt.triggerName)){const Cu=Cr.previousTriggersValues.get(tt.triggerName),jl=this.statesByElement.get(tt.element);jl&&jl[tt.triggerName]&&(jl[tt.triggerName].value=Cu)}return void It.destroy()}}const mo=!T||!this.driver.containsElement(T,Hn),ui=tn.get(Hn),Bl=te.get(Hn),ln=this._buildInstruction(tt,r,Bl,ui,mo);if(ln.errors&&ln.errors.length)return void go.push(ln);if(mo)return It.onStart(()=>vu(Hn,ln.fromStyles)),It.onDestroy(()=>po(Hn,ln.toStyles)),void a.push(It);if(tt.isFallbackTransition)return It.onStart(()=>vu(Hn,ln.fromStyles)),It.onDestroy(()=>po(Hn,ln.toStyles)),void a.push(It);const bT=[];ln.timelines.forEach(Cr=>{Cr.stretchStartingKeyframe=!0,this.disabledNodes.has(Cr.element)||bT.push(Cr)}),ln.timelines=bT,r.append(Hn,ln.timelines),h.push({instruction:ln,player:It,element:Hn}),ln.queriedElements.forEach(Cr=>li(f,Cr,[]).push(It)),ln.preStyleProps.forEach((Cr,Cu)=>{const jl=Object.keys(Cr);if(jl.length){let bu=_.get(Cu);bu||_.set(Cu,bu=new Set),jl.forEach(l0=>bu.add(l0))}}),ln.postStyleProps.forEach((Cr,Cu)=>{const jl=Object.keys(Cr);let bu=w.get(Cu);bu||w.set(Cu,bu=new Set),jl.forEach(l0=>bu.add(l0))})});if(go.length){const Le=[];go.forEach(Ze=>{Le.push(function qI(n,t){return new m.vHH(3505,Et)}())}),ya.forEach(Ze=>Ze.destroy()),this.reportError(Le)}const wr=new Map,va=new Map;h.forEach(Le=>{const Ze=Le.element;r.has(Ze)&&(va.set(Ze,Ze),this._beforeAnimationBuild(Le.player.namespaceId,Le.instruction,wr))}),a.forEach(Le=>{const Ze=Le.element;this._getPreviousPlayers(Ze,!1,Le.namespaceId,Le.triggerName,null).forEach(It=>{li(wr,Ze,[]).push(It),It.destroy()})});const Ea=$e.filter(Le=>cT(Le,_,w)),wa=new Map;oT(wa,this.driver,wt,w,_a).forEach(Le=>{cT(Le,_,w)&&Ea.push(Le)});const hg=new Map;W.forEach((Le,Ze)=>{oT(hg,this.driver,new Set(Le),_,"!")}),Ea.forEach(Le=>{const Ze=wa.get(Le),tt=hg.get(Le);wa.set(Le,Object.assign(Object.assign({},Ze),tt))});const wu=[],wT=[],CT={};h.forEach(Le=>{const{element:Ze,player:tt,instruction:It}=Le;if(r.has(Ze)){if(S.has(Ze))return tt.onDestroy(()=>po(Ze,It.toStyles)),tt.disabled=!0,tt.overrideTotalTime(It.totalTime),void a.push(tt);let Hn=CT;if(va.size>1){let ui=Ze;const Bl=[];for(;ui=ui.parentNode;){const ln=va.get(ui);if(ln){Hn=ln;break}Bl.push(ui)}Bl.forEach(ln=>va.set(ln,Hn))}const mo=this._buildAnimation(tt.namespaceId,It,wr,c,hg,wa);if(tt.setRealPlayer(mo),Hn===CT)wu.push(tt);else{const ui=this.playersByElement.get(Hn);ui&&ui.length&&(tt.parentPlayer=kl(ui)),a.push(tt)}}else vu(Ze,It.fromStyles),tt.onDestroy(()=>po(Ze,It.toStyles)),wT.push(tt),S.has(Ze)&&a.push(tt)}),wT.forEach(Le=>{const Ze=c.get(Le.element);if(Ze&&Ze.length){const tt=kl(Ze);Le.setRealPlayer(tt)}}),a.forEach(Le=>{Le.parentPlayer?Le.syncPlayerEvents(Le.parentPlayer):Le.destroy()});for(let Le=0;Le<$e.length;Le++){const Ze=$e[Le],tt=Ze[Vi];if(yh(Ze,Dv),tt&&tt.hasAnimation)continue;let It=[];if(f.size){let mo=f.get(Ze);mo&&mo.length&&It.push(...mo);let ui=this.driver.query(Ze,$b,!0);for(let Bl=0;Bl<ui.length;Bl++){let ln=f.get(ui[Bl]);ln&&ln.length&&It.push(...ln)}}const Hn=It.filter(mo=>!mo.destroyed);Hn.length?qA(this,Ze,Hn):this.processLeaveNode(Ze)}return $e.length=0,wu.forEach(Le=>{this.players.push(Le),Le.onDone(()=>{Le.destroy();const Ze=this.players.indexOf(Le);this.players.splice(Ze,1)}),Le.play()}),wu}elementContainsData(t,e){let r=!1;const a=e[Vi];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,a,c){let h=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(h=f)}else{const f=this.playersByElement.get(t);if(f){const _=!c||c==dg;f.forEach(w=>{w.queued||!_&&w.triggerName!=a||h.push(w)})}}return(r||a)&&(h=h.filter(f=>!(r&&r!=f.namespaceId||a&&a!=f.triggerName))),h}_beforeAnimationBuild(t,e,r){const c=e.element,h=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const w=_.element,S=w!==c,T=li(r,w,[]);this._getPreviousPlayers(w,S,h,f,e.toState).forEach(W=>{const te=W.getRealPlayer();te.beforeDestroy&&te.beforeDestroy(),W.destroy(),T.push(W)})}vu(c,e.fromStyles)}_buildAnimation(t,e,r,a,c,h){const f=e.triggerName,_=e.element,w=[],S=new Set,T=new Set,L=e.timelines.map(te=>{const Ee=te.element;S.add(Ee);const $e=Ee[Vi];if($e&&$e.removedBeforeQueried)return new cg(te.duration,te.delay);const St=Ee!==_,wt=function YA(n){const t=[];return lT(n,t),t}((r.get(Ee)||UA).map(wr=>wr.getRealPlayer())).filter(wr=>!!wr.element&&wr.element===Ee),tn=c.get(Ee),an=h.get(Ee),ya=NS(0,this._normalizer,0,te.keyframes,tn,an),go=this._buildPlayer(te,ya,wt);if(te.subTimeline&&a&&T.add(Ee),St){const wr=new r0(t,f,Ee);wr.setRealPlayer(go),w.push(wr)}return go});w.forEach(te=>{li(this.playersByQueriedElement,te.element,[]).push(te),te.onDone(()=>function WA(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,te.element,te))}),S.forEach(te=>Ui(te,zS));const W=kl(L);return W.onDestroy(()=>{S.forEach(te=>yh(te,zS)),po(_,e.toStyles)}),T.forEach(te=>{li(a,te,[]).push(W)}),W}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new cg(t.duration,t.delay)}}class r0{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new cg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>kb(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){li(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function jv(n){return n&&1===n.nodeType}function sT(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function oT(n,t,e,r,a){const c=[];e.forEach(_=>c.push(sT(_)));const h=[];r.forEach((_,w)=>{const S={};_.forEach(T=>{const L=S[T]=t.computeStyle(w,T,a);(!L||0==L.length)&&(w[Vi]=HA,h.push(w))}),n.set(w,S)});let f=0;return e.forEach(_=>sT(_,c[f++])),h}function aT(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const a=new Set(t),c=new Map;function h(f){if(!f)return 1;let _=c.get(f);if(_)return _;const w=f.parentNode;return _=e.has(w)?w:a.has(w)?1:h(w),c.set(f,_),_}return t.forEach(f=>{const _=h(f);1!==_&&e.get(_).push(f)}),e}function Ui(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function yh(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function qA(n,t,e){kl(e).onDone(()=>n.processLeaveNode(t))}function lT(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof OS?lT(r.players,t):t.push(r)}}function cT(n,t,e){const r=e.get(n);if(!r)return!1;let a=t.get(n);return a?r.forEach(c=>a.add(c)):t.set(n,r),e.delete(n),!0}class Vv{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new zA(t,e,r),this._timelineEngine=new kA(t,e,r),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(t,e,r,a,c){const h=t+"-"+a;let f=this._triggerCache[h];if(!f){const _=[],S=Kb(this._driver,c,_,[]);if(_.length)throw function LI(n,t){return new m.vHH(3404,Et)}();f=function OA(n,t,e){return new PA(n,t,e)}(a,S,this._normalizer),this._triggerCache[h]=f}this._transitionEngine.registerTrigger(e,a,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,a){this._transitionEngine.insertNode(t,e,r,a)}onRemove(t,e,r,a){this._transitionEngine.removeNode(t,e,a||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,a){if("@"==r.charAt(0)){const[c,h]=FS(r);this._timelineEngine.command(c,e,h,a)}else this._transitionEngine.trigger(t,e,r,a)}listen(t,e,r,a,c){if("@"==r.charAt(0)){const[h,f]=FS(r);return this._timelineEngine.listen(h,e,f,c)}return this._transitionEngine.listen(t,e,r,a,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let XA=(()=>{class n{constructor(e,r,a){this._element=e,this._startStyles=r,this._endStyles=a,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&po(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(po(this._element,this._initialStyles),this._endStyles&&(po(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(vu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vu(this._element,this._endStyles),this._endStyles=null),po(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function s0(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const a=e[r];JA(a)&&(t=t||{},t[a]=n[a])}return t}function JA(n){return"display"===n||"position"===n}class uT{constructor(t,e,r,a){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:YS(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class eM{validateStyleProperty(t){return jS(t)}matchesElement(t,e){return!1}containsElement(t,e){return VS(t,e)}getParentElement(t){return Vb(t)}query(t,e,r){return US(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,a,c,h=[]){const _={duration:r,delay:a,fill:0==a?"both":"forwards"};c&&(_.easing=c);const w={},S=h.filter(L=>L instanceof uT);(function iA(n,t){return 0===n||0===t})(r,a)&&S.forEach(L=>{let W=L.currentSnapshot;Object.keys(W).forEach(te=>w[te]=W[te])}),e=function sA(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let c=t[0],h=[];if(r.forEach(f=>{c.hasOwnProperty(f)||h.push(f),c[f]=e[f]}),h.length)for(var a=1;a<t.length;a++){let f=t[a];h.forEach(function(_){f[_]=YS(n,_)})}}return t}(t,e=e.map(L=>Ll(L,!1)),w);const T=function QA(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=s0(t[0]),t.length>1&&(r=s0(t[t.length-1]))):t&&(e=s0(t)),e||r?new XA(n,e,r):null}(t,e);return new uT(t,e,_,T)}}let tM=(()=>{class n extends TS{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:m.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?AS(e):e;return dT(this._renderer,null,r,"register",[a]),new nM(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(m.FYo),m.LFG(me))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class nM extends class pI{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new rM(this._id,t,e||{},this._renderer)}}class rM{constructor(t,e,r,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return dT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function dT(n,t,e,r,a){return n.setProperty(t,`@@${e}:${r}`,a)}const hT="@.disabled";let iM=(()=>{class n{constructor(e,r,a){this.delegate=e,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,h)=>{const f=null==h?void 0:h.parentNode(c);f&&h.removeChild(f,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(c);return S||(S=new fT("",c,this.engine),this._rendererCache.set(c,S)),S}const h=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(h,f,e,S.name,S)};return r.data.animation.forEach(_),new sM(this,f,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,a){e>=0&&e<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[h,f]=c;h(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(m.FYo),m.LFG(Vv),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class fT{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,a=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,a){this.delegate.setAttribute(t,e,r,a)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,a){this.delegate.setStyle(t,e,r,a)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==hT?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class sM extends fT{constructor(t,e,r,a){super(e,r,a),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==hT?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const a=function oM(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),h="";return"@"!=c.charAt(0)&&([c,h]=function aM(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,a,c,h,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(t,e,r)}}let lM=(()=>{class n extends Vv{constructor(e,r,a){super(e.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(me),m.LFG(Ub),m.LFG(Xb))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const o0=new m.OlP("AnimationModuleType"),pT=[{provide:TS,useClass:tM},{provide:Xb,useFactory:function cM(){return new IA}},{provide:Vv,useClass:lM},{provide:m.FYo,useFactory:function uM(n,t,e){return new iM(n,t,e)},deps:[Ns,Vv,m.R0b]}],gT=[{provide:Ub,useFactory:()=>new eM},{provide:o0,useValue:"BrowserAnimations"},...pT],dM=[{provide:Ub,useClass:HS},{provide:o0,useValue:"NoopAnimations"},...pT];let hM=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?dM:gT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:gT,imports:[tc]}),n})();const mT=["*"],fM=["content"];function pM(n,t){if(1&n){const e=m.EpF();m.TgZ(0,"div",2),m.NdJ("click",function(){return m.CHM(e),m.oxw()._onBackdropClicked()}),m.qZA()}if(2&n){const e=m.oxw();m.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function gM(n,t){1&n&&(m.TgZ(0,"mat-drawer-content"),m.Hsn(1,2),m.qZA())}const mM=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],_M=["mat-drawer","mat-drawer-content","*"],yM={transformDrawer:gI("transform",[MS("open, open-instant",Cv({transform:"none",visibility:"visible"})),MS("void",Cv({"box-shadow":"none",visibility:"hidden"})),xS("void => open-instant",IS("0ms")),xS("void <=> open, open-instant => void",IS("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},vM=new m.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function EM(){return!1}}),_T=new m.OlP("MAT_DRAWER_CONTAINER");let a0=(()=>{class n extends Kp{constructor(e,r,a,c,h){super(a,c,h),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.sBO),m.Y36((0,m.Gpc)(()=>vT)),m.Y36(m.SBq),m.Y36(Iy),m.Y36(m.R0b))},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,r){2&e&&m.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[m._Bn([{provide:Kp,useExisting:n}]),m.qOj],ngContentSelectors:mT,decls:1,vars:0,template:function(e,r){1&e&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),yT=(()=>{class n{constructor(e,r,a,c,h,f,_,w){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=a,this._platform=c,this._ngZone=h,this._interactivityChecker=f,this._doc=_,this._container=w,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new un.x,this._animationEnd=new un.x,this._animationState="void",this.openedChange=new m.vpe(!0),this._openedStream=this.openedChange.pipe(en(S=>S),(0,yt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(en(S=>S.fromState!==S.toState&&0===S.toState.indexOf("open")),SS(void 0)),this._closedStream=this.openedChange.pipe(en(S=>!S),(0,yt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(en(S=>S.fromState!==S.toState&&"void"===S.toState),SS(void 0)),this._destroyed=new un.x,this.onPositionChanged=new m.vpe,this._modeChanged=new un.x,this.openedChange.subscribe(S=>{S?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{fa(this._elementRef.nativeElement,"keydown").pipe(en(S=>27===S.keyCode&&!this.disableClose&&!function Qy(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(S)),oi(this._destroyed)).subscribe(S=>this._ngZone.run(()=>{this.close(),S.stopPropagation(),S.preventDefault()}))}),this._animationEnd.pipe(tg((S,T)=>S.fromState===T.fromState&&S.toState===T.toState)).subscribe(S=>{const{fromState:T,toState:L}=S;(0===L.indexOf("open")&&"void"===T||"void"===L&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=au(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=au(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(au(e))}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{e.removeEventListener("blur",a),e.removeEventListener("mousedown",a),e.removeAttribute("tabindex")};e.addEventListener("blur",a),e.addEventListener("mousedown",a)})),e.focus(r)}_focusByCssSelector(e,r){let a=this._elementRef.nativeElement.querySelector(e);a&&this._forceFocus(a,r)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);const a=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),a}_setOpen(e,r,a){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(a)),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe(fr(1)).subscribe(h=>c(h?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const r=this._elementRef.nativeElement,a=r.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),a.insertBefore(this._anchor,r)),a.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(bb),m.Y36(fS),m.Y36(Vr),m.Y36(m.R0b),m.Y36(nv),m.Y36(me,8),m.Y36(_T,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,r){if(1&e&&m.Gf(fM,5),2&e){let a;m.iGM(a=m.CRH())&&(r._content=a.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,r){1&e&&m.WFA("@transform.start",function(c){return r._animationStarted.next(c)})("@transform.done",function(c){return r._animationEnd.next(c)}),2&e&&(m.uIk("align",null),m.d8E("@transform",r._animationState),m.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:mT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(m.F$t(),m.TgZ(0,"div",0,1),m.Hsn(2),m.qZA())},directives:[Kp],encapsulation:2,data:{animation:[yM.transformDrawer]},changeDetection:0}),n})(),vT=(()=>{class n{constructor(e,r,a,c,h,f=!1,_){this._dir=e,this._element=r,this._ngZone=a,this._changeDetectorRef=c,this._animationMode=_,this._drawers=new m.n_E,this.backdropClick=new m.vpe,this._destroyed=new un.x,this._doCheckSubject=new un.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new un.x,e&&e.change.pipe(oi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),h.change().pipe(oi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=au(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:au(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Po(this._allDrawers),oi(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Po(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function fI(n,t=jp){return(0,Yt.e)((e,r)=>{let a=null,c=null,h=null;const f=()=>{if(a){a.unsubscribe(),a=null;const w=c;c=null,r.next(w)}};function _(){const w=h+n,S=t.now();if(S<w)return a=this.schedule(void 0,w-S),void r.add(a);f()}e.subscribe((0,Jt.x)(r,w=>{c=w,h=t.now(),a||(a=t.schedule(_,n),r.add(a))},()=>{f(),r.complete()},void 0,()=>{c=a=null}))})}(10),oi(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const a=this._left._getWidth();e+=a,r-=a}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const a=this._right._getWidth();r+=a,e-=a}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(en(r=>r.fromState!==r.toState),oi(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(oi(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(oi(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(fr(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(oi((0,hI.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const r=this._element.nativeElement.classList,a="mat-drawer-container-has-open";e?r.add(a):r.remove(a)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(Wp,8),m.Y36(m.SBq),m.Y36(m.R0b),m.Y36(m.sBO),m.Y36(LC),m.Y36(vM),m.Y36(o0,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,r,a){if(1&e&&(m.Suo(a,a0,5),m.Suo(a,yT,5)),2&e){let c;m.iGM(c=m.CRH())&&(r._content=c.first),m.iGM(c=m.CRH())&&(r._allDrawers=c)}},viewQuery:function(e,r){if(1&e&&m.Gf(a0,5),2&e){let a;m.iGM(a=m.CRH())&&(r._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,r){2&e&&m.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[m._Bn([{provide:_T,useExisting:n}])],ngContentSelectors:_M,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(m.F$t(mM),m.YNc(0,pM,1,2,"div",0),m.Hsn(1),m.Hsn(2,1),m.YNc(3,gM,2,0,"mat-drawer-content",1)),2&e&&(m.Q6J("ngIf",r.hasBackdrop),m.xp6(3),m.Q6J("ngIf",!r._content))},directives:[a0,gi],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),wM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[[Ia,lg,My],My,lg]}),n})();const CM=function(n,t){return{s1:n,s2:t}};function bM(n,t){if(1&n&&(m.TgZ(0,"div")(1,"div",12)(2,"b"),m._uU(3),m.qZA(),m._uU(4," : "),m.TgZ(5,"label"),m._uU(6),m.qZA()(),m._UZ(7,"br"),m.qZA()),2&n){const e=t.$implicit,r=m.oxw();m.xp6(1),m.Q6J("ngClass",m.WLB(3,CM,r.username==e.username,r.username!=e.username)),m.xp6(2),m.Oqu(e.username),m.xp6(3),m.Oqu(e.chat)}}const DM=[{path:"",component:ym},{path:"chat",component:(()=>{class n{constructor(e){this.route=e,this.title="chat_test",this.all_chats=[],this.firebaseConfig={apiKey:"AIzaSyCiJt5PNdQVth5K0Mu02jClWE3wQZky2iA",authDomain:"chat-test-76af5.firebaseapp.com",projectId:"chat-test-76af5",storageBucket:"chat-test-76af5.appspot.com",messagingSenderId:"285509761505",appId:"1:285509761505:web:3ea6617c3bc005bbde3aa0",dataBaseURL:"https://chat-test-76af5-default-rtdb.firebaseio.com/"},this.username="",this.x=[],this.app=(0,pf.ZF)(this.firebaseConfig),this.database=function _y(n=(0,cl.getApp)(),t){return(0,cl._getProvider)(n,"database").getImmediate({identifier:t})}(this.app),this.showFiller=!1}ngOnInit(){this.route.queryParamMap.subscribe(r=>this.username=r.get("user")),th(Rl(this.database,"/Chats"),r=>{this.x=[],r.forEach(a=>{const c=a.val();this.x.push(c)})})}add_to_chat(e){this.all_chats.push(e);let a=function qw(n,t){n=(0,z.m9)(n),ii("push",n._path),Er("push",t,n._path,!0);const e=ey(n._repo),r=s_(e),a=da(n,r),c=da(n,r);let h;return h=null!=t?ha(c,t).then(()=>c):Promise.resolve(c),a.then=h.then.bind(h),a.catch=h.then.bind(h,void 0),a}(Rl(this.database,"Chats/"));ha(a,{username:this.username,chat:e}),th(Rl(this.database,"/Chats"),h=>{this.x=[],h.forEach(f=>{const _=f.val();this.x.push(_)})})}ngOnChanges(){th(Rl(this.database,"/Chats"),r=>{this.x=[],r.forEach(a=>{const c=a.val();this.x.push(c)})})}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(mr))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-chat-test"]],features:[m.TTD],decls:19,vars:3,consts:[[1,"example-container"],[2,"text-align","center","color","black"],["mode","side",1,"example-sidenav"],["drawer",""],[2,"color","black"],[4,"ngFor","ngForOf"],[1,"sendmsg"],["placeholder","Enter your text.....",2,"width","max"],["chat",""],[3,"click"],[1,"example-sidenav-content"],["type","button","mat-button","",3,"click"],[3,"ngClass"]],template:function(e,r){if(1&e){const a=m.EpF();m.TgZ(0,"mat-drawer-container",0)(1,"h1",1),m._uU(2),m.qZA(),m.TgZ(3,"mat-drawer",2,3)(5,"h1",4),m._uU(6),m.qZA(),m._UZ(7,"hr"),m.TgZ(8,"div"),m.YNc(9,bM,8,6,"div",5),m._UZ(10,"br"),m.TgZ(11,"div",6),m._UZ(12,"input",7,8),m.TgZ(14,"button",9),m.NdJ("click",function(){m.CHM(a);const h=m.MAs(13);return r.add_to_chat(h.value)}),m._uU(15,"Send Text"),m.qZA()()()(),m.TgZ(16,"div",10)(17,"button",11),m.NdJ("click",function(){return m.CHM(a),m.MAs(4).toggle()}),m._uU(18," Open Chats "),m.qZA()()()}2&e&&(m.xp6(2),m.hij("Welcome ",r.username," !"),m.xp6(4),m.hij("Welcome to Chat ",r.username," !"),m.xp6(3),m.Q6J("ngForOf",r.x))},directives:[vT,yT,Co,Gi],styles:[".s1[_ngcontent-%COMP%]{color:#000;text-align:right}.s2[_ngcontent-%COMP%]{color:#000;text-align:left}.s1[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#c0f}.s2[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#8f032d}.s1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{height:auto;width:50%}.sendmsg[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center}.sendmsg[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{vertical-align:middle;margin:5px 10px 5px 0;padding:10px;width:-moz-fit-content;width:fit-content;background-color:#fff;border:1px solid #ddd}.sendmsg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#1e90ff;border:1px solid #ddd;color:#fff}.sendmsg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4169e1}.example-container[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid rgba(0,0,0,.5);background-color:#ddd}.example-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.example-sidenav[_ngcontent-%COMP%]{padding:20px;background-color:#c1e8ff}"]}),n})()}];let SM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[[ff.forRoot(DM)],ff]}),n})(),TM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&m._UZ(0,"router-outlet")},directives:[Ju],styles:[""]}),n})(),IM={apiKey:"AIzaSyCiJt5PNdQVth5K0Mu02jClWE3wQZky2iA",authDomain:"chat-test-76af5.firebaseapp.com",projectId:"chat-test-76af5",storageBucket:"chat-test-76af5.appspot.com",messagingSenderId:"285509761505",appId:"1:285509761505:web:3ea6617c3bc005bbde3aa0",dataBaseURL:"https://chat-test-76af5-default-rtdb.firebaseio.com/"},AM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n,bootstrap:[TM]}),n.\u0275inj=m.cJS({providers:[],imports:[[tc,SM,xo.hO.initializeApp(IM),hM,wM]]}),n})();(0,m.G48)(),Yr().bootstrapModule(AM).catch(n=>console.error(n))},867:(Ve,he,R)=>{R.d(he,{ZF:()=>m.initializeApp});var m=R(681);(0,m.registerVersion)("firebase","9.9.3","app")},306:(Ve,he,R)=>{R.d(he,{y:()=>P});var m=R(930),$=R(727),ae=R(822),ee=R(671);var me=R(416),Me=R(576),Ce=R(806);let P=(()=>{class ve{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const Ue=new ve;return Ue.source=this,Ue.operator=ue,Ue}subscribe(ue,Ue,Ye){const Re=function xe(ve){return ve&&ve instanceof m.Lv||function X(ve){return ve&&(0,Me.m)(ve.next)&&(0,Me.m)(ve.error)&&(0,Me.m)(ve.complete)}(ve)&&(0,$.Nn)(ve)}(ue)?ue:new m.Hp(ue,Ue,Ye);return(0,Ce.x)(()=>{const{operator:ye,source:ie}=this;Re.add(ye?ye.call(Re,ie):ie?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(ue){try{return this._subscribe(ue)}catch(Ue){ue.error(Ue)}}forEach(ue,Ue){return new(Ue=V(Ue))((Ye,Re)=>{const ye=new m.Hp({next:ie=>{try{ue(ie)}catch(de){Re(de),ye.unsubscribe()}},error:Re,complete:Ye});this.subscribe(ye)})}_subscribe(ue){var Ue;return null===(Ue=this.source)||void 0===Ue?void 0:Ue.subscribe(ue)}[ae.L](){return this}pipe(...ue){return function Pe(ve){return 0===ve.length?ee.y:1===ve.length?ve[0]:function(ue){return ve.reduce((Ue,Ye)=>Ye(Ue),ue)}}(ue)(this)}toPromise(ue){return new(ue=V(ue))((Ue,Ye)=>{let Re;this.subscribe(ye=>Re=ye,ye=>Ye(ye),()=>Ue(Re))})}}return ve.create=et=>new ve(et),ve})();function V(ve){var et;return null!==(et=null!=ve?ve:me.v.Promise)&&void 0!==et?et:Promise}},579:(Ve,he,R)=>{R.d(he,{x:()=>me});var m=R(306),$=R(727);const ee=(0,R(888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=R(737),Pe=R(806);let me=(()=>{class Ce extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const X=new Me(this,this);return X.operator=V,X}_throwIfClosed(){if(this.closed)throw new ee}next(V){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(V)}})}error(V){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:X}=this;for(;X.length;)X.shift().error(V)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:X,isStopped:xe,observers:ve}=this;return X||xe?$.Lc:(this.currentObservers=null,ve.push(V),new $.w0(()=>{this.currentObservers=null,(0,ge.P)(ve,V)}))}_checkFinalizedStatuses(V){const{hasError:X,thrownError:xe,isStopped:ve}=this;X?V.error(xe):ve&&V.complete()}asObservable(){const V=new m.y;return V.source=this,V}}return Ce.create=(P,V)=>new Me(P,V),Ce})();class Me extends me{constructor(P,V){super(),this.destination=P,this.source=V}next(P){var V,X;null===(X=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===X||X.call(V,P)}error(P){var V,X;null===(X=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===X||X.call(V,P)}complete(){var P,V;null===(V=null===(P=this.destination)||void 0===P?void 0:P.complete)||void 0===V||V.call(P)}_subscribe(P){var V,X;return null!==(X=null===(V=this.source)||void 0===V?void 0:V.subscribe(P))&&void 0!==X?X:$.Lc}}},930:(Ve,he,R)=>{R.d(he,{Hp:()=>ue,Lv:()=>X});var m=R(576),$=R(727),ae=R(416),ee=R(849),ge=R(32);const Pe=Ce("C",void 0,void 0);function Ce(ie,de,He){return{kind:ie,value:de,error:He}}var P=R(410),V=R(806);class X extends $.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,$.Nn)(de)&&de.add(this)):this.destination=ye}static create(de,He,ft){return new ue(de,He,ft)}next(de){this.isStopped?Re(function Me(ie){return Ce("N",ie,void 0)}(de),this):this._next(de)}error(de){this.isStopped?Re(function me(ie){return Ce("E",void 0,ie)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?Re(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function ve(ie,de){return xe.call(ie,de)}class et{constructor(de){this.partialObserver=de}next(de){const{partialObserver:He}=this;if(He.next)try{He.next(de)}catch(ft){Ue(ft)}}error(de){const{partialObserver:He}=this;if(He.error)try{He.error(de)}catch(ft){Ue(ft)}else Ue(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(He){Ue(He)}}}class ue extends X{constructor(de,He,ft){let Fe;if(super(),(0,m.m)(de)||!de)Fe={next:null!=de?de:void 0,error:null!=He?He:void 0,complete:null!=ft?ft:void 0};else{let J;this&&ae.v.useDeprecatedNextContext?(J=Object.create(de),J.unsubscribe=()=>this.unsubscribe(),Fe={next:de.next&&ve(de.next,J),error:de.error&&ve(de.error,J),complete:de.complete&&ve(de.complete,J)}):Fe=de}this.destination=new et(Fe)}}function Ue(ie){ae.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(ie):(0,ee.h)(ie)}function Re(ie,de){const{onStoppedNotification:He}=ae.v;He&&P.z.setTimeout(()=>He(ie,de))}const ye={closed:!0,next:ge.Z,error:function Ye(ie){throw ie},complete:ge.Z}},727:(Ve,he,R)=>{R.d(he,{Lc:()=>Pe,w0:()=>ge,Nn:()=>me});var m=R(576);const ae=(0,R(888).d)(Ce=>function(V){Ce(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((X,xe)=>`${xe+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var ee=R(737);class ge{constructor(P){this.initialTeardown=P,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let P;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const ve of V)ve.remove(this);else V.remove(this);const{initialTeardown:X}=this;if((0,m.m)(X))try{X()}catch(ve){P=ve instanceof ae?ve.errors:[ve]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const ve of xe)try{Me(ve)}catch(et){P=null!=P?P:[],et instanceof ae?P=[...P,...et.errors]:P.push(et)}}if(P)throw new ae(P)}}add(P){var V;if(P&&P!==this)if(this.closed)Me(P);else{if(P instanceof ge){if(P.closed||P._hasParent(this))return;P._addParent(this)}(this._finalizers=null!==(V=this._finalizers)&&void 0!==V?V:[]).push(P)}}_hasParent(P){const{_parentage:V}=this;return V===P||Array.isArray(V)&&V.includes(P)}_addParent(P){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(P),V):V?[V,P]:P}_removeParent(P){const{_parentage:V}=this;V===P?this._parentage=null:Array.isArray(V)&&(0,ee.P)(V,P)}remove(P){const{_finalizers:V}=this;V&&(0,ee.P)(V,P),P instanceof ge&&P._removeParent(this)}}ge.EMPTY=(()=>{const Ce=new ge;return Ce.closed=!0,Ce})();const Pe=ge.EMPTY;function me(Ce){return Ce instanceof ge||Ce&&"closed"in Ce&&(0,m.m)(Ce.remove)&&(0,m.m)(Ce.add)&&(0,m.m)(Ce.unsubscribe)}function Me(Ce){(0,m.m)(Ce)?Ce():Ce.unsubscribe()}},416:(Ve,he,R)=>{R.d(he,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ve,he,R)=>{R.d(he,{E:()=>$});const $=new(R(306).y)(ge=>ge.complete())},76:(Ve,he,R)=>{R.d(he,{D:()=>ft});var m=R(421),$=R(672),ae=R(482),ee=R(403);function ge(Fe,J=0){return(0,ae.e)((le,U)=>{le.subscribe((0,ee.x)(U,K=>(0,$.f)(U,Fe,()=>U.next(K),J),()=>(0,$.f)(U,Fe,()=>U.complete(),J),K=>(0,$.f)(U,Fe,()=>U.error(K),J)))})}function Pe(Fe,J=0){return(0,ae.e)((le,U)=>{U.add(Fe.schedule(()=>le.subscribe(U),J))})}var Ce=R(306),V=R(202),X=R(576);function ve(Fe,J){if(!Fe)throw new Error("Iterable cannot be null");return new Ce.y(le=>{(0,$.f)(le,J,()=>{const U=Fe[Symbol.asyncIterator]();(0,$.f)(le,J,()=>{U.next().then(K=>{K.done?le.complete():le.next(K.value)})},0,!0)})})}var et=R(670),ue=R(239),Ue=R(144),Ye=R(495),Re=R(206),ye=R(645),ie=R(260);function ft(Fe,J){return J?function He(Fe,J){if(null!=Fe){if((0,et.c)(Fe))return function me(Fe,J){return(0,m.Xf)(Fe).pipe(Pe(J),ge(J))}(Fe,J);if((0,Ue.z)(Fe))return function P(Fe,J){return new Ce.y(le=>{let U=0;return J.schedule(function(){U===Fe.length?le.complete():(le.next(Fe[U++]),le.closed||this.schedule())})})}(Fe,J);if((0,ue.t)(Fe))return function Me(Fe,J){return(0,m.Xf)(Fe).pipe(Pe(J),ge(J))}(Fe,J);if((0,Re.D)(Fe))return ve(Fe,J);if((0,Ye.T)(Fe))return function xe(Fe,J){return new Ce.y(le=>{let U;return(0,$.f)(le,J,()=>{U=Fe[V.h](),(0,$.f)(le,J,()=>{let K,q;try{({value:K,done:q}=U.next())}catch(Q){return void le.error(Q)}q?le.complete():le.next(K)},0,!0)}),()=>(0,X.m)(null==U?void 0:U.return)&&U.return()})}(Fe,J);if((0,ie.L)(Fe))return function de(Fe,J){return ve((0,ie.Q)(Fe),J)}(Fe,J)}throw(0,ye.z)(Fe)}(Fe,J):(0,m.Xf)(Fe)}},421:(Ve,he,R)=>{R.d(he,{Xf:()=>xe});var m=R(655),$=R(144),ae=R(239),ee=R(306),ge=R(670),Pe=R(206),me=R(645),Me=R(495),Ce=R(260),P=R(576),V=R(849),X=R(822);function xe(ie){if(ie instanceof ee.y)return ie;if(null!=ie){if((0,ge.c)(ie))return function ve(ie){return new ee.y(de=>{const He=ie[X.L]();if((0,P.m)(He.subscribe))return He.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ie);if((0,$.z)(ie))return function et(ie){return new ee.y(de=>{for(let He=0;He<ie.length&&!de.closed;He++)de.next(ie[He]);de.complete()})}(ie);if((0,ae.t)(ie))return function ue(ie){return new ee.y(de=>{ie.then(He=>{de.closed||(de.next(He),de.complete())},He=>de.error(He)).then(null,V.h)})}(ie);if((0,Pe.D)(ie))return Ye(ie);if((0,Me.T)(ie))return function Ue(ie){return new ee.y(de=>{for(const He of ie)if(de.next(He),de.closed)return;de.complete()})}(ie);if((0,Ce.L)(ie))return function Re(ie){return Ye((0,Ce.Q)(ie))}(ie)}throw(0,me.z)(ie)}function Ye(ie){return new ee.y(de=>{(function ye(ie,de){var He,ft,Fe,J;return(0,m.mG)(this,void 0,void 0,function*(){try{for(He=(0,m.KL)(ie);!(ft=yield He.next()).done;)if(de.next(ft.value),de.closed)return}catch(le){Fe={error:le}}finally{try{ft&&!ft.done&&(J=He.return)&&(yield J.call(He))}finally{if(Fe)throw Fe.error}}de.complete()})})(ie,de).catch(He=>de.error(He))})}},451:(Ve,he,R)=>{R.d(he,{T:()=>Pe});var m=R(189),$=R(421),ae=R(515),ee=R(269),ge=R(76);function Pe(...me){const Me=(0,ee.yG)(me),Ce=(0,ee._6)(me,1/0),P=me;return P.length?1===P.length?(0,$.Xf)(P[0]):(0,m.J)(Ce)((0,ge.D)(P,Me)):ae.E}},403:(Ve,he,R)=>{R.d(he,{x:()=>$});var m=R(930);function $(ee,ge,Pe,me,Me){return new ae(ee,ge,Pe,me,Me)}class ae extends m.Lv{constructor(ge,Pe,me,Me,Ce,P){super(ge),this.onFinalize=Ce,this.shouldUnsubscribe=P,this._next=Pe?function(V){try{Pe(V)}catch(X){ge.error(X)}}:super._next,this._error=Me?function(V){try{Me(V)}catch(X){ge.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(V){ge.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4:(Ve,he,R)=>{R.d(he,{U:()=>ae});var m=R(482),$=R(403);function ae(ee,ge){return(0,m.e)((Pe,me)=>{let Me=0;Pe.subscribe((0,$.x)(me,Ce=>{me.next(ee.call(ge,Ce,Me++))}))})}},189:(Ve,he,R)=>{R.d(he,{J:()=>ae});var m=R(577),$=R(671);function ae(ee=1/0){return(0,m.z)($.y,ee)}},577:(Ve,he,R)=>{R.d(he,{z:()=>Me});var m=R(4),$=R(421),ae=R(482),ee=R(672),ge=R(403),me=R(576);function Me(Ce,P,V=1/0){return(0,me.m)(P)?Me((X,xe)=>(0,m.U)((ve,et)=>P(X,ve,xe,et))((0,$.Xf)(Ce(X,xe))),V):("number"==typeof P&&(V=P),(0,ae.e)((X,xe)=>function Pe(Ce,P,V,X,xe,ve,et,ue){const Ue=[];let Ye=0,Re=0,ye=!1;const ie=()=>{ye&&!Ue.length&&!Ye&&P.complete()},de=ft=>Ye<X?He(ft):Ue.push(ft),He=ft=>{ve&&P.next(ft),Ye++;let Fe=!1;(0,$.Xf)(V(ft,Re++)).subscribe((0,ge.x)(P,J=>{null==xe||xe(J),ve?de(J):P.next(J)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(Ye--;Ue.length&&Ye<X;){const J=Ue.shift();et?(0,ee.f)(P,et,()=>He(J)):He(J)}ie()}catch(J){P.error(J)}}))};return Ce.subscribe((0,ge.x)(P,de,()=>{ye=!0,ie()})),()=>{null==ue||ue()}}(X,xe,Ce,V)))}},410:(Ve,he,R)=>{R.d(he,{z:()=>m});const m={setTimeout($,ae,...ee){const{delegate:ge}=m;return(null==ge?void 0:ge.setTimeout)?ge.setTimeout($,ae,...ee):setTimeout($,ae,...ee)},clearTimeout($){const{delegate:ae}=m;return((null==ae?void 0:ae.clearTimeout)||clearTimeout)($)},delegate:void 0}},202:(Ve,he,R)=>{R.d(he,{h:()=>$});const $=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},822:(Ve,he,R)=>{R.d(he,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},269:(Ve,he,R)=>{R.d(he,{jO:()=>ee,yG:()=>ge,_6:()=>Pe});var m=R(576),$=R(532);function ae(me){return me[me.length-1]}function ee(me){return(0,m.m)(ae(me))?me.pop():void 0}function ge(me){return(0,$.K)(ae(me))?me.pop():void 0}function Pe(me,Me){return"number"==typeof ae(me)?me.pop():Me}},737:(Ve,he,R)=>{function m($,ae){if($){const ee=$.indexOf(ae);0<=ee&&$.splice(ee,1)}}R.d(he,{P:()=>m})},888:(Ve,he,R)=>{function m($){const ee=$(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}R.d(he,{d:()=>m})},806:(Ve,he,R)=>{R.d(he,{x:()=>ae,O:()=>ee});var m=R(416);let $=null;function ae(ge){if(m.v.useDeprecatedSynchronousErrorHandling){const Pe=!$;if(Pe&&($={errorThrown:!1,error:null}),ge(),Pe){const{errorThrown:me,error:Me}=$;if($=null,me)throw Me}}else ge()}function ee(ge){m.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ge)}},672:(Ve,he,R)=>{function m($,ae,ee,ge=0,Pe=!1){const me=ae.schedule(function(){ee(),Pe?$.add(this.schedule(null,ge)):this.unsubscribe()},ge);if($.add(me),!Pe)return me}R.d(he,{f:()=>m})},671:(Ve,he,R)=>{function m($){return $}R.d(he,{y:()=>m})},144:(Ve,he,R)=>{R.d(he,{z:()=>m});const m=$=>$&&"number"==typeof $.length&&"function"!=typeof $},206:(Ve,he,R)=>{R.d(he,{D:()=>$});var m=R(576);function $(ae){return Symbol.asyncIterator&&(0,m.m)(null==ae?void 0:ae[Symbol.asyncIterator])}},576:(Ve,he,R)=>{function m($){return"function"==typeof $}R.d(he,{m:()=>m})},670:(Ve,he,R)=>{R.d(he,{c:()=>ae});var m=R(822),$=R(576);function ae(ee){return(0,$.m)(ee[m.L])}},495:(Ve,he,R)=>{R.d(he,{T:()=>ae});var m=R(202),$=R(576);function ae(ee){return(0,$.m)(null==ee?void 0:ee[m.h])}},239:(Ve,he,R)=>{R.d(he,{t:()=>$});var m=R(576);function $(ae){return(0,m.m)(null==ae?void 0:ae.then)}},260:(Ve,he,R)=>{R.d(he,{Q:()=>ae,L:()=>ee});var m=R(655),$=R(576);function ae(ge){return(0,m.FC)(this,arguments,function*(){const me=ge.getReader();try{for(;;){const{value:Me,done:Ce}=yield(0,m.qq)(me.read());if(Ce)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(Me)}}finally{me.releaseLock()}})}function ee(ge){return(0,$.m)(null==ge?void 0:ge.getReader)}},532:(Ve,he,R)=>{R.d(he,{K:()=>$});var m=R(576);function $(ae){return ae&&(0,m.m)(ae.schedule)}},482:(Ve,he,R)=>{R.d(he,{A:()=>$,e:()=>ae});var m=R(576);function $(ee){return(0,m.m)(null==ee?void 0:ee.lift)}function ae(ee){return ge=>{if($(ge))return ge.lift(function(Pe){try{return ee(Pe,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},32:(Ve,he,R)=>{function m(){}R.d(he,{Z:()=>m})},849:(Ve,he,R)=>{R.d(he,{h:()=>ae});var m=R(416),$=R(410);function ae(ee){$.z.setTimeout(()=>{const{onUnhandledError:ge}=m.v;if(!ge)throw ee;ge(ee)})}},645:(Ve,he,R)=>{function m($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(he,{z:()=>m})},655:(Ve,he,R)=>{function Me(U,K,q,Q){return new(q||(q=Promise))(function(_e,ze){function gt(Rt){try{Xe(Q.next(Rt))}catch(Rn){ze(Rn)}}function Bt(Rt){try{Xe(Q.throw(Rt))}catch(Rn){ze(Rn)}}function Xe(Rt){Rt.done?_e(Rt.value):function Y(_e){return _e instanceof q?_e:new q(function(ze){ze(_e)})}(Rt.value).then(gt,Bt)}Xe((Q=Q.apply(U,K||[])).next())})}function Ue(U){return this instanceof Ue?(this.v=U,this):new Ue(U)}function Ye(U,K,q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,Q=q.apply(U,K||[]),_e=[];return Y={},ze("next"),ze("throw"),ze("return"),Y[Symbol.asyncIterator]=function(){return this},Y;function ze(ut){Q[ut]&&(Y[ut]=function(rt){return new Promise(function(On,br){_e.push([ut,rt,On,br])>1||gt(ut,rt)})})}function gt(ut,rt){try{!function Bt(ut){ut.value instanceof Ue?Promise.resolve(ut.value.v).then(Xe,Rt):Rn(_e[0][2],ut)}(Q[ut](rt))}catch(On){Rn(_e[0][3],On)}}function Xe(ut){gt("next",ut)}function Rt(ut){gt("throw",ut)}function Rn(ut,rt){ut(rt),_e.shift(),_e.length&&gt(_e[0][0],_e[0][1])}}function ye(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,K=U[Symbol.asyncIterator];return K?K.call(U):(U=function X(U){var K="function"==typeof Symbol&&Symbol.iterator,q=K&&U[K],Q=0;if(q)return q.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&Q>=U.length&&(U=void 0),{value:U&&U[Q++],done:!U}}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),q={},Q("next"),Q("throw"),Q("return"),q[Symbol.asyncIterator]=function(){return this},q);function Q(_e){q[_e]=U[_e]&&function(ze){return new Promise(function(gt,Bt){!function Y(_e,ze,gt,Bt){Promise.resolve(Bt).then(function(Xe){_e({value:Xe,done:gt})},ze)}(gt,Bt,(ze=U[_e](ze)).done,ze.value)})}}}R.d(he,{mG:()=>Me,qq:()=>Ue,FC:()=>Ye,KL:()=>ye})},893:(Ve,he,R)=>{R.d(he,{deG:()=>Qr,tb:()=>pb,AFp:()=>ub,ip1:()=>cb,CZH:()=>zy,hGG:()=>CS,z2F:()=>ng,sBO:()=>bb,Sil:()=>KD,_Vd:()=>ch,EJc:()=>WD,SBq:()=>cu,qLn:()=>od,vpe:()=>Es,tBr:()=>dc,XFs:()=>Ke,OlP:()=>Gt,zs3:()=>Pr,ZZ4:()=>ag,aQg:()=>hv,soG:()=>Gy,YKP:()=>SC,h0i:()=>Vr,PXZ:()=>iS,R0b:()=>ji,FiY:()=>ss,Lbi:()=>fb,g9A:()=>hb,n_E:()=>qp,Qsj:()=>EC,FYo:()=>Lp,JOm:()=>Oi,tp0:()=>os,Rgc:()=>fh,dDg:()=>tg,q4F:()=>Cy,GfV:()=>uu,s_b:()=>Zp,ifc:()=>Xt,eFA:()=>_b,G48:()=>Cb,Gpc:()=>et,f3M:()=>Qa,X6Q:()=>ov,_c5:()=>wS,VLi:()=>eS,c2e:()=>gb,zSh:()=>Ff,wAp:()=>qe,vHH:()=>Re,cg1:()=>Qd,kL8:()=>iu,dqk:()=>Qe,sIi:()=>Fi,CqO:()=>ms,QGY:()=>Ud,F4k:()=>op,RDi:()=>Kr,AaK:()=>X,qOj:()=>Gf,TTD:()=>Ia,_Bn:()=>wy,xp6:()=>Sm,uIk:()=>yl,ekj:()=>qc,Suo:()=>$C,Xpm:()=>Zn,lG2:()=>Hl,Yz7:()=>Vt,cJS:()=>In,oAB:()=>Vl,Yjl:()=>$i,Y36:()=>El,_UZ:()=>np,qZA:()=>Vd,TgZ:()=>jd,EpF:()=>gs,LFG:()=>_n,$8M:()=>Fo,$Z:()=>O_,NdJ:()=>Cl,CRH:()=>zC,oxw:()=>$d,Hsn:()=>Dl,F$t:()=>_s,Q6J:()=>Bd,WLB:()=>Ty,iGM:()=>UC,MAs:()=>g_,CHM:()=>Pa,LSH:()=>Xh,Udp:()=>Kc,WFA:()=>bl,d8E:()=>ru,YNc:()=>p_,_uU:()=>mp,Oqu:()=>eu,hij:()=>co,Gf:()=>HC});var m=R(579),$=R(727),ae=R(306),ee=R(451),ge=R(421),Pe=R(930),me=R(482);function Ce(i,s,...o){if(!0===s)return void i();if(!1===s)return;const l=new Pe.Hp({next:()=>{l.unsubscribe(),i()}});return s(...o).subscribe(l)}function P(i){for(let s in i)if(i[s]===P)return s;throw Error("Could not find renamed property on target object.")}function V(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function X(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(X).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function xe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const ve=P({__forward_ref__:P});function et(i){return i.__forward_ref__=et,i.toString=function(){return X(this())},i}function ue(i){return function Ue(i){return"function"==typeof i&&i.hasOwnProperty(ve)&&i.__forward_ref__===et}(i)?i():i}class Re extends Error{constructor(s,o){super(function ye(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,o)),this.code=s}}function ie(i){return"string"==typeof i?i:null==i?"":String(i)}function de(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ie(i)}function J(i,s){const o=s?` in ${s}`:"";throw new Re(-201,`No provider for ${de(i)} found${o}`)}function ut(i,s){null==i&&function rt(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Vt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function In(i){return{providers:i.providers||[],imports:i.imports||[]}}function yo(i){return di(i,$n)||di(i,nn)}function di(i,s){return i.hasOwnProperty(s)?i[s]:null}function cr(i){return i&&(i.hasOwnProperty($r)||i.hasOwnProperty(Hi))?i[$r]:null}const $n=P({\u0275prov:P}),$r=P({\u0275inj:P}),nn=P({ngInjectableDef:P}),Hi=P({ngInjectorDef:P});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let ws;function En(i){const s=ws;return ws=i,s}function Yn(i,s,o){const l=yo(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Ke.Optional?null:void 0!==s?s:void J(X(i),"Injector")}function bt(i){return{toString:i}.toString()}var Te=(()=>((Te=Te||{})[Te.OnPush=0]="OnPush",Te[Te.Default=1]="Default",Te))(),Xt=(()=>{return(i=Xt||(Xt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Xt;var i})();const An="undefined"!=typeof globalThis&&globalThis,Dr="undefined"!=typeof window&&window,hn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qe=An||"undefined"!=typeof global&&global||Dr||hn,F={},x=[],B=P({\u0275cmp:P}),k=P({\u0275dir:P}),ce=P({\u0275pipe:P}),be=P({\u0275mod:P}),Be=P({\u0275fac:P}),_t=P({__NG_ELEMENT_ID__:P});let Ot=0;function Zn(i){return bt(()=>{const o={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Te.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||x,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Xt.Emulated,id:"c",styles:i.styles||x,_:null,setInput:null,schemas:i.schemas||null,tView:null},u=i.directives,d=i.features,p=i.pipes;return l.id+=Ot++,l.inputs=Ul(i.inputs,o),l.outputs=Ul(i.outputs),d&&d.forEach(g=>g(l)),l.directiveDefs=u?()=>("function"==typeof u?u():u).map(Qn):null,l.pipeDefs=p?()=>("function"==typeof p?p():p).map(zr):null,l})}function Qn(i){return qt(i)||function pi(i){return i[k]||null}(i)}function zr(i){return function zi(i){return i[ce]||null}(i)}const bs={};function Vl(i){return bt(()=>{const s={type:i.type,bootstrap:i.bootstrap||x,declarations:i.declarations||x,imports:i.imports||x,exports:i.exports||x,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(bs[i.id]=i.type),s})}function Ul(i,s){if(null==i)return F;const o={};for(const l in i)if(i.hasOwnProperty(l)){let u=i[l],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),o[u]=l,s&&(s[u]=d)}return o}const Hl=Zn;function $i(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function qt(i){return i[B]||null}function Nn(i,s){const o=i[be]||null;if(!o&&!0===s)throw new Error(`Type ${X(i)} does not have '\u0275mod' property.`);return o}function Jn(i){return Array.isArray(i)&&"object"==typeof i[1]}function ur(i){return Array.isArray(i)&&!0===i[1]}function bo(i){return 0!=(8&i.flags)}function zl(i){return 2==(2&i.flags)}function Wl(i){return 1==(1&i.flags)}function Ht(i){return null!==i.template}function Eh(i){return 0!=(512&i[2])}function Yi(i,s){return i.hasOwnProperty(Be)?i[Be]:null}class Dg{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ia(){return ql}function ql(i){return i.type.prototype.ngOnChanges&&(i.setInput=Yl),Sg}function Sg(){const i=Aa(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===F)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Yl(i,s,o,l){const u=Aa(i)||function Tg(i,s){return i[Iu]=s}(i,{previous:F,current:null}),d=u.current||(u.current={}),p=u.previous,g=this.declaredInputs[o],v=p[g];d[g]=new Dg(v&&v.currentValue,s,p===F),i[l]=s}Ia.ngInherit=!0;const Iu="__ngSimpleChanges__";function Aa(i){return i[Iu]||null}let _i;function Kr(i){_i=i}function Wt(i){return!!i.listen}const Ms={createRenderer:(i,s)=>function Do(){return void 0!==_i?_i:"undefined"!=typeof document?document:void 0}()};function $t(i){for(;Array.isArray(i);)i=i[0];return i}function xs(i,s){return $t(s[i])}function cn(i,s){return $t(s[i.index])}function yi(i,s){return i.data[s]}function Cn(i,s){const o=s[i];return Jn(o)?o:o[0]}function Ei(i){return 4==(4&i[2])}function Os(i){return 128==(128&i[2])}function er(i,s){return null==s?null:i[s]}function So(i){i[18]=0}function Ra(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const Ne={lFrame:Sr(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Oa(){return Ne.bindingsEnabled}function oe(){return Ne.lFrame.lView}function dt(){return Ne.lFrame.tView}function Pa(i){return Ne.lFrame.contextLView=i,i[8]}function rn(){let i=xu();for(;null!==i&&64===i.type;)i=i.parent;return i}function xu(){return Ne.lFrame.currentTNode}function tr(i,s){const o=Ne.lFrame;o.currentTNode=i,o.isParent=s}function To(){return Ne.lFrame.isParent}function Xl(){Ne.lFrame.isParent=!1}function Fs(){return Ne.isInCheckNoChangesMode}function Na(i){Ne.isInCheckNoChangesMode=i}function ks(){return Ne.lFrame.bindingIndex++}function Mh(i,s){const o=Ne.lFrame;o.bindingIndex=o.bindingRootIndex=i,Fa(s)}function Fa(i){Ne.lFrame.currentDirectiveIndex=i}function Ou(i){const s=Ne.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function nc(){return Ne.lFrame.currentQueryIndex}function Io(i){Ne.lFrame.currentQueryIndex=i}function Rh(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function rc(i,s,o){if(o&Ke.SkipSelf){let u=s,d=i;for(;!(u=u.parent,null!==u||o&Ke.Host||(u=Rh(d),null===u||(d=d[15],10&u.type))););if(null===u)return!1;s=u,i=d}const l=Ne.lFrame=Ao();return l.currentTNode=s,l.lView=i,!0}function ic(i){const s=Ao(),o=i[1];Ne.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Ao(){const i=Ne.lFrame,s=null===i?null:i.child;return null===s?Sr(i):s}function Sr(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ka(){const i=Ne.lFrame;return Ne.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Pu=ka;function wi(){const i=ka();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function bn(){return Ne.lFrame.selectedIndex}function Ci(i){Ne.lFrame.selectedIndex=i}function zt(){const i=Ne.lFrame;return yi(i.tView,i.selectedIndex)}function Mo(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const d=i.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:g,ngAfterViewInit:v,ngAfterViewChecked:C,ngOnDestroy:D}=d;p&&(i.contentHooks||(i.contentHooks=[])).push(-o,p),g&&((i.contentHooks||(i.contentHooks=[])).push(o,g),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,g)),v&&(i.viewHooks||(i.viewHooks=[])).push(-o,v),C&&((i.viewHooks||(i.viewHooks=[])).push(o,C),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,C)),null!=D&&(i.destroyHooks||(i.destroyHooks=[])).push(o,D)}}function sc(i,s,o){oc(i,s,3,o)}function ku(i,s,o,l){(3&i[2])===o&&oc(i,s,o,l)}function Fh(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function oc(i,s,o,l){const d=null!=l?l:-1,p=s.length-1;let g=0;for(let v=void 0!==l?65535&i[18]:0;v<p;v++)if("number"==typeof s[v+1]){if(g=s[v],null!=l&&g>=l)break}else s[v]<0&&(i[18]+=65536),(g<d||-1==d)&&(Kv(i,o,s,v),i[18]=(4294901760&i[18])+v+2),v++}function Kv(i,s,o,l){const u=o[l]<0,d=o[l+1],g=i[u?-o[l]:o[l]];if(u){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{d.call(g)}finally{}}}else try{d.call(g)}finally{}}class Qi{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function nr(i,s,o){const l=Wt(i);let u=0;for(;u<o.length;){const d=o[u];if("number"==typeof d){if(0!==d)break;u++;const p=o[u++],g=o[u++],v=o[u++];l?i.setAttribute(s,g,v,p):s.setAttributeNS(p,g,v)}else{const p=d,g=o[++u];Ro(p)?l&&i.setProperty(s,p,g):l?i.setAttribute(s,p,g):s.setAttribute(p,g),u++}}return u}function Lu(i){return 3===i||4===i||6===i}function Ro(i){return 64===i.charCodeAt(0)}function La(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const u=s[l];"number"==typeof u?o=u:0===o||Ba(i,o,u,null,-1===o||2===o?s[++l]:null)}}return i}function Ba(i,s,o,l,u){let d=0,p=i.length;if(-1===s)p=-1;else for(;d<i.length;){const g=i[d++];if("number"==typeof g){if(g===s){p=-1;break}if(g>s){p=d-1;break}}}for(;d<i.length;){const g=i[d];if("number"==typeof g)break;if(g===o){if(null===l)return void(null!==u&&(i[d+1]=u));if(l===i[d+1])return void(i[d+2]=u)}d++,null!==l&&d++,null!==u&&d++}-1!==p&&(i.splice(p,0,s),d=p+1),i.splice(d++,0,o),null!==l&&i.splice(d++,0,l),null!==u&&i.splice(d++,0,u)}function Bu(i){return-1!==i}function js(i){return 32767&i}function yt(i,s){let o=function Vs(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let Mn=!0;function ja(i){const s=Mn;return Mn=i,s}let Bh=0;function Xi(i,s){const o=kn(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Va(l.data,i),Va(s,null),Va(l.blueprint,null));const u=bi(i,s),d=i.injectorIndex;if(Bu(u)){const p=js(u),g=yt(u,s),v=g[1].data;for(let C=0;C<8;C++)s[d+C]=g[p+C]|v[p+C]}return s[d+8]=u,d}function Va(i,s){i.push(0,0,0,0,0,0,0,0,s)}function kn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function bi(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,u=s;for(;null!==u;){const d=u[1],p=d.type;if(l=2===p?d.declTNode:1===p?u[6]:null,null===l)return-1;if(o++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Us(i,s,o){!function jh(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(_t)&&(l=o[_t]),null==l&&(l=o[_t]=Bh++);const u=255&l;s.data[i+(u>>5)]|=1<<u}(i,s,o)}function Oo(i,s,o){if(o&Ke.Optional)return i;J(s,"NodeInjector")}function Vu(i,s,o,l){if(o&Ke.Optional&&void 0===l&&(l=null),0==(o&(Ke.Self|Ke.Host))){const u=i[9],d=En(void 0);try{return u?u.get(s,l,o&Ke.Optional):Yn(s,l,o&Ke.Optional)}finally{En(d)}}return Oo(l,s,o)}function Hs(i,s,o,l=Ke.Default,u){if(null!==i){const d=function $a(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(_t)?i[_t]:void 0;return"number"==typeof s?s>=0?255&s:Ha:s}(o);if("function"==typeof d){if(!rc(s,i,l))return l&Ke.Host?Oo(u,o,l):Vu(s,o,l,u);try{const p=d(l);if(null!=p||l&Ke.Optional)return p;J(o)}finally{Pu()}}else if("number"==typeof d){let p=null,g=kn(i,s),v=-1,C=l&Ke.Host?s[16][6]:null;for((-1===g||l&Ke.SkipSelf)&&(v=-1===g?bi(i,s):s[g+8],-1!==v&&Tr(l,!1)?(p=s[1],g=js(v),s=yt(v,s)):g=-1);-1!==g;){const D=s[1];if(Uu(d,g,D.data)){const I=es(g,s,o,p,l,C);if(I!==Ji)return I}v=s[g+8],-1!==v&&Tr(l,s[1].data[g+8]===C)&&Uu(d,g,s)?(p=D,g=js(v),s=yt(v,s)):g=-1}}}return Vu(s,o,l,u)}const Ji={};function Ha(){return new fr(rn(),oe())}function es(i,s,o,l,u,d){const p=s[1],g=p.data[i+8],D=Zr(g,p,o,null==l?zl(g)&&Mn:l!=p&&0!=(3&g.type),u&Ke.Host&&d===g);return null!==D?Yt(s,p,D,g):Ji}function Zr(i,s,o,l,u){const d=i.providerIndexes,p=s.data,g=1048575&d,v=i.directiveStart,D=d>>20,O=u?g+D:i.directiveEnd;for(let H=l?g:g+D;H<O;H++){const ne=p[H];if(H<v&&o===ne||H>=v&&ne.type===o)return H}if(u){const H=p[v];if(H&&Ht(H)&&H.type===o)return v}return null}function Yt(i,s,o,l){let u=i[o];const d=s.data;if(function kh(i){return i instanceof Qi}(u)){const p=u;p.resolving&&function He(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Re(-200,`Circular dependency in DI detected for ${i}${o}`)}(de(d[o]));const g=ja(p.canSeeViewProviders);p.resolving=!0;const v=p.injectImpl?En(p.injectImpl):null;rc(i,l,Ke.Default);try{u=i[o]=p.factory(void 0,d,i,l),s.firstCreatePass&&o>=l.directiveStart&&function Nh(i,s,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:d}=s.type.prototype;if(l){const p=ql(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,p)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,u),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,d))}(o,d[o],s)}finally{null!==v&&En(v),ja(g),p.resolving=!1,Pu()}}return u}function Uu(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function Tr(i,s){return!(i&Ke.Self||i&Ke.Host&&s)}class fr{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return Hs(this._tNode,this._lView,s,l,o)}}function Fo(i){return function Ua(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const d=o[u];if(Lu(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(d===s)return o[u+1];u+=2}}}return null}(rn(),i)}const zn="__parameters__";function ns(i,s,o){return bt(()=>{const l=function ts(i){return function(...o){if(i){const l=i(...o);for(const u in l)this[u]=l[u]}}}(s);function u(...d){if(this instanceof u)return l.apply(this,d),this;const p=new u(...d);return g.annotation=p,g;function g(v,C,D){const I=v.hasOwnProperty(zn)?v[zn]:Object.defineProperty(v,zn,{value:[]})[zn];for(;I.length<=D;)I.push(null);return(I[D]=I[D]||[]).push(p),v}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=i,u.annotationCls=u,u})}class Gt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Vt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Qr=new Gt("AnalyzeForEntryComponents");function rr(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),rr(l,s)):s!==i&&s.push(l)}return s}function Xr(i,s){i.forEach(o=>Array.isArray(o)?Xr(o,s):s(o))}function $h(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Wa(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ga(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}function xn(i,s,o){let l=Si(i,s);return l>=0?i[1|l]=o:(l=~l,function zh(i,s,o,l){let u=i.length;if(u==s)i.push(o,l);else if(1===u)i.push(l,i[0]),i[0]=o;else{for(u--,i.push(i[u-1],i[u]);u>s;)i[u]=i[u-2],u--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function Lo(i,s){const o=Si(i,s);if(o>=0)return i[1|o]}function Si(i,s){return function Bo(i,s,o){let l=0,u=i.length>>o;for(;u!==l;){const d=l+(u-l>>1),p=i[d<<o];if(s===p)return d<<o;p>s?u=d:l=d+1}return~(u<<o)}(i,s,1)}const gr={},qa="__NG_DI_FLAG__",Ir="ngTempTokenPath",qh=/\n/gm,Ti="__source",ht=P({provide:String,useValue:P});let Ii;function $u(i){const s=Ii;return Ii=i,s}function Gs(i,s=Ke.Default){if(void 0===Ii)throw new Re(203,"");return null===Ii?Yn(i,void 0,s):Ii.get(i,s&Ke.Optional?null:void 0,s)}function _n(i,s=Ke.Default){return(function Pn(){return ws}()||Gs)(ue(i),s)}const Qa=_n;function Xa(i){const s=[];for(let o=0;o<i.length;o++){const l=ue(i[o]);if(Array.isArray(l)){if(0===l.length)throw new Re(900,"");let u,d=Ke.Default;for(let p=0;p<l.length;p++){const g=l[p],v=Vo(g);"number"==typeof v?-1===v?u=g.token:d|=v:u=g}s.push(_n(u,d))}else s.push(_n(l))}return s}function Ai(i,s){return i[qa]=s,i.prototype[qa]=s,i}function Vo(i){return i[qa]}const dc=Ai(ns("Inject",i=>({token:i})),-1),ss=Ai(ns("Optional"),8),os=Ai(ns("SkipSelf"),4);class nl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Mi(i){return i instanceof nl?i.changingThisBreaksApplicationSecurity:i}const tE=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Lg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Zt=(()=>((Zt=Zt||{})[Zt.NONE=0]="NONE",Zt[Zt.HTML=1]="HTML",Zt[Zt.STYLE=2]="STYLE",Zt[Zt.SCRIPT=3]="SCRIPT",Zt[Zt.URL=4]="URL",Zt[Zt.RESOURCE_URL=5]="RESOURCE_URL",Zt))();function Xh(i){const s=function sl(){const i=oe();return i&&i[12]}();return s?s.sanitize(Zt.URL,i)||"":function rl(i,s){const o=function Fg(i){return i instanceof nl&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}(i,"URL")?Mi(i):function Qu(i){return(i=String(i)).match(tE)||i.match(Lg)?i:"unsafe:"+i}(ie(i))}const qg="__ngContext__";function Ln(i,s){i[qg]=s}function ef(i){const s=function Wo(i){return i[qg]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function tf(i){return i.ngOriginalError}function gE(i,...s){i.error(...s)}class od{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),l=function pE(i){return i&&i.ngErrorLogger||gE}(s);l(this._console,"ERROR",s),o&&l(this._console,"ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&tf(s);for(;o&&tf(o);)o=tf(o);return o||null}}const _0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qe))();function Ri(i){return i instanceof Function?i():i}var Oi=(()=>((Oi=Oi||{})[Oi.Important=1]="Important",Oi[Oi.DashCase=2]="DashCase",Oi))();function nf(i,s){return undefined(i,s)}function qo(i){const s=i[3];return ur(s)?s[3]:s}function sf(i){return om(i[13])}function af(i){return om(i[4])}function om(i){for(;null!==i&&!ur(i);)i=i[4];return i}function al(i,s,o,l,u){if(null!=l){let d,p=!1;ur(l)?d=l:Jn(l)&&(p=!0,l=l[0]);const g=$t(l);0===i&&null!==o?null==u?ff(s,o,g):Zo(s,o,g,u||null,!0):1===i&&null!==o?Zo(s,o,g,u||null,!0):2===i?function ym(i,s,o){const l=cd(i,s);l&&function ME(i,s,o,l){Wt(i)?i.removeChild(s,o,l):s.removeChild(o)}(i,l,s,o)}(s,g,p):3===i&&s.destroyNode(g),null!=d&&function z(i,s,o,l,u){const d=o[7];d!==$t(o)&&al(s,i,l,d,u);for(let g=10;g<o.length;g++){const v=o[g];yc(v[1],v,i,s,l,d)}}(s,i,d,o,u)}}function ad(i,s,o){if(Wt(i))return i.createElement(s,o);{const l=null!==o?function Gv(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(o):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function lm(i,s){const o=i[9],l=o.indexOf(s),u=s[3];1024&s[2]&&(s[2]&=-1025,Ra(u,-1)),o.splice(l,1)}function ld(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const u=l[17];null!==u&&u!==i&&lm(u,l),s>0&&(i[o-1][4]=l[4]);const d=Wa(i,10+s);!function cf(i,s){yc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const p=d[19];null!==p&&p.detachView(d[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function df(i,s){if(!(256&s[2])){const o=s[11];Wt(o)&&o.destroyNode&&yc(i,s,o,3,null,null),function IE(i){let s=i[13];if(!s)return gc(i[1],i);for(;s;){let o=null;if(Jn(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)Jn(s)&&gc(s[1],s),s=s[3];null===s&&(s=i),Jn(s)&&gc(s[1],s),o=s&&s[4]}s=o}}(s)}}function gc(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Yo(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const u=s[o[l]];if(!(u instanceof Qi)){const d=o[l+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const g=u[d[p]],v=d[p+1];try{v.call(g)}finally{}}else try{d.call(u)}finally{}}}}(i,s),function E0(i,s){const o=i.cleanup,l=s[7];let u=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const p=o[d+1],g="function"==typeof p?p(s):$t(s[p]),v=l[u=o[d+2]],C=o[d+3];"boolean"==typeof C?g.removeEventListener(o[d],v,C):C>=0?l[u=C]():l[u=-C].unsubscribe(),d+=2}else{const p=l[u=o[d+1]];o[d].call(p)}if(null!==l){for(let d=u+1;d<l.length;d++)l[d]();s[7]=null}}(i,s),1===s[1].type&&Wt(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&ur(s[3])){o!==s[3]&&lm(o,s);const l=s[19];null!==l&&l.detachView(i)}}}function hf(i,s,o){return function cm(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const u=i.data[l.directiveStart].encapsulation;if(u===Xt.None||u===Xt.Emulated)return null}return cn(l,o)}(i,s.parent,o)}function Zo(i,s,o,l,u){Wt(i)?i.insertBefore(s,o,l,u):s.insertBefore(o,l,u)}function ff(i,s,o){Wt(i)?i.appendChild(s,o):s.appendChild(o)}function um(i,s,o,l,u){null!==l?Zo(i,s,o,l,u):ff(i,s,o)}function cd(i,s){return Wt(i)?i.parentNode(s):s.parentNode}function hm(i,s,o){return pm(i,s,o)}let pm=function fm(i,s,o){return 40&i.type?cn(i,o):null};function ud(i,s,o,l){const u=hf(i,l,s),d=s[11],g=hm(l.parent||s[6],l,s);if(null!=u)if(Array.isArray(o))for(let v=0;v<o.length;v++)um(d,u,o[v],g,!1);else um(d,u,o,g,!1)}function _c(i,s){if(null!==s){const o=s.type;if(3&o)return cn(s,i);if(4&o)return _m(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return _c(i,l);{const u=i[s.index];return ur(u)?_m(-1,u):$t(u)}}if(32&o)return nf(s,i)()||$t(i[s.index]);{const l=mm(i,s);return null!==l?Array.isArray(l)?l[0]:_c(qo(i[16]),l):_c(i,s.next)}}return null}function mm(i,s){return null!==s?i[16][6].projection[s.projection]:null}function _m(i,s){const o=10+i+1;if(o<s.length){const l=s[o],u=l[1].firstChild;if(null!==u)return _c(l,u)}return s[7]}function pf(i,s,o,l,u,d,p){for(;null!=o;){const g=l[o.index],v=o.type;if(p&&0===s&&(g&&Ln($t(g),l),o.flags|=4),64!=(64&o.flags))if(8&v)pf(i,s,o.child,l,u,d,!1),al(s,i,u,g,d);else if(32&v){const C=nf(o,l);let D;for(;D=C();)al(s,i,u,D,d);al(s,i,u,g,d)}else 16&v?vm(i,s,l,o,u,d):al(s,i,u,g,d);o=p?o.projectionNext:o.next}}function yc(i,s,o,l,u,d){pf(o,l,i.firstChild,s,u,d,!1)}function vm(i,s,o,l,u,d){const p=o[16],v=p[6].projection[l.projection];if(Array.isArray(v))for(let C=0;C<v.length;C++)al(s,i,u,v[C],d);else pf(i,s,v,p[3],u,d,!0)}function gf(i,s,o){Wt(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function dd(i,s,o){Wt(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function hd(i,s,o){let l=i.length;for(;;){const u=i.indexOf(s,o);if(-1===u)return u;if(0===u||i.charCodeAt(u-1)<=32){const d=s.length;if(u+d===l||i.charCodeAt(u+d)<=32)return u}o=u+1}}const wm="ng-template";function xE(i,s,o){let l=0;for(;l<i.length;){let u=i[l++];if(o&&"class"===u){if(u=i[l],-1!==hd(u.toLowerCase(),s,0))return!0}else if(1===u){for(;l<i.length&&"string"==typeof(u=i[l++]);)if(u.toLowerCase()===s)return!0;return!1}}return!1}function mf(i){return 4===i.type&&i.value!==wm}function Qo(i,s,o){return s===(4!==i.type||o?i.value:wm)}function _f(i,s,o){let l=4;const u=i.attrs||[],d=function Xo(i){for(let s=0;s<i.length;s++)if(Lu(i[s]))return s;return i.length}(u);let p=!1;for(let g=0;g<s.length;g++){const v=s[g];if("number"!=typeof v){if(!p)if(4&l){if(l=2|1&l,""!==v&&!Qo(i,v,o)||""===v&&1===s.length){if(Bn(l))return!1;p=!0}}else{const C=8&l?v:s[++g];if(8&l&&null!==i.attrs){if(!xE(i.attrs,C,o)){if(Bn(l))return!1;p=!0}continue}const I=Cm(8&l?"class":v,u,mf(i),o);if(-1===I){if(Bn(l))return!1;p=!0;continue}if(""!==C){let O;O=I>d?"":u[I+1].toLowerCase();const H=8&l?O:null;if(H&&-1!==hd(H,C,0)||2&l&&C!==O){if(Bn(l))return!1;p=!0}}}}else{if(!p&&!Bn(l)&&!Bn(v))return!1;if(p&&Bn(v))continue;p=!1,l=v|1&l}}return Bn(l)||p}function Bn(i){return 0==(1&i)}function Cm(i,s,o,l){if(null===s)return-1;let u=0;if(l||!o){let d=!1;for(;u<s.length;){const p=s[u];if(p===i)return u;if(3===p||6===p)d=!0;else{if(1===p||2===p){let g=s[++u];for(;"string"==typeof g;)g=s[++u];continue}if(4===p)break;if(0===p){u+=4;continue}}u+=d?1:2}return-1}return function bm(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function yf(i,s,o=!1){for(let l=0;l<s.length;l++)if(_f(i,s[l],o))return!0;return!1}function Dm(i,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(i.length===l.length){for(let u=0;u<i.length;u++)if(i[u]!==l[u])continue e;return!0}}return!1}function yn(i,s){return i?":not("+s.trim()+")":s}function Ec(i){let s=i[0],o=1,l=2,u="",d=!1;for(;o<i.length;){let p=i[o];if("string"==typeof p)if(2&l){const g=i[++o];u+="["+p+(g.length>0?'="'+g+'"':"")+"]"}else 8&l?u+="."+p:4&l&&(u+=" "+p);else""!==u&&!Bn(p)&&(s+=yn(d,u),u=""),l=p,d=d||!Bn(l);o++}return""!==u&&(s+=yn(d,u)),s}const je={};function Sm(i){wc(dt(),oe(),bn()+i,Fs())}function wc(i,s,o,l){if(!l)if(3==(3&s[2])){const d=i.preOrderCheckHooks;null!==d&&sc(s,d,o)}else{const d=i.preOrderHooks;null!==d&&ku(s,d,0,o)}Ci(o)}function xr(i,s){return i<<17|s<<2}function dn(i){return i>>17&32767}function Jo(i){return 2|i}function ti(i){return(131068&i)>>2}function fd(i,s){return-131069&i|s<<2}function pd(i){return 1|i}function Vm(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const u=o[l],d=o[l+1];if(-1!==d){const p=i.data[d];Io(u),p.contentQueries(2,s[d],d)}}}function Ic(i,s,o,l,u,d,p,g,v,C){const D=s.blueprint.slice();return D[0]=u,D[2]=140|l,So(D),D[3]=D[15]=i,D[8]=o,D[10]=p||i&&i[10],D[11]=g||i&&i[11],D[12]=v||i&&i[12]||null,D[9]=C||i&&i[9]||null,D[6]=d,D[16]=2==s.type?i[16]:D,D}function dl(i,s,o,l,u){let d=i.data[s];if(null===d)d=function Sf(i,s,o,l,u){const d=xu(),p=To(),v=i.data[s]=function zE(i,s,o,l,u,d){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,o,s,l,u);return null===i.firstChild&&(i.firstChild=v),null!==d&&(p?null==d.child&&null!==v.parent&&(d.child=v):null===d.next&&(d.next=v)),v}(i,s,o,l,u),function Ah(){return Ne.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=l,d.attrs=u;const p=function Zi(){const i=Ne.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return tr(d,!0),d}function yr(i,s,o,l){if(0===o)return-1;const u=s.length;for(let d=0;d<o;d++)s.push(l),i.blueprint.push(l),i.data.push(null);return u}function ea(i,s,o){ic(s);try{const l=i.viewQuery;null!==l&&Or(1,l,o);const u=i.template;null!==u&&Ac(i,s,u,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Vm(i,s),i.staticViewQueries&&Or(2,i.viewQuery,o);const d=i.components;null!==d&&function Hm(i,s){for(let o=0;o<s.length;o++)Zm(i,s[o])}(s,d)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,wi()}}function hl(i,s,o,l){const u=s[2];if(256==(256&u))return;ic(s);const d=Fs();try{So(s),function ec(i){return Ne.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Ac(i,s,o,2,l);const p=3==(3&u);if(!d)if(p){const C=i.preOrderCheckHooks;null!==C&&sc(s,C,null)}else{const C=i.preOrderHooks;null!==C&&ku(s,C,0,null),Fh(s,0)}if(function xf(i){for(let s=sf(i);null!==s;s=af(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const u=o[l],d=u[3];0==(1024&u[2])&&Ra(d,1),u[2]|=1024}}}(s),function na(i){for(let s=sf(i);null!==s;s=af(s))for(let o=10;o<s.length;o++){const l=s[o],u=l[1];Os(l)&&hl(u,l,u.template,l[8])}}(s),null!==i.contentQueries&&Vm(i,s),!d)if(p){const C=i.contentCheckHooks;null!==C&&sc(s,C)}else{const C=i.contentHooks;null!==C&&ku(s,C,1),Fh(s,1)}!function VE(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)Ci(~u);else{const d=u,p=o[++l],g=o[++l];Mh(p,d),g(2,s[d])}}}finally{Ci(-1)}}(i,s);const g=i.components;null!==g&&function Um(i,s){for(let o=0;o<s.length;o++)xc(i,s[o])}(s,g);const v=i.viewQuery;if(null!==v&&Or(2,v,l),!d)if(p){const C=i.viewCheckHooks;null!==C&&sc(s,C)}else{const C=i.viewHooks;null!==C&&ku(s,C,2),Fh(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),d||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Ra(s[3],-1))}finally{wi()}}function UE(i,s,o,l){const u=s[10],d=!Fs(),p=Ei(s);try{d&&!p&&u.begin&&u.begin(),p&&ea(i,s,l),hl(i,s,o,l)}finally{d&&!p&&u.end&&u.end()}}function Ac(i,s,o,l,u){const d=bn(),p=2&l;try{Ci(-1),p&&s.length>20&&wc(i,s,20,Fs()),o(l,u)}finally{Ci(d)}}function yd(i,s,o){!Oa()||(function Xs(i,s,o,l){const u=o.directiveStart,d=o.directiveEnd;i.firstCreatePass||Xi(o,s),Ln(l,s);const p=o.initialInputs;for(let g=u;g<d;g++){const v=i.data[g],C=Ht(v);C&&ZE(s,o,v);const D=Yt(s,i,g,o);Ln(D,s),null!==p&&QE(0,g-u,D,v,0,p),C&&(Cn(o.index,s)[8]=D)}}(i,s,o,cn(o,s)),128==(128&o.flags)&&function Lt(i,s,o){const l=o.directiveStart,u=o.directiveEnd,p=o.index,g=function xh(){return Ne.lFrame.currentDirectiveIndex}();try{Ci(p);for(let v=l;v<u;v++){const C=i.data[v],D=s[v];Fa(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&wd(C,D)}}finally{Ci(-1),Fa(g)}}(i,s,o))}function Tf(i,s,o=cn){const l=s.localNames;if(null!==l){let u=s.index+1;for(let d=0;d<l.length;d+=2){const p=l[d+1],g=-1===p?o(s,i):i[p];i[u++]=g}}}function $m(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=vd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function vd(i,s,o,l,u,d,p,g,v,C){const D=20+l,I=D+u,O=function HE(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:je);return o}(D,I),H="function"==typeof C?C():C;return O[1]={type:i,blueprint:O,template:o,queries:null,viewQuery:g,declTNode:s,data:O.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:v,consts:H,incompleteFirstPass:!1}}function If(i,s,o,l){const u=Jm(s);null===o?u.push(l):(u.push(o),i.firstCreatePass&&qn(i).push(l,u.length-1))}function Af(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const u=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,u):o[l]=[s,u]}return o}function ir(i,s,o,l,u,d,p,g){const v=cn(s,o);let D,C=s.inputs;!g&&null!=C&&(D=C[l])?(Sd(i,o,D,l,u),zl(s)&&function WE(i,s){const o=Cn(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(l=function Gm(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),u=null!=p?p(u,s.value||"",l):u,Wt(d)?d.setProperty(v,l,u):Ro(l)||(v.setProperty?v.setProperty(l,u):v[l]=u))}function Dt(i,s,o,l){let u=!1;if(Oa()){const d=function YE(i,s,o){const l=i.directiveRegistry;let u=null;if(l)for(let d=0;d<l.length;d++){const p=l[d];yf(o,p.selectors,!1)&&(u||(u=[]),Us(Xi(o,s),i,p.type),Ht(p)?(fl(i,o),u.unshift(p)):u.push(p))}return u}(i,s,o),p=null===l?null:{"":-1};if(null!==d){u=!0,at(o,i.data.length,d.length);for(let D=0;D<d.length;D++){const I=d[D];I.providersResolver&&I.providersResolver(I)}let g=!1,v=!1,C=yr(i,s,d.length,null);for(let D=0;D<d.length;D++){const I=d[D];o.mergedAttrs=La(o.mergedAttrs,I.hostAttrs),jn(i,o,s,C,I),Kt(C,I,p),null!==I.contentQueries&&(o.flags|=8),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(o.flags|=128);const O=I.type.prototype;!g&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),g=!0),!v&&(O.ngOnChanges||O.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),v=!0),C++}!function Wm(i,s){const l=s.directiveEnd,u=i.data,d=s.attrs,p=[];let g=null,v=null;for(let C=s.directiveStart;C<l;C++){const D=u[C],I=D.inputs,O=null===d||mf(s)?null:XE(I,d);p.push(O),g=Af(I,C,g),v=Af(D.outputs,C,v)}null!==g&&(g.hasOwnProperty("class")&&(s.flags|=16),g.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=p,s.inputs=g,s.outputs=v}(i,o)}p&&function Ym(i,s,o){if(s){const l=i.localNames=[];for(let u=0;u<s.length;u+=2){const d=o[s[u+1]];if(null==d)throw new Re(-301,!1);l.push(s[u],d)}}}(o,l,p)}return o.mergedAttrs=La(o.mergedAttrs,o.attrs),u}function Ct(i,s,o,l,u,d){const p=d.hostBindings;if(p){let g=i.hostBindingOpCodes;null===g&&(g=i.hostBindingOpCodes=[]);const v=~s.index;(function ct(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(g)!=v&&g.push(v),g.push(l,u,p)}}function wd(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function fl(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Kt(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;Ht(s)&&(o[""]=i)}}function at(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function jn(i,s,o,l,u){i.data[l]=u;const d=u.factory||(u.factory=Yi(u.type)),p=new Qi(d,Ht(u),null);i.blueprint[l]=p,o[l]=p,Ct(i,s,0,l,yr(i,o,u.hostVars,je),u)}function ZE(i,s,o){const l=cn(s,i),u=$m(o),d=i[10],p=Cd(i,Ic(i,u,null,o.onPush?64:16,l,s,d,d.createRenderer(l,o),null,null));i[s.index]=p}function Rr(i,s,o,l,u,d){const p=cn(i,s);!function sr(i,s,o,l,u,d,p){if(null==d)Wt(i)?i.removeAttribute(s,u,o):s.removeAttribute(u);else{const g=null==p?ie(d):p(d,l||"",u);Wt(i)?i.setAttribute(s,u,g,o):o?s.setAttributeNS(o,u,g):s.setAttribute(u,g)}}(s[11],p,d,i.value,o,l,u)}function QE(i,s,o,l,u,d){const p=d[s];if(null!==p){const g=l.setInput;for(let v=0;v<p.length;){const C=p[v++],D=p[v++],I=p[v++];null!==g?l.setInput(o,I,C,D):o[D]=I}}}function XE(i,s){let o=null,l=0;for(;l<s.length;){const u=s[l];if(0!==u)if(5!==u){if("number"==typeof u)break;i.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,i[u],s[l+1])),l+=2}else l+=2;else l+=4}return o}function Mf(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function xc(i,s){const o=Cn(s,i);if(Os(o)){const l=o[1];80&o[2]?hl(l,o,l.template,o[8]):o[5]>0&&Rf(o)}}function Rf(i){for(let l=sf(i);null!==l;l=af(l))for(let u=10;u<l.length;u++){const d=l[u];if(1024&d[2]){const p=d[1];hl(p,d,p.template,d[8])}else d[5]>0&&Rf(d)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const u=Cn(o[l],i);Os(u)&&u[5]>0&&Rf(u)}}function Zm(i,s){const o=Cn(s,i),l=o[1];(function JE(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),ea(l,o,o[8])}function Cd(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Of(i){for(;i;){i[2]|=64;const s=qo(i);if(Eh(i)&&!s)return i;i=s}return null}function lt(i,s,o){const l=s[10];l.begin&&l.begin();try{hl(i,s,i.template,o)}catch(u){throw Dd(s,u),u}finally{l.end&&l.end()}}function Rc(i){!function ds(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],l=ef(o),u=l[1];UE(u,l,u.template,o)}}(i[8])}function Or(i,s,o){Io(0),s(i,o)}const ni=(()=>Promise.resolve(null))();function Jm(i){return i[7]||(i[7]=[])}function qn(i){return i.cleanup||(i.cleanup=[])}function e_(i,s,o){return(null===i||Ht(i))&&(o=function Th(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}function Dd(i,s){const o=i[9],l=o?o.get(od,null):null;l&&l.handleError(s)}function Sd(i,s,o,l,u){for(let d=0;d<o.length;){const p=o[d++],g=o[d++],v=s[p],C=i.data[p];null!==C.setInput?C.setInput(v,u,l,g):v[g]=u}}function hs(i,s,o){const l=xs(s,i);!function Kn(i,s,o){Wt(i)?i.setValue(s,o):s.textContent=o}(i[11],l,o)}function Oc(i,s,o){let l=o?i.styles:null,u=o?i.classes:null,d=0;if(null!==s)for(let p=0;p<s.length;p++){const g=s[p];"number"==typeof g?d=g:1==d?u=xe(u,g):2==d&&(l=xe(l,g+": "+s[++p]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=u:i.classesWithoutHost=u}const Td=new Gt("INJECTOR",-1);class Nf{get(s,o=gr){if(o===gr){const l=new Error(`NullInjectorError: No provider for ${X(s)}!`);throw l.name="NullInjectorError",l}return o}}const Ff=new Gt("Set Injector scope."),Nc={},ew={};let Ft;function r_(){return void 0===Ft&&(Ft=new Nf),Ft}function i_(i,s=null,o=null,l){const u=Fc(i,s,o,l);return u._resolveInjectorDefTypes(),u}function Fc(i,s=null,o=null,l){return new kf(i,o,s||r_(),l)}class kf{constructor(s,o,l,u=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&Xr(o,g=>this.processProvider(g,s,o)),Xr([s],g=>this.processInjectorType(g,[],d)),this.records.set(Td,pl(void 0,this));const p=this.records.get(Ff);this.scope=null!=p?p.value:null,this.source=u||("object"==typeof s?null:X(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=gr,l=Ke.Default){this.assertNotDestroyed();const u=$u(this),d=En(void 0);try{if(!(l&Ke.SkipSelf)){let g=this.records.get(s);if(void 0===g){const v=function Bf(i){return"function"==typeof i||"object"==typeof i&&i instanceof Gt}(s)&&yo(s);g=v&&this.injectableDefInScope(v)?pl(Js(s),Nc):null,this.records.set(s,g)}if(null!=g)return this.hydrate(s,g)}return(l&Ke.Self?r_():this.parent).get(s,o=l&Ke.Optional&&o===gr?null:o)}catch(p){if("NullInjectorError"===p.name){if((p[Ir]=p[Ir]||[]).unshift(X(s)),u)throw p;return function zu(i,s,o,l){const u=i[Ir];throw s[Ti]&&u.unshift(s[Ti]),i.message=function Ja(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let u=X(s);if(Array.isArray(s))u=s.map(X).join(" -> ");else if("object"==typeof s){let d=[];for(let p in s)if(s.hasOwnProperty(p)){let g=s[p];d.push(p+":"+("string"==typeof g?JSON.stringify(g):X(g)))}u=`{${d.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${i.replace(qh,"\n  ")}`}("\n"+i.message,u,o,l),i.ngTokenPath=u,i[Ir]=null,i}(p,s,"R3InjectorError",this.source)}throw p}finally{En(d),$u(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,u)=>s.push(X(u))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(s,o,l){if(!(s=ue(s)))return!1;let u=cr(s);const d=null==u&&s.ngModule||void 0,p=void 0===d?s:d,g=-1!==l.indexOf(p);if(void 0!==d&&(u=cr(d)),null==u)return!1;if(null!=u.imports&&!g){let D;l.push(p);try{Xr(u.imports,I=>{this.processInjectorType(I,o,l)&&(void 0===D&&(D=[]),D.push(I))})}finally{}if(void 0!==D)for(let I=0;I<D.length;I++){const{ngModule:O,providers:H}=D[I];Xr(H,ne=>this.processProvider(ne,O,H||x))}}this.injectorDefTypes.add(p);const v=Yi(p)||(()=>new p);this.records.set(p,pl(v,Nc));const C=u.providers;if(null!=C&&!g){const D=s;Xr(C,I=>this.processProvider(I,D,C))}return void 0!==d&&void 0!==s.providers}processProvider(s,o,l){let u=eo(s=ue(s))?s:ue(s&&s.provide);const d=function kc(i,s,o){return gl(i)?pl(void 0,i.useValue):pl(nt(i),Nc)}(s);if(eo(s)||!0!==s.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=pl(void 0,Nc,!0),p.factory=()=>Xa(p.multi),this.records.set(u,p)),u=s,p.multi.push(s)}this.records.set(u,d)}hydrate(s,o){return o.value===Nc&&(o.value=ew,o.value=o.factory()),"object"==typeof o.value&&o.value&&function ml(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=ue(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Js(i){const s=yo(i),o=null!==s?s.factory:Yi(i);if(null!==o)return o;if(i instanceof Gt)throw new Re(204,!1);if(i instanceof Function)return function fs(i){const s=i.length;if(s>0)throw Ga(s,"?"),new Re(204,!1);const o=function Ca(i){const s=i&&(i[$n]||i[nn]);if(s){const o=function vo(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Re(204,!1)}function nt(i,s,o){let l;if(eo(i)){const u=ue(i);return Yi(u)||Js(u)}if(gl(i))l=()=>ue(i.useValue);else if(function Qt(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Xa(i.deps||[]));else if(function tw(i){return!(!i||!i.useExisting)}(i))l=()=>_n(ue(i.useExisting));else{const u=ue(i&&(i.useClass||i.provide));if(!function Lf(i){return!!i.deps}(i))return Yi(u)||Js(u);l=()=>new u(...Xa(i.deps))}return l}function pl(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function gl(i){return null!==i&&"object"==typeof i&&ht in i}function eo(i){return"function"==typeof i}let Pr=(()=>{class i{static create(o,l){var u;if(Array.isArray(o))return i_({name:""},l,o,"");{const d=null!==(u=o.name)&&void 0!==u?u:"";return i_({name:d},o.parent,o.providers,d)}}}return i.THROW_IF_NOT_FOUND=gr,i.NULL=new Nf,i.\u0275prov=Vt({token:i,providedIn:"any",factory:()=>_n(Td)}),i.__NG_ELEMENT_ID__=-1,i})();function Wf(i,s){Mo(ef(i)[1],rn())}function Gf(i){let s=function u_(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let u;if(Ht(i))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Re(903,"");u=s.\u0275dir}if(u){if(o){l.push(u);const p=i;p.inputs=Kf(i.inputs),p.declaredInputs=Kf(i.declaredInputs),p.outputs=Kf(i.outputs);const g=u.hostBindings;g&&Fr(i,g);const v=u.viewQuery,C=u.contentQueries;if(v&&aw(i,v),C&&lw(i,C),V(i.inputs,u.inputs),V(i.declaredInputs,u.declaredInputs),V(i.outputs,u.outputs),Ht(u)&&u.data.animation){const D=i.data;D.animation=(D.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let p=0;p<d.length;p++){const g=d[p];g&&g.ngInherit&&g(i),g===Gf&&(o=!1)}}s=Object.getPrototypeOf(s)}!function d_(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const u=i[l];u.hostVars=s+=u.hostVars,u.hostAttrs=La(u.hostAttrs,o=La(o,u.hostAttrs))}}(l)}function Kf(i){return i===F?{}:i===x?[]:i}function aw(i,s){const o=i.viewQuery;i.viewQuery=o?(l,u)=>{s(l,u),o(l,u)}:s}function lw(i,s){const o=i.contentQueries;i.contentQueries=o?(l,u,d)=>{s(l,u,d),o(l,u,d)}:s}function Fr(i,s){const o=i.hostBindings;i.hostBindings=o?(l,u)=>{s(l,u),o(l,u)}:s}let ia=null;function Ni(){if(!ia){const i=Qe.Symbol;if(i&&i.iterator)ia=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(ia=l)}}}return ia}function Fi(i){return!!Qf(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ni()in i)}function Qf(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Vn(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function yl(i,s,o,l){const u=oe();return Vn(u,ks(),s)&&(dt(),Rr(zt(),u,i,s,o,l)),yl}function p_(i,s,o,l,u,d,p,g){const v=oe(),C=dt(),D=i+20,I=C.firstCreatePass?function uw(i,s,o,l,u,d,p,g,v){const C=s.consts,D=dl(s,i,4,p||null,er(C,g));Dt(s,o,D,er(C,v)),Mo(s,D);const I=D.tViews=vd(2,D,l,u,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,C);return null!==s.queries&&(s.queries.template(s,D),I.queries=s.queries.embeddedTView(D)),D}(D,C,v,s,o,l,u,d,p):C.data[D];tr(I,!1);const O=v[11].createComment("");ud(C,v,O,I),Ln(O,v),Cd(v,v[D]=Mf(O,v,O,I)),Wl(I)&&yd(C,v,I),null!=p&&Tf(v,I,g)}function g_(i){return function vi(i,s){return i[s]}(function Ru(){return Ne.lFrame.contextLView}(),20+i)}function El(i,s=Ke.Default){const o=oe();return null===o?_n(i,s):Hs(rn(),o,ue(i),s)}function O_(){throw new Error("invalid")}function Bd(i,s,o){const l=oe();return Vn(l,ks(),s)&&ir(dt(),zt(),l,i,s,l[11],o,!1),Bd}function wl(i,s,o,l,u){const p=u?"class":"style";Sd(i,o,s.inputs[p],p,l)}function jd(i,s,o,l){const u=oe(),d=dt(),p=20+i,g=u[11],v=u[p]=ad(g,s,function Fu(){return Ne.lFrame.currentNamespace}()),C=d.firstCreatePass?function P_(i,s,o,l,u,d,p){const g=s.consts,C=dl(s,i,2,u,er(g,d));return Dt(s,o,C,er(g,p)),null!==C.attrs&&Oc(C,C.attrs,!1),null!==C.mergedAttrs&&Oc(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(p,d,u,0,s,o,l):d.data[p];tr(C,!0);const D=C.mergedAttrs;null!==D&&nr(g,v,D);const I=C.classes;null!==I&&dd(g,v,I);const O=C.styles;return null!==O&&gf(g,v,O),64!=(64&C.flags)&&ud(d,u,v,C),0===function Ql(){return Ne.lFrame.elementDepthCount}()&&Ln(v,u),function Ih(){Ne.lFrame.elementDepthCount++}(),Wl(C)&&(yd(d,u,C),function ta(i,s,o){if(bo(s)){const u=s.directiveEnd;for(let d=s.directiveStart;d<u;d++){const p=i.data[d];p.contentQueries&&p.contentQueries(1,o[d],d)}}}(d,C,u)),null!==l&&Tf(u,C),jd}function Vd(){let i=rn();To()?Xl():(i=i.parent,tr(i,!1));const s=i;!function Ps(){Ne.lFrame.elementDepthCount--}();const o=dt();return o.firstCreatePass&&(Mo(o,i),bo(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Bs(i){return 0!=(16&i.flags)}(s)&&wl(o,s,oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ke(i){return 0!=(32&i.flags)}(s)&&wl(o,s,oe(),s.stylesWithoutHost,!1),Vd}function np(i,s,o,l){return jd(i,s,o,l),Vd(),np}function gs(){return oe()}function Ud(i){return!!i&&"function"==typeof i.then}function op(i){return!!i&&"function"==typeof i.subscribe}const ms=op;function Cl(i,s,o,l){const u=oe(),d=dt(),p=rn();return k_(d,u,u[11],p,i,s,!!o,l),Cl}function bl(i,s){const o=rn(),l=oe(),u=dt();return k_(u,l,e_(Ou(u.data),o,l),o,i,s,!1),bl}function k_(i,s,o,l,u,d,p,g){const v=Wl(l),D=i.firstCreatePass&&qn(i),I=s[8],O=Jm(s);let H=!0;if(3&l.type||g){const we=cn(l,s),Ae=g?g(we):we,se=O.length,Ge=g?pt=>g($t(pt[l.index])):l.index;if(Wt(o)){let pt=null;if(!g&&v&&(pt=function bw(i,s,o,l){const u=i.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const p=u[d];if(p===o&&u[d+1]===l){const g=s[7],v=u[d+2];return g.length>v?g[v]:null}"string"==typeof p&&(d+=2)}return null}(i,s,u,l.index)),null!==pt)(pt.__ngLastListenerFn__||pt).__ngNextListenerFn__=d,pt.__ngLastListenerFn__=d,H=!1;else{d=Hd(l,s,I,d,!1);const xt=o.listen(Ae,u,d);O.push(d,xt),D&&D.push(u,Ge,se,se+1)}}else d=Hd(l,s,I,d,!0),Ae.addEventListener(u,d,p),O.push(d),D&&D.push(u,Ge,se,p)}else d=Hd(l,s,I,d,!1);const ne=l.outputs;let pe;if(H&&null!==ne&&(pe=ne[u])){const we=pe.length;if(we)for(let Ae=0;Ae<we;Ae+=2){const Hr=s[pe[Ae]][pe[Ae+1]].subscribe(d),Fl=O.length;O.push(d,Hr),D&&D.push(u,l.index,Fl,-(Fl+1))}}}function L_(i,s,o,l){try{return!1!==o(l)}catch(u){return Dd(i,u),!1}}function Hd(i,s,o,l,u){return function d(p){if(p===Function)return l;const g=2&i.flags?Cn(i.index,s):s;0==(32&s[2])&&Of(g);let v=L_(s,0,l,p),C=d.__ngNextListenerFn__;for(;C;)v=L_(s,0,C,p)&&v,C=C.__ngNextListenerFn__;return u&&!1===v&&(p.preventDefault(),p.returnValue=!1),v}}function $d(i=1){return function Nu(i){return(Ne.lFrame.contextLView=function Mg(i,s){for(;i>0;)s=s[15],i--;return s}(i,Ne.lFrame.contextLView))[8]}(i)}function Dw(i,s){let o=null;const l=function vc(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(0==(1&o))return s[o+1]}return null}(i);for(let u=0;u<s.length;u++){const d=s[u];if("*"!==d){if(null===l?yf(i,d,!0):Dm(l,d))return u}else o=u}return o}function _s(i){const s=oe()[16][6];if(!s.projection){const l=s.projection=Ga(i?i.length:1,null),u=l.slice();let d=s.child;for(;null!==d;){const p=i?Dw(d,i):0;null!==p&&(u[p]?u[p].projectionNext=d:l[p]=d,u[p]=d),d=d.next}}}function Dl(i,s=0,o){const l=oe(),u=dt(),d=dl(u,20+i,16,null,o||null);null===d.projection&&(d.projection=s),Xl(),64!=(64&d.flags)&&function cl(i,s,o){vm(s[11],0,s,o,hf(i,o,s),hm(o.parent||s[6],o,s))}(u,l,d)}function Sl(i,s,o,l,u){const d=i[o+1],p=null===s;let g=l?dn(d):ti(d),v=!1;for(;0!==g&&(!1===v||p);){const D=i[g+1];Wd(i[g],s)&&(v=!0,i[g+1]=l?pd(D):Jo(D)),g=l?dn(D):ti(D)}v&&(i[o+1]=l?Jo(d):pd(d))}function Wd(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Si(i,s)>=0}function Kc(i,s,o){return jr(i,s,o,!1),Kc}function qc(i,s){return jr(i,s,null,!0),qc}function jr(i,s,o,l){const u=oe(),d=dt(),p=function Yr(i){const s=Ne.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);d.firstUpdatePass&&function hp(i,s,o,l){const u=i.data;if(null===u[o+1]){const d=u[bn()],p=function Yc(i,s){return s>=i.expandoStartIndex}(i,o);(function Y_(i,s){return 0!=(i.flags&(s?16:32))})(d,l)&&null===s&&!p&&(s=!1),s=function Rw(i,s,o,l){const u=Ou(i);let d=l?s.residualClasses:s.residualStyles;if(null===u)0===(l?s.classBindings:s.styleBindings)&&(o=Qc(o=pp(null,i,s,o,l),s.attrs,l),d=null);else{const p=s.directiveStylingLast;if(-1===p||i[p]!==u)if(o=pp(u,i,s,o,l),null===d){let v=function Zc(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==ti(l))return i[dn(l)]}(i,s,l);void 0!==v&&Array.isArray(v)&&(v=pp(null,i,s,v[1],l),v=Qc(v,s.attrs,l),function fp(i,s,o,l){i[dn(o?s.classBindings:s.styleBindings)]=l}(i,s,l,v))}else d=function Ow(i,s,o){let l;const u=s.directiveEnd;for(let d=1+s.directiveStylingLast;d<u;d++)l=Qc(l,i[d].hostAttrs,o);return Qc(l,s.attrs,o)}(i,s,l)}return void 0!==d&&(l?s.residualClasses=d:s.residualStyles=d),o}(u,d,s,l),function H_(i,s,o,l,u,d){let p=d?s.classBindings:s.styleBindings,g=dn(p),v=ti(p);i[l]=o;let D,C=!1;if(Array.isArray(o)){const I=o;D=I[1],(null===D||Si(I,D)>0)&&(C=!0)}else D=o;if(u)if(0!==v){const O=dn(i[g+1]);i[l+1]=xr(O,g),0!==O&&(i[O+1]=fd(i[O+1],l)),i[g+1]=function RE(i,s){return 131071&i|s<<17}(i[g+1],l)}else i[l+1]=xr(g,0),0!==g&&(i[g+1]=fd(i[g+1],l)),g=l;else i[l+1]=xr(v,0),0===g?g=l:i[v+1]=fd(i[v+1],l),v=l;C&&(i[l+1]=Jo(i[l+1])),Sl(i,D,l,!0),Sl(i,D,l,!1),function $_(i,s,o,l,u){const d=u?i.residualClasses:i.residualStyles;null!=d&&"string"==typeof s&&Si(d,s)>=0&&(o[l+1]=pd(o[l+1]))}(s,D,i,l,d),p=xr(g,v),d?s.classBindings=p:s.styleBindings=p}(u,d,s,o,p,l)}}(d,i,p,l),s!==je&&Vn(u,p,s)&&function q_(i,s,o,l,u,d,p,g){if(!(3&s.type))return;const v=i.data,C=v[g+1];Er(function vn(i){return 1==(1&i)}(C)?Il(v,s,o,u,ti(C),p):void 0)||(Er(d)||function Ys(i){return 2==(2&i)}(C)&&(d=Il(v,null,o,u,g,p)),function Em(i,s,o,l,u){const d=Wt(i);if(s)u?d?i.addClass(o,l):o.classList.add(l):d?i.removeClass(o,l):o.classList.remove(l);else{let p=-1===l.indexOf("-")?void 0:Oi.DashCase;if(null==u)d?i.removeStyle(o,l,p):o.style.removeProperty(l);else{const g="string"==typeof u&&u.endsWith("!important");g&&(u=u.slice(0,-10),p|=Oi.Important),d?i.setStyle(o,l,u,p):o.style.setProperty(l,u,g?"important":"")}}}(l,p,xs(bn(),o),u,d))}(d,d.data[bn()],u,u[11],i,u[p+1]=function Jc(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=X(Mi(i)))),i}(s,o),l,p)}function pp(i,s,o,l,u){let d=null;const p=o.directiveEnd;let g=o.directiveStylingLast;for(-1===g?g=o.directiveStart:g++;g<p&&(d=s[g],l=Qc(l,d.hostAttrs,u),d!==i);)g++;return null!==i&&(o.directiveStylingLast=g),l}function Qc(i,s,o){const l=o?1:2;let u=-1;if(null!==s)for(let d=0;d<s.length;d++){const p=s[d];"number"==typeof p?u=p:u===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),xn(i,p,!!o||s[++d]))}return void 0===i?null:i}function Il(i,s,o,l,u,d){const p=null===s;let g;for(;u>0;){const v=i[u],C=Array.isArray(v),D=C?v[1]:v,I=null===D;let O=o[u+1];O===je&&(O=I?x:void 0);let H=I?Lo(O,l):D===l?O:void 0;if(C&&!Er(H)&&(H=Lo(v,l)),Er(H)&&(g=H,p))return g;const ne=i[u+1];u=p?dn(ne):ti(ne)}if(null!==s){let v=d?s.residualClasses:s.residualStyles;null!=v&&(g=Lo(v,l))}return g}function Er(i){return void 0!==i}function mp(i,s=""){const o=oe(),l=dt(),u=i+20,d=l.firstCreatePass?dl(l,u,1,s,null):l.data[u],p=o[u]=function lf(i,s){return Wt(i)?i.createText(s):i.createTextNode(s)}(o[11],s);ud(l,o,p,d),tr(d,!1)}function eu(i){return co("",i,""),eu}function co(i,s,o){const l=oe(),u=function ro(i,s,o,l){return Vn(i,ks(),o)?s+ie(o)+l:je}(l,i,s,o);return u!==je&&hs(l,bn(),u),co}function ru(i,s,o){const l=oe();if(Vn(l,ks(),s)){const d=dt(),p=zt();ir(d,p,l,i,s,e_(Ou(d.data),p,l),o,!0)}return ru}const Bi=void 0;var Al=["en",[["a","p"],["AM","PM"],Bi],[["AM","PM"],Bi,Bi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bi,"{1} 'at' {0}",Bi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Hw(i){const o=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Ml={};function Qd(i){const s=function Ww(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Xd(s);if(o)return o;const l=s.split("-")[0];if(o=Xd(l),o)return o;if("en"===l)return Al;throw new Error(`Missing locale data for the locale "${i}".`)}function iu(i){return Qd(i)[qe.PluralCase]}function Xd(i){return i in Ml||(Ml[i]=Qe.ng&&Qe.ng.common&&Qe.ng.common.locales&&Qe.ng.common.locales[i]),Ml[i]}var qe=(()=>((qe=qe||{})[qe.LocaleId=0]="LocaleId",qe[qe.DayPeriodsFormat=1]="DayPeriodsFormat",qe[qe.DayPeriodsStandalone=2]="DayPeriodsStandalone",qe[qe.DaysFormat=3]="DaysFormat",qe[qe.DaysStandalone=4]="DaysStandalone",qe[qe.MonthsFormat=5]="MonthsFormat",qe[qe.MonthsStandalone=6]="MonthsStandalone",qe[qe.Eras=7]="Eras",qe[qe.FirstDayOfWeek=8]="FirstDayOfWeek",qe[qe.WeekendRange=9]="WeekendRange",qe[qe.DateFormat=10]="DateFormat",qe[qe.TimeFormat=11]="TimeFormat",qe[qe.DateTimeFormat=12]="DateTimeFormat",qe[qe.NumberSymbols=13]="NumberSymbols",qe[qe.NumberFormats=14]="NumberFormats",qe[qe.CurrencyCode=15]="CurrencyCode",qe[qe.CurrencySymbol=16]="CurrencySymbol",qe[qe.CurrencyName=17]="CurrencyName",qe[qe.Currencies=18]="Currencies",qe[qe.Directionality=19]="Directionality",qe[qe.PluralCase=20]="PluralCase",qe[qe.ExtraData=21]="ExtraData",qe))();const su="en-US";let vs=su;function Ap(i,s,o,l,u){if(i=ue(i),Array.isArray(i))for(let d=0;d<i.length;d++)Ap(i[d],s,o,l,u);else{const d=dt(),p=oe();let g=eo(i)?i:ue(i.provide),v=nt(i);const C=rn(),D=1048575&C.providerIndexes,I=C.directiveStart,O=C.providerIndexes>>20;if(eo(i)||!i.multi){const H=new Qi(v,u,El),ne=xp(g,s,u?D:D+O,I);-1===ne?(Us(Xi(C,p),d,g),fa(d,i,s.length),s.push(g),C.directiveStart++,C.directiveEnd++,u&&(C.providerIndexes+=1048576),o.push(H),p.push(H)):(o[ne]=H,p[ne]=H)}else{const H=xp(g,s,D+O,I),ne=xp(g,s,D,D+O),pe=H>=0&&o[H],we=ne>=0&&o[ne];if(u&&!we||!u&&!pe){Us(Xi(C,p),d,g);const Ae=function ah(i,s,o,l,u){const d=new Qi(i,o,El);return d.multi=[],d.index=s,d.componentProviders=0,Mp(d,u,l&&!o),d}(u?_C:mC,o.length,u,l,v);!u&&we&&(o[ne].providerFactory=Ae),fa(d,i,s.length,0),s.push(g),C.directiveStart++,C.directiveEnd++,u&&(C.providerIndexes+=1048576),o.push(Ae),p.push(Ae)}else fa(d,i,H>-1?H:ne,Mp(o[u?ne:H],v,!u&&l));!u&&l&&we&&o[ne].componentProviders++}}}function fa(i,s,o,l){const u=eo(s),d=function nw(i){return!!i.useClass}(s);if(u||d){const v=(d?ue(s.useClass):s).prototype.ngOnDestroy;if(v){const C=i.destroyHooks||(i.destroyHooks=[]);if(!u&&s.multi){const D=C.indexOf(o);-1===D?C.push(o,[l,v]):C[D+1].push(l,v)}else C.push(o,v)}}}function Mp(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function xp(i,s,o,l){for(let u=o;u<l;u++)if(s[u]===i)return u;return-1}function mC(i,s,o,l){return Rp(this.multi,[])}function _C(i,s,o,l){const u=this.multi;let d;if(this.providerFactory){const p=this.providerFactory.componentProviders,g=Yt(o,o[1],this.providerFactory.index,l);d=g.slice(0,p),Rp(u,d);for(let v=p;v<g.length;v++)d.push(g[v])}else d=[],Rp(u,d);return d}function Rp(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function wy(i,s=[]){return o=>{o.providersResolver=(l,u)=>function gC(i,s,o){const l=dt();if(l.firstCreatePass){const u=Ht(i);Ap(o,l.data,l.blueprint,u,!0),Ap(s,l.data,l.blueprint,u,!1)}}(l,u?u(i):i,s)}}class Nl{}class Np{resolveComponentFactory(s){throw function yC(i){const s=Error(`No component factory found for ${X(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let ch=(()=>{class i{}return i.NULL=new Np,i})();function vC(){return lu(rn(),oe())}function lu(i,s){return new cu(cn(i,s))}let cu=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=vC,i})();function Fp(i){return i instanceof cu?i.nativeElement:i}class Lp{}let EC=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function wC(){const i=oe(),o=Cn(rn().index,i);return function oD(i){return i[11]}(Jn(o)?o:i)}(),i})(),CC=(()=>{class i{}return i.\u0275prov=Vt({token:i,providedIn:"root",factory:()=>null}),i})();class uu{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Cy=new uu("13.2.7"),Bp={};function uh(i,s,o,l,u=!1){for(;null!==o;){const d=s[o.index];if(null!==d&&l.push($t(d)),ur(d))for(let g=10;g<d.length;g++){const v=d[g],C=v[1].firstChild;null!==C&&uh(v[1],v,C,l)}const p=o.type;if(8&p)uh(i,s,o.child,l);else if(32&p){const g=nf(o,s);let v;for(;v=g();)l.push(v)}else if(16&p){const g=mm(s,o);if(Array.isArray(g))l.push(...g);else{const v=qo(s[16]);uh(v[1],v,g,l,!0)}}o=u?o.projectionNext:o.next}return l}class dh{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return uh(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ur(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(ld(s,l),Wa(o,l))}this._attachedToViewContainer=!1}df(this._lView[1],this._lView)}onDestroy(s){If(this._lView[1],this._lView,null,s)}markForCheck(){Of(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lt(this._lView[1],this._lView,this.context)}checkNoChanges(){!function bd(i,s,o){Na(!0);try{lt(i,s,o)}finally{Na(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ll(i,s){yc(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=s}}class jp extends dh{constructor(s){super(s),this._view=s}detectChanges(){Rc(this._view)}checkNoChanges(){!function Xm(i){Na(!0);try{Rc(i)}finally{Na(!1)}}(this._view)}get context(){return null}}class by extends ch{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=qt(s);return new Vp(o,this.ngModule)}}function Dy(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class Vp extends Nl{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function vf(i){return i.map(Ec).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Dy(this.componentDef.inputs)}get outputs(){return Dy(this.componentDef.outputs)}create(s,o,l,u){const d=(u=u||this.ngModule)?function DC(i,s){return{get:(o,l,u)=>{const d=i.get(o,Bp,u);return d!==Bp||l===Bp?d:s.get(o,l,u)}}}(s,u.injector):s,p=d.get(Lp,Ms),g=d.get(CC,null),v=p.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",D=l?function zm(i,s,o){if(Wt(i))return i.selectRootElement(s,o===Xt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(v,l,this.componentDef.encapsulation):ad(p.createRenderer(null,this.componentDef),C,function bC(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(C)),I=this.componentDef.onPush?576:528,O=function ra(i,s){return{components:[],scheduler:i||_0,clean:ni,playerHandler:s||null,flags:0}}(),H=vd(0,null,null,1,0,null,null,null,null,null),ne=Ic(null,H,O,I,null,null,p,v,g,d);let pe,we;ic(ne);try{const Ae=function l_(i,s,o,l,u,d){const p=o[1];o[20]=i;const v=dl(p,20,2,"#host",null),C=v.mergedAttrs=s.hostAttrs;null!==C&&(Oc(v,C,!0),null!==i&&(nr(u,i,C),null!==v.classes&&dd(u,i,v.classes),null!==v.styles&&gf(u,i,v.styles)));const D=l.createRenderer(i,s),I=Ic(o,$m(s),null,s.onPush?64:16,o[20],v,l,D,d||null,null);return p.firstCreatePass&&(Us(Xi(v,o),p,s.type),fl(p,v),at(v,o.length,1)),Cd(o,I),o[20]=I}(D,this.componentDef,ne,p,v);if(D)if(l)nr(v,D,["ng-version",Cy.full]);else{const{attrs:se,classes:Ge}=function Pi(i){const s=[],o=[];let l=1,u=2;for(;l<i.length;){let d=i[l];if("string"==typeof d)2===u?""!==d&&s.push(d,i[++l]):8===u&&o.push(d);else{if(!Bn(u))break;u=d}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);se&&nr(v,D,se),Ge&&Ge.length>0&&dd(v,D,Ge.join(" "))}if(we=yi(H,20),void 0!==o){const se=we.projection=[];for(let Ge=0;Ge<this.ngContentSelectors.length;Ge++){const pt=o[Ge];se.push(null!=pt?Array.from(pt):null)}}pe=function Vc(i,s,o,l,u){const d=o[1],p=function qm(i,s,o){const l=rn();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),jn(i,l,s,yr(i,s,1,null),o));const u=Yt(s,i,l.directiveStart,l);Ln(u,s);const d=cn(l,s);return d&&Ln(d,s),u}(d,o,s);if(l.components.push(p),i[8]=p,u&&u.forEach(v=>v(p,s)),s.contentQueries){const v=rn();s.contentQueries(1,p,v.directiveStart)}const g=rn();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ci(g.index),Ct(o[1],g,0,g.directiveStart,g.directiveEnd,s),wd(s,p)),p}(Ae,this.componentDef,ne,O,[Wf]),ea(H,ne,null)}finally{wi()}return new oi(this.componentType,pe,lu(we,ne),ne,we)}}class oi extends class Op{}{constructor(s,o,l,u,d){super(),this.location=l,this._rootLView=u,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new jp(u),this.componentType=s}get injector(){return new fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Vr{}class SC{}const ai=new Map;class fo extends Vr{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new by(this);const l=Nn(s);this._bootstrapComponents=Ri(l.bootstrap),this._r3Injector=Fc(s,o,[{provide:Vr,useValue:this},{provide:ch,useValue:this.componentFactoryResolver}],X(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Pr.THROW_IF_NOT_FOUND,l=Ke.Default){return s===Pr||s===Vr||s===Td?this:this._r3Injector.get(s,o,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class $p extends SC{constructor(s){super(),this.moduleType=s,null!==Nn(s)&&function du(i){const s=new Set;!function o(l){const u=Nn(l,!0),d=u.id;null!==d&&(function IC(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${X(s)} vs ${X(s.name)}`)}(d,ai.get(d),l),ai.set(d,l));const p=Ri(u.imports);for(const g of p)s.has(g)||(s.add(g),o(g))}(i)}(s)}create(s){return new fo(this.moduleType,s)}}function Ty(i,s,o,l,u){return function PC(i,s,o,l,u,d,p){const g=s+o;return function ki(i,s,o,l){const u=Vn(i,s,o);return Vn(i,s+1,l)||u}(i,g,u,d)?function or(i,s,o){return i[s]=o}(i,g+2,p?l.call(p,u,d):l(u,d)):function pu(i,s){const o=i[s];return o===je?void 0:o}(i,g+2)}(oe(),function gn(){const i=Ne.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,o,l,u)}function Ay(i){return s=>{setTimeout(i,void 0,s)}}const Es=class LC extends m.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){var u,d,p;let g=s,v=o||(()=>null),C=l;if(s&&"object"==typeof s){const I=s;g=null===(u=I.next)||void 0===u?void 0:u.bind(I),v=null===(d=I.error)||void 0===d?void 0:d.bind(I),C=null===(p=I.complete)||void 0===p?void 0:p.bind(I)}this.__isAsync&&(v=Ay(v),g&&(g=Ay(g)),C&&(C=Ay(C)));const D=super.subscribe({next:g,error:v,complete:C});return s instanceof $.w0&&s.add(D),D}};function pD(){return this._results[Ni()]()}class qp{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ni(),l=qp.prototype;l[o]||(l[o]=pD)}get changes(){return this._changes||(this._changes=new Es)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const u=rr(s);(this._changesDetected=!function Hh(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let u=i[l],d=s[l];if(o&&(u=o(u),d=o(d)),d!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fh=(()=>{class i{}return i.__NG_ELEMENT_ID__=xy,i})();const My=fh,gD=class extends My{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s){const o=this._declarationTContainer.tViews,l=Ic(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(l[19]=d.createEmbeddedView(o)),ea(o,l,s),new dh(l)}};function xy(){return Yp(rn(),oe())}function Yp(i,s){return 4&i.type?new gD(s,i,lu(i,s)):null}let Zp=(()=>{class i{}return i.__NG_ELEMENT_ID__=mD,i})();function mD(){return Oy(rn(),oe())}const _D=Zp,BC=class extends _D{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return lu(this._hostTNode,this._hostLView)}get injector(){return new fr(this._hostTNode,this._hostLView)}get parentInjector(){const s=bi(this._hostTNode,this._hostLView);if(Bu(s)){const o=yt(s,this._hostLView),l=js(s);return new fr(o[1].data[l+8],o)}return new fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Ry(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){const u=s.createEmbeddedView(o||{});return this.insert(u,l),u}createComponent(s,o,l,u,d){const p=s&&!function rs(i){return"function"==typeof i}(s);let g;if(p)g=o;else{const I=o||{};g=I.index,l=I.injector,u=I.projectableNodes,d=I.ngModuleRef}const v=p?s:new Vp(qt(s)),C=l||this.parentInjector;if(!d&&null==v.ngModule){const O=(p?C:this.parentInjector).get(Vr,null);O&&(d=O)}const D=v.create(C,u,void 0,d);return this.insert(D.hostView,g),D}insert(s,o){const l=s._lView,u=l[1];if(function Zl(i){return ur(i[3])}(l)){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const I=l[3],O=new BC(I,I[6],I[3]);O.detach(O.indexOf(s))}}const d=this._adjustIndex(o),p=this._lContainer;!function AE(i,s,o,l){const u=10+l,d=o.length;l>0&&(o[u-1][4]=s),l<d-10?(s[4]=o[u],$h(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const p=s[17];null!==p&&o!==p&&function am(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(p,s);const g=s[19];null!==g&&g.insertView(i),s[2]|=128}(u,l,p,d);const g=_m(d,p),v=l[11],C=cd(v,p[7]);return null!==C&&function uf(i,s,o,l,u,d){l[0]=u,l[6]=s,yc(i,l,o,1,u,d)}(u,p[6],v,l,C,g),s.attachToViewContainerRef(),$h(Qp(p),d,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Ry(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=ld(this._lContainer,o);l&&(Wa(Qp(this._lContainer),o),df(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=ld(this._lContainer,o);return l&&null!=Wa(Qp(this._lContainer),o)?new dh(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function Ry(i){return i[8]}function Qp(i){return i[8]||(i[8]=[])}function Oy(i,s){let o;const l=s[i.index];if(ur(l))o=l;else{let u;if(8&i.type)u=$t(l);else{const d=s[11];u=d.createComment("");const p=cn(i,s);Zo(d,cd(d,p),u,function dm(i,s){return Wt(i)?i.nextSibling(s):s.nextSibling}(d,p),!1)}s[i.index]=o=Mf(l,s,u,i),Cd(s,o)}return new BC(o,i,s)}class Py{constructor(s){this.queryList=s,this.matches=null}clone(){return new Py(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ny{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,u=[];for(let d=0;d<l;d++){const p=o.getByIndex(d);u.push(this.queries[p.indexInDeclarationView].clone())}return new Ny(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==KC(s,o).matches&&this.queries[o].setDirty()}}class jC{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class Fy{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,d=this.getByIndex(l).embeddedTView(s,u);d&&(d.indexInDeclarationView=l,null!==o?o.push(d):o=[d])}return null!==o?new Fy(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ky{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new ky(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const d=l[u];this.matchTNodeWithReadOption(s,o,wD(o,d)),this.matchTNodeWithReadOption(s,o,Zr(o,s,d,!1,!1))}else l===fh?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Zr(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===cu||u===Zp||u===fh&&4&o.type)this.addMatch(o.index,-2);else{const d=Zr(o,s,u,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function wD(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function bD(i,s,o,l){return-1===o?function CD(i,s){return 11&i.type?lu(i,s):4&i.type?Yp(i,s):null}(s,i):-2===o?function DD(i,s,o){return o===cu?lu(s,i):o===fh?Yp(s,i):o===Zp?Oy(s,i):void 0}(i,s,l):Yt(i,i[1],o,s)}function VC(i,s,o,l){const u=s[19].queries[l];if(null===u.matches){const d=i.data,p=o.matches,g=[];for(let v=0;v<p.length;v+=2){const C=p[v];g.push(C<0?null:bD(s,d[C],p[v+1],o.metadata.read))}u.matches=g}return u.matches}function Ly(i,s,o,l){const u=i.queries.getByIndex(o),d=u.matches;if(null!==d){const p=VC(i,s,u,o);for(let g=0;g<d.length;g+=2){const v=d[g];if(v>0)l.push(p[g/2]);else{const C=d[g+1],D=s[-v];for(let I=10;I<D.length;I++){const O=D[I];O[17]===O[3]&&Ly(O[1],O,C,l)}if(null!==D[9]){const I=D[9];for(let O=0;O<I.length;O++){const H=I[O];Ly(H[1],H,C,l)}}}}}return l}function UC(i){const s=oe(),o=dt(),l=nc();Io(l+1);const u=KC(o,l);if(i.dirty&&Ei(s)===(2==(2&u.metadata.flags))){if(null===u.matches)i.reset([]);else{const d=u.crossesNgTemplate?Ly(o,s,l,[]):VC(o,s,u,l);i.reset(d,Fp),i.notifyOnChanges()}return!0}return!1}function HC(i,s,o){const l=dt();l.firstCreatePass&&(GC(l,new jC(i,s,o),-1),2==(2&s)&&(l.staticViewQueries=!0)),WC(l,oe(),s)}function $C(i,s,o,l){const u=dt();if(u.firstCreatePass){const d=rn();GC(u,new jC(s,o,l),d.index),function TD(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(u,i),2==(2&o)&&(u.staticContentQueries=!0)}WC(u,oe(),o)}function zC(){return function SD(i,s){return i[19].queries[s].queryList}(oe(),nc())}function WC(i,s,o){const l=new qp(4==(4&o));If(i,s,l,l.destroy),null===s[19]&&(s[19]=new Ny),s[19].queries.push(new Py(l))}function GC(i,s,o){null===i.queries&&(i.queries=new Fy),i.queries.track(new ky(s,o))}function KC(i,s){return i.queries.getByIndex(s)}function eg(...i){}const cb=new Gt("Application Initializer");let zy=(()=>{class i{constructor(o){this.appInits=o,this.resolve=eg,this.reject=eg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const d=this.appInits[u]();if(Ud(d))o.push(d);else if(ms(d)){const p=new Promise((g,v)=>{d.subscribe({complete:g,error:v})});o.push(p)}}Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(_n(cb,8))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ub=new Gt("AppId",{providedIn:"root",factory:function db(){return`${Wy()}${Wy()}${Wy()}`}});function Wy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hb=new Gt("Platform Initializer"),fb=new Gt("Platform ID"),pb=new Gt("appBootstrapListener");let gb=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Vt({token:i,factory:i.\u0275fac}),i})();const Gy=new Gt("LocaleId",{providedIn:"root",factory:()=>Qa(Gy,Ke.Optional|Ke.SkipSelf)||function zD(){return"undefined"!=typeof $localize&&$localize.locale||su}()}),WD=new Gt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class GD{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let KD=(()=>{class i{compileModuleSync(o){return new $p(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),d=Ri(Nn(o).declarations).reduce((p,g)=>{const v=qt(g);return v&&p.push(new Vp(v)),p},[]);return new GD(l,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const YD=(()=>Promise.resolve(0))();function Ky(i){"undefined"==typeof Zone?YD.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ji{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Es(!1),this.onMicrotaskEmpty=new Es(!1),this.onStable=new Es(!1),this.onError=new Es(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function ZD(){let i=Qe.requestAnimationFrame,s=Qe.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function JD(i){const s=()=>{!function XD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Qe,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Yy(i),i.isCheckStableRunning=!0,qy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Yy(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,d,p,g)=>{try{return Zy(i),o.invokeTask(u,d,p,g)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||i.shouldCoalesceRunChangeDetection)&&s(),Qy(i)}},onInvoke:(o,l,u,d,p,g,v)=>{try{return Zy(i),o.invoke(u,d,p,g,v)}finally{i.shouldCoalesceRunChangeDetection&&s(),Qy(i)}},onHasTask:(o,l,u,d)=>{o.hasTask(u,d),l===u&&("microTask"==d.change?(i._hasPendingMicrotasks=d.microTask,Yy(i),qy(i)):"macroTask"==d.change&&(i.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,l,u,d)=>(o.handleError(u,d),i.runOutsideAngular(()=>i.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ji.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ji.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,u){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+u,s,QD,eg,eg);try{return d.runTask(p,o,l)}finally{d.cancelTask(p)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const QD={};function qy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Yy(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Zy(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Qy(i){i._nesting--,qy(i)}class mb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Es,this.onMicrotaskEmpty=new Es,this.onStable=new Es,this.onError=new Es}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,u){return s.apply(o,l)}}let tg=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ji.assertNotInAngularZone(),Ky(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ky(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let d=-1;l&&l>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,u){return[]}}return i.\u0275fac=function(o){return new(o||i)(_n(ji))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac}),i})(),Xy=(()=>{class i{constructor(){this._applications=new Map,ev.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return ev.findTestabilityInTree(this,o,l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Vt({token:i,factory:i.\u0275fac}),i})();class Jy{addToWindow(s){}findTestabilityInTree(s,o,l){return null}}function eS(i){ev=i}let Ur,ev=new Jy;const tv=new Gt("AllowMultipleToken");class iS{constructor(s,o){this.name=s,this.token=o}}function _b(i,s,o=[]){const l=`Platform: ${s}`,u=new Gt(l);return(d=[])=>{let p=yb();if(!p||p.injector.get(tv,!1))if(i)i(o.concat(d).concat({provide:u,useValue:!0}));else{const g=o.concat(d).concat({provide:u,useValue:!0},{provide:Ff,useValue:"platform"});!function sS(i){if(Ur&&!Ur.destroyed&&!Ur.injector.get(tv,!1))throw new Re(400,"");Ur=i.get(vb);const s=i.get(hb,null);s&&s.forEach(o=>o())}(Pr.create({providers:g,name:l}))}return function oS(i){const s=yb();if(!s)throw new Re(401,"");return s}()}}function yb(){return Ur&&!Ur.destroyed?Ur:null}let vb=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const g=function nv(i,s){let o;return o="noop"===i?new mb:("zone.js"===i?void 0:i)||new ji({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),v=[{provide:ji,useValue:g}];return g.run(()=>{const C=Pr.create({providers:v,parent:this.injector,name:o.moduleType.name}),D=o.create(C),I=D.injector.get(od,null);if(!I)throw new Re(402,"");return g.runOutsideAngular(()=>{const O=g.onError.subscribe({next:H=>{I.handleError(H)}});D.onDestroy(()=>{rg(this._modules,D),O.unsubscribe()})}),function Eb(i,s,o){try{const l=o();return Ud(l)?l.catch(u=>{throw s.runOutsideAngular(()=>i.handleError(u)),u}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(I,g,()=>{const O=D.injector.get(zy);return O.runInitializers(),O.donePromise.then(()=>(function eh(i){ut(i,"Expected localeId to be defined"),"string"==typeof i&&(vs=i.toLowerCase().replace(/_/g,"-"))}(D.injector.get(Gy,su)||su),this._moduleDoBootstrap(D),D))})})}bootstrapModule(o,l=[]){const u=rv({},l);return function tS(i,s,o){const l=new $p(o);return Promise.resolve(l)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(o){const l=o.injector.get(ng);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new Re(403,"");o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(_n(Pr))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac}),i})();function rv(i,s){return Array.isArray(s)?s.reduce(rv,i):Object.assign(Object.assign({},i),s)}let ng=(()=>{class i{constructor(o,l,u,d,p){this._zone=o,this._injector=l,this._exceptionHandler=u,this._componentFactoryResolver=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new ae.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new ae.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ji.assertNotInAngularZone(),Ky(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{ji.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),I.unsubscribe()}});this.isStable=(0,ee.T)(g,v.pipe(function Me(i={}){const{connector:s=(()=>new m.x),resetOnError:o=!0,resetOnComplete:l=!0,resetOnRefCountZero:u=!0}=i;return d=>{let p,g,v,C=0,D=!1,I=!1;const O=()=>{null==g||g.unsubscribe(),g=void 0},H=()=>{O(),p=v=void 0,D=I=!1},ne=()=>{const pe=p;H(),null==pe||pe.unsubscribe()};return(0,me.e)((pe,we)=>{C++,!I&&!D&&O();const Ae=v=null!=v?v:s();we.add(()=>{C--,0===C&&!I&&!D&&(g=Ce(ne,u))}),Ae.subscribe(we),!p&&C>0&&(p=new Pe.Hp({next:se=>Ae.next(se),error:se=>{I=!0,O(),g=Ce(H,o,se),Ae.error(se)},complete:()=>{D=!0,O(),g=Ce(H,l),Ae.complete()}}),(0,ge.Xf)(pe).subscribe(p))})(d)}}()))}bootstrap(o,l){if(!this._initStatus.done)throw new Re(405,"");let u;u=o instanceof Nl?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(u.componentType);const d=function rS(i){return i.isBoundToModule}(u)?void 0:this._injector.get(Vr),g=u.create(Pr.NULL,[],l||u.selector,d),v=g.location.nativeElement,C=g.injector.get(tg,null),D=C&&g.injector.get(Xy);return C&&D&&D.registerApplication(v,C),g.onDestroy(()=>{this.detachView(g.hostView),rg(this.components,g),D&&D.unregisterApplication(v)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;rg(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(pb,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(_n(ji),_n(Pr),_n(od),_n(ch),_n(zy))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function rg(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}let sv=!0,ig=!1;function ov(){return ig=!0,sv}function Cb(){if(ig)throw new Error("Cannot enable prod mode after platform setup.");sv=!1}let bb=(()=>{class i{}return i.__NG_ELEMENT_ID__=cS,i})();function cS(i){return function uS(i,s,o){if(zl(i)&&!o){const l=Cn(i.index,s);return new dh(l,l)}return 47&i.type?new dh(s[16],s):null}(rn(),oe(),16==(16&i))}class mh{constructor(){}supports(s){return Fi(s)}create(s){return new pS(s)}}const Mb=(i,s)=>s;class pS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Mb}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,u=0,d=null;for(;o||l;){const p=!l||o&&o.currentIndex<Rb(l,u,d)?o:l,g=Rb(p,u,d),v=p.currentIndex;if(p===l)u--,l=l._nextRemoved;else if(o=o._next,null==p.previousIndex)u++;else{d||(d=[]);const C=g-u,D=v-u;if(C!=D){for(let O=0;O<C;O++){const H=O<d.length?d[O]:d[O]=0,ne=H+O;D<=ne&&ne<C&&(d[O]=H+1)}d[p.previousIndex]=D-C}}g!==v&&s(p,g,v)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Fi(s))throw new Re(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,d,p,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let g=0;g<this.length;g++)d=s[g],p=this._trackByFn(g,d),null!==o&&Object.is(o.trackById,p)?(l&&(o=this._verifyReinsertion(o,d,p,g)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,p,g),l=!0),o=o._next}else u=0,function cw(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Ni()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,g=>{p=this._trackByFn(u,g),null!==o&&Object.is(o.trackById,p)?(l&&(o=this._verifyReinsertion(o,g,p,u)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,p,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,u){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,d,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,d,u)):s=this._addAfter(new gS(o,l),d,u),s}_verifyReinsertion(s,o,l,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==d?s=this._reinsertAfter(d,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,d=s._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const u=null===o?this._itHead:o._next;return s._next=u,s._prev=o,null===u?this._itTail=s:u._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new xb),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class gS{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mS{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class xb{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new mS,this.map.set(o,l)),l.add(s)}get(s,o){const u=this.map.get(s);return u?u.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Rb(i,s,o){const l=i.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+s+u}class Ob{constructor(){}supports(s){return s instanceof Map||Qf(s)}create(){return new dv}}class dv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Qf(s)))throw new Re(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,o);const d=u._prev,p=u._next;return d&&(d._next=p),p&&(p._prev=d),u._next=null,u._prev=null,u}const l=new _S(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class _S{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pb(){return new ag([new mh])}let ag=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Pb()),deps:[[i,new os,new ss]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new Re(901,"")}}return i.\u0275prov=Vt({token:i,providedIn:"root",factory:Pb}),i})();function lg(){return new hv([new Ob])}let hv=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||lg()),deps:[[i,new os,new ss]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new Re(901,"")}}return i.\u0275prov=Vt({token:i,providedIn:"root",factory:lg}),i})();const wS=_b(null,"core",[{provide:fb,useValue:"unknown"},{provide:vb,deps:[Pr]},{provide:Xy,deps:[]},{provide:gb,deps:[]}]);let CS=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(_n(ng))},i.\u0275mod=Vl({type:i}),i.\u0275inj=In({}),i})()},681:(Ve,he,R)=>{R.r(he),R.d(he,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>di,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>ut,_addOrOverwriteComponent:()=>rt,_apps:()=>Rt,_clearComponents:()=>Vt,_components:()=>Rn,_getProvider:()=>br,_registerComponent:()=>On,_removeServiceInstance:()=>Tn,deleteApp:()=>$n,getApp:()=>vo,getApps:()=>cr,initializeApp:()=>Ca,onLog:()=>Hi,registerVersion:()=>nn,setLogLevel:()=>Ke});var m=R(861),$=R(859),ae=R(877),ee=R(90),ge=R(766);class Pe{constructor(B){this.container=B}getPlatformInfoString(){return this.container.getProviders().map(k=>{if(function me(x){const B=x.getComponent();return"VERSION"===(null==B?void 0:B.type)}(k)){const ce=k.getImmediate();return`${ce.library}/${ce.version}`}return null}).filter(k=>k).join(" ")}}const Me="@firebase/app",P=new ae.Yd("@firebase/app"),Bt="[DEFAULT]",Xe={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rt=new Map,Rn=new Map;function ut(x,B){try{x.container.addComponent(B)}catch(k){P.debug(`Component ${B.name} failed to register with FirebaseApp ${x.name}`,k)}}function rt(x,B){x.container.addOrOverwriteComponent(B)}function On(x){const B=x.name;if(Rn.has(B))return P.debug(`There were multiple attempts to register component ${B}.`),!1;Rn.set(B,x);for(const k of Rt.values())ut(k,x);return!0}function br(x,B){const k=x.container.getProvider("heartbeat").getImmediate({optional:!0});return k&&k.triggerHeartbeat(),x.container.getProvider(B)}function Tn(x,B,k=Bt){br(x,B).clearInstance(k)}function Vt(){Rn.clear()}const In=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yo{constructor(B,k,ce){this._isDeleted=!1,this._options=Object.assign({},B),this._config=Object.assign({},k),this._name=k.name,this._automaticDataCollectionEnabled=k.automaticDataCollectionEnabled,this._container=ce,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(B){this.checkDestroyed(),this._automaticDataCollectionEnabled=B}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(B){this._isDeleted=B}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}const di="9.9.3";function Ca(x,B={}){"object"!=typeof B&&(B={name:B});const k=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},B),ce=k.name;if("string"!=typeof ce||!ce)throw In.create("bad-app-name",{appName:String(ce)});const be=Rt.get(ce);if(be){if((0,ee.vZ)(x,be.options)&&(0,ee.vZ)(k,be.config))return be;throw In.create("duplicate-app",{appName:ce})}const Be=new $.H0(ce);for(const Ot of Rn.values())Be.addComponent(Ot);const _t=new yo(x,k,Be);return Rt.set(ce,_t),_t}function vo(x=Bt){const B=Rt.get(x);if(!B)throw In.create("no-app",{appName:x});return B}function cr(){return Array.from(Rt.values())}function $n(x){return $r.apply(this,arguments)}function $r(){return($r=(0,m.Z)(function*(x){const B=x.name;Rt.has(B)&&(Rt.delete(B),yield Promise.all(x.container.getProviders().map(k=>k.delete())),x.isDeleted=!0)})).apply(this,arguments)}function nn(x,B,k){var ce;let be=null!==(ce=Xe[x])&&void 0!==ce?ce:x;k&&(be+=`-${k}`);const Be=be.match(/\s|\//),_t=B.match(/\s|\//);if(Be||_t){const Ot=[`Unable to register library "${be}" with version "${B}":`];return Be&&Ot.push(`library name "${be}" contains illegal characters (whitespace or "/")`),Be&&_t&&Ot.push("and"),_t&&Ot.push(`version name "${B}" contains illegal characters (whitespace or "/")`),void P.warn(Ot.join(" "))}On(new $.wA(`${be}-version`,()=>({library:be,version:B}),"VERSION"))}function Hi(x,B){if(null!==x&&"function"!=typeof x)throw In.create("invalid-log-argument");(0,ae.Am)(x,B)}function Ke(x){(0,ae.Ub)(x)}const En="firebase-heartbeat-store";let Yn=null;function ba(){return Yn||(Yn=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(x,B)=>{0===B&&x.createObjectStore(En)}}).catch(x=>{throw In.create("idb-open",{originalErrorMessage:x.message})})),Yn}function Te(){return(Te=(0,m.Z)(function*(x){var B;try{return(yield ba()).transaction(En).objectStore(En).get(Xt(x))}catch(k){if(k instanceof ee.ZR)P.warn(k.message);else{const ce=In.create("idb-get",{originalErrorMessage:null===(B=k)||void 0===B?void 0:B.message});P.warn(ce.message)}}})).apply(this,arguments)}function Je(x,B){return hi.apply(this,arguments)}function hi(){return(hi=(0,m.Z)(function*(x,B){var k;try{const be=(yield ba()).transaction(En,"readwrite");return yield be.objectStore(En).put(B,Xt(x)),be.done}catch(ce){if(ce instanceof ee.ZR)P.warn(ce.message);else{const be=In.create("idb-set",{originalErrorMessage:null===(k=ce)||void 0===k?void 0:k.message});P.warn(be.message)}}})).apply(this,arguments)}function Xt(x){return`${x.name}!${x.options.appId}`}class hn{constructor(B){this.container=B,this._heartbeatsCache=null;const k=this.container.getProvider("app").getImmediate();this._storage=new Cs(k),this._heartbeatsCachePromise=this._storage.read().then(ce=>(this._heartbeatsCache=ce,ce))}triggerHeartbeat(){var B=this;return(0,m.Z)(function*(){const ce=B.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),be=fi();if(null===B._heartbeatsCache&&(B._heartbeatsCache=yield B._heartbeatsCachePromise),B._heartbeatsCache.lastSentHeartbeatDate!==be&&!B._heartbeatsCache.heartbeats.some(Be=>Be.date===be))return B._heartbeatsCache.heartbeats.push({date:be,agent:ce}),B._heartbeatsCache.heartbeats=B._heartbeatsCache.heartbeats.filter(Be=>{const _t=new Date(Be.date).valueOf();return Date.now()-_t<=2592e6}),B._storage.overwrite(B._heartbeatsCache)})()}getHeartbeatsHeader(){var B=this;return(0,m.Z)(function*(){if(null===B._heartbeatsCache&&(yield B._heartbeatsCachePromise),null===B._heartbeatsCache||0===B._heartbeatsCache.heartbeats.length)return"";const k=fi(),{heartbeatsToSend:ce,unsentEntries:be}=function Qe(x,B=1024){const k=[];let ce=x.slice();for(const be of x){const Be=k.find(_t=>_t.agent===be.agent);if(Be){if(Be.dates.push(be.date),N(k)>B){Be.dates.pop();break}}else if(k.push({agent:be.agent,dates:[be.date]}),N(k)>B){k.pop();break}ce=ce.slice(1)}return{heartbeatsToSend:k,unsentEntries:ce}}(B._heartbeatsCache.heartbeats),Be=(0,ee.L)(JSON.stringify({version:2,heartbeats:ce}));return B._heartbeatsCache.lastSentHeartbeatDate=k,be.length>0?(B._heartbeatsCache.heartbeats=be,yield B._storage.overwrite(B._heartbeatsCache)):(B._heartbeatsCache.heartbeats=[],B._storage.overwrite(B._heartbeatsCache)),Be})()}}function fi(){return(new Date).toISOString().substring(0,10)}class Cs{constructor(B){this.app=B,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var B=this;return(0,m.Z)(function*(){return(yield B._canUseIndexedDBPromise)&&(yield function bt(x){return Te.apply(this,arguments)}(B.app))||{heartbeats:[]}})()}overwrite(B){var k=this;return(0,m.Z)(function*(){var ce;if(yield k._canUseIndexedDBPromise){const Be=yield k.read();return Je(k.app,{lastSentHeartbeatDate:null!==(ce=B.lastSentHeartbeatDate)&&void 0!==ce?ce:Be.lastSentHeartbeatDate,heartbeats:B.heartbeats})}})()}add(B){var k=this;return(0,m.Z)(function*(){var ce;if(yield k._canUseIndexedDBPromise){const Be=yield k.read();return Je(k.app,{lastSentHeartbeatDate:null!==(ce=B.lastSentHeartbeatDate)&&void 0!==ce?ce:Be.lastSentHeartbeatDate,heartbeats:[...Be.heartbeats,...B.heartbeats]})}})()}}function N(x){return(0,ee.L)(JSON.stringify({version:2,heartbeats:x})).length}!function F(x){On(new $.wA("platform-logger",B=>new Pe(B),"PRIVATE")),On(new $.wA("heartbeat",B=>new hn(B),"PRIVATE")),nn(Me,"0.7.31",x),nn(Me,"0.7.31","esm2017"),nn("fire-js","")}("")},859:(Ve,he,R)=>{R.d(he,{wA:()=>ae,H0:()=>Me});var m=R(861),$=R(90);class ae{constructor(P,V,X){this.name=P,this.instanceFactory=V,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const ee="[DEFAULT]";class ge{constructor(P,V){this.name=P,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const V=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(V)){const X=new $.BH;if(this.instancesDeferred.set(V,X),this.isInitialized(V)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:V});xe&&X.resolve(xe)}catch(xe){}}return this.instancesDeferred.get(V).promise}getImmediate(P){var V;const X=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),xe=null!==(V=null==P?void 0:P.optional)&&void 0!==V&&V;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(ve){if(xe)return null;throw ve}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if(function me(Ce){return"EAGER"===Ce.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:ee})}catch(V){}for(const[V,X]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(V);try{const ve=this.getOrInitializeService({instanceIdentifier:xe});X.resolve(ve)}catch(ve){}}}}clearInstance(P=ee){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,m.Z)(function*(){const V=Array.from(P.instances.values());yield Promise.all([...V.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...V.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=ee){return this.instances.has(P)}getOptions(P=ee){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:V={}}=P,X=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:X,options:V});for(const[ve,et]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(ve)&&et.resolve(xe);return xe}onInit(P,V){var X;const xe=this.normalizeInstanceIdentifier(V),ve=null!==(X=this.onInitCallbacks.get(xe))&&void 0!==X?X:new Set;ve.add(P),this.onInitCallbacks.set(xe,ve);const et=this.instances.get(xe);return et&&P(et,xe),()=>{ve.delete(P)}}invokeOnInitCallbacks(P,V){const X=this.onInitCallbacks.get(V);if(X)for(const xe of X)try{xe(P,V)}catch(ve){}}getOrInitializeService({instanceIdentifier:P,options:V={}}){let X=this.instances.get(P);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=P,Ce===ee?void 0:Ce),options:V}),this.instances.set(P,X),this.instancesOptions.set(P,V),this.invokeOnInitCallbacks(X,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,X)}catch(xe){}var Ce;return X||null}normalizeInstanceIdentifier(P=ee){return this.component?this.component.multipleInstances?P:ee:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(P){this.name=P,this.providers=new Map}addComponent(P){const V=this.getProvider(P.name);if(V.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);V.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const V=new ge(P,this);return this.providers.set(P,V),V}getProviders(){return Array.from(this.providers.values())}}},877:(Ve,he,R)=>{R.d(he,{in:()=>$,Yd:()=>me,Ub:()=>Me,Am:()=>Ce});const m=[];var $=(()=>{return(P=$||($={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",$;var P})();const ae={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ee=$.INFO,ge={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},Pe=(P,V,...X)=>{if(V<P.logLevel)return;const xe=(new Date).toISOString(),ve=ge[V];if(!ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[ve](`[${xe}]  ${P.name}:`,...X)};class me{constructor(V){this.name=V,this._logLevel=ee,this._logHandler=Pe,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in $))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?ae[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...V),this._logHandler(this,$.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...V),this._logHandler(this,$.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,$.INFO,...V),this._logHandler(this,$.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,$.WARN,...V),this._logHandler(this,$.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...V),this._logHandler(this,$.ERROR,...V)}}function Me(P){m.forEach(V=>{V.setLogLevel(P)})}function Ce(P,V){for(const X of m){let xe=null;V&&V.level&&(xe=ae[V.level]),X.userLogHandler=null===P?null:(ve,et,...ue)=>{const Ue=ue.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch(Re){return null}}).filter(Ye=>Ye).join(" ");et>=(null!=xe?xe:ve.logLevel)&&P({level:$[et].toLowerCase(),message:Ue,args:ue,type:ve.name})}}}},766:(Ve,he,R)=>{R.d(he,{Lj:()=>ie,X3:()=>ye});var m=R(861);let ae,ee;const me=new WeakMap,Me=new WeakMap,Ce=new WeakMap,P=new WeakMap,V=new WeakMap;let ve={get(J,le,U){if(J instanceof IDBTransaction){if("done"===le)return Me.get(J);if("objectStoreNames"===le)return J.objectStoreNames||Ce.get(J);if("store"===le)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return Ye(J[le])},set:(J,le,U)=>(J[le]=U,!0),has:(J,le)=>J instanceof IDBTransaction&&("done"===le||"store"===le)||le in J};function Ue(J){return"function"==typeof J?function ue(J){return J!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(J)?function(...le){return J.apply(Re(this),le),Ye(me.get(this))}:function(...le){return Ye(J.apply(Re(this),le))}:function(le,...U){const K=J.call(Re(this),le,...U);return Ce.set(K,le.sort?le.sort():[le]),Ye(K)}}(J):(J instanceof IDBTransaction&&function xe(J){if(Me.has(J))return;const le=new Promise((U,K)=>{const q=()=>{J.removeEventListener("complete",Q),J.removeEventListener("error",Y),J.removeEventListener("abort",Y)},Q=()=>{U(),q()},Y=()=>{K(J.error||new DOMException("AbortError","AbortError")),q()};J.addEventListener("complete",Q),J.addEventListener("error",Y),J.addEventListener("abort",Y)});Me.set(J,le)}(J),((J,le)=>le.some(U=>J instanceof U))(J,function ge(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(J,ve):J)}function Ye(J){if(J instanceof IDBRequest)return function X(J){const le=new Promise((U,K)=>{const q=()=>{J.removeEventListener("success",Q),J.removeEventListener("error",Y)},Q=()=>{U(Ye(J.result)),q()},Y=()=>{K(J.error),q()};J.addEventListener("success",Q),J.addEventListener("error",Y)});return le.then(U=>{U instanceof IDBCursor&&me.set(U,J)}).catch(()=>{}),V.set(le,J),le}(J);if(P.has(J))return P.get(J);const le=Ue(J);return le!==J&&(P.set(J,le),V.set(le,J)),le}const Re=J=>V.get(J);function ye(J,le,{blocked:U,upgrade:K,blocking:q,terminated:Q}={}){const Y=indexedDB.open(J,le),_e=Ye(Y);return K&&Y.addEventListener("upgradeneeded",ze=>{K(Ye(Y.result),ze.oldVersion,ze.newVersion,Ye(Y.transaction))}),U&&Y.addEventListener("blocked",()=>U()),_e.then(ze=>{Q&&ze.addEventListener("close",()=>Q()),q&&ze.addEventListener("versionchange",()=>q())}).catch(()=>{}),_e}function ie(J,{blocked:le}={}){const U=indexedDB.deleteDatabase(J);return le&&U.addEventListener("blocked",()=>le()),Ye(U).then(()=>{})}const de=["get","getKey","getAll","getAllKeys","count"],He=["put","add","delete","clear"],ft=new Map;function Fe(J,le){if(!(J instanceof IDBDatabase)||le in J||"string"!=typeof le)return;if(ft.get(le))return ft.get(le);const U=le.replace(/FromIndex$/,""),K=le!==U,q=He.includes(U);if(!(U in(K?IDBIndex:IDBObjectStore).prototype)||!q&&!de.includes(U))return;const Q=function(){var Y=(0,m.Z)(function*(_e,...ze){const gt=this.transaction(_e,q?"readwrite":"readonly");let Bt=gt.store;return K&&(Bt=Bt.index(ze.shift())),(yield Promise.all([Bt[U](...ze),q&&gt.done]))[0]});return function(ze){return Y.apply(this,arguments)}}();return ft.set(le,Q),Q}!function et(J){ve=J(ve)}(J=>IT(TT({},J),{get:(le,U,K)=>Fe(le,U)||J.get(le,U,K),has:(le,U)=>!!Fe(le,U)||J.has(le,U)}))},861:(Ve,he,R)=>{function m(ae,ee,ge,Pe,me,Me,Ce){try{var P=ae[Me](Ce),V=P.value}catch(X){return void ge(X)}P.done?ee(V):Promise.resolve(V).then(Pe,me)}function $(ae){return function(){var ee=this,ge=arguments;return new Promise(function(Pe,me){var Me=ae.apply(ee,ge);function Ce(V){m(Me,Pe,me,Ce,P,"next",V)}function P(V){m(Me,Pe,me,Ce,P,"throw",V)}Ce(void 0)})}}R.d(he,{Z:()=>$})}},Ve=>{Ve(Ve.s=916)}]);