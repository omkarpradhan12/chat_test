"use strict";var _0=Object.defineProperty,y0=Object.defineProperties,v0=Object.getOwnPropertyDescriptors,gw=Object.getOwnPropertySymbols,C0=Object.prototype.hasOwnProperty,D0=Object.prototype.propertyIsEnumerable,mw=(ke,ce,P)=>ce in ke?_0(ke,ce,{enumerable:!0,configurable:!0,writable:!0,value:P}):ke[ce]=P,_w=(ke,ce)=>{for(var P in ce||(ce={}))C0.call(ce,P)&&mw(ke,P,ce[P]);if(gw)for(var P of gw(ce))D0.call(ce,P)&&mw(ke,P,ce[P]);return ke},yw=(ke,ce)=>y0(ke,v0(ce));(self.webpackChunkchat_test=self.webpackChunkchat_test||[]).push([[179],{773:(ke,ce,P)=>{P.d(ce,{hO:()=>Cs});var y=P(223),V=P(90),ae=P(859),Z=P(681),he=P(877);class Pe{constructor(v,w){this._delegate=v,this.firebase=w,(0,Z._addComponent)(v,new ae.wA("app-compat",()=>this,"PUBLIC")),this.container=v.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(v){this._delegate.automaticDataCollectionEnabled=v}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(v=>{this._delegate.checkDestroyed(),v()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Z.deleteApp)(this._delegate)))}_getService(v,w=Z._DEFAULT_ENTRY_NAME){var T;this._delegate.checkDestroyed();const k=this._delegate.container.getProvider(v);return!k.isInitialized()&&"EXPLICIT"===(null===(T=k.getComponent())||void 0===T?void 0:T.instantiationMode)&&k.initialize(),k.getImmediate({identifier:w})}_removeServiceInstance(v,w=Z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(v).clearInstance(w)}_addComponent(v){(0,Z._addComponent)(this._delegate,v)}_addOrOverwriteComponent(v){(0,Z._addOrOverwriteComponent)(this._delegate,v)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new V.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function B(){const g=function De(g){const v={},w={__esModule:!0,initializeApp:function z(be,Fe={}){const Ie=Z.initializeApp(be,Fe);if((0,V.r3)(v,Ie.name))return v[Ie.name];const ct=new g(Ie,w);return v[Ie.name]=ct,ct},app:k,registerVersion:Z.registerVersion,setLogLevel:Z.setLogLevel,onLog:Z.onLog,apps:null,SDK_VERSION:Z.SDK_VERSION,INTERNAL:{registerComponent:function ue(be){const Fe=be.name,Ie=Fe.replace("-compat","");if(Z._registerComponent(be)&&"PUBLIC"===be.type){const ct=(pt=k())=>{if("function"!=typeof pt[Ie])throw Me.create("invalid-app-argument",{appName:Fe});return pt[Ie]()};void 0!==be.serviceProps&&(0,V.ZB)(ct,be.serviceProps),w[Ie]=ct,g.prototype[Ie]=function(...pt){return this._getService.bind(this,Fe).apply(this,be.multipleInstances?pt:[])}}return"PUBLIC"===be.type?w[Ie]:null},removeApp:function T(be){delete v[be]},useAsService:function xe(be,Fe){return"serverAuth"===Fe?null:Fe},modularAPIs:Z}};function k(be){if(!(0,V.r3)(v,be=be||Z._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:be});return v[be]}return w.default=w,Object.defineProperty(w,"apps",{get:function ee(){return Object.keys(v).map(be=>v[be])}}),k.App=g,w}(Pe);return g.INTERNAL=Object.assign(Object.assign({},g.INTERNAL),{createFirebaseNamespace:B,extendNamespace:function v(w){(0,V.ZB)(g,w)},createSubscribe:V.ne,ErrorFactory:V.LL,deepExtend:V.ZB}),g}(),ie=new he.Yd("@firebase/app-compat");if((0,V.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ge=L;!function Ge(g){(0,Z.registerVersion)("@firebase/app-compat","0.1.32",g)}(),ge.registerVersion("firebase","9.9.3","app-compat"),P(867);var J=P(861),we=P(766);const me="@firebase/installations",_e="0.5.12",oe=`w:${_e}`,Y="FIS_v2",q=new V.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pe(g){return g instanceof V.ZR&&g.code.includes("request-failed")}function Le({projectId:g}){return`https://firebaseinstallations.googleapis.com/v1/projects/${g}/installations`}function Ke(g){return{token:g.token,requestStatus:2,expiresIn:pn(g.expiresIn),creationTime:Date.now()}}function xt(g,v){return We.apply(this,arguments)}function We(){return(We=(0,J.Z)(function*(g,v){const T=(yield v.json()).error;return q.create("request-failed",{requestName:g,serverCode:T.code,serverMessage:T.message,serverStatus:T.status})})).apply(this,arguments)}function It({apiKey:g}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":g})}function En(g,{refreshToken:v}){const w=It(g);return w.append("Authorization",function gr(g){return`${Y} ${g}`}(v)),w}function Mt(g){return on.apply(this,arguments)}function on(){return(on=(0,J.Z)(function*(g){const v=yield g();return v.status>=500&&v.status<600?g():v})).apply(this,arguments)}function pn(g){return Number(g.replace("s","000"))}function gt(g,v){return lt.apply(this,arguments)}function lt(){return(lt=(0,J.Z)(function*({appConfig:g,heartbeatServiceProvider:v},{fid:w}){const T=Le(g),k=It(g),z=v.getImmediate({optional:!0});if(z){const be=yield z.getHeartbeatsHeader();be&&k.append("x-firebase-client",be)}const ue={method:"POST",headers:k,body:JSON.stringify({fid:w,authVersion:Y,appId:g.appId,sdkVersion:oe})},xe=yield Mt(()=>fetch(T,ue));if(xe.ok){const be=yield xe.json();return{fid:be.fid||w,registrationStatus:2,refreshToken:be.refreshToken,authToken:Ke(be.authToken)}}throw yield xt("Create Installation",xe)})).apply(this,arguments)}function Us(g){return new Promise(v=>{setTimeout(v,g)})}const hu=/^[cdef][\w-]{21}$/;function Ba(){try{const g=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(g),g[0]=112+g[0]%16;const w=function Kr(g){return function er(g){return btoa(String.fromCharCode(...g)).replace(/\+/g,"-").replace(/\//g,"_")}(g).substr(0,22)}(g);return hu.test(w)?w:""}catch(g){return""}}function Vn(g){return`${g.appName}!${g.appId}`}const tr=new Map;function Ci(g,v){const w=Vn(g);nr(w,v),function Zi(g,v){const w=function Sr(){return!gn&&"BroadcastChannel"in self&&(gn=new BroadcastChannel("[Firebase] FID Change"),gn.onmessage=g=>{nr(g.data.key,g.data.fid)}),gn}();w&&w.postMessage({key:g,fid:v}),function Ne(){0===tr.size&&gn&&(gn.close(),gn=null)}()}(w,v)}function nr(g,v){const w=tr.get(g);if(w)for(const T of w)T(v)}let gn=null;const Te="firebase-installations-store";let ze=null;function Qr(){return ze||(ze=(0,we.X3)("firebase-installations-database",1,{upgrade:(g,v)=>{0===v&&g.createObjectStore(Te)}})),ze}function Wt(g,v){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,J.Z)(function*(g,v){const w=Vn(g),k=(yield Qr()).transaction(Te,"readwrite"),z=k.objectStore(Te),ee=yield z.get(w);return yield z.put(v,w),yield k.done,(!ee||ee.fid!==v.fid)&&Ci(g,v.fid),v})).apply(this,arguments)}function Ar(g){return an.apply(this,arguments)}function an(){return(an=(0,J.Z)(function*(g){const v=Vn(g),T=(yield Qr()).transaction(Te,"readwrite");yield T.objectStore(Te).delete(v),yield T.done})).apply(this,arguments)}function Jt(g,v){return vt.apply(this,arguments)}function vt(){return(vt=(0,J.Z)(function*(g,v){const w=Vn(g),k=(yield Qr()).transaction(Te,"readwrite"),z=k.objectStore(Te),ee=yield z.get(w),ue=v(ee);return void 0===ue?yield z.delete(w):yield z.put(ue,w),yield k.done,ue&&(!ee||ee.fid!==ue.fid)&&Ci(g,ue.fid),ue})).apply(this,arguments)}function wi(g){return x.apply(this,arguments)}function x(){return(x=(0,J.Z)(function*(g){let v;const w=yield Jt(g.appConfig,T=>{const k=O(T),z=S(g,k);return v=z.registrationPromise,z.installationEntry});return""===w.fid?{installationEntry:yield v}:{installationEntry:w,registrationPromise:v}})).apply(this,arguments)}function O(g){return ft(g||{fid:Ba(),registrationStatus:0})}function S(g,v){if(0===v.registrationStatus){if(!navigator.onLine)return{installationEntry:v,registrationPromise:Promise.reject(q.create("app-offline"))};const w={fid:v.fid,registrationStatus:1,registrationTime:Date.now()},T=function F(g,v){return R.apply(this,arguments)}(g,w);return{installationEntry:w,registrationPromise:T}}return 1===v.registrationStatus?{installationEntry:v,registrationPromise:re(g)}:{installationEntry:v}}function R(){return(R=(0,J.Z)(function*(g,v){try{const w=yield gt(g,v);return Wt(g.appConfig,w)}catch(w){throw pe(w)&&409===w.customData.serverCode?yield Ar(g.appConfig):yield Wt(g.appConfig,{fid:v.fid,registrationStatus:0}),w}})).apply(this,arguments)}function re(g){return le.apply(this,arguments)}function le(){return(le=(0,J.Z)(function*(g){let v=yield Be(g.appConfig);for(;1===v.registrationStatus;)yield Us(100),v=yield Be(g.appConfig);if(0===v.registrationStatus){const{installationEntry:w,registrationPromise:T}=yield wi(g);return T||w}return v})).apply(this,arguments)}function Be(g){return Jt(g,v=>{if(!v)throw q.create("installation-not-found");return ft(v)})}function ft(g){return function mt(g){return 1===g.registrationStatus&&g.registrationTime+1e4<Date.now()}(g)?{fid:g.fid,registrationStatus:0}:g}function rr(g,v){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,J.Z)(function*({appConfig:g,heartbeatServiceProvider:v},w){const T=mn(g,w),k=En(g,w),z=v.getImmediate({optional:!0});if(z){const be=yield z.getHeartbeatsHeader();be&&k.append("x-firebase-client",be)}const ue={method:"POST",headers:k,body:JSON.stringify({installation:{sdkVersion:oe,appId:g.appId}})},xe=yield Mt(()=>fetch(T,ue));if(xe.ok)return Ke(yield xe.json());throw yield xt("Generate Auth Token",xe)})).apply(this,arguments)}function mn(g,{fid:v}){return`${Le(g)}/${v}/authTokens:generate`}function Jr(g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,J.Z)(function*(g,v=!1){let w;const T=yield Jt(g.appConfig,z=>{if(!Qi(z))throw q.create("not-registered");const ee=z.authToken;if(!v&&pu(ee))return z;if(1===ee.requestStatus)return w=rd(g,v),z;{if(!navigator.onLine)throw q.create("app-offline");const ue=Oo(z);return w=Ua(g,ue),ue}});return w?yield w:T.authToken})).apply(this,arguments)}function rd(g,v){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,J.Z)(function*(g,v){let w=yield ja(g.appConfig);for(;1===w.authToken.requestStatus;)yield Us(100),w=yield ja(g.appConfig);const T=w.authToken;return 0===T.requestStatus?Jr(g,v):T})).apply(this,arguments)}function ja(g){return Jt(g,v=>{if(!Qi(v))throw q.create("not-registered");return function Xt(g){return 1===g.requestStatus&&g.requestTime+1e4<Date.now()}(v.authToken)?Object.assign(Object.assign({},v),{authToken:{requestStatus:0}}):v})}function Ua(g,v){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,J.Z)(function*(g,v){try{const w=yield rr(g,v),T=Object.assign(Object.assign({},v),{authToken:w});return yield Wt(g.appConfig,T),w}catch(w){if(!pe(w)||401!==w.customData.serverCode&&404!==w.customData.serverCode){const T=Object.assign(Object.assign({},v),{authToken:{requestStatus:0}});yield Wt(g.appConfig,T)}else yield Ar(g.appConfig);throw w}})).apply(this,arguments)}function Qi(g){return void 0!==g&&2===g.registrationStatus}function pu(g){return 2===g.requestStatus&&!function gu(g){const v=Date.now();return v<g.creationTime||g.creationTime+g.expiresIn<v+36e5}(g)}function Oo(g){const v={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},g),{authToken:v})}function ir(){return(ir=(0,J.Z)(function*(g){const v=g,{installationEntry:w,registrationPromise:T}=yield wi(v);return T?T.catch(console.error):Jr(v).catch(console.error),w.fid})).apply(this,arguments)}function Ji(){return(Ji=(0,J.Z)(function*(g,v=!1){const w=g;return yield Va(w),(yield Jr(w,v)).token})).apply(this,arguments)}function Va(g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,J.Z)(function*(g){const{registrationPromise:v}=yield wi(g);v&&(yield v)})).apply(this,arguments)}function _n(g){return q.create("missing-app-config-values",{valueName:g})}const ti="installations",bi=g=>{const v=g.getProvider("app").getImmediate(),w=function Rt(g){if(!g||!g.options)throw _n("App Configuration");if(!g.name)throw _n("App Name");const v=["projectId","apiKey","appId"];for(const w of v)if(!g.options[w])throw _n(w);return{appName:g.name,projectId:g.options.projectId,apiKey:g.options.apiKey,appId:g.options.appId}}(v);return{app:v,appConfig:w,heartbeatServiceProvider:(0,Z._getProvider)(v,"heartbeat"),_delete:()=>Promise.resolve()}},Ft=g=>{const v=g.getProvider("app").getImmediate(),w=(0,Z._getProvider)(v,ti).getImmediate();return{getId:()=>function ei(g){return ir.apply(this,arguments)}(w),getToken:k=>function Hn(g){return Ji.apply(this,arguments)}(w,k)}};(function Xi(){(0,Z._registerComponent)(new ae.wA(ti,bi,"PUBLIC")),(0,Z._registerComponent)(new ae.wA("installations-internal",Ft,"PRIVATE"))})(),(0,Z.registerVersion)(me,_e),(0,Z.registerVersion)(me,_e,"esm2017");const Ii="@firebase/remote-config",Ut=new V.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Rh{constructor(v,w,T,k){this.client=v,this.storage=w,this.storageCache=T,this.logger=k}isCachedDataFresh(v,w){if(!w)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const T=Date.now()-w,k=T<=v;return this.logger.debug(`Config fetch cache check. Cache age millis: ${T}. Cache max age millis (minimumFetchIntervalMillis setting): ${v}. Is cache hit: ${k}.`),k}fetch(v){var w=this;return(0,J.Z)(function*(){const[T,k]=yield Promise.all([w.storage.getLastSuccessfulFetchTimestampMillis(),w.storage.getLastSuccessfulFetchResponse()]);if(k&&w.isCachedDataFresh(v.cacheMaxAgeMillis,T))return k;v.eTag=k&&k.eTag;const z=yield w.client.fetch(v),ee=[w.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===z.status&&ee.push(w.storage.setLastSuccessfulFetchResponse(z)),yield Promise.all(ee),z})()}}function Oh(g=navigator){return g.languages&&g.languages[0]||g.language}class Nh{constructor(v,w,T,k,z,ee){this.firebaseInstallations=v,this.sdkVersion=w,this.namespace=T,this.projectId=k,this.apiKey=z,this.appId=ee}fetch(v){var w=this;return(0,J.Z)(function*(){var T,k,z;const[ee,ue]=yield Promise.all([w.firebaseInstallations.getId(),w.firebaseInstallations.getToken()]),be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${w.projectId}/namespaces/${w.namespace}:fetch?key=${w.apiKey}`,Fe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":v.eTag||"*"},Ie={sdk_version:w.sdkVersion,app_instance_id:ee,app_instance_id_token:ue,app_id:w.appId,language_code:Oh()},ct={method:"POST",headers:Fe,body:JSON.stringify(Ie)},pt=fetch(be,ct),kr=new Promise((Bi,qn)=>{v.signal.addEventListener(()=>{const uo=new Error("The operation was aborted.");uo.name="AbortError",qn(uo)})});let ki;try{yield Promise.race([pt,kr]),ki=yield pt}catch(Bi){let qn="fetch-client-network";throw"AbortError"===(null===(T=Bi)||void 0===T?void 0:T.name)&&(qn="fetch-timeout"),Ut.create(qn,{originalErrorMessage:null===(k=Bi)||void 0===k?void 0:k.message})}let Li=ki.status;const ep=ki.headers.get("ETag")||void 0;let Lr,Ds;if(200===ki.status){let Bi;try{Bi=yield ki.json()}catch(qn){throw Ut.create("fetch-client-parse",{originalErrorMessage:null===(z=qn)||void 0===z?void 0:z.message})}Lr=Bi.entries,Ds=Bi.state}if("INSTANCE_STATE_UNSPECIFIED"===Ds?Li=500:"NO_CHANGE"===Ds?Li=304:("NO_TEMPLATE"===Ds||"EMPTY_CONFIG"===Ds)&&(Lr={}),304!==Li&&200!==Li)throw Ut.create("fetch-status",{httpStatus:Li});return{status:Li,eTag:ep,config:Lr}})()}}class Lh{constructor(v,w){this.client=v,this.storage=w}fetch(v){var w=this;return(0,J.Z)(function*(){const T=(yield w.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return w.attemptFetch(v,T)})()}attemptFetch(v,{throttleEndTimeMillis:w,backoffCount:T}){var k=this;return(0,J.Z)(function*(){yield function Fh(g,v){return new Promise((w,T)=>{const k=Math.max(v-Date.now(),0),z=setTimeout(w,k);g.addEventListener(()=>{clearTimeout(z),T(Ut.create("fetch-throttle",{throttleEndTimeMillis:v}))})})}(v.signal,w);try{const z=yield k.client.fetch(v);return yield k.storage.deleteThrottleMetadata(),z}catch(z){if(!function kh(g){if(!(g instanceof V.ZR&&g.customData))return!1;const v=Number(g.customData.httpStatus);return 429===v||500===v||503===v||504===v}(z))throw z;const ee={throttleEndTimeMillis:Date.now()+(0,V.$s)(T),backoffCount:T+1};return yield k.storage.setThrottleMetadata(ee),k.attemptFetch(v,ee)}})()}}class jh{constructor(v,w,T,k,z){this.app=v,this._client=w,this._storageCache=T,this._storage=k,this._logger=z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function za(g,v){var w;const T=g.target.error||void 0;return Ut.create(v,{originalErrorMessage:T&&(null===(w=T)||void 0===w?void 0:w.message)})}const ts="app_namespace_store";class Ym{constructor(v,w,T,k=function Wa(){return new Promise((g,v)=>{var w;try{const T=indexedDB.open("firebase_remote_config",1);T.onerror=k=>{v(za(k,"storage-open"))},T.onsuccess=k=>{g(k.target.result)},T.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(ts,{keyPath:"compositeKey"})}}catch(T){v(Ut.create("storage-open",{originalErrorMessage:null===(w=T)||void 0===w?void 0:w.message}))}})}()){this.appId=v,this.appName=w,this.namespace=T,this.openDbPromise=k}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(v){return this.set("last_fetch_status",v)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(v){return this.set("last_successful_fetch_timestamp_millis",v)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(v){return this.set("last_successful_fetch_response",v)}getActiveConfig(){return this.get("active_config")}setActiveConfig(v){return this.set("active_config",v)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(v){return this.set("active_config_etag",v)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(v){return this.set("throttle_metadata",v)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(v){var w=this;return(0,J.Z)(function*(){const T=yield w.openDbPromise;return new Promise((k,z)=>{var ee;const xe=T.transaction([ts],"readonly").objectStore(ts),be=w.createCompositeKey(v);try{const Fe=xe.get(be);Fe.onerror=Ie=>{z(za(Ie,"storage-get"))},Fe.onsuccess=Ie=>{const ct=Ie.target.result;k(ct?ct.value:void 0)}}catch(Fe){z(Ut.create("storage-get",{originalErrorMessage:null===(ee=Fe)||void 0===ee?void 0:ee.message}))}})})()}set(v,w){var T=this;return(0,J.Z)(function*(){const k=yield T.openDbPromise;return new Promise((z,ee)=>{var ue;const be=k.transaction([ts],"readwrite").objectStore(ts),Fe=T.createCompositeKey(v);try{const Ie=be.put({compositeKey:Fe,value:w});Ie.onerror=ct=>{ee(za(ct,"storage-set"))},Ie.onsuccess=()=>{z()}}catch(Ie){ee(Ut.create("storage-set",{originalErrorMessage:null===(ue=Ie)||void 0===ue?void 0:ue.message}))}})})()}delete(v){var w=this;return(0,J.Z)(function*(){const T=yield w.openDbPromise;return new Promise((k,z)=>{var ee;const xe=T.transaction([ts],"readwrite").objectStore(ts),be=w.createCompositeKey(v);try{const Fe=xe.delete(be);Fe.onerror=Ie=>{z(za(Ie,"storage-delete"))},Fe.onsuccess=()=>{k()}}catch(Fe){z(Ut.create("storage-delete",{originalErrorMessage:null===(ee=Fe)||void 0===ee?void 0:ee.message}))}})})()}createCompositeKey(v){return[this.appId,this.appName,this.namespace,v].join()}}class Uh{constructor(v){this.storage=v}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var v=this;return(0,J.Z)(function*(){const w=v.storage.getLastFetchStatus(),T=v.storage.getLastSuccessfulFetchTimestampMillis(),k=v.storage.getActiveConfig(),z=yield w;z&&(v.lastFetchStatus=z);const ee=yield T;ee&&(v.lastSuccessfulFetchTimestampMillis=ee);const ue=yield k;ue&&(v.activeConfig=ue)})()}setLastFetchStatus(v){return this.lastFetchStatus=v,this.storage.setLastFetchStatus(v)}setLastSuccessfulFetchTimestampMillis(v){return this.lastSuccessfulFetchTimestampMillis=v,this.storage.setLastSuccessfulFetchTimestampMillis(v)}setActiveConfig(v){return this.activeConfig=v,this.storage.setActiveConfig(v)}}function qa(){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,J.Z)(function*(){if(!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch(g){return!1}})).apply(this,arguments)}!function sd(){(0,Z._registerComponent)(new ae.wA("remote-config",function g(v,{instanceIdentifier:w}){const T=v.getProvider("app").getImmediate(),k=v.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ut.create("registration-window");if(!(0,V.hl)())throw Ut.create("indexed-db-unavailable");const{projectId:z,apiKey:ee,appId:ue}=T.options;if(!z)throw Ut.create("registration-project-id");if(!ee)throw Ut.create("registration-api-key");if(!ue)throw Ut.create("registration-app-id");const xe=new Ym(ue,T.name,w=w||"firebase"),be=new Uh(xe),Fe=new he.Yd(Ii);Fe.logLevel=he.in.ERROR;const Ie=new Nh(k,Z.SDK_VERSION,w,z,ee,ue),ct=new Lh(Ie,xe),pt=new Rh(ct,xe,be,Fe),kr=new jh(T,pt,be,xe,Fe);return function $a(g){const v=(0,V.m9)(g);v._initializePromise||(v._initializePromise=v._storageCache.loadFromStorage().then(()=>{v._isInitializationComplete=!0}))}(kr),kr},"PUBLIC").setMultipleInstances(!0)),(0,Z.registerVersion)(Ii,"0.3.11"),(0,Z.registerVersion)(Ii,"0.3.11","esm2017")}();const Vh="/firebase-messaging-sw.js",Hh="/firebase-cloud-messaging-push-scope",yu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vu="google.c.a.c_id",Ka="google.c.a.c_l",Cu="google.c.a.ts",$n="google.c.a.e";var rs=(()=>{return(g=rs||(rs={})).PUSH_RECEIVED="push-received",g.NOTIFICATION_CLICKED="notification-clicked",rs;var g})();function sr(g){const v=new Uint8Array(g);return btoa(String.fromCharCode(...v)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Za(g){const w=(g+"=".repeat((4-g.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),T=atob(w),k=new Uint8Array(T.length);for(let z=0;z<T.length;++z)k[z]=T.charCodeAt(z);return k}const Ti="fcm_token_details_db",Ws="fcm_token_object_Store";function Ja(g){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,J.Z)(function*(g){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(z=>z.name).includes(Ti))return null;let v=null;return(yield(0,we.X3)(Ti,5,{upgrade:(T=(0,J.Z)(function*(k,z,ee,ue){var xe;if(z<2||!k.objectStoreNames.contains(Ws))return;const be=ue.objectStore(Ws),Fe=yield be.index("fcmSenderId").get(g);if(yield be.clear(),Fe)if(2===z){const Ie=Fe;if(!Ie.auth||!Ie.p256dh||!Ie.endpoint)return;v={token:Ie.fcmToken,createTime:null!==(xe=Ie.createTime)&&void 0!==xe?xe:Date.now(),subscriptionOptions:{auth:Ie.auth,p256dh:Ie.p256dh,endpoint:Ie.endpoint,swScope:Ie.swScope,vapidKey:"string"==typeof Ie.vapidKey?Ie.vapidKey:sr(Ie.vapidKey)}}}else if(3===z){const Ie=Fe;v={token:Ie.fcmToken,createTime:Ie.createTime,subscriptionOptions:{auth:sr(Ie.auth),p256dh:sr(Ie.p256dh),endpoint:Ie.endpoint,swScope:Ie.swScope,vapidKey:sr(Ie.vapidKey)}}}else if(4===z){const Ie=Fe;v={token:Ie.fcmToken,createTime:Ie.createTime,subscriptionOptions:{auth:sr(Ie.auth),p256dh:sr(Ie.p256dh),endpoint:Ie.endpoint,swScope:Ie.swScope,vapidKey:sr(Ie.vapidKey)}}}}),function(z,ee,ue,xe){return T.apply(this,arguments)})})).close(),yield(0,we.Lj)(Ti),yield(0,we.Lj)("fcm_vapid_details_db"),yield(0,we.Lj)("undefined"),kt(v)?v:null;var T}),Xa.apply(this,arguments)}function kt(g){if(!g||!g.subscriptionOptions)return!1;const{subscriptionOptions:v}=g;return"number"==typeof g.createTime&&g.createTime>0&&"string"==typeof g.token&&g.token.length>0&&"string"==typeof v.auth&&v.auth.length>0&&"string"==typeof v.p256dh&&v.p256dh.length>0&&"string"==typeof v.endpoint&&v.endpoint.length>0&&"string"==typeof v.swScope&&v.swScope.length>0&&"string"==typeof v.vapidKey&&v.vapidKey.length>0}const Dt="firebase-messaging-store";let is=null;function Gs(){return is||(is=(0,we.X3)("firebase-messaging-database",1,{upgrade:(g,v)=>{0===v&&g.createObjectStore(Dt)}})),is}function ss(g){return yn.apply(this,arguments)}function yn(){return(yn=(0,J.Z)(function*(g){const v=qs(g),T=yield(yield Gs()).transaction(Dt).objectStore(Dt).get(v);if(T)return T;{const k=yield Ja(g.appConfig.senderId);if(k)return yield Si(g,k),k}})).apply(this,arguments)}function Si(g,v){return os.apply(this,arguments)}function os(){return(os=(0,J.Z)(function*(g,v){const w=qs(g),k=(yield Gs()).transaction(Dt,"readwrite");return yield k.objectStore(Dt).put(v,w),yield k.done,v})).apply(this,arguments)}function ri(g){return en.apply(this,arguments)}function en(){return(en=(0,J.Z)(function*(g){const v=qs(g),T=(yield Gs()).transaction(Dt,"readwrite");yield T.objectStore(Dt).delete(v),yield T.done})).apply(this,arguments)}function qs({appConfig:g}){return g.appId}const tn=new V.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ii(g,v){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,J.Z)(function*(g,v){var w;const T=yield Ks(g),k=nl(v),z={method:"POST",headers:T,body:JSON.stringify(k)};let ee;try{ee=yield(yield fetch(Ys(g.appConfig),z)).json()}catch(ue){throw tn.create("token-subscribe-failed",{errorInfo:null===(w=ue)||void 0===w?void 0:w.toString()})}if(ee.error)throw tn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw tn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function tl(g,v){return je.apply(this,arguments)}function je(){return(je=(0,J.Z)(function*(g,v){var w;const T=yield Ks(g),k=nl(v.subscriptionOptions),z={method:"PATCH",headers:T,body:JSON.stringify(k)};let ee;try{ee=yield(yield fetch(`${Ys(g.appConfig)}/${v.token}`,z)).json()}catch(ue){throw tn.create("token-update-failed",{errorInfo:null===(w=ue)||void 0===w?void 0:w.toString()})}if(ee.error)throw tn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw tn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function wu(g,v){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,J.Z)(function*(g,v){var w;const k={method:"DELETE",headers:yield Ks(g)};try{const ee=yield(yield fetch(`${Ys(g.appConfig)}/${v}`,k)).json();if(ee.error)throw tn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(z){throw tn.create("token-unsubscribe-failed",{errorInfo:null===(w=z)||void 0===w?void 0:w.toString()})}})).apply(this,arguments)}function Ys({projectId:g}){return`https://fcmregistrations.googleapis.com/v1/projects/${g}/registrations`}function Ks(g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,J.Z)(function*({appConfig:g,installations:v}){const w=yield v.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":g.apiKey,"x-goog-firebase-installations-auth":`FIS ${w}`})})).apply(this,arguments)}function nl({p256dh:g,auth:v,endpoint:w,vapidKey:T}){const k={web:{endpoint:w,auth:v,p256dh:g}};return T!==yu&&(k.web.applicationPubKey=T),k}const ld=6048e5;function se(g){return st.apply(this,arguments)}function st(){return(st=(0,J.Z)(function*(g){const v=yield rl(g.swRegistration,g.vapidKey),w={vapidKey:g.vapidKey,swScope:g.swRegistration.scope,endpoint:v.endpoint,auth:sr(v.getKey("auth")),p256dh:sr(v.getKey("p256dh"))},T=yield ss(g.firebaseDependencies);if(T){if(ud(T.subscriptionOptions,w))return Date.now()>=T.createTime+ld?bu(g,{token:T.token,createTime:Date.now(),subscriptionOptions:w}):T.token;try{yield wu(g.firebaseDependencies,T.token)}catch(k){console.warn(k)}return or(g.firebaseDependencies,w)}return or(g.firebaseDependencies,w)})).apply(this,arguments)}function Ho(g){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,J.Z)(function*(g){const v=yield ss(g.firebaseDependencies);v&&(yield wu(g.firebaseDependencies,v.token),yield ri(g.firebaseDependencies));const w=yield g.swRegistration.pushManager.getSubscription();return!w||w.unsubscribe()})).apply(this,arguments)}function bu(g,v){return si.apply(this,arguments)}function si(){return(si=(0,J.Z)(function*(g,v){try{const w=yield tl(g.firebaseDependencies,v),T=Object.assign(Object.assign({},v),{token:w,createTime:Date.now()});return yield Si(g.firebaseDependencies,T),w}catch(w){throw yield Ho(g),w}})).apply(this,arguments)}function or(g,v){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,J.Z)(function*(g,v){const T={token:yield ii(g,v),createTime:Date.now(),subscriptionOptions:v};return yield Si(g,T),T.token})).apply(this,arguments)}function rl(g,v){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,J.Z)(function*(g,v){return(yield g.pushManager.getSubscription())||g.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Za(v)})})).apply(this,arguments)}function ud(g,v){return v.vapidKey===g.vapidKey&&v.endpoint===g.endpoint&&v.auth===g.auth&&v.p256dh===g.p256dh}function Qs(g){const v={from:g.from,collapseKey:g.collapse_key,messageId:g.fcmMessageId};return function $o(g,v){if(!v.notification)return;g.notification={};const w=v.notification.title;w&&(g.notification.title=w);const T=v.notification.body;T&&(g.notification.body=T);const k=v.notification.image;k&&(g.notification.image=k)}(v,g),function vn(g,v){!v.data||(g.data=v.data)}(v,g),function Rr(g,v){var w,T,k,z,ee;if(!v.fcmOptions&&!(null===(w=v.notification)||void 0===w?void 0:w.click_action))return;g.fcmOptions={};const ue=null!==(k=null===(T=v.fcmOptions)||void 0===T?void 0:T.link)&&void 0!==k?k:null===(z=v.notification)||void 0===z?void 0:z.click_action;ue&&(g.fcmOptions.link=ue);const xe=null===(ee=v.fcmOptions)||void 0===ee?void 0:ee.analytics_label;xe&&(g.fcmOptions.analyticsLabel=xe)}(v,g),v}function Tu(g){return"object"==typeof g&&!!g&&vu in g}function as(g,v){const w=[];for(let T=0;T<g.length;T++)w.push(g.charAt(T)),T<v.length&&w.push(v.charAt(T));return w.join("")}function Su(g){return tn.create("missing-app-config-values",{valueName:g})}as("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),as("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cd{constructor(v,w,T){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const k=function Or(g){if(!g||!g.options)throw Su("App Configuration Object");if(!g.name)throw Su("App Name");const v=["projectId","apiKey","appId","messagingSenderId"],{options:w}=g;for(const T of v)if(!w[T])throw Su(T);return{appName:g.name,projectId:w.projectId,apiKey:w.apiKey,appId:w.appId,senderId:w.messagingSenderId}}(v);this.firebaseDependencies={app:v,appConfig:k,installations:w,analyticsProvider:T}}_delete(){return Promise.resolve()}}function Au(g){return il.apply(this,arguments)}function il(){return(il=(0,J.Z)(function*(g){var v;try{g.swRegistration=yield navigator.serviceWorker.register(Vh,{scope:Hh}),g.swRegistration.update().catch(()=>{})}catch(w){throw tn.create("failed-service-worker-registration",{browserErrorMessage:null===(v=w)||void 0===v?void 0:v.message})}})).apply(this,arguments)}function sl(g,v){return zo.apply(this,arguments)}function zo(){return(zo=(0,J.Z)(function*(g,v){if(!v&&!g.swRegistration&&(yield Au(g)),v||!g.swRegistration){if(!(v instanceof ServiceWorkerRegistration))throw tn.create("invalid-sw-registration");g.swRegistration=v}})).apply(this,arguments)}function dd(g,v){return ls.apply(this,arguments)}function ls(){return(ls=(0,J.Z)(function*(g,v){v?g.vapidKey=v:g.vapidKey||(g.vapidKey=yu)})).apply(this,arguments)}function Wo(){return(Wo=(0,J.Z)(function*(g,v){if(!navigator)throw tn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw tn.create("permission-blocked");return yield dd(g,null==v?void 0:v.vapidKey),yield sl(g,null==v?void 0:v.serviceWorkerRegistration),se(g)})).apply(this,arguments)}function Go(g,v,w){return us.apply(this,arguments)}function us(){return(us=(0,J.Z)(function*(g,v,w){const T=ol(v);(yield g.firebaseDependencies.analyticsProvider.get()).logEvent(T,{message_id:w[vu],message_name:w[Ka],message_time:w[Cu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ol(g){switch(g){case rs.NOTIFICATION_CLICKED:return"notification_open";case rs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function al(){return(al=(0,J.Z)(function*(g,v){const w=v.data;if(!w.isFirebaseMessaging)return;g.onMessageHandler&&w.messageType===rs.PUSH_RECEIVED&&("function"==typeof g.onMessageHandler?g.onMessageHandler(Qs(w)):g.onMessageHandler.next(Qs(w)));const T=w.data;Tu(T)&&"1"===T[$n]&&(yield Go(g,w.messageType,T))})).apply(this,arguments)}const qo="@firebase/messaging",$h=g=>{const v=new cd(g.getProvider("app").getImmediate(),g.getProvider("installations-internal").getImmediate(),g.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",w=>function fd(g,v){return al.apply(this,arguments)}(v,w)),v},Cn=g=>{const v=g.getProvider("messaging").getImmediate();return{getToken:T=>function Nr(g,v){return Wo.apply(this,arguments)}(v,T)}};function Lt(){return xu.apply(this,arguments)}function xu(){return(xu=(0,J.Z)(function*(){try{yield(0,V.eu)()}catch(g){return!1}return"undefined"!=typeof window&&(0,V.hl)()&&(0,V.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ai(){(0,Z._registerComponent)(new ae.wA("messaging",$h,"PUBLIC")),(0,Z._registerComponent)(new ae.wA("messaging-internal",Cn,"PRIVATE")),(0,Z.registerVersion)(qo,"0.9.16"),(0,Z.registerVersion)(qo,"0.9.16","esm2017")}();const Xs="analytics",Nu="firebase_id",Gt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cs="https://www.googletagmanager.com/gtag/js",Re=new he.Yd("@firebase/analytics");function ar(g){return Promise.all(g.map(v=>v.catch(w=>w)))}function Fn(g,v){const w=document.createElement("script");w.src=`${cs}?l=${g}&id=${v}`,w.async=!0,document.head.appendChild(w)}function pd(g,v,w,T,k,z){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,J.Z)(function*(g,v,w,T,k,z){const ee=T[k];try{if(ee)yield v[ee];else{const xe=(yield ar(w)).find(be=>be.measurementId===k);xe&&(yield v[xe.appId])}}catch(ue){Re.error(ue)}g("config",k,z)})).apply(this,arguments)}function Gh(g,v,w,T,k){return ds.apply(this,arguments)}function ds(){return(ds=(0,J.Z)(function*(g,v,w,T,k){try{let z=[];if(k&&k.send_to){let ee=k.send_to;Array.isArray(ee)||(ee=[ee]);const ue=yield ar(w);for(const xe of ee){const be=ue.find(Ie=>Ie.measurementId===xe),Fe=be&&v[be.appId];if(!Fe){z=[];break}z.push(Fe)}}0===z.length&&(z=Object.values(v)),yield Promise.all(z),g("event",T,k||{})}catch(z){Re.error(z)}})).apply(this,arguments)}function ai(){const g=window.document.getElementsByTagName("script");for(const v of Object.values(g))if(v.src&&v.src.includes(cs))return v;return null}const In=new V.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cn=new class hs{constructor(v={},w=1e3){this.throttleMetadata=v,this.intervalMillis=w}getThrottleMetadata(v){return this.throttleMetadata[v]}setThrottleMetadata(v,w){this.throttleMetadata[v]=w}deleteThrottleMetadata(v){delete this.throttleMetadata[v]}};function Yo(g){return new Headers({Accept:"application/json","x-goog-api-key":g})}function qh(g){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,J.Z)(function*(g){var v;const{appId:w,apiKey:T}=g,k={method:"GET",headers:Yo(T)},z=Gt.replace("{app-id}",w),ee=yield fetch(z,k);if(200!==ee.status&&304!==ee.status){let ue="";try{const xe=yield ee.json();(null===(v=xe.error)||void 0===v?void 0:v.message)&&(ue=xe.error.message)}catch(xe){}throw In.create("config-fetch-failed",{httpStatus:ee.status,responseMessage:ue})}return ee.json()})).apply(this,arguments)}function ul(g){return to.apply(this,arguments)}function to(){return(to=(0,J.Z)(function*(g,v=cn,w){const{appId:T,apiKey:k,measurementId:z}=g.options;if(!T)throw In.create("no-app-id");if(!k){if(z)return{measurementId:z,appId:T};throw In.create("no-api-key")}const ee=v.getThrottleMetadata(T)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ue=new Zo;return setTimeout((0,J.Z)(function*(){ue.abort()}),void 0!==w?w:6e4),no({appId:T,apiKey:k,measurementId:z},ee,ue,v)})).apply(this,arguments)}function no(g,v,w){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,J.Z)(function*(g,{throttleEndTimeMillis:v,backoffCount:w},T,k=cn){var z,ee;const{appId:ue,measurementId:xe}=g;try{yield ps(T,v)}catch(be){if(xe)return Re.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${null===(z=be)||void 0===z?void 0:z.message}]`),{appId:ue,measurementId:xe};throw be}try{const be=yield qh(g);return k.deleteThrottleMetadata(ue),be}catch(be){const Fe=be;if(!gs(Fe)){if(k.deleteThrottleMetadata(ue),xe)return Re.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${null==Fe?void 0:Fe.message}]`),{appId:ue,measurementId:xe};throw be}const Ie=503===Number(null===(ee=null==Fe?void 0:Fe.customData)||void 0===ee?void 0:ee.httpStatus)?(0,V.$s)(w,k.intervalMillis,30):(0,V.$s)(w,k.intervalMillis),ct={throttleEndTimeMillis:Date.now()+Ie,backoffCount:w+1};return k.setThrottleMetadata(ue,ct),Re.debug(`Calling attemptFetch again in ${Ie} millis`),no(g,ct,T,k)}})).apply(this,arguments)}function ps(g,v){return new Promise((w,T)=>{const k=Math.max(v-Date.now(),0),z=setTimeout(w,k);g.addEventListener(()=>{clearTimeout(z),T(In.create("fetch-throttle",{throttleEndTimeMillis:v}))})})}function gs(g){if(!(g instanceof V.ZR&&g.customData))return!1;const v=Number(g.customData.httpStatus);return 429===v||500===v||503===v||504===v}class Zo{constructor(){this.listeners=[]}addEventListener(v){this.listeners.push(v)}abort(){this.listeners.forEach(v=>v())}}let li,Jo;function ro(){return(ro=(0,J.Z)(function*(g,v,w,T,k){if(k&&k.global)g("event",w,T);else{const z=yield v;g("event",w,Object.assign(Object.assign({},T),{send_to:z}))}})).apply(this,arguments)}function Xo(g){Jo=g}function Wn(g){li=g}function ci(){return zt.apply(this,arguments)}function zt(){return(zt=(0,J.Z)(function*(){var g;if(!(0,V.hl)())return Re.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,V.eu)()}catch(v){return Re.warn(In.create("indexeddb-unavailable",{errorInfo:null===(g=v)||void 0===g?void 0:g.toString()}).message),!1}return!0})).apply(this,arguments)}function _r(){return(_r=(0,J.Z)(function*(g,v,w,T,k,z,ee){var ue;const xe=ul(g);xe.then(pt=>{w[pt.measurementId]=pt.appId,g.options.measurementId&&pt.measurementId!==g.options.measurementId&&Re.warn(`The measurement ID in the local Firebase config (${g.options.measurementId}) does not match the measurement ID fetched from the server (${pt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pt=>Re.error(pt)),v.push(xe);const be=ci().then(pt=>{if(pt)return T.getId()}),[Fe,Ie]=yield Promise.all([xe,be]);ai()||Fn(z,Fe.measurementId),Jo&&(k("consent","default",Jo),Xo(void 0)),k("js",new Date);const ct=null!==(ue=null==ee?void 0:ee.config)&&void 0!==ue?ue:{};return ct.origin="firebase",ct.update=!0,null!=Ie&&(ct[Nu]=Ie),k("config",Fe.measurementId,ct),li&&(k("set",li),Wn(void 0)),Fe.measurementId})).apply(this,arguments)}class Ri{constructor(v){this.app=v}_delete(){return delete Sn[this.app.options.appId],Promise.resolve()}}let Sn={},ea=[];const ta={};let Lu,nt,An="dataLayer",so=!1;function Yh(g,v,w){!function _d(){const g=[];if((0,V.ru)()&&g.push("This is a browser extension environment."),(0,V.zI)()||g.push("Cookies are not available."),g.length>0){const v=g.map((T,k)=>`(${k+1}) ${T}`).join(" "),w=In.create("invalid-analytics-context",{errorInfo:v});Re.warn(w.message)}}();const T=g.options.appId;if(!T)throw In.create("no-app-id");if(!g.options.apiKey){if(!g.options.measurementId)throw In.create("no-api-key");Re.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${g.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Sn[T])throw In.create("already-exists",{id:T});if(!so){!function eo(g){let v=[];Array.isArray(window[g])?v=window[g]:window[g]=v}(An);const{wrappedGtag:z,gtagCore:ee}=function ll(g,v,w,T,k){let z=function(...ee){window[T].push(arguments)};return window[k]&&"function"==typeof window[k]&&(z=window[k]),window[k]=function ku(g,v,w,T){function z(){return(z=(0,J.Z)(function*(ee,ue,xe){try{"event"===ee?yield Gh(g,v,w,ue,xe):"config"===ee?yield pd(g,v,w,T,ue,xe):"consent"===ee?g("consent","update",xe):g("set",ue)}catch(be){Re.error(be)}})).apply(this,arguments)}return function k(ee,ue,xe){return z.apply(this,arguments)}}(z,g,v,w),{gtagCore:z,wrappedGtag:window[k]}}(Sn,ea,ta,An,"gtag");nt=z,Lu=ee,so=!0}return Sn[T]=function Pi(g,v,w,T,k,z,ee){return _r.apply(this,arguments)}(g,ea,ta,v,Lu,An,w),new Ri(g)}function Zh(){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,J.Z)(function*(){if((0,V.ru)()||!(0,V.zI)()||!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch(g){return!1}})).apply(this,arguments)}const Gn="@firebase/analytics";!function ra(){(0,Z._registerComponent)(new ae.wA(Xs,(v,{options:w})=>Yh(v.getProvider("app").getImmediate(),v.getProvider("installations-internal").getImmediate(),w),"PUBLIC")),(0,Z._registerComponent)(new ae.wA("analytics-internal",function g(v){try{const w=v.getProvider(Xs).getImmediate();return{logEvent:(T,k,z)=>function yd(g,v,w,T){g=(0,V.m9)(g),function cl(g,v,w,T,k){return ro.apply(this,arguments)}(nt,Sn[g.app.options.appId],v,w,T).catch(k=>Re.error(k))}(w,T,k,z)}}catch(w){throw In.create("interop-component-reg-failed",{reason:w})}},"PRIVATE")),(0,Z.registerVersion)(Gn,"0.8.0"),(0,Z.registerVersion)(Gn,"0.8.0","esm2017")}();const ur=new y.GfV("7.4.1"),oo="__angularfire_symbol__analyticsIsSupportedValue",ao="__angularfire_symbol__analyticsIsSupported",pl="__angularfire_symbol__remoteConfigIsSupportedValue",Bu="__angularfire_symbol__remoteConfigIsSupported",ju="__angularfire_symbol__messagingIsSupportedValue",Ln="__angularfire_symbol__messagingIsSupported";globalThis[ao]||(globalThis[ao]=Zh().then(g=>globalThis[oo]=g).catch(()=>globalThis[oo]=!1)),globalThis[Ln]||(globalThis[Ln]=Lt().then(g=>globalThis[ju]=g).catch(()=>globalThis[ju]=!1)),globalThis[Bu]||(globalThis[Bu]=qa().then(g=>globalThis[pl]=g).catch(()=>globalThis[pl]=!1)),ke=P.hmd(ke);class Fi{constructor(v){return v}}const oa=new y.OlP("angularfire2.app.options"),Vu=new y.OlP("angularfire2.app.name"),Hu={provide:Fi,useFactory:function Ht(g,v,w){const k="object"==typeof w&&w||{};k.name=k.name||"string"==typeof w&&w||"[DEFAULT]";const ee=ge.apps.filter(ue=>ue&&ue.name===k.name)[0]||v.runOutsideAngular(()=>ge.initializeApp(g,k));try{JSON.stringify(g)!==JSON.stringify(ee.options)&&((g,...v)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[g](...v)})("error",`${ee.name} Firebase App already initialized with different options${ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ue){}return new Fi(ee)},deps:[oa,y.R0b,[new y.FiY,Vu]]};let Cs=(()=>{class g{constructor(w){ge.registerVersion("angularfire",ur.full,"core"),ge.registerVersion("angularfire",ur.full,"app-compat"),ge.registerVersion("angular",y.q4F.full,w.toString())}static initializeApp(w,T){return{ngModule:g,providers:[{provide:oa,useValue:w},{provide:Vu,useValue:T}]}}}return g.\u0275fac=function(w){return new(w||g)(y.LFG(y.Lbi))},g.\u0275mod=y.oAB({type:g}),g.\u0275inj=y.cJS({providers:[Hu]}),g})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},90:(ke,ce,P)=>{P.d(ce,{BH:()=>Ae,LL:()=>q,ZR:()=>K,gQ:()=>Vn,zI:()=>j,hu:()=>V,g5:()=>ae,US:()=>Pe,h$:()=>ve,L:()=>Me,$s:()=>an,r3:()=>pn,ne:()=>tr,p$:()=>B,vZ:()=>Us,ZB:()=>L,gK:()=>gn,m9:()=>wi,GJ:()=>on,jU:()=>He,ru:()=>it,xb:()=>gt,hl:()=>Y,uI:()=>ge,Yr:()=>et,b$:()=>J,w9:()=>Mt,cI:()=>Ke,UI:()=>lt,xO:()=>jt,DV:()=>gr,ug:()=>Te,dS:()=>Pt,Pz:()=>xt,eu:()=>de});const V=function(x,O){if(!x)throw ae(O)},ae=function(x){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+x)},Z=function(x){const O=[];let S=0;for(let F=0;F<x.length;F++){let R=x.charCodeAt(F);R<128?O[S++]=R:R<2048?(O[S++]=R>>6|192,O[S++]=63&R|128):55296==(64512&R)&&F+1<x.length&&56320==(64512&x.charCodeAt(F+1))?(R=65536+((1023&R)<<10)+(1023&x.charCodeAt(++F)),O[S++]=R>>18|240,O[S++]=R>>12&63|128,O[S++]=R>>6&63|128,O[S++]=63&R|128):(O[S++]=R>>12|224,O[S++]=R>>6&63|128,O[S++]=63&R|128)}return O},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(x,O){if(!Array.isArray(x))throw Error("encodeByteArray takes an array as a parameter");this.init_();const S=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let R=0;R<x.length;R+=3){const re=x[R],le=R+1<x.length,Be=le?x[R+1]:0,ft=R+2<x.length,mt=ft?x[R+2]:0;let mn=(15&Be)<<2|mt>>6,Jr=63&mt;ft||(Jr=64,le||(mn=64)),F.push(S[re>>2],S[(3&re)<<4|Be>>4],S[mn],S[Jr])}return F.join("")},encodeString(x,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(x):this.encodeByteArray(Z(x),O)},decodeString(x,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(x):function(x){const O=[];let S=0,F=0;for(;S<x.length;){const R=x[S++];if(R<128)O[F++]=String.fromCharCode(R);else if(R>191&&R<224){const re=x[S++];O[F++]=String.fromCharCode((31&R)<<6|63&re)}else if(R>239&&R<365){const ft=((7&R)<<18|(63&x[S++])<<12|(63&x[S++])<<6|63&x[S++])-65536;O[F++]=String.fromCharCode(55296+(ft>>10)),O[F++]=String.fromCharCode(56320+(1023&ft))}else{const re=x[S++],le=x[S++];O[F++]=String.fromCharCode((15&R)<<12|(63&re)<<6|63&le)}}return O.join("")}(this.decodeStringToByteArray(x,O))},decodeStringToByteArray(x,O){this.init_();const S=O?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let R=0;R<x.length;){const re=S[x.charAt(R++)],Be=R<x.length?S[x.charAt(R)]:0;++R;const mt=R<x.length?S[x.charAt(R)]:64;++R;const Ze=R<x.length?S[x.charAt(R)]:64;if(++R,null==re||null==Be||null==mt||null==Ze)throw Error();F.push(re<<2|Be>>4),64!==mt&&(F.push(Be<<4&240|mt>>2),64!==Ze&&F.push(mt<<6&192|Ze))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let x=0;x<this.ENCODED_VALS.length;x++)this.byteToCharMap_[x]=this.ENCODED_VALS.charAt(x),this.charToByteMap_[this.byteToCharMap_[x]]=x,this.byteToCharMapWebSafe_[x]=this.ENCODED_VALS_WEBSAFE.charAt(x),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[x]]=x,x>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(x)]=x,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(x)]=x)}}},ve=function(x){const O=Z(x);return Pe.encodeByteArray(O,!0)},Me=function(x){return ve(x).replace(/\./g,"")},De=function(x){try{return Pe.decodeString(x,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function B(x){return L(void 0,x)}function L(x,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===x&&(x={});break;case Array:x=[];break;default:return O}for(const S in O)!O.hasOwnProperty(S)||!ie(S)||(x[S]=L(x[S],O[S]));return x}function ie(x){return"__proto__"!==x}class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,S)=>{this.resolve=O,this.reject=S})}wrapCallback(O){return(S,F)=>{S?this.reject(S):this.resolve(F),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O(S):O(S,F))}}}function ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(function Ge(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())}function He(){return"object"==typeof self&&self.self===self}function it(){const x="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof x&&void 0!==x.id}function J(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){return!1}function Y(){return"object"==typeof indexedDB}function de(){return new Promise((x,O)=>{try{let S=!0;const F="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(F);R.onsuccess=()=>{R.result.close(),S||self.indexedDB.deleteDatabase(F),x(!0)},R.onupgradeneeded=()=>{S=!1},R.onerror=()=>{var re;O((null===(re=R.error)||void 0===re?void 0:re.message)||"")}}catch(S){O(S)}})}function j(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class K extends Error{constructor(O,S,F){super(S),this.code=O,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,K.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q.prototype.create)}}class q{constructor(O,S,F){this.service=O,this.serviceName=S,this.errors=F}create(O,...S){const F=S[0]||{},R=`${this.service}/${O}`,re=this.errors[O],le=re?function pe(x,O){return x.replace(Le,(S,F)=>{const R=O[F];return null!=R?String(R):`<${F}?>`})}(re,F):"Error";return new K(R,`${this.serviceName}: ${le} (${R}).`,F)}}const Le=/\{\$([^}]+)}/g;function Ke(x){return JSON.parse(x)}function xt(x){return JSON.stringify(x)}const We=function(x){let O={},S={},F={},R="";try{const re=x.split(".");O=Ke(De(re[0])||""),S=Ke(De(re[1])||""),R=re[2],F=S.d||{},delete S.d}catch(re){}return{header:O,claims:S,data:F,signature:R}},Mt=function(x){const S=We(x).claims;return!!S&&"object"==typeof S&&S.hasOwnProperty("iat")},on=function(x){const O=We(x).claims;return"object"==typeof O&&!0===O.admin};function pn(x,O){return Object.prototype.hasOwnProperty.call(x,O)}function gr(x,O){if(Object.prototype.hasOwnProperty.call(x,O))return x[O]}function gt(x){for(const O in x)if(Object.prototype.hasOwnProperty.call(x,O))return!1;return!0}function lt(x,O,S){const F={};for(const R in x)Object.prototype.hasOwnProperty.call(x,R)&&(F[R]=O.call(S,x[R],R,x));return F}function Us(x,O){if(x===O)return!0;const S=Object.keys(x),F=Object.keys(O);for(const R of S){if(!F.includes(R))return!1;const re=x[R],le=O[R];if(er(re)&&er(le)){if(!Us(re,le))return!1}else if(re!==le)return!1}for(const R of F)if(!S.includes(R))return!1;return!0}function er(x){return null!==x&&"object"==typeof x}function jt(x){const O=[];for(const[S,F]of Object.entries(x))Array.isArray(F)?F.forEach(R=>{O.push(encodeURIComponent(S)+"="+encodeURIComponent(R))}):O.push(encodeURIComponent(S)+"="+encodeURIComponent(F));return O.length?"&"+O.join("&"):""}class Vn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let O=1;O<this.blockSize;++O)this.pad_[O]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(O,S){S||(S=0);const F=this.W_;if("string"==typeof O)for(let Ze=0;Ze<16;Ze++)F[Ze]=O.charCodeAt(S)<<24|O.charCodeAt(S+1)<<16|O.charCodeAt(S+2)<<8|O.charCodeAt(S+3),S+=4;else for(let Ze=0;Ze<16;Ze++)F[Ze]=O[S]<<24|O[S+1]<<16|O[S+2]<<8|O[S+3],S+=4;for(let Ze=16;Ze<80;Ze++){const mn=F[Ze-3]^F[Ze-8]^F[Ze-14]^F[Ze-16];F[Ze]=4294967295&(mn<<1|mn>>>31)}let mt,rr,R=this.chain_[0],re=this.chain_[1],le=this.chain_[2],Be=this.chain_[3],ft=this.chain_[4];for(let Ze=0;Ze<80;Ze++){Ze<40?Ze<20?(mt=Be^re&(le^Be),rr=1518500249):(mt=re^le^Be,rr=1859775393):Ze<60?(mt=re&le|Be&(re|le),rr=2400959708):(mt=re^le^Be,rr=3395469782);const mn=(R<<5|R>>>27)+mt+ft+rr+F[Ze]&4294967295;ft=Be,Be=le,le=4294967295&(re<<30|re>>>2),re=R,R=mn}this.chain_[0]=this.chain_[0]+R&4294967295,this.chain_[1]=this.chain_[1]+re&4294967295,this.chain_[2]=this.chain_[2]+le&4294967295,this.chain_[3]=this.chain_[3]+Be&4294967295,this.chain_[4]=this.chain_[4]+ft&4294967295}update(O,S){if(null==O)return;void 0===S&&(S=O.length);const F=S-this.blockSize;let R=0;const re=this.buf_;let le=this.inbuf_;for(;R<S;){if(0===le)for(;R<=F;)this.compress_(O,R),R+=this.blockSize;if("string"==typeof O){for(;R<S;)if(re[le]=O.charCodeAt(R),++le,++R,le===this.blockSize){this.compress_(re),le=0;break}}else for(;R<S;)if(re[le]=O[R],++le,++R,le===this.blockSize){this.compress_(re),le=0;break}}this.inbuf_=le,this.total_+=S}digest(){const O=[];let S=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let R=this.blockSize-1;R>=56;R--)this.buf_[R]=255&S,S/=256;this.compress_(this.buf_);let F=0;for(let R=0;R<5;R++)for(let re=24;re>=0;re-=8)O[F]=this.chain_[R]>>re&255,++F;return O}}function tr(x,O){const S=new Ci(x,O);return S.subscribe.bind(S)}class Ci{constructor(O,S){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=S,this.task.then(()=>{O(this)}).catch(F=>{this.error(F)})}next(O){this.forEachObserver(S=>{S.next(O)})}error(O){this.forEachObserver(S=>{S.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,S,F){let R;if(void 0===O&&void 0===S&&void 0===F)throw new Error("Missing Observer.");R=function Zr(x,O){if("object"!=typeof x||null===x)return!1;for(const S of O)if(S in x&&"function"==typeof x[S])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:S,complete:F},void 0===R.next&&(R.next=nr),void 0===R.error&&(R.error=nr),void 0===R.complete&&(R.complete=nr);const re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch(le){}}),this.observers.push(R),re}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let S=0;S<this.observers.length;S++)this.sendOne(S,O)}sendOne(O,S){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{S(this.observers[O])}catch(F){"undefined"!=typeof console&&console.error&&console.error(F)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nr(){}function gn(x,O){return`${x} failed: ${O} argument `}const Pt=function(x){const O=[];let S=0;for(let F=0;F<x.length;F++){let R=x.charCodeAt(F);if(R>=55296&&R<=56319){const re=R-55296;F++,V(F<x.length,"Surrogate pair missing trail surrogate."),R=65536+(re<<10)+(x.charCodeAt(F)-56320)}R<128?O[S++]=R:R<2048?(O[S++]=R>>6|192,O[S++]=63&R|128):R<65536?(O[S++]=R>>12|224,O[S++]=R>>6&63|128,O[S++]=63&R|128):(O[S++]=R>>18|240,O[S++]=R>>12&63|128,O[S++]=R>>6&63|128,O[S++]=63&R|128)}return O},Te=function(x){let O=0;for(let S=0;S<x.length;S++){const F=x.charCodeAt(S);F<128?O++:F<2048?O+=2:F>=55296&&F<=56319?(O+=4,S++):O+=3}return O};function an(x,O=1e3,S=2){const F=O*Math.pow(S,x),R=Math.round(.5*F*(Math.random()-.5)*2);return Math.min(144e5,F+R)}function wi(x){return x&&x._delegate?x._delegate:x}},832:(ke,ce,P)=>{var y=P(223);let V=null;function ae(){return V}const ve=new y.OlP("DocumentToken");let Me=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=y.Yz7({token:i,factory:function(){return function De(){return(0,y.LFG)(L)}()},providedIn:"platform"}),i})();const B=new y.OlP("Location Initialized");let L=(()=>{class i extends Me{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(e){const o=ae().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=ae().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,l){ie()?this._history.pushState(e,o,l):this.location.hash=l}replaceState(e,o,l){ie()?this._history.replaceState(e,o,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(y.LFG(ve))},i.\u0275prov=y.Yz7({token:i,factory:function(){return function Ae(){return new L((0,y.LFG)(ve))}()},providedIn:"platform"}),i})();function ie(){return!!window.history.pushState}function ne(i,r){if(0==i.length)return r;if(0==r.length)return i;let e=0;return i.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?i+r.substring(1):1==e?i+r:i+"/"+r}function Ge(i){const r=i.match(/#|\?|$/),e=r&&r.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function ge(i){return i&&"?"!==i[0]?"?"+i:i}let Oe=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=y.Yz7({token:i,factory:function(){return function He(i){const r=(0,y.LFG)(ve).location;return new J((0,y.LFG)(Me),r&&r.origin||"")}()},providedIn:"root"}),i})();const it=new y.OlP("appBaseHref");let J=(()=>{class i extends Oe{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ne(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+ge(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${o}${l}`:o}pushState(e,o,l,d){const f=this.prepareExternalUrl(l+ge(d));this._platformLocation.pushState(e,o,f)}replaceState(e,o,l,d){const f=this.prepareExternalUrl(l+ge(d));this._platformLocation.replaceState(e,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(y.LFG(Me),y.LFG(it,8))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),we=(()=>{class i extends Oe{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=ne(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,l,d){let f=this.prepareExternalUrl(l+ge(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,o,f)}replaceState(e,o,l,d){let f=this.prepareExternalUrl(l+ge(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(y.LFG(Me),y.LFG(it,8))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),me=(()=>{class i{constructor(e,o){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ge(oe(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+ge(o))}normalize(e){return i.stripTrailingSlash(function et(i,r){return i&&r.startsWith(i)?r.substring(i.length):r}(this._baseHref,oe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",l=null){this._platformStrategy.pushState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ge(o)),l)}replaceState(e,o="",l=null){this._platformStrategy.replaceState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ge(o)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformStrategy).historyGo)||void 0===l||l.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(l=>l(e,o))}subscribe(e,o,l){return this._subject.subscribe({next:e,error:o,complete:l})}}return i.normalizeQueryParams=ge,i.joinWithSlash=ne,i.stripTrailingSlash=Ge,i.\u0275fac=function(e){return new(e||i)(y.LFG(Oe),y.LFG(Me))},i.\u0275prov=y.Yz7({token:i,factory:function(){return function _e(){return new me((0,y.LFG)(Oe),(0,y.LFG)(Me))}()},providedIn:"root"}),i})();function oe(i){return i.replace(/\/index.html$/,"")}class bi{constructor(r,e,o,l){this.$implicit=r,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ft=(()=>{class i{constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((l,d,f)=>{if(null==l.previousIndex)o.createEmbeddedView(this._template,new bi(l.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)o.remove(null===d?void 0:d);else if(null!==d){const m=o.get(d);o.move(m,f),Xi(m,l)}});for(let l=0,d=o.length;l<d;l++){const m=o.get(l).context;m.index=l,m.count=d,m.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{Xi(o.get(l.currentIndex),l)})}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},i.\u0275dir=y.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function Xi(i,r){i.context.$implicit=r.item}let Ye=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new Fo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ni("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ni("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(y.Y36(y.s_b),y.Y36(y.Rgc))},i.\u0275dir=y.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Fo{constructor(){this.$implicit=null,this.ngIf=null}}function ni(i,r){if(r&&!r.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,y.AaK)(r)}'.`)}let Uh=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({}),i})();let vu=(()=>{class i{}return i.\u0275prov=(0,y.Yz7)({token:i,providedIn:"root",factory:()=>new Ka((0,y.LFG)(ve),window)}),i})();class Ka{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function $n(i,r){const e=i.getElementById(r)||i.getElementsByName(r)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const d=l.shadowRoot;if(d){const f=d.getElementById(r)||d.querySelector(`[name="${r}"]`);if(f)return f}l=o.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),o=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],l-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Cu(this.window.history)||Cu(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Cu(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Za extends class sr extends class Pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function he(i){V||(V=i)}(new Za)}onAndCancel(r,e,o){return r.addEventListener(e,o,!1),()=>{r.removeEventListener(e,o,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=function Qa(){return Ti=Ti||document.querySelector("base"),Ti?Ti.getAttribute("href"):null}();return null==e?null:function Ja(i){Ws=Ws||document.createElement("a"),Ws.setAttribute("href",i);const r=Ws.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){Ti=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function _n(i,r){r=encodeURIComponent(r);for(const e of i.split(";")){const o=e.indexOf("="),[l,d]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===r)return decodeURIComponent(d)}return null}(document.cookie,r)}}let Ws,Ti=null;const Xa=new y.OlP("TRANSITION_ID"),Du=[{provide:y.ip1,useFactory:function kt(i,r,e){return()=>{e.get(y.CZH).donePromise.then(()=>{const o=ae(),l=r.querySelectorAll(`style[ng-transition="${i}"]`);for(let d=0;d<l.length;d++)o.remove(l[d])})}},deps:[Xa,ve,y.zs3],multi:!0}];class el{static init(){(0,y.VLi)(new el)}addToWindow(r){y.dqk.getAngularTestability=(o,l=!0)=>{const d=r.findTestabilityInTree(o,l);if(null==d)throw new Error("Could not find testability for element.");return d},y.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(o=>{const l=y.dqk.getAllAngularTestabilities();let d=l.length,f=!1;const m=function(D){f=f||D,d--,0==d&&o(f)};l.forEach(function(D){D.whenStable(m)})})}findTestabilityInTree(r,e,o){if(null==e)return null;const l=r.getTestability(e);return null!=l?l:o?ae().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null}}let Dt=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const is=new y.OlP("EventManagerPlugins");let Gs=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let d=0;d<l.length;d++){const f=l[d];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(y.LFG(is),y.LFG(y.R0b))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();class ss{constructor(r){this._doc=r}addGlobalEventListener(r,e,o){const l=ae().getGlobalEventTarget(this._doc,r);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let yn=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),Si=(()=>{class i extends yn{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,l){e.forEach(d=>{const f=this._doc.createElement("style");f.textContent=d,l.push(o.appendChild(f))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(os),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(e,l,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(os))}}return i.\u0275fac=function(e){return new(e||i)(y.LFG(ve))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();function os(i){ae().remove(i)}const ri={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},en=/%COMP%/g;function je(i,r,e){for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?je(i,l,e):(l=l.replace(en,i),e.push(l))}return e}function wu(i){return r=>{if("__ngUnwrap__"===r)return i;!1===i(r)&&(r.preventDefault(),r.returnValue=!1)}}let Ys=(()=>{class i{constructor(e,o,l){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Ks(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case y.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new ld(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(e),l}case 1:case y.ifc.ShadowDom:return new se(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const l=je(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(y.LFG(Gs),y.LFG(Si),y.LFG(y.AFp))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();class Ks{constructor(r){this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,e){return e?document.createElementNS(ri[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){r.appendChild(e)}insertBefore(r,e,o){r&&r.insertBefore(e,o)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return e||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,o,l){if(l){e=l+":"+e;const d=ri[l];d?r.setAttributeNS(d,e,o):r.setAttribute(e,o)}else r.setAttribute(e,o)}removeAttribute(r,e,o){if(o){const l=ri[o];l?r.removeAttributeNS(l,e):r.removeAttribute(`${o}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,o,l){l&(y.JOm.DashCase|y.JOm.Important)?r.style.setProperty(e,o,l&y.JOm.Important?"important":""):r.style[e]=o}removeStyle(r,e,o){o&y.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,o){r[e]=o}setValue(r,e){r.nodeValue=e}listen(r,e,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,wu(o)):this.eventManager.addEventListener(r,e,wu(o))}}class ld extends Ks{constructor(r,e,o,l){super(r),this.component=o;const d=je(l+"-"+o.id,o.styles,[]);e.addStyles(d),this.contentAttr=function Uo(i){return"_ngcontent-%COMP%".replace(en,i)}(l+"-"+o.id),this.hostAttr=function tl(i){return"_nghost-%COMP%".replace(en,i)}(l+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const o=super.createElement(r,e);return super.setAttribute(o,this.contentAttr,""),o}}class se extends Ks{constructor(r,e,o,l){super(r),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=je(l.id,l.styles,[]);for(let f=0;f<d.length;f++){const m=document.createElement("style");m.textContent=d[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,o){return super.insertBefore(this.nodeOrShadowRoot(r),e,o)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let st=(()=>{class i extends ss{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return i.\u0275fac=function(e){return new(e||i)(y.LFG(ve))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const Ho=["alt","control","meta","shift"],bu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},si={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},or={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Zs=(()=>{class i extends ss{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,l){const d=i.parseEventName(o),f=i.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ae().onAndCancel(e,d.domEventName,f))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const d=i._normalizeKey(o.pop());let f="";if(Ho.forEach(D=>{const b=o.indexOf(D);b>-1&&(o.splice(b,1),f+=D+".")}),f+=d,0!=o.length||0===d.length)return null;const m={};return m.domEventName=l,m.fullKey=f,m}static getEventFullKey(e){let o="",l=function rl(i){let r=i.key;if(null==r){if(r=i.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===i.location&&si.hasOwnProperty(r)&&(r=si[r]))}return bu[r]||r}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Ho.forEach(d=>{d!=l&&or[d](e)&&(o+=d+".")}),o+=l,o}static eventCallback(e,o,l){return d=>{i.getEventFullKey(d)===e&&l.runGuarded(()=>o(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(y.LFG(ve))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const vn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:"browser"},{provide:y.g9A,useValue:function Iu(){Za.makeCurrent(),el.init()},multi:!0},{provide:ve,useFactory:function Qs(){return(0,y.RDi)(document),document},deps:[]}]),Rr=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function ud(){return new y.qLn},deps:[]},{provide:is,useClass:st,multi:!0,deps:[ve,y.R0b,y.Lbi]},{provide:is,useClass:Zs,multi:!0,deps:[ve]},{provide:Ys,useClass:Ys,deps:[Gs,Si,y.AFp]},{provide:y.FYo,useExisting:Ys},{provide:yn,useExisting:Si},{provide:Si,useClass:Si,deps:[ve]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b]},{provide:Gs,useClass:Gs,deps:[is,y.R0b]},{provide:class rs{},useClass:Dt,deps:[]}];let Tu=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:y.AFp,useValue:e.appId},{provide:Xa,useExisting:y.AFp},Du]}}}return i.\u0275fac=function(e){return new(e||i)(y.LFG(i,12))},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({providers:Rr,imports:[Uh,y.hGG]}),i})();"undefined"!=typeof window&&window;var oi=P(773),Gt=P(76),cs=P(669);function Re(...i){const r=(0,cs.yG)(i);return(0,Gt.D)(i,r)}var ar=P(579);class Fn extends ar.x{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const e=super._subscribe(r);return!e.closed&&r.next(this._value),e}getValue(){const{hasError:r,thrownError:e,_value:o}=this;if(r)throw e;return this._throwIfClosed(),o}next(r){super.next(this._value=r)}}var eo=P(306);const{isArray:pd}=Array,{getPrototypeOf:Fu,prototype:Gh,keys:ds}=Object;var ai=P(671),St=P(4);const{isArray:In}=Array;var cn=P(403),Yo=P(672);function qh(...i){const r=(0,cs.yG)(i),e=(0,cs.jO)(i),{args:o,keys:l}=function ku(i){if(1===i.length){const r=i[0];if(pd(r))return{args:r,keys:null};if(function ll(i){return i&&"object"==typeof i&&Fu(i)===Gh}(r)){const e=ds(r);return{args:e.map(o=>r[o]),keys:e}}}return{args:i,keys:null}}(i);if(0===o.length)return(0,Gt.D)([],r);const d=new eo.y(function Ko(i,r,e=ai.y){return o=>{ul(r,()=>{const{length:l}=i,d=new Array(l);let f=l,m=l;for(let D=0;D<l;D++)ul(r,()=>{const b=(0,Gt.D)(i[D],r);let N=!1;b.subscribe((0,cn.x)(o,A=>{d[D]=A,N||(N=!0,m--),m||o.next(e(d.slice()))},()=>{--f||o.complete()}))},o)},o)}}(o,r,l?f=>function hs(i,r){return i.reduce((e,o,l)=>(e[o]=r[l],e),{})}(l,f):ai.y));return e?d.pipe(function gd(i){return(0,St.U)(r=>function fs(i,r){return In(r)?i(...r):i(r)}(i,r))}(e)):d}function ul(i,r,e){i?(0,Yo.f)(e,i,r):r()}var to=P(576);function no(i,r){const e=(0,to.m)(i)?i:()=>i,o=l=>l.error(e());return new eo.y(r?l=>r.schedule(o,0,l):o)}const ps=(0,P(888).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});var gs=P(189);function li(...i){return function Zo(){return(0,gs.J)(1)}()((0,Gt.D)(i,(0,cs.yG)(i)))}var cl=P(421);function ro(i){return new eo.y(r=>{(0,cl.Xf)(i()).subscribe(r)})}var ui=P(515),io=P(727),Tn=P(482);function Qo(){return(0,Tn.e)((i,r)=>{let e=null;i._refCount++;const o=(0,cn.x)(r,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const l=i._connection,d=e;e=null,l&&(!d||l===d)&&l.unsubscribe(),r.unsubscribe()});i.subscribe(o),o.closed||(e=i.connect())})}class md extends eo.y{constructor(r,e){super(),this.source=r,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Tn.A)(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:r}=this;this._subject=this._connection=null,null==r||r.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new io.w0;const e=this.getSubject();r.add(this.source.subscribe((0,cn.x)(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),r.closed&&(this._connection=null,r=io.w0.EMPTY)}return r}refCount(){return Qo()(this)}}function zn(i,r){return(0,Tn.e)((e,o)=>{let l=null,d=0,f=!1;const m=()=>f&&!l&&o.complete();e.subscribe((0,cn.x)(o,D=>{null==l||l.unsubscribe();let b=0;const N=d++;(0,cl.Xf)(i(D,N)).subscribe(l=(0,cn.x)(o,A=>o.next(r?r(D,A,N,b++):A),()=>{l=null,m()}))},()=>{f=!0,m()}))})}function xi(i){return i<=0?()=>ui.E:(0,Tn.e)((r,e)=>{let o=0;r.subscribe((0,cn.x)(e,l=>{++o<=i&&(e.next(l),i<=o&&e.complete())}))})}function Jo(i,r,e,o,l){return(d,f)=>{let m=e,D=r,b=0;d.subscribe((0,cn.x)(f,N=>{const A=b++;D=m?i(D,N,A):(m=!0,N),o&&f.next(D)},l&&(()=>{m&&f.next(D),f.complete()})))}}function Xo(i,r){return(0,Tn.e)(Jo(i,r,arguments.length>=2,!0))}function Wn(i,r){return(0,Tn.e)((e,o)=>{let l=0;e.subscribe((0,cn.x)(o,d=>i.call(r,d,l++)&&o.next(d)))})}function ci(i){return(0,Tn.e)((r,e)=>{let d,o=null,l=!1;o=r.subscribe((0,cn.x)(e,void 0,void 0,f=>{d=(0,cl.Xf)(i(f,ci(i)(r))),o?(o.unsubscribe(),o=null,d.subscribe(e)):l=!0})),l&&(o.unsubscribe(),o=null,d.subscribe(e))})}var zt=P(577);function Pi(i,r){return(0,to.m)(r)?(0,zt.z)(i,r,1):(0,zt.z)(i,1)}function _r(i){return i<=0?()=>ui.E:(0,Tn.e)((r,e)=>{let o=[];r.subscribe((0,cn.x)(e,l=>{o.push(l),i<o.length&&o.shift()},()=>{for(const l of o)e.next(l);e.complete()},void 0,()=>{o=null}))})}function Ri(i=Sn){return(0,Tn.e)((r,e)=>{let o=!1;r.subscribe((0,cn.x)(e,l=>{o=!0,e.next(l)},()=>o?e.complete():e.error(i())))})}function Sn(){return new ps}function ea(i){return(0,Tn.e)((r,e)=>{let o=!1;r.subscribe((0,cn.x)(e,l=>{o=!0,e.next(l)},()=>{o||e.next(i),e.complete()}))})}function An(i,r){const e=arguments.length>=2;return o=>o.pipe(i?Wn((l,d)=>i(l,d,o)):ai.y,xi(1),e?ea(r):Ri(()=>new ps))}function kn(i,r,e){const o=(0,to.m)(i)||r||e?{next:i,error:r,complete:e}:i;return o?(0,Tn.e)((l,d)=>{var f;null===(f=o.subscribe)||void 0===f||f.call(o);let m=!0;l.subscribe((0,cn.x)(d,D=>{var b;null===(b=o.next)||void 0===b||b.call(o,D),d.next(D)},()=>{var D;m=!1,null===(D=o.complete)||void 0===D||D.call(o),d.complete()},D=>{var b;m=!1,null===(b=o.error)||void 0===b||b.call(o,D),d.error(D)},()=>{var D,b;m&&(null===(D=o.unsubscribe)||void 0===D||D.call(o)),null===(b=o.finalize)||void 0===b||b.call(o)}))}):ai.y}class nt{constructor(r,e){this.id=r,this.url=e}}class so extends nt{constructor(r,e,o="imperative",l=null){super(r,e),this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fl extends nt{constructor(r,e,o){super(r,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _d extends nt{constructor(r,e,o){super(r,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yh extends nt{constructor(r,e,o){super(r,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qm extends nt{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kh extends nt{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zh extends nt{constructor(r,e,o,l,d){super(r,e),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oi extends nt{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jm extends nt{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qt{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hl{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class na{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xm{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yd{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gn{constructor(r,e,o){this.routerEvent=r,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Je="primary";class ra{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ur(i){return new ra(i)}const oo="ngNavigationCancelingError";function ao(i){const r=Error("NavigationCancelingError: "+i);return r[oo]=!0,r}function Bu(i,r,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(r.hasChildren()||o.length<i.length))return null;const l={};for(let d=0;d<o.length;d++){const f=o[d],m=i[d];if(f.startsWith(":"))l[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:i.slice(0,o.length),posParams:l}}function Ln(i,r){const e=i?Object.keys(i):void 0,o=r?Object.keys(r):void 0;if(!e||!o||e.length!=o.length)return!1;let l;for(let d=0;d<e.length;d++)if(l=e[d],!dn(i[l],r[l]))return!1;return!0}function dn(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;const e=[...i].sort(),o=[...r].sort();return e.every((l,d)=>o[d]===l)}return i===r}function gl(i){return Array.prototype.concat.apply([],i)}function ms(i){return i.length>0?i[i.length-1]:null}function nn(i,r){for(const e in i)i.hasOwnProperty(e)&&r(i[e],e)}function Fr(i){return(0,y.CqO)(i)?i:(0,y.QGY)(i)?(0,Gt.D)(Promise.resolve(i)):Re(i)}const Qh={exact:function ia(i,r,e){if(!Ni(i.segments,r.segments)||!ys(i.segments,r.segments,e)||i.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!i.children[o]||!ia(i.children[o],r.children[o],e))return!1;return!0},subset:Jh},Uu={exact:function di(i,r){return Ln(i,r)},subset:function yr(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(e=>dn(i[e],r[e]))},ignored:()=>!0};function vd(i,r,e){return Qh[e.paths](i.root,r.root,e.matrixParams)&&Uu[e.queryParams](i.queryParams,r.queryParams)&&!("exact"===e.fragment&&i.fragment!==r.fragment)}function Jh(i,r,e){return lo(i,r,r.segments,e)}function lo(i,r,e,o){if(i.segments.length>e.length){const l=i.segments.slice(0,e.length);return!(!Ni(l,e)||r.hasChildren()||!ys(l,e,o))}if(i.segments.length===e.length){if(!Ni(i.segments,e)||!ys(i.segments,e,o))return!1;for(const l in r.children)if(!i.children[l]||!Jh(i.children[l],r.children[l],o))return!1;return!0}{const l=e.slice(0,i.segments.length),d=e.slice(i.segments.length);return!!(Ni(i.segments,l)&&ys(i.segments,l,o)&&i.children[Je])&&lo(i.children[Je],r,d,o)}}function ys(i,r,e){return r.every((o,l)=>Uu[e](i[l].parameters,o.parameters))}class vr{constructor(r,e,o){this.root=r,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}toString(){return Vu.serialize(this)}}class ot{constructor(r,e){this.segments=r,this.children=e,this.parent=null,nn(e,(o,l)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ht(this)}}class sa{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ur(this.parameters)),this._parameterMap}toString(){return g(this)}}function Ni(i,r){return i.length===r.length&&i.every((e,o)=>e.path===r[o].path)}class Fi{}class oa{parse(r){const e=new be(r);return new vr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){const e=`/${vs(r.root,!0)}`,o=function w(i){const r=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(l=>`${Cs(e)}=${Cs(l)}`).join("&"):`${Cs(e)}=${Cs(o)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams);return`${e}${o}${"string"==typeof r.fragment?`#${function aa(i){return encodeURI(i)}(r.fragment)}`:""}`}}const Vu=new oa;function Ht(i){return i.segments.map(r=>g(r)).join("/")}function vs(i,r){if(!i.hasChildren())return Ht(i);if(r){const e=i.children[Je]?vs(i.children[Je],!1):"",o=[];return nn(i.children,(l,d)=>{d!==Je&&o.push(`${d}:${vs(l,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function Xh(i,r){let e=[];return nn(i.children,(o,l)=>{l===Je&&(e=e.concat(r(o,l)))}),nn(i.children,(o,l)=>{l!==Je&&(e=e.concat(r(o,l)))}),e}(i,(o,l)=>l===Je?[vs(i.children[Je],!1)]:[`${l}:${vs(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Je]?`${Ht(i)}/${e[0]}`:`${Ht(i)}/(${e.join("//")})`}}function Hu(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cs(i){return Hu(i).replace(/%3B/gi,";")}function ml(i){return Hu(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function la(i){return decodeURIComponent(i)}function _l(i){return la(i.replace(/\+/g,"%20"))}function g(i){return`${ml(i.path)}${function v(i){return Object.keys(i).map(r=>`;${ml(r)}=${ml(i[r])}`).join("")}(i.parameters)}`}const T=/^[^\/()?;=#]+/;function k(i){const r=i.match(T);return r?r[0]:""}const z=/^[^=?&#]+/,ue=/^[^&#]+/;class be{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ot([],{}):new ot([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(o[Je]=new ot(r,e)),o}parseSegment(){const r=k(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new sa(la(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=k(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const l=k(this.remaining);l&&(o=l,this.capture(o))}r[la(e)]=la(o)}parseQueryParam(r){const e=function ee(i){const r=i.match(z);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const f=function xe(i){const r=i.match(ue);return r?r[0]:""}(this.remaining);f&&(o=f,this.capture(o))}const l=_l(e),d=_l(o);if(r.hasOwnProperty(l)){let f=r[l];Array.isArray(f)||(f=[f],r[l]=f),f.push(d)}else r[l]=d}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=k(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;o.indexOf(":")>-1?(d=o.substr(0,o.indexOf(":")),this.capture(d),this.capture(":")):r&&(d=Je);const f=this.parseChildren();e[d]=1===Object.keys(f).length?f[Je]:new ot([],f),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class Fe{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=Ie(r,this._root);return e?e.children.map(o=>o.value):[]}firstChild(r){const e=Ie(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=ct(r,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==r)}pathFromRoot(r){return ct(r,this._root).map(e=>e.value)}}function Ie(i,r){if(i===r.value)return r;for(const e of r.children){const o=Ie(i,e);if(o)return o}return null}function ct(i,r){if(i===r.value)return[r];for(const e of r.children){const o=ct(i,e);if(o.length)return o.unshift(r),o}return[]}class pt{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function kr(i){const r={};return i&&i.children.forEach(e=>r[e.value.outlet]=e),r}class ki extends Fe{constructor(r,e){super(r),this.snapshot=e,ws(this,r)}toString(){return this.snapshot.toString()}}function Li(i,r){const e=function ep(i,r){const f=new qn([],{},{},"",{},Je,r,null,i.root,-1,{});return new uo("",new pt(f,[]))}(i,r),o=new Fn([new sa("",{})]),l=new Fn({}),d=new Fn({}),f=new Fn({}),m=new Fn(""),D=new Lr(o,l,f,m,d,Je,r,e.root);return D.snapshot=e.root,new ki(new pt(D,[]),e)}class Lr{constructor(r,e,o,l,d,f,m,D){this.url=r,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=f,this.component=m,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(r=>ur(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(r=>ur(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ds(i,r="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==r)for(o=e.length-1;o>=1;){const l=e[o],d=e[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(d.component)break;o--}}return function Bi(i){return i.reduce((r,e)=>({params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class qn{constructor(r,e,o,l,d,f,m,D,b,N,A){this.url=r,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=f,this.component=m,this.routeConfig=D,this._urlSegment=b,this._lastPathIndex=N,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ur(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uo extends Fe{constructor(r,e){super(e),this.url=r,ws(this,e)}toString(){return tp(this._root)}}function ws(i,r){r.value._routerState=i,r.children.forEach(e=>ws(i,e))}function tp(i){const r=i.children.length>0?` { ${i.children.map(tp).join(", ")} } `:"";return`${i.value}${r}`}function Dd(i){if(i.snapshot){const r=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Ln(r.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),r.fragment!==e.fragment&&i.fragment.next(e.fragment),Ln(r.params,e.params)||i.params.next(e.params),function ju(i,r){if(i.length!==r.length)return!1;for(let e=0;e<i.length;++e)if(!Ln(i[e],r[e]))return!1;return!0}(r.url,e.url)||i.url.next(e.url),Ln(r.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function np(i,r){const e=Ln(i.params,r.params)&&function Cd(i,r){return Ni(i,r)&&i.every((e,o)=>Ln(e.parameters,r[o].parameters))}(i.url,r.url);return e&&!(!i.parent!=!r.parent)&&(!i.parent||np(i.parent,r.parent))}function co(i,r,e){if(e&&i.shouldReuseRoute(r.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=r.value;const l=function rp(i,r,e){return r.children.map(o=>{for(const l of e.children)if(i.shouldReuseRoute(o.value,l.value.snapshot))return co(i,o,l);return co(i,o)})}(i,r,e);return new pt(o,l)}{if(i.shouldAttach(r.value)){const d=i.retrieve(r.value);if(null!==d){const f=d.route;return f.value._futureSnapshot=r.value,f.children=r.children.map(m=>co(i,m)),f}}const o=function ip(i){return new Lr(new Fn(i.url),new Fn(i.params),new Fn(i.queryParams),new Fn(i.fragment),new Fn(i.data),i.outlet,i.component,i)}(r.value),l=r.children.map(d=>co(i,d));return new pt(o,l)}}function yl(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function vl(i){return"object"==typeof i&&null!=i&&i.outlets}function wd(i,r,e,o,l){let d={};if(o&&nn(o,(m,D)=>{d[D]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`}),i===r)return new vr(e,d,l);const f=op(i,r,e);return new vr(f,d,l)}function op(i,r,e){const o={};return nn(i.children,(l,d)=>{o[d]=l===r?e:op(l,r,e)}),new ot(i.segments,o)}class ap{constructor(r,e,o){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=o,r&&o.length>0&&yl(o[0]))throw new Error("Root segment cannot have matrix parameters");const l=o.find(vl);if(l&&l!==ms(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fi{constructor(r,e,o){this.segmentGroup=r,this.processChildren=e,this.index=o}}function n_(i,r,e){if(i||(i=new ot([],{})),0===i.segments.length&&i.hasChildren())return Ed(i,r,e);const o=function dC(i,r,e){let o=0,l=r;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(o>=e.length)return d;const f=i.segments[l],m=e[o];if(vl(m))break;const D=`${m}`,b=o<e.length-1?e[o+1]:null;if(l>0&&void 0===D)break;if(D&&b&&"object"==typeof b&&void 0===b.outlets){if(!dp(D,b,f))return d;o+=2}else{if(!dp(D,{},f))return d;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(i,r,e),l=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const d=new ot(i.segments.slice(0,o.pathIndex),{});return d.children[Je]=new ot(i.segments.slice(o.pathIndex),i.children),Ed(d,0,l)}return o.match&&0===l.length?new ot(i.segments,{}):o.match&&!i.hasChildren()?lp(i,r,e):o.match?Ed(i,0,l):lp(i,r,e)}function Ed(i,r,e){if(0===e.length)return new ot(i.segments,{});{const o=function cC(i){return vl(i[0])?i[0].outlets:{[Je]:i}}(e),l={};return nn(o,(d,f)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[f]=n_(i.children[f],r,d))}),nn(i.children,(d,f)=>{void 0===o[f]&&(l[f]=d)}),new ot(i.segments,l)}}function lp(i,r,e){const o=i.segments.slice(0,r);let l=0;for(;l<e.length;){const d=e[l];if(vl(d)){const D=up(d.outlets);return new ot(o,D)}if(0===l&&yl(e[0])){o.push(new sa(i.segments[r].path,cp(e[0]))),l++;continue}const f=vl(d)?d.outlets[Je]:`${d}`,m=l<e.length-1?e[l+1]:null;f&&m&&yl(m)?(o.push(new sa(f,cp(m))),l+=2):(o.push(new sa(f,{})),l++)}return new ot(o,{})}function up(i){const r={};return nn(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[o]=lp(new ot([],{}),0,e))}),r}function cp(i){const r={};return nn(i,(e,o)=>r[o]=`${e}`),r}function dp(i,r,e){return i==e.path&&Ln(r,e.parameters)}class i_{constructor(r,e,o,l){this.routeReuseStrategy=r,this.futureState=e,this.currState=o,this.forwardEvent=l}activate(r){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,r),Dd(this.futureState.root),this.activateChildRoutes(e,o,r)}deactivateChildRoutes(r,e,o){const l=kr(e);r.children.forEach(d=>{const f=d.value.outlet;this.deactivateRoutes(d,l[f],o),delete l[f]}),nn(l,(d,f)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(r,e,o){const l=r.value,d=e?e.value:null;if(l===d)if(l.component){const f=o.getContext(l.outlet);f&&this.deactivateChildRoutes(r,e,f.children)}else this.deactivateChildRoutes(r,e,o);else d&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const o=e.getContext(r.value.outlet),l=o&&r.value.component?o.children:e,d=kr(r);for(const f of Object.keys(d))this.deactivateRouteAndItsChildren(d[f],l);if(o&&o.outlet){const f=o.outlet.detach(),m=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:f,route:r,contexts:m})}}deactivateRouteAndOutlet(r,e){const o=e.getContext(r.value.outlet),l=o&&r.value.component?o.children:e,d=kr(r);for(const f of Object.keys(d))this.deactivateRouteAndItsChildren(d[f],l);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,e,o){const l=kr(e);r.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],o),this.forwardEvent(new lr(d.value.snapshot))}),r.children.length&&this.forwardEvent(new Xm(r.value.snapshot))}activateRoutes(r,e,o){const l=r.value,d=e?e.value:null;if(Dd(l),l===d)if(l.component){const f=o.getOrCreateContext(l.outlet);this.activateChildRoutes(r,e,f.children)}else this.activateChildRoutes(r,e,o);else if(l.component){const f=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const m=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),Dd(m.route.value),this.activateChildRoutes(r,null,f.children)}else{const m=function fC(i){for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),D=m?m.module.componentFactoryResolver:null;f.attachRef=null,f.route=l,f.resolver=D,f.outlet&&f.outlet.activateWith(l,D),this.activateChildRoutes(r,null,f.children)}}else this.activateChildRoutes(r,null,o)}}class bd{constructor(r,e){this.routes=r,this.module=e}}function Br(i){return"function"==typeof i}function Mn(i){return i instanceof vr}const zu=Symbol("INITIAL_VALUE");function Wu(){return zn(i=>qh(i.map(r=>r.pipe(xi(1),function dl(...i){const r=(0,cs.yG)(i);return(0,Tn.e)((e,o)=>{(r?li(i,e,r):li(i,e)).subscribe(o)})}(zu)))).pipe(Xo((r,e)=>{let o=!1;return e.reduce((l,d,f)=>l!==zu?l:(d===zu&&(o=!0),o||!1!==d&&f!==e.length-1&&!Mn(d)?l:d),r)},zu),Wn(r=>r!==zu),(0,St.U)(r=>Mn(r)?r:!0===r),xi(1)))}class hC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fo,this.attachRef=null}}class fo{constructor(){this.contexts=new Map}onChildOutletCreated(r,e){const o=this.getOrCreateContext(r);o.outlet=e,this.contexts.set(r,o)}onChildOutletDestroyed(r){const e=this.getContext(r);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let e=this.getContext(r);return e||(e=new hC,this.contexts.set(r,e)),e}getContext(r){return this.contexts.get(r)||null}}let wl=(()=>{class i{constructor(e,o,l,d,f){this.parentContexts=e,this.location=o,this.resolver=l,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.name=d||Je,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,D=new Id(e,m,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(y.Y36(fo),y.Y36(y.s_b),y.Y36(y._Vd),y.$8M("name"),y.Y36(y.sBO))},i.\u0275dir=y.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class Id{constructor(r,e,o){this.route=r,this.childContexts=e,this.parent=o}get(r,e){return r===Lr?this.route:r===fo?this.childContexts:this.parent.get(r,e)}}let s_=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&y._UZ(0,"router-outlet")},directives:[wl],encapsulation:2}),i})();function o_(i,r=""){for(let e=0;e<i.length;e++){const o=i[e];mp(o,a_(r,o))}}function mp(i,r){i.children&&o_(i.children,r)}function a_(i,r){return r?i||r.path?i&&!r.path?`${i}/`:!i&&r.path?r.path:`${i}/${r.path}`:"":i}function Td(i){const r=i.children&&i.children.map(Td),e=r?Object.assign(Object.assign({},i),{children:r}):Object.assign({},i);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==Je&&(e.component=s_),e}function Cr(i){return i.outlet||Je}function _p(i,r){const e=i.filter(o=>Cr(o)===r);return e.push(...i.filter(o=>Cr(o)!==r)),e}const Sd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ho(i,r,e){var o;if(""===r.path)return"full"===r.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},Sd):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const d=(r.matcher||Bu)(e,i,r);if(!d)return Object.assign({},Sd);const f={};nn(d.posParams,(D,b)=>{f[b]=D.path});const m=d.consumed.length>0?Object.assign(Object.assign({},f),d.consumed[d.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:d.consumed,remainingSegments:e.slice(d.consumed.length),parameters:m,positionalParamSegments:null!==(o=d.posParams)&&void 0!==o?o:{}}}function Gu(i,r,e,o,l="corrected"){if(e.length>0&&function Zt(i,r,e){return e.some(o=>qu(i,r,o)&&Cr(o)!==Je)}(i,e,o)){const f=new ot(r,function l_(i,r,e,o){const l={};l[Je]=o,o._sourceSegment=i,o._segmentIndexShift=r.length;for(const d of e)if(""===d.path&&Cr(d)!==Je){const f=new ot([],{});f._sourceSegment=i,f._segmentIndexShift=r.length,l[Cr(d)]=f}return l}(i,r,o,new ot(e,i.children)));return f._sourceSegment=i,f._segmentIndexShift=r.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function u_(i,r,e){return e.some(o=>qu(i,r,o))}(i,e,o)){const f=new ot(i.segments,function Ad(i,r,e,o,l,d){const f={};for(const m of o)if(qu(i,e,m)&&!l[Cr(m)]){const D=new ot([],{});D._sourceSegment=i,D._segmentIndexShift="legacy"===d?i.segments.length:r.length,f[Cr(m)]=D}return Object.assign(Object.assign({},l),f)}(i,r,e,o,i.children,l));return f._sourceSegment=i,f._segmentIndexShift=r.length,{segmentGroup:f,slicedSegments:e}}const d=new ot(i.segments,i.children);return d._sourceSegment=i,d._segmentIndexShift=r.length,{segmentGroup:d,slicedSegments:e}}function qu(i,r,e){return(!(i.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function Yu(i,r,e,o){return!!(Cr(i)===o||o!==Je&&qu(r,e,i))&&("**"===i.path||ho(r,i,e).matched)}function Md(i,r,e){return 0===r.length&&!i.children[e]}class Ku{constructor(r){this.segmentGroup=r||null}}class yp{constructor(r){this.urlTree=r}}function El(i){return no(new Ku(i))}function vp(i){return no(new yp(i))}class bl{constructor(r,e,o,l,d){this.configLoader=e,this.urlSerializer=o,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=r.get(y.h0i)}apply(){const r=Gu(this.urlTree.root,[],[],this.config).segmentGroup,e=new ot(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Je).pipe((0,St.U)(d=>this.createUrlTree(Il(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ci(d=>{if(d instanceof yp)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Ku?this.noMatchError(d):d}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,Je).pipe((0,St.U)(l=>this.createUrlTree(Il(l),r.queryParams,r.fragment))).pipe(ci(l=>{throw l instanceof Ku?this.noMatchError(l):l}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,e,o){const l=r.segments.length>0?new ot([],{[Je]:r}):r;return new vr(l,e,o)}expandSegmentGroup(r,e,o,l){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,e,o).pipe((0,St.U)(d=>new ot([],d))):this.expandSegment(r,o,e,o.segments,l,!0)}expandChildren(r,e,o){const l=[];for(const d of Object.keys(o.children))"primary"===d?l.unshift(d):l.push(d);return(0,Gt.D)(l).pipe(Pi(d=>{const f=o.children[d],m=_p(e,d);return this.expandSegmentGroup(r,m,f,d).pipe((0,St.U)(D=>({segment:D,outlet:d})))}),Xo((d,f)=>(d[f.outlet]=f.segment,d),{}),function ta(i,r){const e=arguments.length>=2;return o=>o.pipe(i?Wn((l,d)=>i(l,d,o)):ai.y,_r(1),e?ea(r):Ri(()=>new ps))}())}expandSegment(r,e,o,l,d,f){return(0,Gt.D)(o).pipe(Pi(m=>this.expandSegmentAgainstRoute(r,e,o,m,l,d,f).pipe(ci(b=>{if(b instanceof Ku)return Re(null);throw b}))),An(m=>!!m),ci((m,D)=>{if(m instanceof ps||"EmptyError"===m.name)return Md(e,l,d)?Re(new ot([],{})):El(e);throw m}))}expandSegmentAgainstRoute(r,e,o,l,d,f,m){return Yu(l,e,d,f)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(r,e,l,d,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,o,l,d,f):El(e):El(e)}expandSegmentAgainstRouteUsingRedirect(r,e,o,l,d,f){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,l,f):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,l,d,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,o,l){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?vp(d):this.lineralizeSegments(o,d).pipe((0,zt.z)(f=>{const m=new ot(f,{});return this.expandSegment(r,m,e,f,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,l,d,f){const{matched:m,consumedSegments:D,remainingSegments:b,positionalParamSegments:N}=ho(e,l,d);if(!m)return El(e);const A=this.applyRedirectCommands(D,l.redirectTo,N);return l.redirectTo.startsWith("/")?vp(A):this.lineralizeSegments(l,A).pipe((0,zt.z)($=>this.expandSegment(r,e,o,$.concat(b),f,!1)))}matchSegmentAgainstRoute(r,e,o,l,d){if("**"===o.path)return o.loadChildren?(o._loadedConfig?Re(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,St.U)(A=>(o._loadedConfig=A,new ot(l,{})))):Re(new ot(l,{}));const{matched:f,consumedSegments:m,remainingSegments:D}=ho(e,o,l);return f?this.getChildConfig(r,o,l).pipe((0,zt.z)(N=>{const A=N.module,$=N.routes,{segmentGroup:Q,slicedSegments:ye}=Gu(e,m,D,$),qe=new ot(Q.segments,Q.children);if(0===ye.length&&qe.hasChildren())return this.expandChildren(A,$,qe).pipe((0,St.U)(Bs=>new ot(m,Bs)));if(0===$.length&&0===ye.length)return Re(new ot(m,{}));const Et=Cr(o)===d;return this.expandSegment(A,qe,$,ye,Et?Je:d,!0).pipe((0,St.U)(Qt=>new ot(m.concat(Qt.segments),Qt.children)))})):El(e)}getChildConfig(r,e,o){return e.children?Re(new bd(e.children,r)):e.loadChildren?void 0!==e._loadedConfig?Re(e._loadedConfig):this.runCanLoadGuards(r.injector,e,o).pipe((0,zt.z)(l=>l?this.configLoader.load(r.injector,e).pipe((0,St.U)(d=>(e._loadedConfig=d,d))):function pC(i){return no(ao(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))}(e))):Re(new bd([],r))}runCanLoadGuards(r,e,o){const l=e.canLoad;return l&&0!==l.length?Re(l.map(f=>{const m=r.get(f);let D;if(function Dl(i){return i&&Br(i.canLoad)}(m))D=m.canLoad(e,o);else{if(!Br(m))throw new Error("Invalid CanLoad guard");D=m(e,o)}return Fr(D)})).pipe(Wu(),kn(f=>{if(!Mn(f))return;const m=ao(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw m.url=f,m}),(0,St.U)(f=>!0===f)):Re(!0)}lineralizeSegments(r,e){let o=[],l=e.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return Re(o);if(l.numberOfChildren>1||!l.children[Je])return no(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r.redirectTo}'`));l=l.children[Je]}}applyRedirectCommands(r,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,o)}applyRedirectCreatreUrlTree(r,e,o,l){const d=this.createSegmentGroup(r,e.root,o,l);return new vr(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const o={};return nn(r,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const m=l.substring(1);o[d]=e[m]}else o[d]=l}),o}createSegmentGroup(r,e,o,l){const d=this.createSegments(r,e.segments,o,l);let f={};return nn(e.children,(m,D)=>{f[D]=this.createSegmentGroup(r,m,o,l)}),new ot(d,f)}createSegments(r,e,o,l){return e.map(d=>d.path.startsWith(":")?this.findPosParam(r,d,l):this.findOrReturn(d,o))}findPosParam(r,e,o){const l=o[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${r}'. Cannot find '${e.path}'.`);return l}findOrReturn(r,e){let o=0;for(const l of e){if(l.path===r.path)return e.splice(o),l;o++}return r}}function Il(i){const r={};for(const o of Object.keys(i.children)){const d=Il(i.children[o]);(d.segments.length>0||d.hasChildren())&&(r[o]=d)}return function Bn(i){if(1===i.numberOfChildren&&i.children[Je]){const r=i.children[Je];return new ot(i.segments.concat(r.segments),r.children)}return i}(new ot(i.segments,r))}class xd{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class rn{constructor(r,e){this.component=r,this.route=e}}function Tl(i,r,e){const o=i._root;return ua(o,r?r._root:null,e,[o.value])}function Zu(i,r,e){const o=function d_(i){if(!i)return null;for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(o?o.module.injector:e).get(i)}function ua(i,r,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=kr(r);return i.children.forEach(f=>{(function f_(i,r,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=i.value,f=r?r.value:null,m=e?e.getContext(i.value.outlet):null;if(f&&d.routeConfig===f.routeConfig){const D=function Dp(i,r,e){if("function"==typeof e)return e(i,r);switch(e){case"pathParamsChange":return!Ni(i.url,r.url);case"pathParamsOrQueryParamsChange":return!Ni(i.url,r.url)||!Ln(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!np(i,r)||!Ln(i.queryParams,r.queryParams);default:return!np(i,r)}}(f,d,d.routeConfig.runGuardsAndResolvers);D?l.canActivateChecks.push(new xd(o)):(d.data=f.data,d._resolvedData=f._resolvedData),ua(i,r,d.component?m?m.children:null:e,o,l),D&&m&&m.outlet&&m.outlet.isActivated&&l.canDeactivateChecks.push(new rn(m.outlet.component,f))}else f&&Sl(r,m,l),l.canActivateChecks.push(new xd(o)),ua(i,null,d.component?m?m.children:null:e,o,l)})(f,d[f.value.outlet],e,o.concat([f.value]),l),delete d[f.value.outlet]}),nn(d,(f,m)=>Sl(f,e.getContext(m),l)),l}function Sl(i,r,e){const o=kr(i),l=i.value;nn(o,(d,f)=>{Sl(d,l.component?r?r.children.getContext(f):null:r,e)}),e.canDeactivateChecks.push(new rn(l.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,l))}class y_{}function Al(i){return new eo.y(r=>r.error(i))}class C_{constructor(r,e,o,l,d,f){this.rootComponentType=r,this.config=e,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f}recognize(){const r=Gu(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,Je);if(null===e)return null;const o=new qn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Je,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new pt(o,e),d=new uo(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(r){const e=r.value,o=Ds(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),r.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(r,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,o)}processChildren(r,e){const o=[];for(const d of Object.keys(e.children)){const f=e.children[d],m=_p(r,d),D=this.processSegmentGroup(m,f,d);if(null===D)return null;o.push(...D)}const l=Nd(o);return function D_(i){i.sort((r,e)=>r.value.outlet===Je?-1:e.value.outlet===Je?1:r.value.outlet.localeCompare(e.value.outlet))}(l),l}processSegment(r,e,o,l){for(const d of r){const f=this.processSegmentAgainstRoute(d,e,o,l);if(null!==f)return f}return Md(e,o,l)?[]:null}processSegmentAgainstRoute(r,e,o,l){if(r.redirectTo||!Yu(r,e,o,l))return null;let d,f=[],m=[];if("**"===r.path){const Q=o.length>0?ms(o).parameters:{};d=new qn(o,Q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ip(r),Cr(r),r.component,r,Ep(e),bp(e)+o.length,Tp(r))}else{const Q=ho(e,r,o);if(!Q.matched)return null;f=Q.consumedSegments,m=Q.remainingSegments,d=new qn(f,Q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ip(r),Cr(r),r.component,r,Ep(e),bp(e)+f.length,Tp(r))}const D=function w_(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(r),{segmentGroup:b,slicedSegments:N}=Gu(e,f,m,D.filter(Q=>void 0===Q.redirectTo),this.relativeLinkResolution);if(0===N.length&&b.hasChildren()){const Q=this.processChildren(D,b);return null===Q?null:[new pt(d,Q)]}if(0===D.length&&0===N.length)return[new pt(d,[])];const A=Cr(r)===l,$=this.processSegment(D,b,N,A?Je:l);return null===$?null:[new pt(d,$)]}}function E_(i){const r=i.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function Nd(i){const r=[],e=new Set;for(const o of i){if(!E_(o)){r.push(o);continue}const l=r.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...o.children),e.add(l)):r.push(o)}for(const o of e){const l=Nd(o.children);r.push(new pt(o.value,l))}return r.filter(o=>!e.has(o))}function Ep(i){let r=i;for(;r._sourceSegment;)r=r._sourceSegment;return r}function bp(i){let r=i,e=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift?r._segmentIndexShift:0;return e-1}function Ip(i){return i.data||{}}function Tp(i){return i.resolve||{}}function jr(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function Sp(i){return zn(r=>{const e=i(r);return e?(0,Gt.D)(e).pipe((0,St.U)(()=>r)):Re(r)})}class hi extends class yC{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const Ml=new y.OlP("ROUTES");class Qu{constructor(r,e,o,l){this.injector=r,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=l}load(r,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,St.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=d.create(r);return new bd(gl(f.injector.get(Ml,void 0,y.XFs.Self|y.XFs.Optional)).map(Td),f)}),ci(d=>{throw e._loader$=void 0,d}));return e._loader$=new md(l,()=>new ar.x).pipe(Qo()),e._loader$}loadModuleFactory(r){return Fr(r()).pipe((0,zt.z)(e=>e instanceof y.YKP?Re(e):(0,Gt.D)(this.compiler.compileModuleAsync(e))))}}class Mp{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function xl(i){throw i}function xp(i,r,e){return r.parse("/")}function Fd(i,r){return Re(null)}const kd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ld={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jn=(()=>{class i{constructor(e,o,l,d,f,m,D){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=l,this.location=d,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ar.x,this.errorHandler=xl,this.malformedUriErrorHandler=xp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Fd,afterPreactivation:Fd},this.urlHandlingStrategy=new Mp,this.routeReuseStrategy=new hi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(y.h0i),this.console=f.get(y.c2e);const A=f.get(y.R0b);this.isNgZoneEnabled=A instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=function _s(){return new vr(new ot([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qu(f,m,$=>this.triggerEvent(new qt($)),$=>this.triggerEvent(new hl($))),this.routerState=Li(this.currentUrlTree,this.rootComponentType),this.transitions=new Fn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(Wn(l=>0!==l.id),(0,St.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),zn(l=>{let d=!1,f=!1;return Re(l).pipe(kn(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zn(m=>{const D=this.browserUrlTree.toString(),b=!this.navigated||m.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return po(m.source)&&(this.browserUrlTree=m.extractedUrl),Re(m).pipe(zn(A=>{const $=this.transitions.getValue();return o.next(new so(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),$!==this.transitions.getValue()?ui.E:Promise.resolve(A)}),function Cp(i,r,e,o){return zn(l=>function gC(i,r,e,o,l){return new bl(i,r,e,o,l).apply()}(i,r,e,l.extractedUrl,o).pipe((0,St.U)(d=>Object.assign(Object.assign({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),kn(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function b_(i,r,e,o,l){return(0,zt.z)(d=>function v_(i,r,e,o,l="emptyOnly",d="legacy"){try{const f=new C_(i,r,e,o,l,d).recognize();return null===f?Al(new y_):Re(f)}catch(f){return Al(f)}}(i,r,d.urlAfterRedirects,e(d.urlAfterRedirects),o,l).pipe((0,St.U)(f=>Object.assign(Object.assign({},d),{targetSnapshot:f}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),kn(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(Q,A)}this.browserUrlTree=A.urlAfterRedirects}const $=new Qm(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);o.next($)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$,extractedUrl:Q,source:ye,restoredState:qe,extras:Et}=m,Xn=new so($,this.serializeUrl(Q),ye,qe);o.next(Xn);const Qt=Li(Q,this.rootComponentType).snapshot;return Re(Object.assign(Object.assign({},m),{targetSnapshot:Qt,urlAfterRedirects:Q,extras:Object.assign(Object.assign({},Et),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),ui.E}),Sp(m=>{const{targetSnapshot:D,id:b,extractedUrl:N,rawUrl:A,extras:{skipLocationChange:$,replaceUrl:Q}}=m;return this.hooks.beforePreactivation(D,{navigationId:b,appliedUrlTree:N,rawUrlTree:A,skipLocationChange:!!$,replaceUrl:!!Q})}),kn(m=>{const D=new Kh(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(D)}),(0,St.U)(m=>Object.assign(Object.assign({},m),{guards:Tl(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function wp(i,r){return(0,zt.z)(e=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:f}}=e;return 0===f.length&&0===d.length?Re(Object.assign(Object.assign({},e),{guardsResult:!0})):function h_(i,r,e,o){return(0,Gt.D)(i).pipe((0,zt.z)(l=>function __(i,r,e,o,l){const d=r&&r.routeConfig?r.routeConfig.canDeactivate:null;return d&&0!==d.length?Re(d.map(m=>{const D=Zu(m,r,l);let b;if(function gp(i){return i&&Br(i.canDeactivate)}(D))b=Fr(D.canDeactivate(i,r,e,o));else{if(!Br(D))throw new Error("Invalid CanDeactivate guard");b=Fr(D(i,r,e,o))}return b.pipe(An())})).pipe(Wu()):Re(!0)}(l.component,l.route,e,r,o)),An(l=>!0!==l,!0))}(f,o,l,i).pipe((0,zt.z)(m=>m&&function fp(i){return"boolean"==typeof i}(m)?function p_(i,r,e,o){return(0,Gt.D)(r).pipe(Pi(l=>li(function g_(i,r){return null!==i&&r&&r(new na(i)),Re(!0)}(l.route.parent,o),function Rd(i,r){return null!==i&&r&&r(new yd(i)),Re(!0)}(l.route,o),function Od(i,r,e){const o=r[r.length-1],d=r.slice(0,r.length-1).reverse().map(f=>function Pd(i){const r=i.routeConfig?i.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:i,guards:r}:null}(f)).filter(f=>null!==f).map(f=>ro(()=>Re(f.guards.map(D=>{const b=Zu(D,f.node,e);let N;if(function pp(i){return i&&Br(i.canActivateChild)}(b))N=Fr(b.canActivateChild(o,i));else{if(!Br(b))throw new Error("Invalid CanActivateChild guard");N=Fr(b(o,i))}return N.pipe(An())})).pipe(Wu())));return Re(d).pipe(Wu())}(i,l.path,e),function m_(i,r,e){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return Re(!0);const l=o.map(d=>ro(()=>{const f=Zu(d,r,e);let m;if(function hp(i){return i&&Br(i.canActivate)}(f))m=Fr(f.canActivate(r,i));else{if(!Br(f))throw new Error("Invalid CanActivate guard");m=Fr(f(r,i))}return m.pipe(An())}));return Re(l).pipe(Wu())}(i,l.route,e))),An(l=>!0!==l,!0))}(o,d,i,r):Re(m)),(0,St.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),kn(m=>{if(Mn(m.guardsResult)){const b=ao(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw b.url=m.guardsResult,b}const D=new Zh(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(D)}),Wn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Sp(m=>{if(m.guards.canActivateChecks.length)return Re(m).pipe(kn(D=>{const b=new Oi(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(b)}),zn(D=>{let b=!1;return Re(D).pipe(function I_(i,r){return(0,zt.z)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=e;if(!l.length)return Re(e);let d=0;return(0,Gt.D)(l).pipe(Pi(f=>function T_(i,r,e,o){return function ca(i,r,e,o){const l=jr(i);if(0===l.length)return Re({});const d={};return(0,Gt.D)(l).pipe((0,zt.z)(f=>function _C(i,r,e,o){const l=Zu(i,r,o);return Fr(l.resolve?l.resolve(r,e):l(r,e))}(i[f],r,e,o).pipe(kn(m=>{d[f]=m}))),_r(1),(0,zt.z)(()=>jr(d).length===l.length?Re(d):ui.E))}(i._resolve,i,r,o).pipe((0,St.U)(d=>(i._resolvedData=d,i.data=Object.assign(Object.assign({},i.data),Ds(i,e).resolve),null)))}(f.route,o,i,r)),kn(()=>d++),_r(1),(0,zt.z)(f=>d===l.length?Re(e):ui.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),kn({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),kn(D=>{const b=new Jm(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(b)}))}),Sp(m=>{const{targetSnapshot:D,id:b,extractedUrl:N,rawUrl:A,extras:{skipLocationChange:$,replaceUrl:Q}}=m;return this.hooks.afterPreactivation(D,{navigationId:b,appliedUrlTree:N,rawUrlTree:A,skipLocationChange:!!$,replaceUrl:!!Q})}),(0,St.U)(m=>{const D=function $u(i,r,e){const o=co(i,r._root,e?e._root:void 0);return new ki(o,r)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:D})}),kn(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((i,r,e)=>(0,St.U)(o=>(new i_(r,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),kn({next(){d=!0},complete(){d=!0}}),function Lu(i){return(0,Tn.e)((r,e)=>{try{r.subscribe(e)}finally{e.add(i)}})}(()=>{var m;d||f||this.cancelNavigationTransition(l,`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===l.id&&(this.currentNavigation=null)}),ci(m=>{if(f=!0,function pl(i){return i&&i[oo]}(m)){const D=Mn(m.url);D||(this.navigated=!0,this.restoreHistory(l,!0));const b=new _d(l.id,this.serializeUrl(l.extractedUrl),m.message);o.next(b),D?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),A={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||po(l.source)};this.scheduleNavigation(N,"imperative",null,A,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const D=new Yh(l.id,this.serializeUrl(l.extractedUrl),m);o.next(D);try{l.resolve(this.errorHandler(m))}catch(b){l.reject(b)}}return ui.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var l;const d={replaceUrl:!0},f=(null===(l=e.state)||void 0===l?void 0:l.navigationId)?e.state:null;if(f){const D=Object.assign({},f);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(d.state=D)}const m=this.parseUrl(e.url);this.scheduleNavigation(m,o,f,d)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){o_(e),this.config=e.map(Td),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:l,queryParams:d,fragment:f,queryParamsHandling:m,preserveFragment:D}=o,b=l||this.routerState.root,N=D?this.currentUrlTree.fragment:f;let A=null;switch(m){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=d||null}return null!==A&&(A=this.removeEmptyProps(A)),function sp(i,r,e,o,l){if(0===e.length)return wd(r.root,r.root,r.root,o,l);const d=function e_(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new ap(!0,0,i);let r=0,e=!1;const o=i.reduce((l,d,f)=>{if("object"==typeof d&&null!=d){if(d.outlets){const m={};return nn(d.outlets,(D,b)=>{m[b]="string"==typeof D?D.split("/"):D}),[...l,{outlets:m}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===f?(d.split("/").forEach((m,D)=>{0==D&&"."===m||(0==D&&""===m?e=!0:".."===m?r++:""!=m&&l.push(m))}),l):[...l,d]},[]);return new ap(e,r,o)}(e);if(d.toRoot())return wd(r.root,r.root,new ot([],{}),o,l);const f=function Cl(i,r,e){if(i.isAbsolute)return new fi(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new fi(d,d===r.root,0)}const o=yl(i.commands[0])?0:1;return function t_(i,r,e){let o=i,l=r,d=e;for(;d>l;){if(d-=l,o=o.parent,!o)throw new Error("Invalid number of '../'");l=o.segments.length}return new fi(o,!1,l-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(d,r,i),m=f.processChildren?Ed(f.segmentGroup,f.index,d.commands):n_(f.segmentGroup,f.index,d.commands);return wd(r.root,f.segmentGroup,m,o,l)}(b,this.currentUrlTree,e,A,null!=N?N:null)}navigateByUrl(e,o={skipLocationChange:!1}){const l=Mn(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function vC(i){for(let r=0;r<i.length;r++){const e=i[r];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${r}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return o}isActive(e,o){let l;if(l=!0===o?Object.assign({},kd):!1===o?Object.assign({},Ld):o,Mn(e))return vd(this.currentUrlTree,e,l);const d=this.parseUrl(e);return vd(this.currentUrlTree,d,l)}removeEmptyProps(e){return Object.keys(e).reduce((o,l)=>{const d=e[l];return null!=d&&(o[l]=d),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new fl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,l,d,f){var m,D;if(this.disposed)return Promise.resolve(!1);let b,N,A;f?(b=f.resolve,N=f.reject,A=f.promise):A=new Promise((ye,qe)=>{b=ye,N=qe});const $=++this.navigationId;let Q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),Q=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):Q=0,this.setTransition({id:$,targetPageId:Q,source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:b,reject:N,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(ye=>Promise.reject(ye))}setBrowserUrl(e,o){const l=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(e,o=!1){var l,d;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===f?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const l=new _d(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){y.$Z()},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();function po(i){return"imperative"!==i}class Pp{}class Rp{preload(r,e){return Re(null)}}let Op=(()=>{class i{constructor(e,o,l,d){this.router=e,this.injector=l,this.preloadingStrategy=d,this.loader=new Qu(l,o,D=>e.triggerEvent(new qt(D)),D=>e.triggerEvent(new hl(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(Wn(e=>e instanceof fl),Pi(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(y.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const l=[];for(const d of o)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const f=d._loadedConfig;l.push(this.processRoutes(f.module,f.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(e,d)):d.children&&l.push(this.processRoutes(e,d.children));return(0,Gt.D)(l).pipe((0,gs.J)(),(0,St.U)(d=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?Re(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,zt.z)(d=>(o._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(y.LFG(jn),y.LFG(y.Sil),y.LFG(y.zs3),y.LFG(Pp))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),jd=(()=>{class i{constructor(e,o,l={}){this.router=e,this.viewportScroller=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof so?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof fl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Gn&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new Gn(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){y.$Z()},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const ji=new y.OlP("ROUTER_CONFIGURATION"),Ud=new y.OlP("ROUTER_FORROOT_GUARD"),Vd=[me,{provide:Fi,useClass:oa},{provide:jn,useFactory:function Lp(i,r,e,o,l,d,f={},m,D){const b=new jn(null,i,r,e,o,l,gl(d));return m&&(b.urlHandlingStrategy=m),D&&(b.routeReuseStrategy=D),function R_(i,r){i.errorHandler&&(r.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(r.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(r.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(r.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(r.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(r.canceledNavigationResolution=i.canceledNavigationResolution)}(f,b),f.enableTracing&&b.events.subscribe(N=>{var A,$;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${N.constructor.name}`),console.log(N.toString()),console.log(N),null===($=console.groupEnd)||void 0===$||$.call(console)}),b},deps:[Fi,fo,me,y.zs3,y.Sil,Ml,ji,[class S_{},new y.FiY],[class Ap{},new y.FiY]]},fo,{provide:Lr,useFactory:function Xu(i){return i.routerState.root},deps:[jn]},Op,Rp,class M_{preload(r,e){return e().pipe(ci(()=>Re(null)))}},{provide:ji,useValue:{enableTracing:!1}}];function P_(){return new y.PXZ("Router",jn)}let Np=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[Vd,Hd(e),{provide:Ud,useFactory:go,deps:[[jn,new y.FiY,new y.tp0]]},{provide:ji,useValue:o||{}},{provide:Oe,useFactory:kp,deps:[Me,[new y.tBr(it),new y.FiY],ji]},{provide:jd,useFactory:Fp,deps:[jn,vu,ji]},{provide:Pp,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Rp},{provide:y.PXZ,multi:!0,useFactory:P_},[$d,{provide:y.ip1,multi:!0,useFactory:Bp,deps:[$d]},{provide:zd,useFactory:jp,deps:[$d]},{provide:y.tb,multi:!0,useExisting:zd}]]}}static forChild(e){return{ngModule:i,providers:[Hd(e)]}}}return i.\u0275fac=function(e){return new(e||i)(y.LFG(Ud,8),y.LFG(jn,8))},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({}),i})();function Fp(i,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new jd(i,r,e)}function kp(i,r,e={}){return e.useHash?new we(i,r):new J(i,r)}function go(i){return"guarded"}function Hd(i){return[{provide:y.deG,multi:!0,useValue:i},{provide:Ml,multi:!0,useValue:i}]}let $d=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ar.x}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const l=new Promise(m=>o=m),d=this.injector.get(jn),f=this.injector.get(ji);return"disabled"===f.initialNavigation?(d.setUpLocationChangeListener(),o(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?Re(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),d.initialNavigation()):o(!0),l})}bootstrapListener(e){const o=this.injector.get(ji),l=this.injector.get(Op),d=this.injector.get(jd),f=this.injector.get(jn),m=this.injector.get(y.z2F);e===m.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&f.initialNavigation(),l.setUpPreloading(),d.init(),f.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(y.LFG(y.zs3))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();function Bp(i){return i.appInitializer.bind(i)}function jp(i){return i.bootstrapListener.bind(i)}const zd=new y.OlP("Router Initializer");let ec=(()=>{class i{constructor(e){this.Router=e}take_me_to_chats(e){this.Router.navigate(["/chat"],{queryParams:{user:e}})}}return i.\u0275fac=function(e){return new(e||i)(y.Y36(jn))},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-login"]],decls:7,vars:0,consts:[["username",""],[3,"click"]],template:function(e,o){if(1&e){const l=y.EpF();y.TgZ(0,"h1"),y._uU(1,"Enter Username"),y.qZA(),y._UZ(2,"input",null,0),y.TgZ(4,"button",1),y.NdJ("click",function(){y.CHM(l);const f=y.MAs(3);return o.take_me_to_chats(f.value)}),y._uU(5,"Click me"),y.qZA(),y._UZ(6,"br")}},styles:[""]}),i})();var tc=P(867),Up=P(861),Es=P(681),Vp=P(859),H=P(90),fa=P(877);const Hp="@firebase/database";let qd="";class $p{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,e){null==e?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,H.Pz)(e))}get(r){const e=this.domStorage_.getItem(this.prefixedName_(r));return null==e?null:(0,H.cI)(e)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class Yd{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,e){null==e?delete this.cache_[r]:this.cache_[r]=e}get(r){return(0,H.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const Kd=function(i){try{if("undefined"!=typeof window&&void 0!==window[i]){const r=window[i];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new $p(r)}}catch(r){}return new Yd},ha=Kd("localStorage"),nc=Kd("sessionStorage"),pa=new fa.Yd("@firebase/database"),Zd=function(){let i=1;return function(){return i++}}(),zp=function(i){const r=(0,H.dS)(i),e=new H.gQ;e.update(r);const o=e.digest();return H.US.encodeByteArray(o)},Rl=function(...i){let r="";for(let e=0;e<i.length;e++){const o=i[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=Rl.apply(null,o):r+="object"==typeof o?(0,H.Pz)(o):o,r+=" "}return r};let Dn=null,Wp=!0;const fn=function(...i){if(!0===Wp&&(Wp=!1,null===Dn&&!0===nc.get("logging_enabled")&&function(i,r){(0,H.hu)(!r||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(pa.logLevel=fa.in.VERBOSE,Dn=pa.log.bind(pa),r&&nc.set("logging_enabled",!0)):"function"==typeof i?Dn=i:(Dn=null,nc.remove("logging_enabled"))}(!0)),Dn){const r=Rl.apply(null,i);Dn(r)}},Ol=function(i){return function(...r){fn(i,...r)}},Jd=function(...i){const r="FIREBASE INTERNAL ERROR: "+Rl(...i);pa.error(r)},pi=function(...i){const r=`FIREBASE FATAL ERROR: ${Rl(...i)}`;throw pa.error(r),new Error(r)},wn=function(...i){const r="FIREBASE WARNING: "+Rl(...i);pa.warn(r)},rc=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},$e="[MIN_NAME]",Ur="[MAX_NAME]",bs=function(i,r){if(i===r)return 0;if(i===$e||r===Ur)return-1;if(r===$e||i===Ur)return 1;{const e=nf(i),o=nf(r);return null!==e?null!==o?e-o==0?i.length-r.length:e-o:-1:null!==o?1:i<r?-1:1}},Gp=function(i,r){return i===r?0:i<r?-1:1},Is=function(i,r){if(r&&i in r)return r[i];throw new Error("Missing required key ("+i+") in object: "+(0,H.Pz)(r))},cr=function(i){if("object"!=typeof i||null===i)return(0,H.Pz)(i);const r=[];for(const o in i)r.push(o);r.sort();let e="{";for(let o=0;o<r.length;o++)0!==o&&(e+=","),e+=(0,H.Pz)(r[o]),e+=":",e+=cr(i[r[o]]);return e+="}",e},Xd=function(i,r){const e=i.length;if(e<=r)return[i];const o=[];for(let l=0;l<e;l+=r)o.push(i.substring(l,l+r>e?e:l+r));return o};function hn(i,r){for(const e in i)i.hasOwnProperty(e)&&r(e,i[e])}const ic=function(i){(0,H.hu)(!rc(i),"Invalid JSON number");const o=1023;let l,d,f,m,D;0===i?(d=0,f=0,l=1/i==-1/0?1:0):(l=i<0,(i=Math.abs(i))>=Math.pow(2,1-o)?(m=Math.min(Math.floor(Math.log(i)/Math.LN2),o),d=m+o,f=Math.round(i*Math.pow(2,52-m)-Math.pow(2,52))):(d=0,f=Math.round(i/Math.pow(2,-1074))));const b=[];for(D=52;D;D-=1)b.push(f%2?1:0),f=Math.floor(f/2);for(D=11;D;D-=1)b.push(d%2?1:0),d=Math.floor(d/2);b.push(l?1:0),b.reverse();const N=b.join("");let A="";for(D=0;D<64;D+=8){let $=parseInt(N.substr(D,8),2).toString(16);1===$.length&&($="0"+$),A+=$}return A.toLowerCase()},tf=new RegExp("^-?(0*)\\d{1,10}$"),nf=function(i){if(tf.test(i)){const r=Number(i);if(r>=-2147483648&&r<=2147483647)return r}return null},Vi=function(i){try{i()}catch(r){setTimeout(()=>{throw wn("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},mo=function(i,r){const e=setTimeout(i,r);return"object"==typeof e&&e.unref&&e.unref(),e};class rf{constructor(r,e){this.appName_=r,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(e,o):e(null)},0)})}addTokenChangeListener(r){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(r))}notifyForInvalidToken(){wn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class sf{constructor(r,e,o){this.appName_=r,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(e=>e&&"auth/token-not-initialized"===e.code?(fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(e,o):e(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(e=>e.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(e=>e.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wn(r)}}let ac=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const B_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,af="websocket",Jp="long_polling";class Nl{constructor(r,e,o,l,d=!1,f="",m=!1){this.secure=e,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=d,this.persistenceKey=f,this.includeNamespaceInQueryParams=m,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ha.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&ha.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function U_(i,r,e){let o;if((0,H.hu)("string"==typeof r,"typeof type must == string"),(0,H.hu)("object"==typeof e,"typeof params must == object"),r===af)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(r!==Jp)throw new Error("Unknown connection type: "+r);o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function CC(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const l=[];return hn(e,(d,f)=>{l.push(d+"="+f)}),o+l.join("&")}class DC{constructor(){this.counters_={}}incrementCounter(r,e=1){(0,H.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=e}get(){return(0,H.p$)(this.counters_)}}const Xp={},eg={};function tg(i){const r=i.toString();return Xp[r]||(Xp[r]=new DC),Xp[r]}class EC{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,e){this.closeAfterResponse=r,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,e){for(this.pendingResponses[r]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&Vi(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class As{constructor(r,e,o,l,d,f,m){this.connId=r,this.repoInfo=e,this.applicationId=o,this.appCheckToken=l,this.authToken=d,this.transportSessionId=f,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ol(r),this.stats_=tg(e),this.urlFn=D=>(this.appCheckToken&&(D.ac=this.appCheckToken),U_(e,Jp,D))}open(r,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new EC(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,H.Yr)()||"complete"===document.readyState)i();else{let r=!1;const e=function(){document.body?r||(r=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _o((...d)=>{const[f,m,D,b,N]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=m,this.password=D;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[f,m]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(f,m)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&B_.test(location.hostname)&&(o.r="f");const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){As.forceAllow_=!0}static forceDisallow(){As.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!As.forceAllow_&&(As.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const e=(0,H.Pz)(r);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,H.h$)(e),l=Xd(o,1840);for(let d=0;d<l.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[d]),this.curSegmentNum++}addDisconnectPingFrame(r,e){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=r,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const e=(0,H.Pz)(r).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class _o{constructor(r,e,o,l){if(this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=r,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Zd(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=_o.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(m){fn("frame writing exception"),m.stack&&fn(m.stack),fn(m)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||fn("No IE domain setting required")}catch(e){const o=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,e){for(this.myID=r,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let e=this.urlFn(r),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const f=this.pendingSegs.shift();o=o+"&seg"+l+"="+f.seg+"&ts"+l+"="+f.ts+"&d"+l+"="+f.d,l++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(r,e,o){this.pendingSegs.push({seg:r,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(r,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(o,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(l),o()})}addTag(r,e){(0,H.Yr)()?this.doNodeLongPoll(r,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=r,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||"loaded"===l||"complete"===l)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{fn("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let Hi=null;"undefined"!=typeof MozWebSocket?Hi=MozWebSocket:"undefined"!=typeof WebSocket&&(Hi=WebSocket);let gi=(()=>{class i{constructor(e,o,l,d,f,m,D){this.connId=e,this.applicationId=l,this.appCheckToken=d,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ol(this.connId),this.stats_=tg(o),this.connURL=i.connectionURL_(o,m,D,d,l),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,l,d,f){const m={v:"5"};return!(0,H.Yr)()&&"undefined"!=typeof location&&location.hostname&&B_.test(location.hostname)&&(m.r="f"),o&&(m.s=o),l&&(m.ls=l),d&&(m.ac=d),f&&(m.p=f),U_(e,af,m)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ha.set("previous_websocket_failure",!0);try{let l;if((0,H.Yr)()){l={headers:{"User-Agent":`Firebase/5/${qd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,m=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;m&&(l.proxy={origin:m})}this.mySock=new Hi(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const d=l.message||l.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const d=l.message||l.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==Hi&&!i.forceDisallow_}static previouslyFailed(){return ha.isInMemoryStorage||!0===ha.get("previous_websocket_failure")}markConnectionHealthy(){ha.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const l=(0,H.cI)(o);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const l=this.extractFrameCount_(o);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const o=(0,H.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const l=Xd(o,16384);l.length>1&&this.sendString_(String(l.length));for(let d=0;d<l.length;d++)this.sendString_(l[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})(),yo=(()=>{class i{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[As,gi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const o=gi&&gi.isAvailable();let l=o&&!gi.previouslyFailed();if(e.webSocketOnly&&(o||wn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[gi];else{const d=this.transports_=[];for(const f of i.ALL_TRANSPORTS)f&&f.isAvailable()&&d.push(f);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return i.globalTransportInitialized_=!1,i})();class hg{constructor(r,e,o,l,d,f,m,D,b,N){this.id=r,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=d,this.onMessage_=f,this.onReady_=m,this.onDisconnect_=D,this.onKill_=b,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ol("c:"+this.id+":"),this.transportManager_=new yo(e),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const l=r.healthyTimeout||0;l>0&&(this.healthyTimeout_=mo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return e=>{r===this.conn_?this.onConnectionLost_(e):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return e=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(e):r===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const e=r.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const e=Is("t",r),o=Is("d",r);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const e=Is("t",r),o=Is("d",r);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const e=Is("t",r);if("d"in r){const o=r.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?Jd("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jd("Unknown control packet command: "+e)}}onHandshake_(r){const e=r.ts,o=r.v,l=r.h;this.sessionId=r.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&wn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),mo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,e){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ha.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class pg{put(r,e,o,l){}merge(r,e,o,l){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,e,o){}onDisconnectMerge(r,e,o){}onDisconnectCancel(r,e){}reportStats(r){}}class Yn{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,H.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...e){if(Array.isArray(this.listeners_[r])){const o=[...this.listeners_[r]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,e)}}on(r,e,o){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:e,context:o});const l=this.getInitialEvent(r);l&&e.apply(o,l)}off(r,e,o){this.validateEventType_(r);const l=this.listeners_[r]||[];for(let d=0;d<l.length;d++)if(l[d].callback===e&&(!o||o===l[d].context))return void l.splice(d,1)}validateEventType_(r){(0,H.hu)(this.allowedEvents_.find(e=>e===r),"Unknown event: "+r)}}class hc extends Yn{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new hc}getInitialEvent(r){return(0,H.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class _t{constructor(r,e){if(void 0===e){this.pieces_=r.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=e}toString(){let r="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(r+="/"+this.pieces_[e]);return r||"/"}}function dt(){return new _t("")}function at(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Ms(i){return i.pieces_.length-i.pieceNum_}function yt(i){let r=i.pieceNum_;return r<i.pieces_.length&&r++,new _t(i.pieces_,r)}function pc(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function kl(i,r=0){return i.pieces_.slice(i.pieceNum_+r)}function mg(i){if(i.pieceNum_>=i.pieces_.length)return null;const r=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)r.push(i.pieces_[e]);return new _t(r,0)}function Nt(i,r){const e=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)e.push(i.pieces_[o]);if(r instanceof _t)for(let o=r.pieceNum_;o<r.pieces_.length;o++)e.push(r.pieces_[o]);else{const o=r.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&e.push(o[l])}return new _t(e,0)}function rt(i){return i.pieceNum_>=i.pieces_.length}function xn(i,r){const e=at(i),o=at(r);if(null===e)return r;if(e===o)return xn(yt(i),yt(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+i+")")}function mf(i,r){if(Ms(i)!==Ms(r))return!1;for(let e=i.pieceNum_,o=r.pieceNum_;e<=i.pieces_.length;e++,o++)if(i.pieces_[e]!==r.pieces_[o])return!1;return!0}function dr(i,r){let e=i.pieceNum_,o=r.pieceNum_;if(Ms(i)>Ms(r))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==r.pieces_[o])return!1;++e,++o}return!0}class _g{constructor(r,e){this.errorPrefix_=e,this.parts_=kl(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,H.ug)(this.parts_[o]);gc(this)}}function gc(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+vo(i))}function vo(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class _f extends Yn{constructor(){let r,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",r="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",r="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",r="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[r];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new _f}getInitialEvent(r){return(0,H.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const mc=1e3;let _c,Co=(()=>{class i extends pg{constructor(e,o,l,d,f,m,D,b){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=l,this.onConnectStatus_=d,this.onServerInfoUpdate_=f,this.authTokenProvider_=m,this.appCheckTokenProvider_=D,this.authOverride_=b,this.id=i.nextPersistentConnectionId_++,this.log_=Ol("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,b&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_f.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&hc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,l){const d=++this.requestNumber_,f={r:d,a:e,b:o};this.log_((0,H.Pz)(f)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),l&&(this.requestCBHash_[d]=l)}get(e){this.initConnection_();const o=new H.BH,l={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:l,onComplete:m=>{const D=m.d;"ok"===m.s?o.resolve(D):o.reject(D)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),o.promise}listen(e,o,l,d){this.initConnection_();const f=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+f),this.listens.has(m)||this.listens.set(m,new Map),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(m).has(f),"listen() called twice for same path/queryId.");const D={onComplete:d,hashFn:o,query:e,tag:l};this.listens.get(m).set(f,D),this.connected_&&this.sendListen_(D)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(l)})}sendListen_(e){const o=e.query,l=o._path.toString(),d=o._queryIdentifier;this.log_("Listen on "+l+" for "+d);const f={p:l};e.tag&&(f.q=o._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,D=>{const b=D.d,N=D.s;i.warnOnListenWarnings_(b,o),(this.listens.get(l)&&this.listens.get(l).get(d))===e&&(this.log_("listen response",D),"ok"!==N&&this.removeListen_(l,d),e.onComplete&&e.onComplete(N,b))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,H.r3)(e,"w")){const l=(0,H.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const d='".indexOn": "'+o._queryParams.getIndex().toString()+'"',f=o._path.toString();wn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,H.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,H.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(o,l,d=>{const f=d.s,m=d.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,l=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,l)})}unlisten(e,o){const l=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+d),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,d)&&this.connected_&&this.sendUnlisten_(l,d,e._queryObject,o)}sendUnlisten_(e,o,l,d){this.log_("Unlisten on "+e+" for "+o);const f={p:e};d&&(f.q=l,f.t=d),this.sendRequest("n",f)}onDisconnectPut(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:l})}onDisconnectMerge(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:l})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,l,d){const f={p:o,d:l};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,m=>{d&&setTimeout(()=>{d(m.s,m.d)},Math.floor(0))})}put(e,o,l,d){this.putInternal("p",e,o,l,d)}merge(e,o,l,d){this.putInternal("m",e,o,l,d)}putInternal(e,o,l,d,f){this.initConnection_();const m={p:o,d:l};void 0!==f&&(m.h=f),this.outstandingPuts_.push({action:e,request:m,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,l,f=>{this.log_(o+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(f.s,f.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,H.Pz)(e));const o=e.r,l=this.requestCBHash_[o];l&&(delete this.requestCBHash_[o],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):Jd("Unrecognized action received from server: "+(0,H.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=mc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Up.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+i.nextConnectionId_++,m=e.lastSessionId;let D=!1,b=null;const N=function(){b?b.close():(D=!0,d())};e.realtime_={close:N,sendRequest:function(Q){(0,H.hu)(b,"sendRequest call when we're not connected not allowed."),b.sendRequest(Q)}};const $=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Q,ye]=yield Promise.all([e.authTokenProvider_.getToken($),e.appCheckTokenProvider_.getToken($)]);D?fn("getToken() completed but was canceled"):(fn("getToken() completed. Creating connection."),e.authToken_=Q&&Q.accessToken,e.appCheckToken_=ye&&ye.token,b=new hg(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,l,d,qe=>{wn(qe+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(Q){e.log_("Failed to get token: "+Q),D||(e.repoInfo_.nodeAdmin&&wn(Q),N())}}})()}interrupt(e){fn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=mc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let l;l=o?o.map(f=>cr(f)).join("$"):"default";const d=this.removeListen_(e,l);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,o){const l=new _t(e).toString();let d;if(this.listens.has(l)){const f=this.listens.get(l);d=f.get(o),f.delete(o),0===f.size&&this.listens.delete(l)}else d=void 0;return d}onAuthRevoked_(e,o){fn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){fn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,H.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+qd.replace(/\./g,"-")]=1,(0,H.uI)()?e["framework.cordova"]=1:(0,H.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hc.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class Xe{constructor(r,e){this.name=r,this.node=e}static Wrap(r,e){return new Xe(r,e)}}class ma{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,e){const o=new Xe($e,r),l=new Xe($e,e);return 0!==this.compare(o,l)}minPost(){return Xe.MIN}}class yc extends ma{static get __EMPTY_NODE(){return _c}static set __EMPTY_NODE(r){_c=r}compare(r,e){return bs(r.name,e.name)}isDefinedOn(r){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,e){return!1}minPost(){return Xe.MIN}maxPost(){return new Xe(Ur,_c)}makePost(r,e){return(0,H.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new Xe(r,_c)}toString(){return".key"}}const Dr=new yc;class Ll{constructor(r,e,o,l,d=null){this.isReverse_=l,this.resultGenerator_=d,this.nodeStack_=[];let f=1;for(;!r.isEmpty();)if(r=r,f=e?o(r.key,e):1,l&&(f*=-1),f<0)r=this.isReverse_?r.left:r.right;else{if(0===f){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,r=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let vc,Vr=(()=>{class i{constructor(e,o,l,d,f){this.key=e,this.value=o,this.color=null!=l?l:i.RED,this.left=null!=d?d:Pn.EMPTY_NODE,this.right=null!=f?f:Pn.EMPTY_NODE}copy(e,o,l,d,f){return new i(null!=e?e:this.key,null!=o?o:this.value,null!=l?l:this.color,null!=d?d:this.left,null!=f?f:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,l){let d=this;const f=l(e,d.key);return d=f<0?d.copy(null,null,null,d.left.insert(e,o,l),null):0===f?d.copy(null,o,null,null,null):d.copy(null,null,null,null,d.right.insert(e,o,l)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let l,d;if(l=this,o(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,o),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===o(e,l.key)){if(l.right.isEmpty())return Pn.EMPTY_NODE;d=l.right.min_(),l=l.copy(d.key,d.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,o))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Pn{constructor(r,e=Pn.EMPTY_NODE){this.comparator_=r,this.root_=e}insert(r,e){return new Pn(this.comparator_,this.root_.insert(r,e,this.comparator_).copy(null,null,Vr.BLACK,null,null))}remove(r){return new Pn(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,Vr.BLACK,null,null))}get(r){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(r,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(r){let e,o=this.root_,l=null;for(;!o.isEmpty();){if(e=this.comparator_(r,o.key),0===e){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(l=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new Ll(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,e){return new Ll(this.root_,r,this.comparator_,!1,e)}getReverseIteratorFrom(r,e){return new Ll(this.root_,r,this.comparator_,!0,e)}getReverseIterator(r){return new Ll(this.root_,null,this.comparator_,!0,r)}}function IC(i,r){return bs(i.name,r.name)}function vf(i,r){return bs(i,r)}Pn.EMPTY_NODE=new class X_{copy(r,e,o,l,d){return this}insert(r,e,o){return new Vr(r,e,null)}remove(r,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Cf=function(i){return"number"==typeof i?"number:"+ic(i):"string:"+i},Df=function(i){if(i.isLeafNode()){const r=i.val();(0,H.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,H.r3)(r,".sv"),"Priority must be a string or number.")}else(0,H.hu)(i===vc||i.isEmpty(),"priority of unexpected type.");(0,H.hu)(i===vc||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wf,Bl,wg,Kn=(()=>{class i{constructor(e,o=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Df(this.priorityNode_)}static set __childrenNodeConstructor(e){wf=e}static get __childrenNodeConstructor(){return wf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return rt(e)?this:".priority"===at(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const l=at(e);return null===l?o:o.isEmpty()&&".priority"!==l?this:((0,H.hu)(".priority"!==l||1===Ms(e),".priority must be the last token in a path"),this.updateImmediateChild(l,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(yt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Cf(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?ic(this.value_):this.value_,this.lazyHash_=zp(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,H.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,l=typeof this.value_,d=i.VALUE_TYPE_ORDER.indexOf(o),f=i.VALUE_TYPE_ORDER.indexOf(l);return(0,H.hu)(d>=0,"Unknown leaf type: "+o),(0,H.hu)(f>=0,"Unknown leaf type: "+l),d===f?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const At=new class Ef extends ma{compare(r,e){const o=r.node.getPriority(),l=e.node.getPriority(),d=o.compareTo(l);return 0===d?bs(r.name,e.name):d}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,e){return!r.getPriority().equals(e.getPriority())}minPost(){return Xe.MIN}maxPost(){return new Xe(Ur,new Kn("[PRIORITY-POST]",wg))}makePost(r,e){const o=Bl(r);return new Xe(e,new Kn("[PRIORITY-POST]",o))}toString(){return".priority"}},bf=Math.log(2);class jl{constructor(r){this.count=parseInt(Math.log(r+1)/bf,10),this.current_=this.count-1;const l=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&l}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const Cc=function(i,r,e,o){i.sort(r);const l=function(D,b){const N=b-D;let A,$;if(0===N)return null;if(1===N)return A=i[D],$=e?e(A):A,new Vr($,A.node,Vr.BLACK,null,null);{const Q=parseInt(N/2,10)+D,ye=l(D,Q),qe=l(Q+1,b);return A=i[Q],$=e?e(A):A,new Vr($,A.node,Vr.BLACK,ye,qe)}},m=function(D){let b=null,N=null,A=i.length;const $=function(ye,qe){const Et=A-ye,Xn=A;A-=ye;const Qt=l(Et+1,Xn),Bs=i[Et],vi=e?e(Bs):Bs;Q(new Vr(vi,Bs.node,qe,null,Qt))},Q=function(ye){b?(b.left=ye,b=ye):(N=ye,b=ye)};for(let ye=0;ye<D.count;++ye){const qe=D.nextBitIsOne(),Et=Math.pow(2,D.count-(ye+1));qe?$(Et,Vr.BLACK):($(Et,Vr.BLACK),$(Et,Vr.RED))}return N}(new jl(i.length));return new Pn(o||r,m)};let Ul;const Do={};class _i{constructor(r,e){this.indexes_=r,this.indexSet_=e}static get Default(){return(0,H.hu)(Do&&At,"ChildrenNode.ts has not been loaded"),Ul=Ul||new _i({".priority":Do},{".priority":At}),Ul}get(r){const e=(0,H.DV)(this.indexes_,r);if(!e)throw new Error("No index defined for "+r);return e instanceof Pn?e:null}hasIndex(r){return(0,H.r3)(this.indexSet_,r.toString())}addIndex(r,e){(0,H.hu)(r!==Dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const d=e.getIterator(Xe.Wrap);let m,f=d.getNext();for(;f;)l=l||r.isDefinedOn(f.node),o.push(f),f=d.getNext();m=l?Cc(o,r.getCompare()):Do;const D=r.toString(),b=Object.assign({},this.indexSet_);b[D]=r;const N=Object.assign({},this.indexes_);return N[D]=m,new _i(N,b)}addToIndexes(r,e){const o=(0,H.UI)(this.indexes_,(l,d)=>{const f=(0,H.DV)(this.indexSet_,d);if((0,H.hu)(f,"Missing index implementation for "+d),l===Do){if(f.isDefinedOn(r.node)){const m=[],D=e.getIterator(Xe.Wrap);let b=D.getNext();for(;b;)b.name!==r.name&&m.push(b),b=D.getNext();return m.push(r),Cc(m,f.getCompare())}return Do}{const m=e.get(r.name);let D=l;return m&&(D=D.remove(new Xe(r.name,m))),D.insert(r,r.node)}});return new _i(o,this.indexSet_)}removeFromIndexes(r,e){const o=(0,H.UI)(this.indexes_,l=>{if(l===Do)return l;{const d=e.get(r.name);return d?l.remove(new Xe(r.name,d)):l}});return new _i(o,this.indexSet_)}}let _a,Qe=(()=>{class i{constructor(e,o,l){this.children_=e,this.priorityNode_=o,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Df(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _a||(_a=new i(new Pn(vf),null,_i.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_a}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?_a:o}}getChild(e){const o=at(e);return null===o?this:this.getImmediateChild(o).getChild(yt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,H.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const l=new Xe(e,o);let d,f;o.isEmpty()?(d=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(l,this.children_)):(d=this.children_.insert(e,o),f=this.indexMap_.addToIndexes(l,this.children_));const m=d.isEmpty()?_a:this.priorityNode_;return new i(d,m,f)}}updateChild(e,o){const l=at(e);if(null===l)return o;{(0,H.hu)(".priority"!==at(e)||1===Ms(e),".priority must be the last token in a path");const d=this.getImmediateChild(l).updateChild(yt(e),o);return this.updateImmediateChild(l,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let l=0,d=0,f=!0;if(this.forEachChild(At,(m,D)=>{o[m]=D.val(e),l++,f&&i.INTEGER_REGEXP_.test(m)?d=Math.max(d,Number(m)):f=!1}),!e&&f&&d<2*l){const m=[];for(const D in o)m[D]=o[D];return m}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Cf(this.getPriority().val())+":"),this.forEachChild(At,(o,l)=>{const d=l.hash();""!==d&&(e+=":"+o+":"+d)}),this.lazyHash_=""===e?"":zp(e)}return this.lazyHash_}getPredecessorChildName(e,o,l){const d=this.resolveIndex_(l);if(d){const f=d.getPredecessorKey(new Xe(e,o));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new Xe(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new Xe(o,this.children_.get(o)):null}forEachChild(e,o){const l=this.resolveIndex_(e);return l?l.inorderTraversal(d=>o(d.name,d.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,Xe.Wrap);let f=d.peek();for(;null!=f&&o.compare(f,e)<0;)d.getNext(),f=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,Xe.Wrap);let f=d.peek();for(;null!=f&&o.compare(f,e)>0;)d.getNext(),f=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Vl?-1:0}withIndex(e){if(e===Dr||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===Dr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const l=this.getIterator(At),d=o.getIterator(At);let f=l.getNext(),m=d.getNext();for(;f&&m;){if(f.name!==m.name||!f.node.equals(m.node))return!1;f=l.getNext(),m=d.getNext()}return null===f&&null===m}return!1}return!1}}resolveIndex_(e){return e===Dr?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const Vl=new class If extends Qe{constructor(){super(new Pn(vf),Qe.EMPTY_NODE,_i.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return Qe.EMPTY_NODE}isEmpty(){return!1}};function Bt(i,r=null){if(null===i)return Qe.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(r=i[".priority"]),(0,H.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new Kn(i,Bt(r));if(i instanceof Array){let e=Qe.EMPTY_NODE;return hn(i,(o,l)=>{if((0,H.r3)(i,o)&&"."!==o.substring(0,1)){const d=Bt(l);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(o,d))}}),e.updatePriority(Bt(r))}{const e=[];let o=!1;if(hn(i,(f,m)=>{if("."!==f.substring(0,1)){const D=Bt(m);D.isEmpty()||(o=o||!D.getPriority().isEmpty(),e.push(new Xe(f,D)))}}),0===e.length)return Qe.EMPTY_NODE;const d=Cc(e,IC,f=>f.name,vf);if(o){const f=Cc(e,At.getCompare());return new Qe(d,Bt(r),new _i({".priority":f},{".priority":At}))}return new Qe(d,Bt(r),_i.Default)}}Object.defineProperties(Xe,{MIN:{value:new Xe($e,Qe.EMPTY_NODE)},MAX:{value:new Xe(Ur,Vl)}}),yc.__EMPTY_NODE=Qe.EMPTY_NODE,Kn.__childrenNodeConstructor=Qe,function Dg(i){vc=i}(Vl),function TC(i){wg=i}(Vl),function ey(i){Bl=i}(Bt);class xs extends ma{constructor(r){super(),this.indexPath_=r,(0,H.hu)(!rt(r)&&".priority"!==at(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,e){const o=this.extractChild(r.node),l=this.extractChild(e.node),d=o.compareTo(l);return 0===d?bs(r.name,e.name):d}makePost(r,e){const o=Bt(r),l=Qe.EMPTY_NODE.updateChild(this.indexPath_,o);return new Xe(e,l)}maxPost(){const r=Qe.EMPTY_NODE.updateChild(this.indexPath_,Vl);return new Xe(Ur,r)}toString(){return kl(this.indexPath_,0).join("/")}}const Tf=new class Eg extends ma{compare(r,e){const o=r.node.compareTo(e.node);return 0===o?bs(r.name,e.name):o}isDefinedOn(r){return!0}indexedValueChanged(r,e){return!r.equals(e)}minPost(){return Xe.MIN}maxPost(){return Xe.MAX}makePost(r,e){const o=Bt(r);return new Xe(e,o)}toString(){return".value"}},ya="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ny=function(){let i=0;const r=[];return function(e){const o=e===i;let l;i=e;const d=new Array(8);for(l=7;l>=0;l--)d[l]=ya.charAt(e%64),e=Math.floor(e/64);(0,H.hu)(0===e,"Cannot push at time == 0");let f=d.join("");if(o){for(l=11;l>=0&&63===r[l];l--)r[l]=0;r[l]++}else for(l=0;l<12;l++)r[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)f+=ya.charAt(r[l]);return(0,H.hu)(20===f.length,"nextPushId: Length should be 20."),f}}();function Dc(i){return{type:"value",snapshotNode:i}}function wo(i,r){return{type:"child_added",snapshotNode:r,childName:i}}function va(i,r){return{type:"child_removed",snapshotNode:r,childName:i}}function Ca(i,r,e){return{type:"child_changed",snapshotNode:r,childName:i,oldSnap:e}}class Sf{constructor(r){this.index_=r}updateChild(r,e,o,l,d,f){(0,H.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=r.getImmediateChild(e);return m.getChild(l).equals(o.getChild(l))&&m.isEmpty()===o.isEmpty()||(null!=f&&(o.isEmpty()?r.hasChild(e)?f.trackChildChange(va(e,m)):(0,H.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?f.trackChildChange(wo(e,o)):f.trackChildChange(Ca(e,o,m))),r.isLeafNode()&&o.isEmpty())?r:r.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(r,e,o){return null!=o&&(r.isLeafNode()||r.forEachChild(At,(l,d)=>{e.hasChild(l)||o.trackChildChange(va(l,d))}),e.isLeafNode()||e.forEachChild(At,(l,d)=>{if(r.hasChild(l)){const f=r.getImmediateChild(l);f.equals(d)||o.trackChildChange(Ca(l,d,f))}else o.trackChildChange(wo(l,d))})),e.withIndex(this.index_)}updatePriority(r,e){return r.isEmpty()?Qe.EMPTY_NODE:r.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Hl{constructor(r){this.indexedFilter_=new Sf(r.getIndex()),this.index_=r.getIndex(),this.startPost_=Hl.getStartPost_(r),this.endPost_=Hl.getEndPost_(r)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){return this.index_.compare(this.getStartPost(),r)<=0&&this.index_.compare(r,this.getEndPost())<=0}updateChild(r,e,o,l,d,f){return this.matches(new Xe(e,o))||(o=Qe.EMPTY_NODE),this.indexedFilter_.updateChild(r,e,o,l,d,f)}updateFullNode(r,e,o){e.isLeafNode()&&(e=Qe.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(Qe.EMPTY_NODE);const d=this;return e.forEachChild(At,(f,m)=>{d.matches(new Xe(f,m))||(l=l.updateImmediateChild(f,Qe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,l,o)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const e=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),e)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const e=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),e)}return r.getIndex().maxPost()}}class ry{constructor(r){this.rangedFilter_=new Hl(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft()}updateChild(r,e,o,l,d,f){return this.rangedFilter_.matches(new Xe(e,o))||(o=Qe.EMPTY_NODE),r.getImmediateChild(e).equals(o)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,e,o,l,d,f):this.fullLimitUpdateChild_(r,e,o,d,f)}updateFullNode(r,e,o){let l;if(e.isLeafNode()||e.isEmpty())l=Qe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;l=Qe.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;d.hasNext()&&f<this.limit_;){const m=d.getNext();let D;if(D=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),m)<=0:this.index_.compare(m,this.rangedFilter_.getEndPost())<=0,!D)break;l=l.updateImmediateChild(m.name,m.node),f++}}else{let d,f,m,D;if(l=e.withIndex(this.index_),l=l.updatePriority(Qe.EMPTY_NODE),this.reverse_){D=l.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();const A=this.index_.getCompare();m=($,Q)=>A(Q,$)}else D=l.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),m=this.index_.getCompare();let b=0,N=!1;for(;D.hasNext();){const A=D.getNext();!N&&m(d,A)<=0&&(N=!0),N&&b<this.limit_&&m(A,f)<=0?b++:l=l.updateImmediateChild(A.name,Qe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,l,o)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,e,o,l,d){let f;if(this.reverse_){const A=this.index_.getCompare();f=($,Q)=>A(Q,$)}else f=this.index_.getCompare();const m=r;(0,H.hu)(m.numChildren()===this.limit_,"");const D=new Xe(e,o),b=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),N=this.rangedFilter_.matches(D);if(m.hasChild(e)){const A=m.getImmediateChild(e);let $=l.getChildAfterChild(this.index_,b,this.reverse_);for(;null!=$&&($.name===e||m.hasChild($.name));)$=l.getChildAfterChild(this.index_,$,this.reverse_);const Q=null==$?1:f($,D);if(N&&!o.isEmpty()&&Q>=0)return null!=d&&d.trackChildChange(Ca(e,o,A)),m.updateImmediateChild(e,o);{null!=d&&d.trackChildChange(va(e,A));const qe=m.updateImmediateChild(e,Qe.EMPTY_NODE);return null!=$&&this.rangedFilter_.matches($)?(null!=d&&d.trackChildChange(wo($.name,$.node)),qe.updateImmediateChild($.name,$.node)):qe}}return o.isEmpty()?r:N&&f(b,D)>=0?(null!=d&&(d.trackChildChange(va(b.name,b.node)),d.trackChildChange(wo(e,o))),m.updateImmediateChild(e,o).updateImmediateChild(b.name,Qe.EMPTY_NODE)):r}}class Af{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=At}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$e}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ur}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===At}copy(){const r=new Af;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function Pg(i){const r={};if(i.isDefault())return r;let e;return i.index_===At?e="$priority":i.index_===Tf?e="$value":i.index_===Dr?e="$key":((0,H.hu)(i.index_ instanceof xs,"Unrecognized index type!"),e=i.index_.toString()),r.orderBy=(0,H.Pz)(e),i.startSet_&&(r.startAt=(0,H.Pz)(i.indexStartValue_),i.startNameSet_&&(r.startAt+=","+(0,H.Pz)(i.indexStartName_))),i.endSet_&&(r.endAt=(0,H.Pz)(i.indexEndValue_),i.endNameSet_&&(r.endAt+=","+(0,H.Pz)(i.indexEndName_))),i.limitSet_&&(i.isViewFromLeft()?r.limitToFirst=i.limit_:r.limitToLast=i.limit_),r}function xf(i){const r={};if(i.startSet_&&(r.sp=i.indexStartValue_,i.startNameSet_&&(r.sn=i.indexStartName_)),i.endSet_&&(r.ep=i.indexEndValue_,i.endNameSet_&&(r.en=i.indexEndName_)),i.limitSet_){r.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),r.vf=e}return i.index_!==At&&(r.i=i.index_.toString()),r}class $l extends pg{constructor(r,e,o,l){super(),this.repoInfo_=r,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=Ol("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,e){return void 0!==e?"tag$"+e:((0,H.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,e,o,l){const d=r._path.toString();this.log_("Listen called for "+d+" "+r._queryIdentifier);const f=$l.getListenId_(r,o),m={};this.listens_[f]=m;const D=Pg(r._queryParams);this.restRequest_(d+".json",D,(b,N)=>{let A=N;if(404===b&&(A=null,b=null),null===b&&this.onDataUpdate_(d,A,!1,o),(0,H.DV)(this.listens_,f)===m){let $;$=b?401===b?"permission_denied":"rest_error:"+b:"ok",l($,null)}})}unlisten(r,e){const o=$l.getListenId_(r,e);delete this.listens_[o]}get(r){const e=Pg(r._queryParams),o=r._path.toString(),l=new H.BH;return this.restRequest_(o+".json",e,(d,f)=>{let m=f;404===d&&(m=null,d=null),null===d?(this.onDataUpdate_(o,m,!1,null),l.resolve(m)):l.reject(new Error(m))}),l.promise}refreshAuthToken(r){}restRequest_(r,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,d])=>{l&&l.accessToken&&(e.auth=l.accessToken),d&&d.token&&(e.ac=d.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,H.xO)(e);this.log_("Sending REST request for "+f);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(o&&4===m.readyState){this.log_("REST Response for "+f+" received. status:",m.status,"response:",m.responseText);let D=null;if(m.status>=200&&m.status<300){try{D=(0,H.cI)(m.responseText)}catch(b){wn("Failed to parse JSON response for "+f+": "+m.responseText)}o(null,D)}else 401!==m.status&&404!==m.status&&wn("Got unsuccessful REST response for "+f+" Status: "+m.status),o(m.status);o=null}},m.open("GET",f,!0),m.send()})}}class MC{constructor(){this.rootNode_=Qe.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,e){this.rootNode_=this.rootNode_.updateChild(r,e)}}function Zn(){return{value:null,children:new Map}}function zl(i,r,e){if(rt(r))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(r,e);else{const o=at(r);i.children.has(o)||i.children.set(o,Zn()),zl(i.children.get(o),r=yt(r),e)}}function wc(i,r,e){null!==i.value?e(r,i.value):function Og(i,r){i.children.forEach((e,o)=>{r(o,e)})}(i,(o,l)=>{wc(l,new _t(r.toString()+"/"+o),e)})}class Ng{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),e=Object.assign({},r);return this.last_&&hn(this.last_,(o,l)=>{e[o]=e[o]-l}),this.last_=r,e}}class Lg{constructor(r,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ng(r);const o=1e4+2e4*Math.random();mo(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const r=this.statsListener_.get(),e={};let o=!1;hn(r,(l,d)=>{d>0&&(0,H.r3)(this.statsToReport_,l)&&(e[l]=d,o=!0)}),o&&this.server_.reportStats(e),mo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Er=(()=>{return(i=Er||(Er={}))[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Er;var i})();function Rf(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Ec{constructor(r,e,o){this.path=r,this.affectedTree=e,this.revert=o,this.type=Er.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(rt(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new _t(r));return new Ec(dt(),e,this.revert)}}return(0,H.hu)(at(this.path)===r,"operationForChild called for unrelated child."),new Ec(yt(this.path),this.affectedTree,this.revert)}}class Gl{constructor(r,e){this.source=r,this.path=e,this.type=Er.LISTEN_COMPLETE}operationForChild(r){return rt(this.path)?new Gl(this.source,dt()):new Gl(this.source,yt(this.path))}}class Eo{constructor(r,e,o){this.source=r,this.path=e,this.snap=o,this.type=Er.OVERWRITE}operationForChild(r){return rt(this.path)?new Eo(this.source,dt(),this.snap.getImmediateChild(r)):new Eo(this.source,yt(this.path),this.snap)}}class wa{constructor(r,e,o){this.source=r,this.path=e,this.children=o,this.type=Er.MERGE}operationForChild(r){if(rt(this.path)){const e=this.children.subtree(new _t(r));return e.isEmpty()?null:e.value?new Eo(this.source,dt(),e.value):new wa(this.source,dt(),e)}return(0,H.hu)(at(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new wa(this.source,yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Hr{constructor(r,e,o){this.node_=r,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(rt(r))return this.isFullyInitialized()&&!this.filtered_;const e=at(r);return this.isCompleteForChild(e)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class Ea{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function $i(i,r,e,o,l,d){const f=o.filter(m=>m.type===e);f.sort((m,D)=>function ay(i,r,e){if(null==r.childName||null==e.childName)throw(0,H.g5)("Should only compare child_ events.");const o=new Xe(r.childName,r.snapshotNode),l=new Xe(e.childName,e.snapshotNode);return i.index_.compare(o,l)}(i,m,D)),f.forEach(m=>{const D=function oy(i,r,e){return"value"===r.type||"child_removed"===r.type||(r.prevName=e.getPredecessorChildName(r.childName,r.snapshotNode,i.index_)),r}(i,m,d);l.forEach(b=>{b.respondsTo(m.type)&&r.push(b.createEvent(D,i.query_))})})}function ba(i,r){return{eventCache:i,serverCache:r}}function Qn(i,r,e,o){return ba(new Hr(r,e,o),i.serverCache)}function Ia(i,r,e,o){return ba(i.eventCache,new Hr(r,e,o))}function sn(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function fr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let Ta;class wt{constructor(r,e=(()=>(Ta||(Ta=new Pn(Gp)),Ta))()){this.value=r,this.children=e}static fromObject(r){let e=new wt(null);return hn(r,(o,l)=>{e=e.set(new _t(o),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,e){if(null!=this.value&&e(this.value))return{path:dt(),value:this.value};if(rt(r))return null;{const o=at(r),l=this.children.get(o);if(null!==l){const d=l.findRootMostMatchingPathAndValue(yt(r),e);return null!=d?{path:Nt(new _t(o),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(rt(r))return this;{const e=at(r),o=this.children.get(e);return null!==o?o.subtree(yt(r)):new wt(null)}}set(r,e){if(rt(r))return new wt(e,this.children);{const o=at(r),d=(this.children.get(o)||new wt(null)).set(yt(r),e),f=this.children.insert(o,d);return new wt(this.value,f)}}remove(r){if(rt(r))return this.children.isEmpty()?new wt(null):new wt(null,this.children);{const e=at(r),o=this.children.get(e);if(o){const l=o.remove(yt(r));let d;return d=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&d.isEmpty()?new wt(null):new wt(this.value,d)}return this}}get(r){if(rt(r))return this.value;{const e=at(r),o=this.children.get(e);return o?o.get(yt(r)):null}}setTree(r,e){if(rt(r))return e;{const o=at(r),d=(this.children.get(o)||new wt(null)).setTree(yt(r),e);let f;return f=d.isEmpty()?this.children.remove(o):this.children.insert(o,d),new wt(this.value,f)}}fold(r){return this.fold_(dt(),r)}fold_(r,e){const o={};return this.children.inorderTraversal((l,d)=>{o[l]=d.fold_(Nt(r,l),e)}),e(r,this.value,o)}findOnPath(r,e){return this.findOnPath_(r,dt(),e)}findOnPath_(r,e,o){const l=!!this.value&&o(e,this.value);if(l)return l;if(rt(r))return null;{const d=at(r),f=this.children.get(d);return f?f.findOnPath_(yt(r),Nt(e,d),o):null}}foreachOnPath(r,e){return this.foreachOnPath_(r,dt(),e)}foreachOnPath_(r,e,o){if(rt(r))return this;{this.value&&o(e,this.value);const l=at(r),d=this.children.get(l);return d?d.foreachOnPath_(yt(r),Nt(e,l),o):new wt(null)}}foreach(r){this.foreach_(dt(),r)}foreach_(r,e){this.children.inorderTraversal((o,l)=>{l.foreach_(Nt(r,o),e)}),this.value&&e(r,this.value)}foreachChild(r){this.children.inorderTraversal((e,o)=>{o.value&&r(e,o.value)})}}class Rn{constructor(r){this.writeTree_=r}static empty(){return new Rn(new wt(null))}}function yi(i,r,e){if(rt(r))return new Rn(new wt(e));{const o=i.writeTree_.findRootMostValueAndPath(r);if(null!=o){const l=o.path;let d=o.value;const f=xn(l,r);return d=d.updateChild(f,e),new Rn(i.writeTree_.set(l,d))}{const l=new wt(e),d=i.writeTree_.setTree(r,l);return new Rn(d)}}}function Rs(i,r,e){let o=i;return hn(e,(l,d)=>{o=yi(o,Nt(r,l),d)}),o}function bo(i,r){if(rt(r))return Rn.empty();{const e=i.writeTree_.setTree(r,new wt(null));return new Rn(e)}}function Os(i,r){return null!=Ir(i,r)}function Ir(i,r){const e=i.writeTree_.findRootMostValueAndPath(r);return null!=e?i.writeTree_.get(e.path).getChild(xn(e.path,r)):null}function Io(i){const r=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(At,(o,l)=>{r.push(new Xe(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{null!=l.value&&r.push(new Xe(o,l.value))}),r}function hr(i,r){if(rt(r))return i;{const e=Ir(i,r);return new Rn(null!=e?new wt(e):i.writeTree_.subtree(r))}}function Ns(i){return i.writeTree_.isEmpty()}function To(i,r){return Of(dt(),i.writeTree_,r)}function Of(i,r,e){if(null!=r.value)return e.updateChild(i,r.value);{let o=null;return r.children.inorderTraversal((l,d)=>{".priority"===l?((0,H.hu)(null!==d.value,"Priority writes must always be leaf nodes"),o=d.value):e=Of(Nt(i,l),d,e)}),!e.getChild(i).isEmpty()&&null!==o&&(e=e.updateChild(Nt(i,".priority"),o)),e}}function ql(i,r){return Kg(r,i)}function Hg(i,r){if(i.snap)return dr(i.path,r);for(const e in i.children)if(i.children.hasOwnProperty(e)&&dr(Nt(i.path,e),r))return!0;return!1}function ly(i){return i.visible}function Nf(i,r,e){let o=Rn.empty();for(let l=0;l<i.length;++l){const d=i[l];if(r(d)){const f=d.path;let m;if(d.snap)dr(e,f)?(m=xn(e,f),o=yi(o,m,d.snap)):dr(f,e)&&(m=xn(f,e),o=yi(o,dt(),d.snap.getChild(m)));else{if(!d.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(dr(e,f))m=xn(e,f),o=Rs(o,m,d.children);else if(dr(f,e))if(m=xn(f,e),rt(m))o=Rs(o,dt(),d.children);else{const D=(0,H.DV)(d.children,at(m));if(D){const b=D.getChild(yt(m));o=yi(o,dt(),b)}}}}}return o}function zg(i,r,e,o,l){if(o||l){const d=hr(i.visibleWrites,r);return!l&&Ns(d)?e:l||null!=e||Os(d,dt())?To(Nf(i.allWrites,function(b){return(b.visible||l)&&(!o||!~o.indexOf(b.writeId))&&(dr(b.path,r)||dr(r,b.path))},r),e||Qe.EMPTY_NODE):null}{const d=Ir(i.visibleWrites,r);if(null!=d)return d;{const f=hr(i.visibleWrites,r);return Ns(f)?e:null!=e||Os(f,dt())?To(f,e||Qe.EMPTY_NODE):null}}}function Yl(i,r,e,o){return zg(i.writeTree,i.treePath,r,e,o)}function Ff(i,r){return function Wg(i,r,e){let o=Qe.EMPTY_NODE;const l=Ir(i.visibleWrites,r);if(l)return l.isLeafNode()||l.forEachChild(At,(d,f)=>{o=o.updateImmediateChild(d,f)}),o;if(e){const d=hr(i.visibleWrites,r);return e.forEachChild(At,(f,m)=>{const D=To(hr(d,new _t(f)),m);o=o.updateImmediateChild(f,D)}),Io(d).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}return Io(hr(i.visibleWrites,r)).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}(i.writeTree,i.treePath,r)}function Yg(i,r,e,o){return function Gg(i,r,e,o,l){(0,H.hu)(o||l,"Either existingEventSnap or existingServerSnap must exist");const d=Nt(r,e);if(Os(i.visibleWrites,d))return null;{const f=hr(i.visibleWrites,d);return Ns(f)?l.getChild(e):To(f,l.getChild(e))}}(i.writeTree,i.treePath,r,e,o)}function kf(i,r){return function cy(i,r){return Ir(i.visibleWrites,r)}(i.writeTree,Nt(i.treePath,r))}function Kl(i,r,e){return function uy(i,r,e,o){const l=Nt(r,e),d=Ir(i.visibleWrites,l);return null!=d?d:o.isCompleteForChild(e)?To(hr(i.visibleWrites,l),o.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,r,e)}function bc(i,r){return Kg(Nt(i.treePath,r),i.writeTree)}function Kg(i,r){return{treePath:i,writeTree:r}}class PC{constructor(){this.changeMap=new Map}trackChildChange(r){const e=r.type,o=r.childName;(0,H.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const d=l.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(o,Ca(o,r.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(o,va(o,l.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(o,wo(o,r.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,H.g5)("Illegal combination of changes: "+r+" occurred after "+l);this.changeMap.set(o,Ca(o,r.snapshotNode,l.oldSnap))}}else this.changeMap.set(o,r)}getChanges(){return Array.from(this.changeMap.values())}}const hy=new class RC{getCompleteChild(r){return null}getChildAfterChild(r,e,o){return null}};class Lf{constructor(r,e,o=null){this.writes_=r,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(r){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(r))return e.getNode().getImmediateChild(r);{const o=null!=this.optCompleteServerCache_?new Hr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Kl(this.writes_,r,o)}}getChildAfterChild(r,e,o){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:fr(this.viewCache_),d=function fy(i,r,e,o,l,d){return function qg(i,r,e,o,l,d,f){let m;const D=hr(i.visibleWrites,r),b=Ir(D,dt());if(null!=b)m=b;else{if(null==e)return[];m=To(D,e)}if(m=m.withIndex(f),m.isEmpty()||m.isLeafNode())return[];{const N=[],A=f.getCompare(),$=d?m.getReverseIteratorFrom(o,f):m.getIteratorFrom(o,f);let Q=$.getNext();for(;Q&&N.length<l;)0!==A(Q,o)&&N.push(Q),Q=$.getNext();return N}}(i.writeTree,i.treePath,r,e,o,l,d)}(this.writes_,l,e,1,o,r);return 0===d.length?null:d[0]}}function Qg(i,r,e,o,l,d){const f=r.eventCache;if(null!=kf(o,e))return r;{let m,D;if(rt(e))if((0,H.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const b=fr(r),A=Ff(o,b instanceof Qe?b:Qe.EMPTY_NODE);m=i.filter.updateFullNode(r.eventCache.getNode(),A,d)}else{const b=Yl(o,fr(r));m=i.filter.updateFullNode(r.eventCache.getNode(),b,d)}else{const b=at(e);if(".priority"===b){(0,H.hu)(1===Ms(e),"Can't have a priority with additional path components");const N=f.getNode();D=r.serverCache.getNode();const A=Yg(o,e,N,D);m=null!=A?i.filter.updatePriority(N,A):f.getNode()}else{const N=yt(e);let A;if(f.isCompleteForChild(b)){D=r.serverCache.getNode();const $=Yg(o,e,f.getNode(),D);A=null!=$?f.getNode().getImmediateChild(b).updateChild(N,$):f.getNode().getImmediateChild(b)}else A=Kl(o,b,r.serverCache);m=null!=A?i.filter.updateChild(f.getNode(),b,A,N,l,d):f.getNode()}}return Qn(r,m,f.isFullyInitialized()||rt(e),i.filter.filtersNodes())}}function Zl(i,r,e,o,l,d,f,m){const D=r.serverCache;let b;const N=f?i.filter:i.filter.getIndexedFilter();if(rt(e))b=N.updateFullNode(D.getNode(),o,null);else if(N.filtersNodes()&&!D.isFiltered()){const Q=D.getNode().updateChild(e,o);b=N.updateFullNode(D.getNode(),Q,null)}else{const Q=at(e);if(!D.isCompleteForPath(e)&&Ms(e)>1)return r;const ye=yt(e),Et=D.getNode().getImmediateChild(Q).updateChild(ye,o);b=".priority"===Q?N.updatePriority(D.getNode(),Et):N.updateChild(D.getNode(),Q,Et,ye,hy,null)}const A=Ia(r,b,D.isFullyInitialized()||rt(e),N.filtersNodes());return Qg(i,A,e,l,new Lf(l,A,d),m)}function Bf(i,r,e,o,l,d,f){const m=r.eventCache;let D,b;const N=new Lf(l,r,d);if(rt(e))b=i.filter.updateFullNode(r.eventCache.getNode(),o,f),D=Qn(r,b,!0,i.filter.filtersNodes());else{const A=at(e);if(".priority"===A)b=i.filter.updatePriority(r.eventCache.getNode(),o),D=Qn(r,b,m.isFullyInitialized(),m.isFiltered());else{const $=yt(e),Q=m.getNode().getImmediateChild(A);let ye;if(rt($))ye=o;else{const qe=N.getCompleteChild(A);ye=null!=qe?".priority"===pc($)&&qe.getChild(mg($)).isEmpty()?qe:qe.updateChild($,o):Qe.EMPTY_NODE}D=Q.equals(ye)?r:Qn(r,i.filter.updateChild(m.getNode(),A,ye,$,N,f),m.isFullyInitialized(),i.filter.filtersNodes())}}return D}function jf(i,r){return i.eventCache.isCompleteForChild(r)}function Jg(i,r,e){return e.foreach((o,l)=>{r=r.updateChild(o,l)}),r}function Tc(i,r,e,o,l,d,f,m){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let b,D=r;b=rt(e)?o:new wt(null).setTree(e,o);const N=r.serverCache.getNode();return b.children.inorderTraversal((A,$)=>{if(N.hasChild(A)){const ye=Jg(0,r.serverCache.getNode().getImmediateChild(A),$);D=Zl(i,D,new _t(A),ye,l,d,f,m)}}),b.children.inorderTraversal((A,$)=>{const Q=!r.serverCache.isCompleteForChild(A)&&null===$.value;if(!N.hasChild(A)&&!Q){const qe=Jg(0,r.serverCache.getNode().getImmediateChild(A),$);D=Zl(i,D,new _t(A),qe,l,d,f,m)}}),D}class yy{constructor(r,e){this.query_=r,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new Sf(o.getIndex()),d=function Ag(i){return i.loadsAllData()?new Sf(i.getIndex()):i.hasLimit()?new ry(i):new Hl(i)}(o);this.processor_=function Zg(i){return{filter:i}}(d);const f=e.serverCache,m=e.eventCache,D=l.updateFullNode(Qe.EMPTY_NODE,f.getNode(),null),b=d.updateFullNode(Qe.EMPTY_NODE,m.getNode(),null),N=new Hr(D,f.isFullyInitialized(),l.filtersNodes()),A=new Hr(b,m.isFullyInitialized(),d.filtersNodes());this.viewCache_=ba(A,N),this.eventGenerator_=new Ea(this.query_)}get query(){return this.query_}}function Cy(i,r){const e=fr(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!rt(r)&&!e.getImmediateChild(at(r)).isEmpty())?e.getChild(r):null}function Uf(i){return 0===i.eventRegistrations_.length}function Sc(i,r,e){const o=[];if(e){(0,H.hu)(null==r,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(d=>{const f=d.createCancelEvent(e,l);f&&o.push(f)})}if(r){let l=[];for(let d=0;d<i.eventRegistrations_.length;++d){const f=i.eventRegistrations_[d];if(f.matches(r)){if(r.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(d+1));break}}else l.push(f)}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function Dy(i,r,e,o){r.type===Er.MERGE&&null!==r.source.queryId&&((0,H.hu)(fr(i.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)(sn(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,d=function py(i,r,e,o,l){const d=new PC;let f,m;if(e.type===Er.OVERWRITE){const b=e;b.source.fromUser?f=Bf(i,r,b.path,b.snap,o,l,d):((0,H.hu)(b.source.fromServer,"Unknown source."),m=b.source.tagged||r.serverCache.isFiltered()&&!rt(b.path),f=Zl(i,r,b.path,b.snap,o,l,m,d))}else if(e.type===Er.MERGE){const b=e;b.source.fromUser?f=function Ic(i,r,e,o,l,d,f){let m=r;return o.foreach((D,b)=>{const N=Nt(e,D);jf(r,at(N))&&(m=Bf(i,m,N,b,l,d,f))}),o.foreach((D,b)=>{const N=Nt(e,D);jf(r,at(N))||(m=Bf(i,m,N,b,l,d,f))}),m}(i,r,b.path,b.children,o,l,d):((0,H.hu)(b.source.fromServer,"Unknown source."),m=b.source.tagged||r.serverCache.isFiltered(),f=Tc(i,r,b.path,b.children,o,l,m,d))}else if(e.type===Er.ACK_USER_WRITE){const b=e;f=b.revert?function _y(i,r,e,o,l,d){let f;if(null!=kf(o,e))return r;{const m=new Lf(o,r,l),D=r.eventCache.getNode();let b;if(rt(e)||".priority"===at(e)){let N;if(r.serverCache.isFullyInitialized())N=Yl(o,fr(r));else{const A=r.serverCache.getNode();(0,H.hu)(A instanceof Qe,"serverChildren would be complete if leaf node"),N=Ff(o,A)}N=N,b=i.filter.updateFullNode(D,N,d)}else{const N=at(e);let A=Kl(o,N,r.serverCache);null==A&&r.serverCache.isCompleteForChild(N)&&(A=D.getImmediateChild(N)),b=null!=A?i.filter.updateChild(D,N,A,yt(e),m,d):r.eventCache.getNode().hasChild(N)?i.filter.updateChild(D,N,Qe.EMPTY_NODE,yt(e),m,d):D,b.isEmpty()&&r.serverCache.isFullyInitialized()&&(f=Yl(o,fr(r)),f.isLeafNode()&&(b=i.filter.updateFullNode(b,f,d)))}return f=r.serverCache.isFullyInitialized()||null!=kf(o,dt()),Qn(r,b,f,i.filter.filtersNodes())}}(i,r,b.path,o,l,d):function gy(i,r,e,o,l,d,f){if(null!=kf(l,e))return r;const m=r.serverCache.isFiltered(),D=r.serverCache;if(null!=o.value){if(rt(e)&&D.isFullyInitialized()||D.isCompleteForPath(e))return Zl(i,r,e,D.getNode().getChild(e),l,d,m,f);if(rt(e)){let b=new wt(null);return D.getNode().forEachChild(Dr,(N,A)=>{b=b.set(new _t(N),A)}),Tc(i,r,e,b,l,d,m,f)}return r}{let b=new wt(null);return o.foreach((N,A)=>{const $=Nt(e,N);D.isCompleteForPath($)&&(b=b.set(N,D.getNode().getChild($)))}),Tc(i,r,e,b,l,d,m,f)}}(i,r,b.path,b.affectedTree,o,l,d)}else{if(e.type!==Er.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+e.type);f=function my(i,r,e,o,l){const d=r.serverCache;return Qg(i,Ia(r,d.getNode(),d.isFullyInitialized()||rt(e),d.isFiltered()),e,o,hy,l)}(i,r,e.path,o,d)}const D=d.getChanges();return function Sa(i,r,e){const o=r.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),d=sn(i);(e.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(d)||!o.getNode().getPriority().equals(d.getPriority()))&&e.push(Dc(sn(r)))}}(r,f,D),{viewCache:f,changes:D}}(i.processor_,l,r,e,o);return function OC(i,r){(0,H.hu)(r.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(r.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,d.viewCache),(0,H.hu)(d.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=d.viewCache,tm(i,d.changes,d.viewCache.eventCache.getNode(),null)}function tm(i,r,e,o){return function sy(i,r,e,o){const l=[],d=[];return r.forEach(f=>{"child_changed"===f.type&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&d.push(function Sg(i,r){return{type:"child_moved",snapshotNode:r,childName:i}}(f.childName,f.snapshotNode))}),$i(i,l,"child_removed",r,o,e),$i(i,l,"child_added",r,o,e),$i(i,l,"child_moved",d,o,e),$i(i,l,"child_changed",r,o,e),$i(i,l,"value",r,o,e),l}(i.eventGenerator_,r,e,o?[o]:i.eventRegistrations_)}let Hf,Ma;class Aa{constructor(){this.views=new Map}}function Wf(i,r,e,o){const l=r.source.queryId;if(null!==l){const d=i.views.get(l);return(0,H.hu)(null!=d,"SyncTree gave us an op for an invalid query."),Dy(d,r,e,o)}{let d=[];for(const f of i.views.values())d=d.concat(Dy(f,r,e,o));return d}}function Ac(i,r,e,o,l,d){const f=function Ql(i,r,e,o,l){const f=i.views.get(r._queryIdentifier);if(!f){let m=Yl(e,l?o:null),D=!1;m?D=!0:o instanceof Qe?(m=Ff(e,o),D=!1):(m=Qe.EMPTY_NODE,D=!1);const b=ba(new Hr(m,D,!1),new Hr(o,l,!1));return new yy(r,b)}return f}(i,r,o,l,d);return i.views.has(r._queryIdentifier)||i.views.set(r._queryIdentifier,f),function em(i,r){i.eventRegistrations_.push(r)}(f,e),function Vf(i,r){const e=i.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(At,(d,f)=>{o.push(wo(d,f))}),e.isFullyInitialized()&&o.push(Dc(e.getNode())),tm(i,o,e.getNode(),r)}(f,e)}function wy(i){const r=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||r.push(e);return r}function Fs(i,r){let e=null;for(const o of i.views.values())e=e||Cy(o,r);return e}function Mc(i,r){return r._queryParams.loadsAllData()?Jl(i):i.views.get(r._queryIdentifier)}function xc(i,r){return null!=Mc(i,r)}function zi(i){return null!=Jl(i)}function Jl(i){for(const r of i.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let qf=1;class Yf{constructor(r){this.listenProvider_=r,this.syncPointTree_=new wt(null),this.pendingWriteTree_=function dy(){return{visibleWrites:Rn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Kf(i,r,e,o,l){return function Bg(i,r,e,o,l){(0,H.hu)(o>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),i.allWrites.push({path:r,snap:e,writeId:o,visible:l}),l&&(i.visibleWrites=yi(i.visibleWrites,r,e)),i.lastWriteId=o}(i.pendingWriteTree_,r,e,o,l),l?Ao(i,new Eo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,e)):[]}function Wi(i,r,e=!1){const o=function Ug(i,r){for(let e=0;e<i.allWrites.length;e++){const o=i.allWrites[e];if(o.writeId===r)return o}return null}(i.pendingWriteTree_,r);if(function Vg(i,r){const e=i.allWrites.findIndex(m=>m.writeId===r);(0,H.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[e];i.allWrites.splice(e,1);let l=o.visible,d=!1,f=i.allWrites.length-1;for(;l&&f>=0;){const m=i.allWrites[f];m.visible&&(f>=e&&Hg(m,o.path)?l=!1:dr(o.path,m.path)&&(d=!0)),f--}return!!l&&(d?(function $g(i){i.visibleWrites=Nf(i.allWrites,ly,dt()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(o.snap?i.visibleWrites=bo(i.visibleWrites,o.path):hn(o.children,D=>{i.visibleWrites=bo(i.visibleWrites,Nt(o.path,D))}),!0))}(i.pendingWriteTree_,r)){let d=new wt(null);return null!=o.snap?d=d.set(dt(),!0):hn(o.children,f=>{d=d.set(new _t(f),!0)}),Ao(i,new Ec(o.path,d,e))}return[]}function So(i,r,e){return Ao(i,new Eo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,e))}function Pc(i,r,e,o,l=!1){const d=r._path,f=i.syncPointTree_.get(d);let m=[];if(f&&("default"===r._queryIdentifier||xc(f,r))){const D=function Gf(i,r,e,o){const l=r._queryIdentifier,d=[];let f=[];const m=zi(i);if("default"===l)for(const[D,b]of i.views.entries())f=f.concat(Sc(b,e,o)),Uf(b)&&(i.views.delete(D),b.query._queryParams.loadsAllData()||d.push(b.query));else{const D=i.views.get(l);D&&(f=f.concat(Sc(D,e,o)),Uf(D)&&(i.views.delete(l),D.query._queryParams.loadsAllData()||d.push(D.query)))}return m&&!zi(i)&&d.push(new(function $f(){return(0,H.hu)(Hf,"Reference.ts has not been loaded"),Hf}())(r._repo,r._path)),{removed:d,events:f}}(f,r,e,o);(function zf(i){return 0===i.views.size})(f)&&(i.syncPointTree_=i.syncPointTree_.remove(d));const b=D.removed;if(m=D.events,!l){const N=-1!==b.findIndex($=>$._queryParams.loadsAllData()),A=i.syncPointTree_.findOnPath(d,($,Q)=>zi(Q));if(N&&!A){const $=i.syncPointTree_.subtree(d);if(!$.isEmpty()){const Q=function Iy(i){return i.fold((r,e,o)=>{if(e&&zi(e))return[Jl(e)];{let l=[];return e&&(l=wy(e)),hn(o,(d,f)=>{l=l.concat(f)}),l}})}($);for(let ye=0;ye<Q.length;++ye){const qe=Q[ye],Et=qe.query,Xn=eh(i,qe);i.listenProvider_.startListening($t(Et),xa(i,Et),Xn.hashFn,Xn.onComplete)}}}!A&&b.length>0&&!o&&(N?i.listenProvider_.stopListening($t(r),null):b.forEach($=>{const Q=i.queryToTagMap.get(th($));i.listenProvider_.stopListening($t($),Q)}))}!function lm(i,r){for(let e=0;e<r.length;++e){const o=r[e];if(!o._queryParams.loadsAllData()){const l=th(o),d=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(d)}}}(i,b)}return m}function Rc(i,r,e,o=!1){const l=r._path;let d=null,f=!1;i.syncPointTree_.foreachOnPath(l,($,Q)=>{const ye=xn($,l);d=d||Fs(Q,ye),f=f||zi(Q)});let D,m=i.syncPointTree_.get(l);m?(f=f||zi(m),d=d||Fs(m,dt())):(m=new Aa,i.syncPointTree_=i.syncPointTree_.set(l,m)),null!=d?D=!0:(D=!1,d=Qe.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((Q,ye)=>{const qe=Fs(ye,dt());qe&&(d=d.updateImmediateChild(Q,qe))}));const b=xc(m,r);if(!b&&!r._queryParams.loadsAllData()){const $=th(r);(0,H.hu)(!i.queryToTagMap.has($),"View does not exist, but we have a tag");const Q=function Ty(){return qf++}();i.queryToTagMap.set($,Q),i.tagToQueryMap.set(Q,$)}let A=Ac(m,r,e,ql(i.pendingWriteTree_,l),d,D);if(!b&&!f&&!o){const $=Mc(m,r);A=A.concat(function Sy(i,r,e){const o=r._path,l=xa(i,r),d=eh(i,e),f=i.listenProvider_.startListening($t(r),l,d.hashFn,d.onComplete),m=i.syncPointTree_.subtree(o);if(l)(0,H.hu)(!zi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const D=m.fold((b,N,A)=>{if(!rt(b)&&N&&zi(N))return[Jl(N).query];{let $=[];return N&&($=$.concat(wy(N).map(Q=>Q.query))),hn(A,(Q,ye)=>{$=$.concat(ye)}),$}});for(let b=0;b<D.length;++b){const N=D[b];i.listenProvider_.stopListening($t(N),xa(i,N))}}return f}(i,r,$))}return A}function Xl(i,r,e){const l=i.pendingWriteTree_,d=i.syncPointTree_.findOnPath(r,(f,m)=>{const b=Fs(m,xn(f,r));if(b)return b});return zg(l,r,d,e,!0)}function Ao(i,r){return Jf(r,i.syncPointTree_,null,ql(i.pendingWriteTree_,dt()))}function Jf(i,r,e,o){if(rt(i.path))return Xf(i,r,e,o);{const l=r.get(dt());null==e&&null!=l&&(e=Fs(l,dt()));let d=[];const f=at(i.path),m=i.operationForChild(f),D=r.children.get(f);if(D&&m){const b=e?e.getImmediateChild(f):null,N=bc(o,f);d=d.concat(Jf(m,D,b,N))}return l&&(d=d.concat(Wf(l,i,o,e))),d}}function Xf(i,r,e,o){const l=r.get(dt());null==e&&null!=l&&(e=Fs(l,dt()));let d=[];return r.children.inorderTraversal((f,m)=>{const D=e?e.getImmediateChild(f):null,b=bc(o,f),N=i.operationForChild(f);N&&(d=d.concat(Xf(N,m,D,b)))}),l&&(d=d.concat(Wf(l,i,o,e))),d}function eh(i,r){const e=r.query,o=xa(i,e);return{hashFn:()=>(function vy(i){return i.viewCache_.serverCache.getNode()}(r)||Qe.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return o?function by(i,r,e){const o=nh(i,e);if(o){const l=rh(o),d=l.path,f=l.queryId,m=xn(d,r);return Oc(i,d,new Gl(Rf(f),m))}return[]}(i,e._path,o):function Ey(i,r){return Ao(i,new Gl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(i,e._path);{const d=function qp(i,r){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const o=new Error(i+" at "+r._path.toString()+": "+e);return o.code=i.toUpperCase(),o}(l,e);return Pc(i,e,null,d)}}}}function xa(i,r){const e=th(r);return i.queryToTagMap.get(e)}function th(i){return i._path.toString()+"$"+i._queryIdentifier}function nh(i,r){return i.tagToQueryMap.get(r)}function rh(i){const r=i.indexOf("$");return(0,H.hu)(-1!==r&&r<i.length-1,"Bad queryKey."),{queryId:i.substr(r+1),path:new _t(i.substr(0,r))}}function Oc(i,r,e){const o=i.syncPointTree_.get(r);return(0,H.hu)(o,"Missing sync point for query tag that we're tracking"),Wf(o,e,ql(i.pendingWriteTree_,r),null)}function $t(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function im(){return(0,H.hu)(Ma,"Reference.ts has not been loaded"),Ma}())(i._repo,i._path):i}class Nc{constructor(r){this.node_=r}getImmediateChild(r){const e=this.node_.getImmediateChild(r);return new Nc(e)}node(){return this.node_}}class ih{constructor(r,e){this.syncTree_=r,this.path_=e}getImmediateChild(r){const e=Nt(this.path_,r);return new ih(this.syncTree_,e)}node(){return Xl(this.syncTree_,this.path_)}}const sh=function(i,r,e){return i&&"object"==typeof i?((0,H.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?Pa(i[".sv"],r,e):"object"==typeof i[".sv"]?Ay(i[".sv"],r):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},Pa=function(i,r,e){if("timestamp"===i)return e.timestamp;(0,H.hu)(!1,"Unexpected server value: "+i)},Ay=function(i,r,e){i.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;"number"!=typeof o&&(0,H.hu)(!1,"Unexpected increment value: "+o);const l=r.node();if((0,H.hu)(null!=l,"Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const f=l.getValue();return"number"!=typeof f?o:f+o},Fc=function(i,r,e){return oh(i,new Nc(r),e)};function oh(i,r,e){const o=i.getPriority().val(),l=sh(o,r.getImmediateChild(".priority"),e);let d;if(i.isLeafNode()){const f=i,m=sh(f.getValue(),r,e);return m!==f.getValue()||l!==f.getPriority().val()?new Kn(m,Bt(l)):i}{const f=i;return d=f,l!==f.getPriority().val()&&(d=d.updatePriority(new Kn(l))),f.forEachChild(At,(m,D)=>{const b=oh(D,r.getImmediateChild(m),e);b!==D&&(d=d.updateImmediateChild(m,b))}),d}}class kc{constructor(r="",e=null,o={children:{},childCount:0}){this.name=r,this.parent=e,this.node=o}}function ah(i,r){let e=r instanceof _t?r:new _t(r),o=i,l=at(e);for(;null!==l;){const d=(0,H.DV)(o.node.children,l)||{children:{},childCount:0};o=new kc(l,o,d),e=yt(e),l=at(e)}return o}function ks(i){return i.node.value}function Lc(i,r){i.node.value=r,jc(i)}function $r(i){return i.node.childCount>0}function Bc(i,r){hn(i.node.children,(e,o)=>{r(new kc(e,i,o))})}function zr(i,r,e,o){e&&!o&&r(i),Bc(i,l=>{zr(l,r,!0,o)}),e&&o&&r(i)}function Un(i){return new _t(null===i.parent?i.name:Un(i.parent)+"/"+i.name)}function jc(i){null!==i.parent&&function dm(i,r,e){const o=function My(i){return void 0===ks(i)&&!$r(i)}(e),l=(0,H.r3)(i.node.children,r);o&&l?(delete i.node.children[r],i.node.childCount--,jc(i)):!o&&!l&&(i.node.children[r]=e.node,i.node.childCount++,jc(i))}(i.parent,i.name,i)}const xy=/[\[\].#$\/\u0000-\u001F\u007F]/,Py=/[\[\].#$\u0000-\u001F\u007F]/,lh=10485760,Uc=function(i){return"string"==typeof i&&0!==i.length&&!xy.test(i)},Vc=function(i){return"string"==typeof i&&0!==i.length&&!Py.test(i)},Gr=function(i,r,e,o){o&&void 0===r||nu((0,H.gK)(i,"value"),r,e)},nu=function(i,r,e){const o=e instanceof _t?new _g(e,i):e;if(void 0===r)throw new Error(i+"contains undefined "+vo(o));if("function"==typeof r)throw new Error(i+"contains a function "+vo(o)+" with contents = "+r.toString());if(rc(r))throw new Error(i+"contains "+r.toString()+" "+vo(o));if("string"==typeof r&&r.length>lh/3&&(0,H.ug)(r)>lh)throw new Error(i+"contains a string greater than "+lh+" utf8 bytes "+vo(o)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let l=!1,d=!1;if(hn(r,(f,m)=>{if(".value"===f)l=!0;else if(".priority"!==f&&".sv"!==f&&(d=!0,!Uc(f)))throw new Error(i+" contains an invalid key ("+f+") "+vo(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Z_(i,r){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(r),i.byteLength_+=(0,H.ug)(r),gc(i)})(o,f),nu(i,m,o),function mi(i){const r=i.parts_.pop();i.byteLength_-=(0,H.ug)(r),i.parts_.length>0&&(i.byteLength_-=1)}(o)}),l&&d)throw new Error(i+' contains ".value" child '+vo(o)+" in addition to actual children.")}},Hc=function(i,r,e,o){if(!(o&&void 0===e||Vc(e)))throw new Error((0,H.gK)(i,r)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Tr=function(i,r){if(".info"===at(r))throw new Error(i+" failed = Can't modify data under /.info/")};class ch{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function su(i,r){let e=null;for(let o=0;o<r.length;o++){const l=r[o],d=l.getPath();null!==e&&!mf(d,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(l)}e&&i.eventLists_.push(e)}function dh(i,r,e){su(i,e),fh(i,o=>mf(o,r))}function Jn(i,r,e){su(i,e),fh(i,o=>dr(o,r)||dr(r,o))}function fh(i,r){i.recursionDepth_++;let e=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];l&&(r(l.path)?(pm(i.eventLists_[o]),i.eventLists_[o]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function pm(i){for(let r=0;r<i.events.length;r++){const e=i.events[r];if(null!==e){i.events[r]=null;const o=e.getEventRunner();Dn&&fn("event: "+e.toString()),Vi(o)}}}class Ry{constructor(r,e,o,l){this.repoInfo_=r,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ch,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zn(),this.transactionQueueTree_=new kc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mm(i){const e=i.infoData_.getNode(new _t(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ou(i){return function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i}({timestamp:mm(i)})}function _m(i,r,e,o,l){i.dataUpdateCount++;const d=new _t(r);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(r,e):e;let f=[];if(l)if(o){const D=(0,H.UI)(e,b=>Bt(b));f=function Qf(i,r,e,o){const l=nh(i,o);if(l){const d=rh(l),f=d.path,m=d.queryId,D=xn(f,r),b=wt.fromObject(e);return Oc(i,f,new wa(Rf(m),D,b))}return[]}(i.serverSyncTree_,d,D,l)}else{const D=Bt(e);f=function Zf(i,r,e,o){const l=nh(i,o);if(null!=l){const d=rh(l),f=d.path,m=d.queryId,D=xn(f,r);return Oc(i,f,new Eo(Rf(m),D,e))}return[]}(i.serverSyncTree_,d,D,l)}else if(o){const D=(0,H.UI)(e,b=>Bt(b));f=function om(i,r,e){const o=wt.fromObject(e);return Ao(i,new wa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,o))}(i.serverSyncTree_,d,D)}else{const D=Bt(e);f=So(i.serverSyncTree_,d,D)}let m=d;f.length>0&&(m=xo(i,d)),Jn(i.eventQueue_,m,f)}function ym(i,r){ph(i,"connected",r),!1===r&&function Ly(i){Mo(i,"onDisconnectEvents");const r=ou(i),e=Zn();wc(i.onDisconnect_,dt(),(l,d)=>{const f=function(i,r,e,o){return oh(r,new ih(e,i),o)}(l,d,i.serverSyncTree_,r);zl(e,l,f)});let o=[];wc(e,dt(),(l,d)=>{o=o.concat(So(i.serverSyncTree_,l,d));const f=Tm(i,l);xo(i,f)}),i.onDisconnect_=Zn(),Jn(i.eventQueue_,dt(),o)}(i)}function ph(i,r,e){const o=new _t("/.info/"+r),l=Bt(e);i.infoData_.updateSnapshot(o,l);const d=So(i.infoSyncTree_,o,l);Jn(i.eventQueue_,o,d)}function $c(i){return i.nextWriteId_++}function gh(i,r,e,o,l){Mo(i,"set",{path:r.toString(),value:e,priority:o});const d=ou(i),f=Bt(e,o),m=Xl(i.serverSyncTree_,r),D=Fc(f,m,d),b=$c(i),N=Kf(i.serverSyncTree_,r,D,b,!0);su(i.eventQueue_,N),i.server_.put(r.toString(),f.val(!0),($,Q)=>{const ye="ok"===$;ye||wn("set at "+r+" failed: "+$);const qe=Wi(i.serverSyncTree_,b,!ye);Jn(i.eventQueue_,r,qe),function Gi(i,r,e,o){r&&Vi(()=>{if("ok"===e)r(null);else{const l=(e||"error").toUpperCase();let d=l;o&&(d+=": "+o);const f=new Error(d);f.code=l,r(f)}})}(0,l,$,Q)});const A=Tm(i,r);xo(i,A),Jn(i.eventQueue_,A,[])}function zc(i,r,e){let o;o=".info"===at(r._path)?Pc(i.infoSyncTree_,r,e):Pc(i.serverSyncTree_,r,e),dh(i.eventQueue_,r._path,o)}function Mo(i,...r){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),fn(e,...r)}function Wc(i,r,e){return Xl(i.serverSyncTree_,r,e)||Qe.EMPTY_NODE}function au(i,r=i.transactionQueueTree_){if(r||qi(i,r),ks(r)){const e=bm(i,r);(0,H.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function wm(i,r,e){const o=e.map(b=>b.currentWriteId),l=Wc(i,r,o);let d=l;const f=l.hash();for(let b=0;b<e.length;b++){const N=e[b];(0,H.hu)(0===N.status,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const A=xn(r,N.path);d=d.updateChild(A,N.currentOutputSnapshotRaw)}const m=d.val(!0),D=r;i.server_.put(D.toString(),m,b=>{Mo(i,"transaction put response",{path:D.toString(),status:b});let N=[];if("ok"===b){const A=[];for(let $=0;$<e.length;$++)e[$].status=2,N=N.concat(Wi(i.serverSyncTree_,e[$].currentWriteId)),e[$].onComplete&&A.push(()=>e[$].onComplete(null,!0,e[$].currentOutputSnapshotResolved)),e[$].unwatcher();qi(i,ah(i.transactionQueueTree_,r)),au(i,i.transactionQueueTree_),Jn(i.eventQueue_,r,N);for(let $=0;$<A.length;$++)Vi(A[$])}else{if("datastale"===b)for(let A=0;A<e.length;A++)e[A].status=3===e[A].status?4:0;else{wn("transaction at "+D.toString()+" failed: "+b);for(let A=0;A<e.length;A++)e[A].status=4,e[A].abortReason=b}xo(i,r)}},f)}(i,Un(r),e)}else $r(r)&&Bc(r,e=>{au(i,e)})}function xo(i,r){const e=Ls(i,r),o=Un(e);return function Em(i,r,e){if(0===r.length)return;const o=[];let l=[];const f=r.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<r.length;m++){const D=r[m],b=xn(e,D.path);let A,N=!1;if((0,H.hu)(null!==b,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)N=!0,A=D.abortReason,l=l.concat(Wi(i.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=25)N=!0,A="maxretry",l=l.concat(Wi(i.serverSyncTree_,D.currentWriteId,!0));else{const $=Wc(i,D.path,f);D.currentInputSnapshot=$;const Q=r[m].update($.val());if(void 0!==Q){nu("transaction failed: Data returned ",Q,D.path);let ye=Bt(Q);"object"==typeof Q&&null!=Q&&(0,H.r3)(Q,".priority")||(ye=ye.updatePriority($.getPriority()));const Et=D.currentWriteId,Xn=ou(i),Qt=Fc(ye,$,Xn);D.currentOutputSnapshotRaw=ye,D.currentOutputSnapshotResolved=Qt,D.currentWriteId=$c(i),f.splice(f.indexOf(Et),1),l=l.concat(Kf(i.serverSyncTree_,D.path,Qt,D.currentWriteId,D.applyLocally)),l=l.concat(Wi(i.serverSyncTree_,Et,!0))}else N=!0,A="nodata",l=l.concat(Wi(i.serverSyncTree_,D.currentWriteId,!0))}Jn(i.eventQueue_,e,l),l=[],N&&(r[m].status=2,setTimeout(r[m].unwatcher,Math.floor(0)),r[m].onComplete&&o.push("nodata"===A?()=>r[m].onComplete(null,!1,r[m].currentInputSnapshot):()=>r[m].onComplete(new Error(A),!1,null)))}qi(i,i.transactionQueueTree_);for(let m=0;m<o.length;m++)Vi(o[m]);au(i,i.transactionQueueTree_)}(i,bm(i,e),o),o}function Ls(i,r){let e,o=i.transactionQueueTree_;for(e=at(r);null!==e&&void 0===ks(o);)o=ah(o,e),e=at(r=yt(r));return o}function bm(i,r){const e=[];return Im(i,r,e),e.sort((o,l)=>o.order-l.order),e}function Im(i,r,e){const o=ks(r);if(o)for(let l=0;l<o.length;l++)e.push(o[l]);Bc(r,l=>{Im(i,l,e)})}function qi(i,r){const e=ks(r);if(e){let o=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[o]=e[l],o++);e.length=o,Lc(r,e.length>0?e:void 0)}Bc(r,o=>{qi(i,o)})}function Tm(i,r){const e=Un(Ls(i,r)),o=ah(i.transactionQueueTree_,r);return function Wr(i,r,e){let o=e?i:i.parent;for(;null!==o;){if(r(o))return!0;o=o.parent}}(o,l=>{lu(i,l)}),lu(i,o),zr(o,l=>{lu(i,l)}),e}function lu(i,r){const e=ks(r);if(e){const o=[];let l=[],d=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,H.hu)(d===f-1,"All SENT items should be at beginning of queue."),d=f,e[f].status=3,e[f].abortReason="set"):((0,H.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),l=l.concat(Wi(i.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&o.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===d?Lc(r,void 0):e.length=d+1,Jn(i.eventQueue_,Un(r),l);for(let f=0;f<o.length;f++)Vi(o[f])}}const Gc=function(i,r){const e=FC(i),o=e.namespace;return"firebase.com"===e.domain&&pi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Nl(e.host,e.secure,o,"ws"===e.scheme||"wss"===e.scheme,r,"",o!==e.subdomain),path:new _t(e.pathString)}},FC=function(i){let r="",e="",o="",l="",d="",f=!0,m="https",D=443;if("string"==typeof i){let b=i.indexOf("//");b>=0&&(m=i.substring(0,b-1),i=i.substring(b+2));let N=i.indexOf("/");-1===N&&(N=i.length);let A=i.indexOf("?");-1===A&&(A=i.length),r=i.substring(0,Math.min(N,A)),N<A&&(l=function NC(i){let r="";const e=i.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let l=e[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(d){}r+="/"+l}return r}(i.substring(N,A)));const $=function Sm(i){const r={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?r[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):wn(`Invalid query segment '${e}' in query '${i}'`)}return r}(i.substring(Math.min(i.length,A)));b=r.indexOf(":"),b>=0?(f="https"===m||"wss"===m,D=parseInt(r.substring(b+1),10)):b=r.length;const Q=r.slice(0,b);if("localhost"===Q.toLowerCase())e="localhost";else if(Q.split(".").length<=2)e=Q;else{const ye=r.indexOf(".");o=r.substring(0,ye).toLowerCase(),e=r.substring(ye+1),d=o}"ns"in $&&(d=$.ns)}return{host:r,port:D,domain:e,subdomain:o,secure:f,scheme:m,pathString:l,namespace:d}};class Ue{constructor(r,e,o,l){this.eventType=r,this.eventRegistration=e,this.snapshot=o,this.prevName=l}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.Pz)(this.snapshot.exportVal())}}class Am{constructor(r,e,o){this.eventRegistration=r,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class _h{constructor(r,e){this.snapshotCallback=r,this.cancelCallback=e}onValue(r,e){this.snapshotCallback.call(null,r,e)}onCancel(r){return(0,H.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class On{constructor(r,e,o,l){this._repo=r,this._path=e,this._queryParams=o,this._orderByCalled=l}get key(){return rt(this._path)?null:pc(this._path)}get ref(){return new ht(this._repo,this._path)}get _queryIdentifier(){const r=xf(this._queryParams),e=cr(r);return"{}"===e?"default":e}get _queryObject(){return xf(this._queryParams)}isEqual(r){if(!((r=(0,H.m9)(r))instanceof On))return!1;const e=this._repo===r._repo,o=mf(this._path,r._path);return e&&o&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Y_(i){let r="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(r+="/"+encodeURIComponent(String(i.pieces_[e])));return r||"/"}(this._path)}}class ht extends On{constructor(r,e){super(r,e,new Af,!1)}get parent(){const r=mg(this._path);return null===r?null:new ht(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class Oa{constructor(r,e,o){this._node=r,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const e=new _t(r),o=Fa(this.ref,r);return new Oa(this._node.getChild(e),o,At)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,l)=>r(new Oa(l,Fa(this.ref,o),At)))}hasChild(r){const e=new _t(r);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Na(i,r){return(i=(0,H.m9)(i))._checkNotDeleted("ref"),void 0!==r?Fa(i._root,r):i._root}function Fa(i,r){return null===at((i=(0,H.m9)(i))._path)?(e=r,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Hc("child","path",e,!1)):Hc("child","path",r,!1),new ht(i._repo,Nt(i._path,r));var e}function Yc(i,r){i=(0,H.m9)(i),Tr("set",i._path),Gr("set",r,i._path,!1);const e=new H.BH;return gh(i._repo,i._path,r,null,e.wrapCallback(()=>{})),e.promise}class uu{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,e){const o=e._queryParams.getIndex();return new Ue("value",this,new Oa(r.snapshotNode,new ht(e._repo,e._path),o))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new Am(this,r,e):null}matches(r){return r instanceof uu&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Zc{constructor(r,e){this.eventType=r,this.callbackContext=e}respondsTo(r){let e="children_added"===r?"child_added":r;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new Am(this,r,e):null}createEvent(r,e){(0,H.hu)(null!=r.childName,"Child events should have a childName.");const o=Fa(new ht(e._repo,e._path),r.childName),l=e._queryParams.getIndex();return new Ue(r.type,this,new Oa(r.snapshotNode,o,l),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof Zc&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ro(i,r,e,o){return function cu(i,r,e,o,l){let d;if("object"==typeof o&&(d=void 0,l=o),"function"==typeof o&&(d=o),l&&l.onlyOnce){const D=e,b=(N,A)=>{zc(i._repo,i,m),D(N,A)};b.userCallback=e.userCallback,b.context=e.context,e=b}const f=new _h(e,d||void 0),m="value"===r?new uu(f):new Zc(r,f);return function Vy(i,r,e){let o;o=".info"===at(r._path)?Rc(i.infoSyncTree_,r,e):Rc(i.serverSyncTree_,r,e),dh(i.eventQueue_,r._path,o)}(i._repo,i,m),()=>zc(i._repo,i,m)}(i,"value",r,e,o)}(function nm(i){(0,H.hu)(!Hf,"__referenceConstructor has already been defined"),Hf=i})(ht),function rm(i){(0,H.hu)(!Ma,"__referenceConstructor has already been defined"),Ma=i}(ht);const Ch={};function iv(i,r,e,o,l){let d=o||i.options.databaseURL;void 0===d&&(i.options.projectId||pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fn("Using default host for project ",i.options.projectId),d=`${i.options.projectId}-default-rtdb.firebaseio.com`);let D,b,f=Gc(d,l),m=f.repoInfo;"undefined"!=typeof process&&process.env&&(b=process.env.FIREBASE_DATABASE_EMULATOR_HOST),b?(D=!0,d=`http://${b}?ns=${m.namespace}`,f=Gc(d,l),m=f.repoInfo):D=!f.repoInfo.secure;const N=l&&D?new ac(ac.OWNER):new sf(i.name,i.options,r);(function(i,r){const e=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Uc(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Vc(i)}(e))throw new Error((0,H.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",f),rt(f.path)||pi("Database URL must point to the root of a Firebase Database (not including a child path).");const A=function sv(i,r,e,o){let l=Ch[r.name];l||(l={},Ch[r.name]=l);let d=l[i.toURLString()];return d&&pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new Ry(i,false,e,o),l[i.toURLString()]=d,d}(m,i,N,new rf(i.name,e));return new ov(A,i)}class ov{constructor(r,e){this._repoInternal=r,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Oy(i,r,e){if(i.stats_=tg(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new $l(i.repoInfo_,(o,l,d,f)=>{_m(i,o,l,d,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>ym(i,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new Co(i.repoInfo_,r,(o,l,d,f)=>{_m(i,o,l,d,f)},o=>{ym(i,o)},o=>{!function Ny(i,r){hn(r,(e,o)=>{ph(i,e,o)})}(i,o)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=function wC(i,r){const e=i.toString();return eg[e]||(eg[e]=r()),eg[e]}(i.repoInfo_,()=>new Lg(i.stats_,i.server_)),i.infoData_=new MC,i.infoSyncTree_=new Yf({startListening:(o,l,d,f)=>{let m=[];const D=i.infoData_.getNode(o._path);return D.isEmpty()||(m=So(i.infoSyncTree_,o._path,D),setTimeout(()=>{f("ok")},0)),m},stopListening:()=>{}}),ph(i,"connected",!1),i.serverSyncTree_=new Yf({startListening:(o,l,d,f)=>(i.server_.listen(o,d,l,(m,D)=>{const b=f(m,D);Jn(i.eventQueue_,o._path,b)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ht(this._repo,dt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ka(i,r){const e=Ch[r];(!e||e[i.key]!==i)&&pi(`Database ${r}(${i.repoInfo_}) has already been deleted.`),function mh(i){i.persistentConnection_&&i.persistentConnection_.interrupt("repo_interrupt")}(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&pi("Cannot call "+r+" on a deleted database.")}}function gv(i,r){if(1&i&&(y.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"p"),y._uU(4),y.qZA(),y.TgZ(5,"span",32)(6,"b"),y._uU(7),y.qZA()()()()()),2&i){const e=y.oxw().$implicit;y.xp6(4),y.Oqu(e.chat),y.xp6(3),y.Oqu(e.username)}}function mv(i,r){if(1&i&&(y.TgZ(0,"div",33)(1,"div",34)(2,"p"),y._uU(3),y.qZA(),y.TgZ(4,"span",32)(5,"b"),y._uU(6),y.qZA()()()()),2&i){const e=y.oxw().$implicit;y.xp6(3),y.Oqu(e.chat),y.xp6(3),y.Oqu(e.username)}}function _v(i,r){if(1&i&&(y.TgZ(0,"div"),y.YNc(1,gv,8,2,"div",27),y.YNc(2,mv,7,2,"div",28),y.qZA()),2&i){const e=r.$implicit,o=y.oxw();y.xp6(1),y.Q6J("ngIf",e.username!=o.username),y.xp6(1),y.Q6J("ngIf",e.username==o.username)}}function yv(i,r){if(1&i&&(y.TgZ(0,"div")(1,"div"),y._uU(2),y.qZA()()),2&i){const e=r.$implicit;y.xp6(2),y.AsE("",e.username," : ",e.chat,"")}}Co.prototype.simpleListen=function(i,r){this.sendRequest("q",{p:i},r)},Co.prototype.echo=function(i,r){this.sendRequest("echo",{d:i},r)},function dv(i){(function N_(i){qd=i})(Es.SDK_VERSION),(0,Es._registerComponent)(new Vp.wA("database",(r,{instanceIdentifier:e})=>iv(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Es.registerVersion)(Hp,"0.13.5",i),(0,Es.registerVersion)(Hp,"0.13.5","esm2017")}();const vv=[{path:"",component:ec},{path:"chat",component:(()=>{class i{constructor(e){this.route=e,this.title="chat_test",this.all_chats=[],this.firebaseConfig={apiKey:"AIzaSyCiJt5PNdQVth5K0Mu02jClWE3wQZky2iA",authDomain:"chat-test-76af5.firebaseapp.com",projectId:"chat-test-76af5",storageBucket:"chat-test-76af5.appspot.com",messagingSenderId:"285509761505",appId:"1:285509761505:web:3ea6617c3bc005bbde3aa0",dataBaseURL:"https://chat-test-76af5-default-rtdb.firebaseio.com/"},this.username="",this.x=[],this.app=(0,tc.ZF)(this.firebaseConfig),this.database=function lv(i=(0,Es.getApp)(),r){return(0,Es._getProvider)(i,"database").getImmediate({identifier:r})}(this.app)}ngOnInit(){this.route.queryParamMap.subscribe(o=>this.username=o.get("user")),Ro(Na(this.database,"/Chats"),o=>{this.x=[],o.forEach(l=>{const d=l.val();this.x.push(d)})})}add_to_chat(e){this.all_chats.push(e);let d=function Mm(i,r){i=(0,H.m9)(i),Tr("push",i._path),Gr("push",r,i._path,!0);const e=mm(i._repo),o=ny(e),l=Fa(i,o),d=Fa(i,o);let f;return f=null!=r?Yc(d,r).then(()=>d):Promise.resolve(d),l.then=f.then.bind(f),l.catch=f.then.bind(f,void 0),l}(Na(this.database,"Chats/"));Yc(d,{username:this.username,chat:e}),Ro(Na(this.database,"/Chats"),m=>{this.x=[],m.forEach(D=>{const b=D.val();this.x.push(b)})})}ngOnChanges(){Ro(Na(this.database,"/Chats"),o=>{this.x=[],o.forEach(l=>{const d=l.val();this.x.push(d)})})}}return i.\u0275fac=function(e){return new(e||i)(y.Y36(Lr))},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-chat-test"]],features:[y.TTD],decls:45,vars:5,consts:[["rel","stylesheet","href","https://use.fontawesome.com/releases/v5.8.2/css/all.css"],[1,"container"],[1,"row"],[1,"col-md-8"],[1,"message-box"],[1,"head-box-1"],[1,"msg-box","list-inline","text-left","d-inline-block","float-left"],["id","back",1,"fas","fa-arrow-left"],["src","https://i.ibb.co/fCzfFJw/person.jpg","alt","","width","40px"],[1,"msg_history"],[4,"ngFor","ngForOf"],["id","video_section",1,"video_box"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"video-chat-top"],[1,"video_section"],["src","https://i.ibb.co/2vtJ3XR/user.png","height","280px","width","280px"],[1,"video_chat_box"],["aria-hidden","true",1,"fa","fa-phone"],["aria-hidden","true",1,"fa","fa-phone","close_video_chat"],["aria-hidden","true",1,"fa","fa-microphone-slash"],[1,"send-message"],["action","","method",""],["type","text","name","","valu","","id","","placeholder","Type your message here ...",1,"form-control"],["chat",""],[1,"list-inline"],[1,"fas","fa-paper-plane",3,"click"],[3,"click"],["class","incoming_msg",4,"ngIf"],["class","outgoing_msg",4,"ngIf"],[1,"incoming_msg"],[1,"received_msg"],[1,"received_withd_msg"],[1,"time_date"],[1,"outgoing_msg"],[1,"sent_msg"]],template:function(e,o){if(1&e){const l=y.EpF();y.TgZ(0,"h1"),y._uU(1),y.qZA(),y._UZ(2,"link",0),y.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"ul",6)(9,"li"),y._UZ(10,"i",7),y.qZA(),y.TgZ(11,"li"),y._UZ(12,"img",8),y.TgZ(13,"span"),y._uU(14),y.qZA(),y._UZ(15,"br"),y.qZA()()(),y.TgZ(16,"div",9),y.YNc(17,_v,3,2,"div",10),y.qZA(),y.TgZ(18,"div",11)(19,"div",2)(20,"div",12)(21,"div",13)(22,"div",14),y._UZ(23,"img",15),y.qZA(),y.TgZ(24,"div",16)(25,"ul")(26,"li"),y._UZ(27,"i",17),y.qZA(),y.TgZ(28,"li"),y._UZ(29,"i",18),y.qZA(),y.TgZ(30,"li"),y._UZ(31,"i",19),y.qZA()()()()()()(),y.TgZ(32,"div",20)(33,"form",21),y._UZ(34,"input",22,23),y.TgZ(36,"ul",24)(37,"li")(38,"button",25),y.NdJ("click",function(){y.CHM(l);const f=y.MAs(35);return o.add_to_chat(f.value)}),y.qZA()()()()()()()()(),y.TgZ(39,"button",26),y.NdJ("click",function(){y.CHM(l);const f=y.MAs(35);return o.add_to_chat(f.value)}),y._uU(40,"Send Text"),y.qZA(),y._uU(41),y._UZ(42,"br"),y.YNc(43,yv,3,2,"div",10),y._UZ(44,"br")}2&e&&(y.xp6(1),y.hij("Welcome ",o.username," !"),y.xp6(13),y.hij(" Welcome to the Group Chat ",o.username," !"),y.xp6(3),y.Q6J("ngForOf",o.x),y.xp6(24),y.hij("\n",o.all_chats,"\n"),y.xp6(2),y.Q6J("ngForOf",o.x))},directives:[Ft,Ye],styles:["section[_ngcontent-%COMP%]{padding-top:60px;padding-bottom:60px;background:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#000;border-radius:5px}.chat-list-box[_ngcontent-%COMP%]{display:inline-block;width:100%;background:#fff;box-shadow:0 10px 30px #32323229}.flat-icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding:0 8px;vertical-align:middle;position:relative;top:7px}.flat-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;border-radius:unset!important}ul.list-inline.text-left.d-inline-block.float-left[_ngcontent-%COMP%]{margin-bottom:0}.chat-list-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50px}.message-box[_ngcontent-%COMP%]{display:inline-block;width:100%;background:#fff;box-shadow:0 10px 30px #32323229}.msg-box[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding-left:10px}.msg-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50px}.msg-box[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:8px;color:#545454;font-weight:550}.head-box[_ngcontent-%COMP%]{display:flow-root;padding:10px;background:#007bff}.head-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.chat-person-list[_ngcontent-%COMP%]{padding:14px}.chat-person-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;border-radius:50px}.chat-person-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:20px}.chat-person-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:55px}span.chat-time[_ngcontent-%COMP%]{float:right;font-size:12px}.head-box-1[_ngcontent-%COMP%]{display:flow-root;padding:10px;background:#007bff}.head-box-1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.head-box-1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;position:relative;top:-10px}.msg_history[_ngcontent-%COMP%]{padding:10px;height:280px;overflow:overlay}.incoming_msg_img[_ngcontent-%COMP%]{display:inline-block;width:6%}.timee[_ngcontent-%COMP%]{position:absolute;left:115px;top:30px;color:#fff}.received_msg[_ngcontent-%COMP%]{display:inline-block;padding:0 0 0 10px;vertical-align:top;width:92%}.received_withd_msg[_ngcontent-%COMP%]{width:57%}.received_withd_msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:rgba(0,123,255,.5) none repeat scroll 0 0;border-radius:50px 3px;color:#fff;font-size:14px;margin:0;padding:5px 10px 5px 22px;width:100%}.time_date[_ngcontent-%COMP%]{color:#747474;display:block;font-size:12px;margin:8px 0 0}.incoming_msg_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:50px;float:left}.outgoing_msg[_ngcontent-%COMP%]{overflow:hidden;margin:10px 0}.sent_msg[_ngcontent-%COMP%]{float:right;width:46%}.sent_msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#ddd;border-radius:50px 3px;font-size:14px;margin:0;color:#333;padding:5px 10px 5px 22px;width:100%}.chat-person-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454;text-decoration:none}.setting-drop[_ngcontent-%COMP%]{display:none;position:absolute;width:130px;height:148px;right:0;top:42px;background:#ffffff;color:#545454;box-shadow:1px 1px 15px 1px #0000001f}.send-message[_ngcontent-%COMP%]{padding:15px;background:#007bff;height:auto}.send-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none;border-color:#ddd}.send-message[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:-webkit-inline-box;padding-left:15px}.send-message[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .send-message[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0056b3}.send-message[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;right:45px;top:23px;border-left:1px solid #9c9a9a}.send-message[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:50px}#video_section[_ngcontent-%COMP%]{display:none}.video_chat_box[_ngcontent-%COMP%]{text-align:center;position:absolute;bottom:0;left:0;right:0;margin:0 auto}.video_chat_box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0}.video-chat-top[_ngcontent-%COMP%]{position:relative}.video_section[_ngcontent-%COMP%]{text-align:center}.video_chat_box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:inline-block;padding:6px;margin:5px}.video_chat_box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;padding:10px;border-radius:50%;color:#000;background:#fff}.video_chat_box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2)   i[_ngcontent-%COMP%]{background:red;color:#fff;transform:rotate(226deg)}#video_section[_ngcontent-%COMP%]{background-color:#756f6f}.send-message[_ngcontent-%COMP%]{position:relative}@media only screen and (max-width: 800px){.message-box[_ngcontent-%COMP%]{display:none;position:relative;top:-100%}}.mbox[_ngcontent-%COMP%]{padding:3px}.msg[_ngcontent-%COMP%]{font-size:large;box-shadow:10px 10px 25px #0000004d;background-color:#747474;height:-moz-fit-content;height:fit-content}"]}),i})()}];let km=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({imports:[[Np.forRoot(vv)],Np]}),i})(),Lm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,o){1&e&&y._UZ(0,"router-outlet")},directives:[wl],styles:[""]}),i})(),Cv={apiKey:"AIzaSyCiJt5PNdQVth5K0Mu02jClWE3wQZky2iA",authDomain:"chat-test-76af5.firebaseapp.com",projectId:"chat-test-76af5",storageBucket:"chat-test-76af5.appspot.com",messagingSenderId:"285509761505",appId:"1:285509761505:web:3ea6617c3bc005bbde3aa0",dataBaseURL:"https://chat-test-76af5-default-rtdb.firebaseio.com/"},Dv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=y.oAB({type:i,bootstrap:[Lm]}),i.\u0275inj=y.cJS({providers:[],imports:[[Tu,km,oi.hO.initializeApp(Cv)]]}),i})();(0,y.G48)(),vn().bootstrapModule(Dv).catch(i=>console.error(i))},867:(ke,ce,P)=>{P.d(ce,{ZF:()=>y.initializeApp});var y=P(681);(0,y.registerVersion)("firebase","9.9.3","app")},306:(ke,ce,P)=>{P.d(ce,{y:()=>B});var y=P(961),V=P(727),ae=P(822),Z=P(671);var ve=P(416),Me=P(576),De=P(806);let B=(()=>{class ne{constructor(ge){ge&&(this._subscribe=ge)}lift(ge){const Oe=new ne;return Oe.source=this,Oe.operator=ge,Oe}subscribe(ge,Oe,He){const it=function Ae(ne){return ne&&ne instanceof y.Lv||function ie(ne){return ne&&(0,Me.m)(ne.next)&&(0,Me.m)(ne.error)&&(0,Me.m)(ne.complete)}(ne)&&(0,V.Nn)(ne)}(ge)?ge:new y.Hp(ge,Oe,He);return(0,De.x)(()=>{const{operator:J,source:we}=this;it.add(J?J.call(it,we):we?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(ge){try{return this._subscribe(ge)}catch(Oe){ge.error(Oe)}}forEach(ge,Oe){return new(Oe=L(Oe))((He,it)=>{const J=new y.Hp({next:we=>{try{ge(we)}catch(me){it(me),J.unsubscribe()}},error:it,complete:He});this.subscribe(J)})}_subscribe(ge){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(ge)}[ae.L](){return this}pipe(...ge){return function Pe(ne){return 0===ne.length?Z.y:1===ne.length?ne[0]:function(ge){return ne.reduce((Oe,He)=>He(Oe),ge)}}(ge)(this)}toPromise(ge){return new(ge=L(ge))((Oe,He)=>{let it;this.subscribe(J=>it=J,J=>He(J),()=>Oe(it))})}}return ne.create=Ge=>new ne(Ge),ne})();function L(ne){var Ge;return null!==(Ge=null!=ne?ne:ve.v.Promise)&&void 0!==Ge?Ge:Promise}},579:(ke,ce,P)=>{P.d(ce,{x:()=>ve});var y=P(306),V=P(727);const Z=(0,P(888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=P(737),Pe=P(806);let ve=(()=>{class De extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(L){const ie=new Me(this,this);return ie.operator=L,ie}_throwIfClosed(){if(this.closed)throw new Z}next(L){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(L)}})}error(L){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=L;const{observers:ie}=this;for(;ie.length;)ie.shift().error(L)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:L}=this;for(;L.length;)L.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var L;return(null===(L=this.observers)||void 0===L?void 0:L.length)>0}_trySubscribe(L){return this._throwIfClosed(),super._trySubscribe(L)}_subscribe(L){return this._throwIfClosed(),this._checkFinalizedStatuses(L),this._innerSubscribe(L)}_innerSubscribe(L){const{hasError:ie,isStopped:Ae,observers:ne}=this;return ie||Ae?V.Lc:(this.currentObservers=null,ne.push(L),new V.w0(()=>{this.currentObservers=null,(0,he.P)(ne,L)}))}_checkFinalizedStatuses(L){const{hasError:ie,thrownError:Ae,isStopped:ne}=this;ie?L.error(Ae):ne&&L.complete()}asObservable(){const L=new y.y;return L.source=this,L}}return De.create=(B,L)=>new Me(B,L),De})();class Me extends ve{constructor(B,L){super(),this.destination=B,this.source=L}next(B){var L,ie;null===(ie=null===(L=this.destination)||void 0===L?void 0:L.next)||void 0===ie||ie.call(L,B)}error(B){var L,ie;null===(ie=null===(L=this.destination)||void 0===L?void 0:L.error)||void 0===ie||ie.call(L,B)}complete(){var B,L;null===(L=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===L||L.call(B)}_subscribe(B){var L,ie;return null!==(ie=null===(L=this.source)||void 0===L?void 0:L.subscribe(B))&&void 0!==ie?ie:V.Lc}}},961:(ke,ce,P)=>{P.d(ce,{Hp:()=>ge,Lv:()=>ie});var y=P(576),V=P(727),ae=P(416),Z=P(849);function he(){}const Pe=De("C",void 0,void 0);function De(we,me,_e){return{kind:we,value:me,error:_e}}var B=P(410),L=P(806);class ie extends V.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,V.Nn)(me)&&me.add(this)):this.destination=J}static create(me,_e,et){return new ge(me,_e,et)}next(me){this.isStopped?it(function Me(we){return De("N",we,void 0)}(me),this):this._next(me)}error(me){this.isStopped?it(function ve(we){return De("E",void 0,we)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?it(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function ne(we,me){return Ae.call(we,me)}class Ge{constructor(me){this.partialObserver=me}next(me){const{partialObserver:_e}=this;if(_e.next)try{_e.next(me)}catch(et){Oe(et)}}error(me){const{partialObserver:_e}=this;if(_e.error)try{_e.error(me)}catch(et){Oe(et)}else Oe(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(_e){Oe(_e)}}}class ge extends ie{constructor(me,_e,et){let oe;if(super(),(0,y.m)(me)||!me)oe={next:null!=me?me:void 0,error:null!=_e?_e:void 0,complete:null!=et?et:void 0};else{let Y;this&&ae.v.useDeprecatedNextContext?(Y=Object.create(me),Y.unsubscribe=()=>this.unsubscribe(),oe={next:me.next&&ne(me.next,Y),error:me.error&&ne(me.error,Y),complete:me.complete&&ne(me.complete,Y)}):oe=me}this.destination=new Ge(oe)}}function Oe(we){ae.v.useDeprecatedSynchronousErrorHandling?(0,L.O)(we):(0,Z.h)(we)}function it(we,me){const{onStoppedNotification:_e}=ae.v;_e&&B.z.setTimeout(()=>_e(we,me))}const J={closed:!0,next:he,error:function He(we){throw we},complete:he}},727:(ke,ce,P)=>{P.d(ce,{Lc:()=>Pe,w0:()=>he,Nn:()=>ve});var y=P(576);const ae=(0,P(888).d)(De=>function(L){De(this),this.message=L?`${L.length} errors occurred during unsubscription:\n${L.map((ie,Ae)=>`${Ae+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=L});var Z=P(737);class he{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:L}=this;if(L)if(this._parentage=null,Array.isArray(L))for(const ne of L)ne.remove(this);else L.remove(this);const{initialTeardown:ie}=this;if((0,y.m)(ie))try{ie()}catch(ne){B=ne instanceof ae?ne.errors:[ne]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const ne of Ae)try{Me(ne)}catch(Ge){B=null!=B?B:[],Ge instanceof ae?B=[...B,...Ge.errors]:B.push(Ge)}}if(B)throw new ae(B)}}add(B){var L;if(B&&B!==this)if(this.closed)Me(B);else{if(B instanceof he){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(L=this._finalizers)&&void 0!==L?L:[]).push(B)}}_hasParent(B){const{_parentage:L}=this;return L===B||Array.isArray(L)&&L.includes(B)}_addParent(B){const{_parentage:L}=this;this._parentage=Array.isArray(L)?(L.push(B),L):L?[L,B]:B}_removeParent(B){const{_parentage:L}=this;L===B?this._parentage=null:Array.isArray(L)&&(0,Z.P)(L,B)}remove(B){const{_finalizers:L}=this;L&&(0,Z.P)(L,B),B instanceof he&&B._removeParent(this)}}he.EMPTY=(()=>{const De=new he;return De.closed=!0,De})();const Pe=he.EMPTY;function ve(De){return De instanceof he||De&&"closed"in De&&(0,y.m)(De.remove)&&(0,y.m)(De.add)&&(0,y.m)(De.unsubscribe)}function Me(De){(0,y.m)(De)?De():De.unsubscribe()}},416:(ke,ce,P)=>{P.d(ce,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ke,ce,P)=>{P.d(ce,{E:()=>V});const V=new(P(306).y)(he=>he.complete())},76:(ke,ce,P)=>{P.d(ce,{D:()=>et});var y=P(421),V=P(672),ae=P(482),Z=P(403);function he(oe,Y=0){return(0,ae.e)((de,j)=>{de.subscribe((0,Z.x)(j,G=>(0,V.f)(j,oe,()=>j.next(G),Y),()=>(0,V.f)(j,oe,()=>j.complete(),Y),G=>(0,V.f)(j,oe,()=>j.error(G),Y)))})}function Pe(oe,Y=0){return(0,ae.e)((de,j)=>{j.add(oe.schedule(()=>de.subscribe(j),Y))})}var De=P(306),L=P(202),ie=P(576);function ne(oe,Y){if(!oe)throw new Error("Iterable cannot be null");return new De.y(de=>{(0,V.f)(de,Y,()=>{const j=oe[Symbol.asyncIterator]();(0,V.f)(de,Y,()=>{j.next().then(G=>{G.done?de.complete():de.next(G.value)})},0,!0)})})}var Ge=P(670),ge=P(239),Oe=P(144),He=P(495),it=P(206),J=P(532),we=P(260);function et(oe,Y){return Y?function _e(oe,Y){if(null!=oe){if((0,Ge.c)(oe))return function ve(oe,Y){return(0,y.Xf)(oe).pipe(Pe(Y),he(Y))}(oe,Y);if((0,Oe.z)(oe))return function B(oe,Y){return new De.y(de=>{let j=0;return Y.schedule(function(){j===oe.length?de.complete():(de.next(oe[j++]),de.closed||this.schedule())})})}(oe,Y);if((0,ge.t)(oe))return function Me(oe,Y){return(0,y.Xf)(oe).pipe(Pe(Y),he(Y))}(oe,Y);if((0,it.D)(oe))return ne(oe,Y);if((0,He.T)(oe))return function Ae(oe,Y){return new De.y(de=>{let j;return(0,V.f)(de,Y,()=>{j=oe[L.h](),(0,V.f)(de,Y,()=>{let G,W;try{({value:G,done:W}=j.next())}catch(K){return void de.error(K)}W?de.complete():de.next(G)},0,!0)}),()=>(0,ie.m)(null==j?void 0:j.return)&&j.return()})}(oe,Y);if((0,we.L)(oe))return function me(oe,Y){return ne((0,we.Q)(oe),Y)}(oe,Y)}throw(0,J.z)(oe)}(oe,Y):(0,y.Xf)(oe)}},421:(ke,ce,P)=>{P.d(ce,{Xf:()=>Ae});var y=P(655),V=P(144),ae=P(239),Z=P(306),he=P(670),Pe=P(206),ve=P(532),Me=P(495),De=P(260),B=P(576),L=P(849),ie=P(822);function Ae(we){if(we instanceof Z.y)return we;if(null!=we){if((0,he.c)(we))return function ne(we){return new Z.y(me=>{const _e=we[ie.L]();if((0,B.m)(_e.subscribe))return _e.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,V.z)(we))return function Ge(we){return new Z.y(me=>{for(let _e=0;_e<we.length&&!me.closed;_e++)me.next(we[_e]);me.complete()})}(we);if((0,ae.t)(we))return function ge(we){return new Z.y(me=>{we.then(_e=>{me.closed||(me.next(_e),me.complete())},_e=>me.error(_e)).then(null,L.h)})}(we);if((0,Pe.D)(we))return He(we);if((0,Me.T)(we))return function Oe(we){return new Z.y(me=>{for(const _e of we)if(me.next(_e),me.closed)return;me.complete()})}(we);if((0,De.L)(we))return function it(we){return He((0,De.Q)(we))}(we)}throw(0,ve.z)(we)}function He(we){return new Z.y(me=>{(function J(we,me){var _e,et,oe,Y;return(0,y.mG)(this,void 0,void 0,function*(){try{for(_e=(0,y.KL)(we);!(et=yield _e.next()).done;)if(me.next(et.value),me.closed)return}catch(de){oe={error:de}}finally{try{et&&!et.done&&(Y=_e.return)&&(yield Y.call(_e))}finally{if(oe)throw oe.error}}me.complete()})})(we,me).catch(_e=>me.error(_e))})}},403:(ke,ce,P)=>{P.d(ce,{x:()=>V});var y=P(961);function V(Z,he,Pe,ve,Me){return new ae(Z,he,Pe,ve,Me)}class ae extends y.Lv{constructor(he,Pe,ve,Me,De,B){super(he),this.onFinalize=De,this.shouldUnsubscribe=B,this._next=Pe?function(L){try{Pe(L)}catch(ie){he.error(ie)}}:super._next,this._error=Me?function(L){try{Me(L)}catch(ie){he.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(L){he.error(L)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},4:(ke,ce,P)=>{P.d(ce,{U:()=>ae});var y=P(482),V=P(403);function ae(Z,he){return(0,y.e)((Pe,ve)=>{let Me=0;Pe.subscribe((0,V.x)(ve,De=>{ve.next(Z.call(he,De,Me++))}))})}},189:(ke,ce,P)=>{P.d(ce,{J:()=>ae});var y=P(577),V=P(671);function ae(Z=1/0){return(0,y.z)(V.y,Z)}},577:(ke,ce,P)=>{P.d(ce,{z:()=>Me});var y=P(4),V=P(421),ae=P(482),Z=P(672),he=P(403),ve=P(576);function Me(De,B,L=1/0){return(0,ve.m)(B)?Me((ie,Ae)=>(0,y.U)((ne,Ge)=>B(ie,ne,Ae,Ge))((0,V.Xf)(De(ie,Ae))),L):("number"==typeof B&&(L=B),(0,ae.e)((ie,Ae)=>function Pe(De,B,L,ie,Ae,ne,Ge,ge){const Oe=[];let He=0,it=0,J=!1;const we=()=>{J&&!Oe.length&&!He&&B.complete()},me=et=>He<ie?_e(et):Oe.push(et),_e=et=>{ne&&B.next(et),He++;let oe=!1;(0,V.Xf)(L(et,it++)).subscribe((0,he.x)(B,Y=>{null==Ae||Ae(Y),ne?me(Y):B.next(Y)},()=>{oe=!0},void 0,()=>{if(oe)try{for(He--;Oe.length&&He<ie;){const Y=Oe.shift();Ge?(0,Z.f)(B,Ge,()=>_e(Y)):_e(Y)}we()}catch(Y){B.error(Y)}}))};return De.subscribe((0,he.x)(B,me,()=>{J=!0,we()})),()=>{null==ge||ge()}}(ie,Ae,De,L)))}},410:(ke,ce,P)=>{P.d(ce,{z:()=>y});const y={setTimeout(V,ae,...Z){const{delegate:he}=y;return(null==he?void 0:he.setTimeout)?he.setTimeout(V,ae,...Z):setTimeout(V,ae,...Z)},clearTimeout(V){const{delegate:ae}=y;return((null==ae?void 0:ae.clearTimeout)||clearTimeout)(V)},delegate:void 0}},202:(ke,ce,P)=>{P.d(ce,{h:()=>V});const V=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},822:(ke,ce,P)=>{P.d(ce,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},669:(ke,ce,P)=>{P.d(ce,{_6:()=>Pe,jO:()=>Z,yG:()=>he});var y=P(576);function ae(ve){return ve[ve.length-1]}function Z(ve){return(0,y.m)(ae(ve))?ve.pop():void 0}function he(ve){return function V(ve){return ve&&(0,y.m)(ve.schedule)}(ae(ve))?ve.pop():void 0}function Pe(ve,Me){return"number"==typeof ae(ve)?ve.pop():Me}},737:(ke,ce,P)=>{function y(V,ae){if(V){const Z=V.indexOf(ae);0<=Z&&V.splice(Z,1)}}P.d(ce,{P:()=>y})},888:(ke,ce,P)=>{function y(V){const Z=V(he=>{Error.call(he),he.stack=(new Error).stack});return Z.prototype=Object.create(Error.prototype),Z.prototype.constructor=Z,Z}P.d(ce,{d:()=>y})},806:(ke,ce,P)=>{P.d(ce,{x:()=>ae,O:()=>Z});var y=P(416);let V=null;function ae(he){if(y.v.useDeprecatedSynchronousErrorHandling){const Pe=!V;if(Pe&&(V={errorThrown:!1,error:null}),he(),Pe){const{errorThrown:ve,error:Me}=V;if(V=null,ve)throw Me}}else he()}function Z(he){y.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=he)}},672:(ke,ce,P)=>{function y(V,ae,Z,he=0,Pe=!1){const ve=ae.schedule(function(){Z(),Pe?V.add(this.schedule(null,he)):this.unsubscribe()},he);if(V.add(ve),!Pe)return ve}P.d(ce,{f:()=>y})},671:(ke,ce,P)=>{function y(V){return V}P.d(ce,{y:()=>y})},144:(ke,ce,P)=>{P.d(ce,{z:()=>y});const y=V=>V&&"number"==typeof V.length&&"function"!=typeof V},206:(ke,ce,P)=>{P.d(ce,{D:()=>V});var y=P(576);function V(ae){return Symbol.asyncIterator&&(0,y.m)(null==ae?void 0:ae[Symbol.asyncIterator])}},576:(ke,ce,P)=>{function y(V){return"function"==typeof V}P.d(ce,{m:()=>y})},670:(ke,ce,P)=>{P.d(ce,{c:()=>ae});var y=P(822),V=P(576);function ae(Z){return(0,V.m)(Z[y.L])}},495:(ke,ce,P)=>{P.d(ce,{T:()=>ae});var y=P(202),V=P(576);function ae(Z){return(0,V.m)(null==Z?void 0:Z[y.h])}},239:(ke,ce,P)=>{P.d(ce,{t:()=>V});var y=P(576);function V(ae){return(0,y.m)(null==ae?void 0:ae.then)}},260:(ke,ce,P)=>{P.d(ce,{Q:()=>ae,L:()=>Z});var y=P(655),V=P(576);function ae(he){return(0,y.FC)(this,arguments,function*(){const ve=he.getReader();try{for(;;){const{value:Me,done:De}=yield(0,y.qq)(ve.read());if(De)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Me)}}finally{ve.releaseLock()}})}function Z(he){return(0,V.m)(null==he?void 0:he.getReader)}},482:(ke,ce,P)=>{P.d(ce,{A:()=>V,e:()=>ae});var y=P(576);function V(Z){return(0,y.m)(null==Z?void 0:Z.lift)}function ae(Z){return he=>{if(V(he))return he.lift(function(Pe){try{return Z(Pe,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},849:(ke,ce,P)=>{P.d(ce,{h:()=>ae});var y=P(416),V=P(410);function ae(Z){V.z.setTimeout(()=>{const{onUnhandledError:he}=y.v;if(!he)throw Z;he(Z)})}},532:(ke,ce,P)=>{function y(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ce,{z:()=>y})},655:(ke,ce,P)=>{function Me(j,G,W,K){return new(W||(W=Promise))(function(pe,Le){function Ke(It){try{We(K.next(It))}catch(En){Le(En)}}function xt(It){try{We(K.throw(It))}catch(En){Le(En)}}function We(It){It.done?pe(It.value):function q(pe){return pe instanceof W?pe:new W(function(Le){Le(pe)})}(It.value).then(Ke,xt)}We((K=K.apply(j,G||[])).next())})}function Oe(j){return this instanceof Oe?(this.v=j,this):new Oe(j)}function He(j,G,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,K=W.apply(j,G||[]),pe=[];return q={},Le("next"),Le("throw"),Le("return"),q[Symbol.asyncIterator]=function(){return this},q;function Le(Mt){K[Mt]&&(q[Mt]=function(on){return new Promise(function(pn,gr){pe.push([Mt,on,pn,gr])>1||Ke(Mt,on)})})}function Ke(Mt,on){try{!function xt(Mt){Mt.value instanceof Oe?Promise.resolve(Mt.value.v).then(We,It):En(pe[0][2],Mt)}(K[Mt](on))}catch(pn){En(pe[0][3],pn)}}function We(Mt){Ke("next",Mt)}function It(Mt){Ke("throw",Mt)}function En(Mt,on){Mt(on),pe.shift(),pe.length&&Ke(pe[0][0],pe[0][1])}}function J(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,G=j[Symbol.asyncIterator];return G?G.call(j):(j=function ie(j){var G="function"==typeof Symbol&&Symbol.iterator,W=G&&j[G],K=0;if(W)return W.call(j);if(j&&"number"==typeof j.length)return{next:function(){return j&&K>=j.length&&(j=void 0),{value:j&&j[K++],done:!j}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(j),W={},K("next"),K("throw"),K("return"),W[Symbol.asyncIterator]=function(){return this},W);function K(pe){W[pe]=j[pe]&&function(Le){return new Promise(function(Ke,xt){!function q(pe,Le,Ke,xt){Promise.resolve(xt).then(function(We){pe({value:We,done:Ke})},Le)}(Ke,xt,(Le=j[pe](Le)).done,Le.value)})}}}P.d(ce,{mG:()=>Me,qq:()=>Oe,FC:()=>He,KL:()=>J})},223:(ke,ce,P)=>{P.d(ce,{deG:()=>so,tb:()=>GD,AFp:()=>HD,ip1:()=>VD,CZH:()=>jv,hGG:()=>g0,z2F:()=>Gv,sBO:()=>JE,Sil:()=>RE,_Vd:()=>Qt,EJc:()=>xE,SBq:()=>La,qLn:()=>Al,vpe:()=>js,tBr:()=>g,XFs:()=>Ne,OlP:()=>nt,zs3:()=>wr,ZZ4:()=>Jv,aQg:()=>Xv,soG:()=>Vv,YKP:()=>sD,h0i:()=>ed,PXZ:()=>zE,R0b:()=>Yi,FiY:()=>v,Lbi:()=>WD,g9A:()=>zD,Qsj:()=>ww,FYo:()=>eD,JOm:()=>hi,tp0:()=>T,Rgc:()=>Th,dDg:()=>ZD,q4F:()=>nD,GfV:()=>tD,s_b:()=>Um,ifc:()=>Jt,eFA:()=>XD,G48:()=>QE,X6Q:()=>ZE,_c5:()=>p0,VLi:()=>VE,c2e:()=>qD,zSh:()=>bf,wAp:()=>Ue,vHH:()=>_e,cg1:()=>lu,kL8:()=>Sm,dqk:()=>S,sIi:()=>$i,CqO:()=>im,QGY:()=>Ma,F4k:()=>rm,RDi:()=>Ws,AaK:()=>ge,TTD:()=>qa,xp6:()=>Ur,uIk:()=>wt,Suo:()=>CD,Xpm:()=>Ei,lG2:()=>gu,Yz7:()=>jt,cJS:()=>Kr,oAB:()=>Xr,Yjl:()=>Oo,Y36:()=>Aa,_UZ:()=>Gf,qZA:()=>Ac,TgZ:()=>Ql,EpF:()=>Jl,LFG:()=>Ht,$8M:()=>Pi,$Z:()=>nm,NdJ:()=>qf,CRH:()=>DD,oxw:()=>om,Q6J:()=>$f,iGM:()=>vD,MAs:()=>Wg,CHM:()=>Ho,LSH:()=>Yu,YNc:()=>Nf,_uU:()=>hm,Oqu:()=>Tr,hij:()=>iu,AsE:()=>ch});var y=P(189),V=P(421),ae=P(515),Z=P(669),he=P(76),ve=P(579),Me=P(727),De=P(306),B=P(961),L=P(482);function Ae(t,n,...s){if(!0===n)return void t();if(!1===n)return;const a=new B.Hp({next:()=>{a.unsubscribe(),t()}});return n(...s).subscribe(a)}function ne(t){for(let n in t)if(t[n]===ne)return n;throw Error("Could not find renamed property on target object.")}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function Oe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const He=ne({__forward_ref__:ne});function it(t){return t.__forward_ref__=it,t.toString=function(){return ge(this())},t}function J(t){return function we(t){return"function"==typeof t&&t.hasOwnProperty(He)&&t.__forward_ref__===it}(t)?t():t}class _e extends Error{constructor(n,s){super(function et(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function oe(t){return"string"==typeof t?t:null==t?"":String(t)}function Y(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():oe(t)}function W(t,n){const s=n?` in ${n}`:"";throw new _e(-201,`No provider for ${Y(t)} found${s}`)}function gt(t,n){null==t&&function lt(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function jt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vn(t){return tr(t,nr)||tr(t,gn)}function tr(t,n){return t.hasOwnProperty(n)?t[n]:null}function Zr(t){return t&&(t.hasOwnProperty(Zi)||t.hasOwnProperty(Sr))?t[Zi]:null}const nr=ne({\u0275prov:ne}),Zi=ne({\u0275inj:ne}),gn=ne({ngInjectableDef:ne}),Sr=ne({ngInjectorDef:ne});var Ne=(()=>((Ne=Ne||{})[Ne.Default=0]="Default",Ne[Ne.Host=1]="Host",Ne[Ne.Self=2]="Self",Ne[Ne.SkipSelf=4]="SkipSelf",Ne[Ne.Optional=8]="Optional",Ne))();let Di;function Te(t){const n=Di;return Di=t,n}function ze(t,n,s){const a=Vn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ne.Optional?null:void 0!==n?n:void W(ge(t),"Injector")}function Wt(t){return{toString:t}.toString()}var Tt=(()=>((Tt=Tt||{})[Tt.OnPush=0]="OnPush",Tt[Tt.Default=1]="Default",Tt))(),Jt=(()=>{return(t=Jt||(Jt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Jt;var t})();const vt="undefined"!=typeof globalThis&&globalThis,wi="undefined"!=typeof window&&window,x="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,S=vt||"undefined"!=typeof global&&global||wi||x,re={},le=[],Be=ne({\u0275cmp:ne}),ft=ne({\u0275dir:ne}),mt=ne({\u0275pipe:ne}),rr=ne({\u0275mod:ne}),Ze=ne({\u0275fac:ne}),mn=ne({__NG_ELEMENT_ID__:ne});let Jr=0;function Ei(t){return Wt(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Tt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||le,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Jt.Emulated,id:"c",styles:t.styles||le,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,c=t.features,h=t.pipes;return a.id+=Jr++,a.inputs=pu(t.inputs,s),a.outputs=pu(t.outputs),c&&c.forEach(p=>p(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(Vs):null,a.pipeDefs=h?()=>("function"==typeof h?h():h).map(ja):null,a})}function Vs(t){return Xt(t)||function ei(t){return t[ft]||null}(t)}function ja(t){return function ir(t){return t[mt]||null}(t)}const Ua={};function Xr(t){return Wt(()=>{const n={type:t.type,bootstrap:t.bootstrap||le,declarations:t.declarations||le,imports:t.imports||le,exports:t.exports||le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Ua[t.id]=t.type),n})}function pu(t,n){if(null==t)return re;const s={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],c=u;Array.isArray(u)&&(c=u[1],u=u[0]),s[u]=a,n&&(n[u]=c)}return s}const gu=Ei;function Oo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xt(t){return t[Be]||null}function Hn(t,n){const s=t[rr]||null;if(!s&&!0===n)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return s}function Pr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ot(t){return Array.isArray(t)&&!0===t[1]}function $a(t){return 0!=(8&t.flags)}function ko(t){return 2==(2&t.flags)}function es(t){return 1==(1&t.flags)}function mr(t){return null!==t.template}function Mh(t){return 0!=(512&t[2])}function ns(t,n){return t.hasOwnProperty(Ze)?t[Ze]:null}class Ga{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function qa(){return Ya}function Ya(t){return t.type.prototype.ngOnChanges&&(t.setInput=Hh),Vh}function Vh(){const t=od(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===re)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Hh(t,n,s,a){const u=od(t)||function vu(t,n){return t[yu]=n}(t,{previous:re,current:null}),c=u.current||(u.current={}),h=u.previous,p=this.declaredInputs[s],_=h[p];c[p]=new Ga(_&&_.currentValue,n,h===re),t[a]=n}qa.ngInherit=!0;const yu="__ngSimpleChanges__";function od(t){return t[yu]||null}let Qa;function Ws(t){Qa=t}function kt(t){return!!t.listen}const Du={createRenderer:(t,n)=>function Ja(){return void 0!==Qa?Qa:"undefined"!=typeof document?document:void 0}()};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function yn(t,n){return Dt(n[t.index])}function os(t,n){return t.data[n]}function en(t,n){const s=n[t];return Pr(s)?s:s[0]}function qs(t){return 4==(4&t[2])}function jo(t){return 128==(128&t[2])}function ii(t,n){return null==n?null:t[n]}function Uo(t){t[18]=0}function tl(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const je={lFrame:ol(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vo(){return je.bindingsEnabled}function se(){return je.lFrame.lView}function st(){return je.lFrame.tView}function Ho(t){return je.lFrame.contextLView=t,t[8]}function Vt(){let t=bu();for(;null!==t&&64===t.type;)t=t.parent;return t}function bu(){return je.lFrame.currentTNode}function or(t,n){const s=je.lFrame;s.currentTNode=t,s.isParent=n}function Zs(){return je.lFrame.isParent}function Qs(){return je.isInCheckNoChangesMode}function $o(t){je.isInCheckNoChangesMode=t}function as(){return je.lFrame.bindingIndex++}function Au(t,n){const s=je.lFrame;s.bindingIndex=s.bindingRootIndex=t,sl(n)}function sl(t){je.lFrame.currentDirectiveIndex=t}function dd(){return je.lFrame.currentQueryIndex}function ls(t){je.lFrame.currentQueryIndex=t}function Nr(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Wo(t,n,s){if(s&Ne.SkipSelf){let u=n,c=t;for(;!(u=u.parent,null!==u||s&Ne.Host||(u=Nr(c),null===u||(c=c[15],10&u.type))););if(null===u)return!1;n=u,t=c}const a=je.lFrame=us();return a.currentTNode=n,a.lView=t,!0}function Go(t){const n=us(),s=t[1];je.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function us(){const t=je.lFrame,n=null===t?null:t.child;return null===n?ol(t):n}function ol(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function fd(){const t=je.lFrame;return je.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const al=fd;function qo(){const t=fd();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Cn(){return je.lFrame.selectedIndex}function Ai(t){je.lFrame.selectedIndex=t}function Lt(){const t=je.lFrame;return os(t.tView,t.selectedIndex)}function Js(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const c=t.data[s].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:p,ngAfterViewInit:_,ngAfterViewChecked:C,ngOnDestroy:E}=c;h&&(t.contentHooks||(t.contentHooks=[])).push(-s,h),p&&((t.contentHooks||(t.contentHooks=[])).push(s,p),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,p)),_&&(t.viewHooks||(t.viewHooks=[])).push(-s,_),C&&((t.viewHooks||(t.viewHooks=[])).push(s,C),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,C)),null!=E&&(t.destroyHooks||(t.destroyHooks=[])).push(s,E)}}function Ru(t,n,s){Nu(t,n,3,s)}function Ou(t,n,s,a){(3&t[2])===s&&Nu(t,n,s,a)}function Xs(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Nu(t,n,s,a){const c=null!=a?a:-1,h=n.length-1;let p=0;for(let _=void 0!==a?65535&t[18]:0;_<h;_++)if("number"==typeof n[_+1]){if(p=n[_],null!=a&&p>=a)break}else n[_]<0&&(t[18]+=65536),(p<c||-1==c)&&(Wh(t,s,n,_),t[18]=(4294901760&t[18])+_+2),_++}function Wh(t,n,s,a){const u=s[a]<0,c=s[a+1],p=t[u?-s[a]:s[a]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{c.call(p)}finally{}}}else try{c.call(p)}finally{}}class Gt{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ds(t,n,s){const a=kt(t);let u=0;for(;u<s.length;){const c=s[u];if("number"==typeof c){if(0!==c)break;u++;const h=s[u++],p=s[u++],_=s[u++];a?t.setAttribute(n,p,_,h):n.setAttributeNS(h,p,_)}else{const h=c,p=s[++u];ll(h)?a&&t.setProperty(n,h,p):a?t.setAttribute(n,h,p):n.setAttribute(h,p),u++}}return u}function ku(t){return 3===t||4===t||6===t}function ll(t){return 64===t.charCodeAt(0)}function ai(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?s=u:0===s||St(t,s,u,null,-1===s||2===s?n[++a]:null)}}return t}function St(t,n,s,a,u){let c=0,h=t.length;if(-1===n)h=-1;else for(;c<t.length;){const p=t[c++];if("number"==typeof p){if(p===n){h=-1;break}if(p>n){h=c-1;break}}}for(;c<t.length;){const p=t[c];if("number"==typeof p)break;if(p===s){if(null===a)return void(null!==u&&(t[c+1]=u));if(a===t[c+1])return void(t[c+2]=u)}c++,null!==a&&c++,null!==u&&c++}-1!==h&&(t.splice(h,0,n),c=h+1),t.splice(c++,0,s),null!==a&&t.splice(c++,0,a),null!==u&&t.splice(c++,0,u)}function In(t){return-1!==t}function fs(t){return 32767&t}function hs(t,n){let s=function gd(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let cn=!0;function Yo(t){const n=cn;return cn=t,n}let to=0;function Mi(t,n){const s=gs(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,ps(a.data,t),ps(n,null),ps(a.blueprint,null));const u=Zo(t,n),c=t.injectorIndex;if(In(u)){const h=fs(u),p=hs(u,n),_=p[1].data;for(let C=0;C<8;C++)n[c+C]=p[h+C]|_[h+C]}return n[c+8]=u,c}function ps(t,n){t.push(0,0,0,0,0,0,0,0,n)}function gs(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Zo(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,u=n;for(;null!==u;){const c=u[1],h=c.type;if(a=2===h?c.declTNode:1===h?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function li(t,n,s){!function no(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(mn)&&(a=s[mn]),null==a&&(a=s[mn]=to++);const u=255&a;n.data[t+(u>>5)]|=1<<u}(t,n,s)}function ro(t,n,s){if(s&Ne.Optional)return t;W(n,"NodeInjector")}function ui(t,n,s,a){if(s&Ne.Optional&&void 0===a&&(a=null),0==(s&(Ne.Self|Ne.Host))){const u=t[9],c=Te(void 0);try{return u?u.get(n,a,s&Ne.Optional):ze(n,a,s&Ne.Optional)}finally{Te(c)}}return ro(a,n,s)}function io(t,n,s,a=Ne.Default,u){if(null!==t){const c=function dl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(mn)?t[mn]:void 0;return"number"==typeof n?n>=0?255&n:Qo:n}(s);if("function"==typeof c){if(!Wo(n,t,a))return a&Ne.Host?ro(u,s,a):ui(n,s,a,u);try{const h=c(a);if(null!=h||a&Ne.Optional)return h;W(s)}finally{al()}}else if("number"==typeof c){let h=null,p=gs(t,n),_=-1,C=a&Ne.Host?n[16][6]:null;for((-1===p||a&Ne.SkipSelf)&&(_=-1===p?Zo(t,n):n[p+8],-1!==_&&Xo(a,!1)?(h=n[1],p=fs(_),n=hs(_,n)):p=-1);-1!==p;){const E=n[1];if(Jo(c,p,E.data)){const I=md(p,n,s,h,a,C);if(I!==Tn)return I}_=n[p+8],-1!==_&&Xo(a,n[1].data[p+8]===C)&&Jo(c,p,n)?(h=E,p=fs(_),n=hs(_,n)):p=-1}}}return ui(n,s,a,u)}const Tn={};function Qo(){return new Wn(Vt(),se())}function md(t,n,s,a,u,c){const h=n[1],p=h.data[t+8],E=zn(p,h,s,null==a?ko(p)&&cn:a!=h&&0!=(3&p.type),u&Ne.Host&&c===p);return null!==E?xi(n,h,E,p):Tn}function zn(t,n,s,a,u){const c=t.providerIndexes,h=n.data,p=1048575&c,_=t.directiveStart,E=c>>20,M=u?p+E:t.directiveEnd;for(let U=a?p:p+E;U<M;U++){const X=h[U];if(U<_&&s===X||U>=_&&X.type===s)return U}if(u){const U=h[_];if(U&&mr(U)&&U.type===s)return _}return null}function xi(t,n,s,a){let u=t[s];const c=n.data;if(function cs(t){return t instanceof Gt}(u)){const h=u;h.resolving&&function de(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new _e(-200,`Circular dependency in DI detected for ${t}${s}`)}(Y(c[s]));const p=Yo(h.canSeeViewProviders);h.resolving=!0;const _=h.injectImpl?Te(h.injectImpl):null;Wo(t,a,Ne.Default);try{u=t[s]=h.factory(void 0,c,t,a),n.firstCreatePass&&s>=a.directiveStart&&function Zm(t,n,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:c}=n.type.prototype;if(a){const h=Ya(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,u),c&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,c),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,c))}(s,c[s],n)}finally{null!==_&&Te(_),Yo(p),h.resolving=!1,al()}}return u}function Jo(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function Xo(t,n){return!(t&Ne.Self||t&Ne.Host&&n)}class Wn{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,a){return io(this._tNode,this._lView,n,a,s)}}function Pi(t){return function cl(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const c=s[u];if(ku(c))break;if(0===c)u+=2;else if("number"==typeof c)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(c===n)return s[u+1];u+=2}}}return null}(Vt(),t)}const Ri="__parameters__";function An(t,n,s){return Wt(()=>{const a=function ta(t){return function(...s){if(t){const a=t(...s);for(const u in a)this[u]=a[u]}}}(n);function u(...c){if(this instanceof u)return a.apply(this,c),this;const h=new u(...c);return p.annotation=h,p;function p(_,C,E){const I=_.hasOwnProperty(Ri)?_[Ri]:Object.defineProperty(_,Ri,{value:[]})[Ri];for(;I.length<=E;)I.push(null);return(I[E]=I[E]||[]).push(h),_}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}class nt{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=jt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const so=new nt("AnalyzeForEntryComponents");function lr(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),lr(a,n)):n!==t&&n.push(a)}return n}function Gn(t,n){t.forEach(s=>Array.isArray(s)?Gn(s,n):n(s))}function Je(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function ra(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}const lo={},ys="__NG_DI_FLAG__",vr="ngTempTokenPath",sa=/\n/gm,Ni="__source",Xh=ne({provide:String,useValue:ne});let Fi;function oa(t){const n=Fi;return Fi=t,n}function Vu(t,n=Ne.Default){if(void 0===Fi)throw new _e(203,"");return null===Fi?ze(t,void 0,n):Fi.get(t,n&Ne.Optional?null:void 0,n)}function Ht(t,n=Ne.Default){return(function Pt(){return Di}()||Vu)(J(t),n)}const Hu=Ht;function Cs(t){const n=[];for(let s=0;s<t.length;s++){const a=J(t[s]);if(Array.isArray(a)){if(0===a.length)throw new _e(900,"");let u,c=Ne.Default;for(let h=0;h<a.length;h++){const p=a[h],_=ml(p);"number"==typeof _?-1===_?u=p.token:c|=_:u=p}n.push(Ht(u,c))}else n.push(Ht(a))}return n}function aa(t,n){return t[ys]=n,t.prototype[ys]=n,t}function ml(t){return t[ys]}const g=aa(An("Inject",t=>({token:t})),-1),v=aa(An("Optional"),8),T=aa(An("SkipSelf"),4);class yl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const i_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,bd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Zt=(()=>((Zt=Zt||{})[Zt.NONE=0]="NONE",Zt[Zt.HTML=1]="HTML",Zt[Zt.STYLE=2]="STYLE",Zt[Zt.SCRIPT=3]="SCRIPT",Zt[Zt.URL=4]="URL",Zt[Zt.RESOURCE_URL=5]="RESOURCE_URL",Zt))();function Yu(t){const n=function bl(){const t=se();return t&&t[12]}();return n?n.sanitize(Zt.URL,t)||"":function Cl(t,n){const s=function t_(t){return t instanceof yl&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}(t,"URL")?function fi(t){return t instanceof yl?t.changingThisBreaksApplicationSecurity:t}(t):function Br(t){return(t=String(t)).match(i_)||t.match(bd)?t:"unsafe:"+t}(oe(t))}const xd="__ngContext__";function rn(t,n){t[xd]=n}function Pd(t){const n=function Tl(t){return t[xd]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Od(t){return t.ngOriginalError}function y_(t,...n){t.error(...n)}class Al{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=function __(t){return t&&t.ngErrorLogger||y_}(n);a(this._console,"ERROR",n),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&Od(n);for(;s&&Od(s);)s=Od(s);return s||null}}const Tp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(S))();function jr(t){return t instanceof Function?t():t}var hi=(()=>((hi=hi||{})[hi.Important=1]="Important",hi[hi.DashCase=2]="DashCase",hi))();function Qu(t,n){return undefined(t,n)}function xl(t){const n=t[3];return Ot(n)?n[3]:n}function kd(t){return jn(t[13])}function Ld(t){return jn(t[4])}function jn(t){for(;null!==t&&!Ot(t);)t=t[4];return t}function po(t,n,s,a,u){if(null!=a){let c,h=!1;Ot(a)?c=a:Pr(a)&&(h=!0,a=a[0]);const p=Dt(a);0===t&&null!==s?null==u?Hd(n,s,p):go(n,s,p,u||null,!0):1===t&&null!==s?go(n,s,p,u||null,!0):2===t?function Vp(t,n,s){const a=Xu(t,n);a&&function R_(t,n,s,a){kt(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,p,h):3===t&&n.destroyNode(p),null!=c&&function qd(t,n,s,a,u){const c=s[7];c!==Dt(s)&&po(n,t,a,c,u);for(let p=10;p<s.length;p++){const _=s[p];fa(_[1],_,t,n,a,c)}}(n,t,c,s,u)}}function Bd(t,n,s){if(kt(t))return t.createElement(n,s);{const a=null!==s?function Ti(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?t.createElement(n):t.createElementNS(a,n)}}function x_(t,n){const s=t[9],a=s.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,tl(u,-1)),s.splice(a,1)}function ji(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const u=a[17];null!==u&&u!==t&&x_(u,a),n>0&&(t[s-1][4]=a[4]);const c=ra(t,10+n);!function A_(t,n){fa(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const h=c[19];null!==h&&h.detachView(c[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Ud(t,n){if(!(256&n[2])){const s=n[11];kt(s)&&s.destroyNode&&fa(t,n,s,3,null,null),function Rp(t){let n=t[13];if(!n)return Vd(t[1],t);for(;n;){let s=null;if(Pr(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)Pr(n)&&Vd(n[1],n),n=n[3];null===n&&(n=t),Pr(n)&&Vd(n[1],n),s=n&&n[4]}n=s}}(n)}}function Vd(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function Np(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const u=n[s[a]];if(!(u instanceof Gt)){const c=s[a+1];if(Array.isArray(c))for(let h=0;h<c.length;h+=2){const p=u[c[h]],_=c[h+1];try{_.call(p)}finally{}}else try{c.call(u)}finally{}}}}(t,n),function P_(t,n){const s=t.cleanup,a=n[7];let u=-1;if(null!==s)for(let c=0;c<s.length-1;c+=2)if("string"==typeof s[c]){const h=s[c+1],p="function"==typeof h?h(n):Dt(n[h]),_=a[u=s[c+2]],C=s[c+3];"boolean"==typeof C?p.removeEventListener(s[c],_,C):C>=0?a[u=C]():a[u=-C].unsubscribe(),c+=2}else{const h=a[u=s[c+1]];s[c].call(h)}if(null!==a){for(let c=u+1;c<a.length;c++)a[c]();n[7]=null}}(t,n),1===n[1].type&&kt(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&Ot(n[3])){s!==n[3]&&x_(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function Fp(t,n,s){return function kp(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const u=t.data[a.directiveStart].encapsulation;if(u===Jt.None||u===Jt.Emulated)return null}return yn(a,s)}(t,n.parent,s)}function go(t,n,s,a,u){kt(t)?t.insertBefore(n,s,a,u):n.insertBefore(s,a,u)}function Hd(t,n,s){kt(t)?t.appendChild(n,s):n.appendChild(s)}function Lp(t,n,s,a,u){null!==a?go(t,n,s,a,u):Hd(t,n,s)}function Xu(t,n){return kt(t)?t.parentNode(n):n.parentNode}let zd=function jp(t,n,s){return 40&t.type?yn(t,s):null};function ec(t,n,s,a){const u=Fp(t,a,n),c=n[11],p=function Bp(t,n,s){return zd(t,n,s)}(a.parent||n[6],a,n);if(null!=u)if(Array.isArray(s))for(let _=0;_<s.length;_++)Lp(c,u,s[_],p,!1);else Lp(c,u,s,p,!1)}function tc(t,n){if(null!==n){const s=n.type;if(3&s)return yn(n,t);if(4&s)return Es(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return tc(t,a);{const u=t[n.index];return Ot(u)?Es(-1,u):Dt(u)}}if(32&s)return Qu(n,t)()||Dt(t[n.index]);{const a=Up(t,n);return null!==a?Array.isArray(a)?a[0]:tc(xl(t[16]),a):tc(t,n.next)}}return null}function Up(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Es(t,n){const s=10+t+1;if(s<n.length){const a=n[s],u=a[1].firstChild;if(null!==u)return tc(a,u)}return n[7]}function H(t,n,s,a,u,c,h){for(;null!=s;){const p=a[s.index],_=s.type;if(h&&0===n&&(p&&rn(Dt(p),a),s.flags|=4),64!=(64&s.flags))if(8&_)H(t,n,s.child,a,u,c,!1),po(n,t,u,p,c);else if(32&_){const C=Qu(s,a);let E;for(;E=C();)po(n,t,u,E,c);po(n,t,u,p,c)}else 16&_?Gd(t,n,a,s,u,c):po(n,t,u,p,c);s=h?s.projectionNext:s.next}}function fa(t,n,s,a,u,c){H(s,a,t.firstChild,n,u,c,!1)}function Gd(t,n,s,a,u,c){const h=s[16],_=h[6].projection[a.projection];if(Array.isArray(_))for(let C=0;C<_.length;C++)po(n,t,u,_[C],c);else H(t,n,_,h[3],u,c,!0)}function $p(t,n,s){kt(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function Yd(t,n,s){kt(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function Kd(t,n,s){let a=t.length;for(;;){const u=t.indexOf(n,s);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const c=n.length;if(u+c===a||t.charCodeAt(u+c)<=32)return u}s=u+1}}const nc="ng-template";function pa(t,n,s){let a=0;for(;a<t.length;){let u=t[a++];if(s&&"class"===u){if(u=t[a],-1!==Kd(u.toLowerCase(),n,0))return!0}else if(1===u){for(;a<t.length&&"string"==typeof(u=t[a++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function Zd(t){return 4===t.type&&t.value!==nc}function zp(t,n,s){return n===(4!==t.type||s?t.value:nc)}function Rl(t,n,s){let a=4;const u=t.attrs||[],c=function Ol(t){for(let n=0;n<t.length;n++)if(ku(t[n]))return n;return t.length}(u);let h=!1;for(let p=0;p<n.length;p++){const _=n[p];if("number"!=typeof _){if(!h)if(4&a){if(a=2|1&a,""!==_&&!zp(t,_,s)||""===_&&1===n.length){if(Dn(a))return!1;h=!0}}else{const C=8&a?_:n[++p];if(8&a&&null!==t.attrs){if(!pa(t.attrs,C,s)){if(Dn(a))return!1;h=!0}continue}const I=Wp(8&a?"class":_,u,Zd(t),s);if(-1===I){if(Dn(a))return!1;h=!0;continue}if(""!==C){let M;M=I>c?"":u[I+1].toLowerCase();const U=8&a?M:null;if(U&&-1!==Kd(U,C,0)||2&a&&C!==M){if(Dn(a))return!1;h=!0}}}}else{if(!h&&!Dn(a)&&!Dn(_))return!1;if(h&&Dn(_))continue;h=!1,a=_|1&a}}return Dn(a)||h}function Dn(t){return 0==(1&t)}function Wp(t,n,s,a){if(null===n)return-1;let u=0;if(a||!s){let c=!1;for(;u<n.length;){const h=n[u];if(h===t)return u;if(3===h||6===h)c=!0;else{if(1===h||2===h){let p=n[++u];for(;"string"==typeof p;)p=n[++u];continue}if(4===h)break;if(0===h){u+=4;continue}}u+=c?1:2}return-1}return function Jd(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function Qd(t,n,s=!1){for(let a=0;a<n.length;a++)if(Rl(t,n[a],s))return!0;return!1}function wn(t,n){return t?":not("+n.trim()+")":n}function F_(t){let n=t[0],s=1,a=2,u="",c=!1;for(;s<t.length;){let h=t[s];if("string"==typeof h)if(2&a){const p=t[++s];u+="["+h+(p.length>0?'="'+p+'"':"")+"]"}else 8&a?u+="."+h:4&a&&(u+=" "+h);else""!==u&&!Dn(h)&&(n+=wn(c,u),u=""),a=h,c=c||!Dn(a);s++}return""!==u&&(n+=wn(c,u)),n}const $e={};function Ur(t){bs(st(),se(),Cn()+t,Qs())}function bs(t,n,s,a){if(!a)if(3==(3&n[2])){const c=t.preOrderCheckHooks;null!==c&&Ru(n,c,s)}else{const c=t.preOrderHooks;null!==c&&Ou(n,c,0,s)}Ai(s)}function og(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],c=s[a+1];if(-1!==c){const h=t.data[c];ls(u),h.contentQueries(2,n[c],c)}}}function _o(t,n,s,a,u,c,h,p,_,C){const E=n.blueprint.slice();return E[0]=u,E[2]=140|a,Uo(E),E[3]=E[15]=t,E[8]=s,E[10]=h||t&&t[10],E[11]=p||t&&t[11],E[12]=_||t&&t[12]||null,E[9]=C||t&&t[9]||null,E[6]=c,E[16]=2==n.type?t[16]:E,E}function ga(t,n,s,a,u){let c=t.data[n];if(null===c)c=function df(t,n,s,a,u){const c=bu(),h=Zs(),_=t.data[n]=function dg(t,n,s,a,u,c){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?c:c&&c.parent,s,n,a,u);return null===t.firstChild&&(t.firstChild=_),null!==c&&(h?null==c.child&&null!==_.parent&&(c.child=_):null===c.next&&(c.next=_)),_}(t,n,s,a,u),function Su(){return je.lFrame.inI18n}()&&(c.flags|=64);else if(64&c.type){c.type=s,c.value=a,c.attrs=u;const h=function si(){const t=je.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();c.injectorIndex=null===h?-1:h.injectorIndex}return or(c,!0),c}function Hi(t,n,s,a){if(0===s)return-1;const u=n.length;for(let c=0;c<s;c++)n.push(a),t.blueprint.push(a),t.data.push(null);return u}function gi(t,n,s){Go(n);try{const a=t.viewQuery;null!==a&&Pn(1,a,s);const u=t.template;null!==u&&ag(t,n,u,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&og(t,n),t.staticViewQueries&&Pn(2,t.viewQuery,s);const c=t.components;null!==c&&function As(t,n){for(let s=0;s<n.length;s++)Cg(t,n[s])}(n,c)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,qo()}}function yo(t,n,s,a){const u=n[2];if(256==(256&u))return;Go(n);const c=Qs();try{Uo(n),function Tu(t){return je.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&ag(t,n,s,2,a);const h=3==(3&u);if(!c)if(h){const C=t.preOrderCheckHooks;null!==C&&Ru(n,C,null)}else{const C=t.preOrderHooks;null!==C&&Ou(n,C,0,null),Xs(n,0)}if(function Q_(t){for(let n=kd(t);null!==n;n=Ld(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const u=s[a],c=u[3];0==(1024&u[2])&&tl(c,1),u[2]|=1024}}}(n),function vg(t){for(let n=kd(t);null!==n;n=Ld(n))for(let s=10;s<n.length;s++){const a=n[s],u=a[1];jo(a)&&yo(u,a,u.template,a[8])}}(n),null!==t.contentQueries&&og(t,n),!c)if(h){const C=t.contentCheckHooks;null!==C&&Ru(n,C)}else{const C=t.contentHooks;null!==C&&Ou(n,C,1),Xs(n,1)}!function $_(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)Ai(~u);else{const c=u,h=s[++a],p=s[++a];Au(h,c),p(2,n[c])}}}finally{Ai(-1)}}(t,n);const p=t.components;null!==p&&function z_(t,n){for(let s=0;s<n.length;s++)J_(t,n[s])}(n,p);const _=t.viewQuery;if(null!==_&&Pn(2,_,a),!c)if(h){const C=t.viewCheckHooks;null!==C&&Ru(n,C)}else{const C=t.viewHooks;null!==C&&Ou(n,C,2),Xs(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),c||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,tl(n[3],-1))}finally{qo()}}function W_(t,n,s,a){const u=n[10],c=!Qs(),h=qs(n);try{c&&!h&&u.begin&&u.begin(),h&&gi(t,n,a),yo(t,n,s,a)}finally{c&&!h&&u.end&&u.end()}}function ag(t,n,s,a,u){const c=Cn(),h=2&a;try{Ai(-1),h&&n.length>20&&bs(t,n,20,Qs()),s(a,u)}finally{Ai(c)}}function ff(t,n,s){!Vo()||(function kl(t,n,s,a){const u=s.directiveStart,c=s.directiveEnd;t.firstCreatePass||Mi(s,n),rn(a,n);const h=s.initialInputs;for(let p=u;p<c;p++){const _=t.data[p],C=mr(_);C&&Z_(n,s,_);const E=xi(n,t,p,s);rn(E,n),null!==h&&vo(0,p-u,E,_,0,h),C&&(en(s.index,n)[8]=E)}}(t,n,s,yn(s,n)),128==(128&s.flags)&&function mg(t,n,s){const a=s.directiveStart,u=s.directiveEnd,h=s.index,p=function il(){return je.lFrame.currentDirectiveIndex}();try{Ai(h);for(let _=a;_<u;_++){const C=t.data[_],E=n[_];sl(_),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Nt(C,E)}}finally{Ai(-1),sl(p)}}(t,n,s))}function Fl(t,n,s=yn){const a=n.localNames;if(null!==a){let u=n.index+1;for(let c=0;c<a.length;c+=2){const h=a[c+1],p=-1===h?s(n,t):t[h];t[u++]=p}}}function hf(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=fc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function fc(t,n,s,a,u,c,h,p,_,C){const E=20+a,I=E+u,M=function ug(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:$e);return s}(E,I),U="function"==typeof C?C():C;return M[1]={type:t,blueprint:M,template:s,queries:null,viewQuery:p,declTNode:n,data:M.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:_,consts:U,incompleteFirstPass:!1}}function gf(t,n,s,a){const u=vc(n);null===s?u.push(a):(u.push(s),t.firstCreatePass&&Dg(t).push(a,u.length-1))}function fg(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const u=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,u):s[a]=[n,u]}return s}function yt(t,n,s,a){let u=!1;if(Vo()){const c=function rt(t,n,s){const a=t.directiveRegistry;let u=null;if(a)for(let c=0;c<a.length;c++){const h=a[c];Qd(s,h.selectors,!1)&&(u||(u=[]),li(Mi(s,n),t,h.type),mr(h)?(xn(t,s),u.unshift(h)):u.push(h))}return u}(t,n,s),h=null===a?null:{"":-1};if(null!==c){u=!0,dr(s,t.data.length,c.length);for(let E=0;E<c.length;E++){const I=c[E];I.providersResolver&&I.providersResolver(I)}let p=!1,_=!1,C=Hi(t,n,c.length,null);for(let E=0;E<c.length;E++){const I=c[E];s.mergedAttrs=ai(s.mergedAttrs,I.hostAttrs),_g(t,s,n,C,I),mf(C,I,h),null!==I.contentQueries&&(s.flags|=8),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(s.flags|=128);const M=I.type.prototype;!p&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),p=!0),!_&&(M.ngOnChanges||M.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),_=!0),C++}!function hg(t,n){const a=n.directiveEnd,u=t.data,c=n.attrs,h=[];let p=null,_=null;for(let C=n.directiveStart;C<a;C++){const E=u[C],I=E.inputs,M=null===c||Zd(n)?null:_f(I,c);h.push(M),p=fg(I,C,p),_=fg(E.outputs,C,_)}null!==p&&(p.hasOwnProperty("class")&&(n.flags|=16),p.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=h,n.inputs=p,n.outputs=_}(t,s)}h&&function K_(t,n,s){if(n){const a=t.localNames=[];for(let u=0;u<n.length;u+=2){const c=s[n[u+1]];if(null==c)throw new _e(-301,!1);a.push(n[u],c)}}}(s,a,h)}return s.mergedAttrs=ai(s.mergedAttrs,s.attrs),u}function pc(t,n,s,a,u,c){const h=c.hostBindings;if(h){let p=t.hostBindingOpCodes;null===p&&(p=t.hostBindingOpCodes=[]);const _=~n.index;(function Y_(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(p)!=_&&p.push(_),p.push(a,u,h)}}function Nt(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function xn(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function mf(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;mr(n)&&(s[""]=t)}}function dr(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function _g(t,n,s,a,u){t.data[a]=u;const c=u.factory||(u.factory=ns(u.type)),h=new Gt(c,mr(u),null);t.blueprint[a]=h,s[a]=h,pc(t,n,0,a,Hi(t,s,u.hostVars,$e),u)}function Z_(t,n,s){const a=yn(n,t),u=hf(s),c=t[10],h=Xe(t,_o(t,u,null,s.onPush?64:16,a,n,c,c.createRenderer(a,s),null,null));t[n.index]=h}function mi(t,n,s,a,u,c){const h=yn(t,n);!function gc(t,n,s,a,u,c,h){if(null==c)kt(t)?t.removeAttribute(n,u,s):n.removeAttribute(u);else{const p=null==h?oe(c):h(c,a||"",u);kt(t)?t.setAttribute(n,u,p,s):s?n.setAttributeNS(s,u,p):n.setAttribute(u,p)}}(n[11],h,c,t.value,s,a,u)}function vo(t,n,s,a,u,c){const h=c[n];if(null!==h){const p=a.setInput;for(let _=0;_<h.length;){const C=h[_++],E=h[_++],I=h[_++];null!==p?a.setInput(s,I,C,E):s[E]=I}}}function _f(t,n){let s=null,a=0;for(;a<n.length;){const u=n[a];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,t[u],n[a+1])),a+=2}else a+=2;else a+=4}return s}function yg(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function J_(t,n){const s=en(n,t);if(jo(s)){const a=s[1];80&s[2]?yo(a,s,a.template,s[8]):s[5]>0&&yf(s)}}function yf(t){for(let a=kd(t);null!==a;a=Ld(a))for(let u=10;u<a.length;u++){const c=a[u];if(1024&c[2]){const h=c[1];yo(h,c,h.template,c[8])}else c[5]>0&&yf(c)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=en(s[a],t);jo(u)&&u[5]>0&&yf(u)}}function Cg(t,n){const s=en(n,t),a=s[1];(function Co(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),gi(a,s,s[8])}function Xe(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function ma(t){for(;t;){t[2]|=64;const n=xl(t);if(Mh(t)&&!n)return t;t=n}return null}function Dr(t,n,s){const a=n[10];a.begin&&a.begin();try{yo(t,n,t.template,s)}catch(u){throw Df(n,u),u}finally{a.end&&a.end()}}function Ll(t){!function yc(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=Pd(s),u=a[1];W_(u,a,u.template,s)}}(t[8])}function Pn(t,n,s){ls(0),n(t,s)}const vf=(()=>Promise.resolve(null))();function vc(t){return t[7]||(t[7]=[])}function Dg(t){return t.cleanup||(t.cleanup=[])}function Df(t,n){const s=t[9],a=s?s.get(Al,null):null;a&&a.handleError(n)}function wf(t,n,s,a,u){for(let c=0;c<s.length;){const h=s[c++],p=s[c++],_=n[h],C=t.data[h];null!==C.setInput?C.setInput(_,u,a,p):_[p]=u}}function Kn(t,n,s){const a=function ss(t,n){return Dt(n[t])}(n,t);!function Ju(t,n,s){kt(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function Bl(t,n,s){let a=s?t.styles:null,u=s?t.classes:null,c=0;if(null!==n)for(let h=0;h<n.length;h++){const p=n[h];"number"==typeof p?c=p:1==c?u=Oe(u,p):2==c&&(a=Oe(a,p+": "+n[++h]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=u:t.classesWithoutHost=u}const Ef=new nt("INJECTOR",-1);class At{get(n,s=lo){if(s===lo){const a=new Error(`NullInjectorError: No provider for ${ge(n)}!`);throw a.name="NullInjectorError",a}return s}}const bf=new nt("Set Injector scope."),jl={},Cc={};let Ul;function Do(){return void 0===Ul&&(Ul=new At),Ul}function _i(t,n=null,s=null,a){const u=_a(t,n,s,a);return u._resolveInjectorDefTypes(),u}function _a(t,n=null,s=null,a){return new Qe(t,s,n||Do(),a)}class Qe{constructor(n,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];s&&Gn(s,p=>this.processProvider(p,n,s)),Gn([n],p=>this.processInjectorType(p,[],c)),this.records.set(Ef,xs(void 0,this));const h=this.records.get(bf);this.scope=null!=h?h.value:null,this.source=u||("object"==typeof n?null:ge(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=lo,a=Ne.Default){this.assertNotDestroyed();const u=oa(this),c=Te(void 0);try{if(!(a&Ne.SkipSelf)){let p=this.records.get(n);if(void 0===p){const _=function Tg(t){return"function"==typeof t||"object"==typeof t&&t instanceof nt}(n)&&Vn(n);p=_&&this.injectableDefInScope(_)?xs(If(n),jl):null,this.records.set(n,p)}if(null!=p)return this.hydrate(n,p)}return(a&Ne.Self?Do():this.parent).get(n,s=a&Ne.Optional&&s===lo?null:s)}catch(h){if("NullInjectorError"===h.name){if((h[vr]=h[vr]||[]).unshift(ge(n)),u)throw h;return function la(t,n,s,a){const u=t[vr];throw n[Ni]&&u.unshift(n[Ni]),t.message=function _l(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=ge(n);if(Array.isArray(n))u=n.map(ge).join(" -> ");else if("object"==typeof n){let c=[];for(let h in n)if(n.hasOwnProperty(h)){let p=n[h];c.push(h+":"+("string"==typeof p?JSON.stringify(p):ge(p)))}u=`{${c.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${t.replace(sa,"\n  ")}`}("\n"+t.message,u,s,a),t.ngTokenPath=u,t[vr]=null,t}(h,n,"R3InjectorError",this.source)}throw h}finally{Te(c),oa(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,u)=>n.push(ge(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processInjectorType(n,s,a){if(!(n=J(n)))return!1;let u=Zr(n);const c=null==u&&n.ngModule||void 0,h=void 0===c?n:c,p=-1!==a.indexOf(h);if(void 0!==c&&(u=Zr(c)),null==u)return!1;if(null!=u.imports&&!p){let E;a.push(h);try{Gn(u.imports,I=>{this.processInjectorType(I,s,a)&&(void 0===E&&(E=[]),E.push(I))})}finally{}if(void 0!==E)for(let I=0;I<E.length;I++){const{ngModule:M,providers:U}=E[I];Gn(U,X=>this.processProvider(X,M,U||le))}}this.injectorDefTypes.add(h);const _=ns(h)||(()=>new h);this.records.set(h,xs(_,jl));const C=u.providers;if(null!=C&&!p){const E=n;Gn(C,I=>this.processProvider(I,E,C))}return void 0!==c&&void 0!==n.providers}processProvider(n,s,a){let u=Ps(n=J(n))?n:J(n&&n.provide);const c=function ty(t,n,s){return Eg(t)?xs(void 0,t.useValue):xs(function Bt(t,n,s){let a;if(Ps(t)){const u=J(t);return ns(u)||If(u)}if(Eg(t))a=()=>J(t.useValue);else if(function ya(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Cs(t.deps||[]));else if(function Tf(t){return!(!t||!t.useExisting)}(t))a=()=>Ht(J(t.useExisting));else{const u=J(t&&(t.useClass||t.provide));if(!function Ig(t){return!!t.deps}(t))return ns(u)||If(u);a=()=>new u(...Cs(t.deps))}return a}(t),jl)}(n);if(Ps(n)||!0!==n.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=xs(void 0,jl,!0),h.factory=()=>Cs(h.multi),this.records.set(u,h)),u=n,h.multi.push(n)}this.records.set(u,c)}hydrate(n,s){return s.value===jl&&(s.value=Cc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function ny(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=J(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function If(t){const n=Vn(t),s=null!==n?n.factory:ns(t);if(null!==s)return s;if(t instanceof nt)throw new _e(204,!1);if(t instanceof Function)return function Vl(t){const n=t.length;if(n>0)throw function ur(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}(n,"?"),new _e(204,!1);const s=function Ci(t){const n=t&&(t[nr]||t[gn]);if(n){const s=function Yt(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new _e(204,!1)}function xs(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function Eg(t){return null!==t&&"object"==typeof t&&Xh in t}function Ps(t){return"function"==typeof t}let wr=(()=>{class t{static create(s,a){var u;if(Array.isArray(s))return _i({name:""},a,s,"");{const c=null!==(u=s.name)&&void 0!==u?u:"";return _i({name:c},s.parent,s.providers,c)}}}return t.THROW_IF_NOT_FOUND=lo,t.NULL=new At,t.\u0275prov=jt({token:t,providedIn:"any",factory:()=>Ht(Ef)}),t.__NG_ELEMENT_ID__=-1,t})();function Fg(t,n){Js(Pd(t)[1],Vt())}let Hr=null;function Ea(){if(!Hr){const t=S.Symbol;if(t&&t.iterator)Hr=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Hr=a)}}}return Hr}function $i(t){return!!ba(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ea()in t)}function ba(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function sn(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function wt(t,n,s,a){const u=se();return sn(u,as(),n)&&(st(),mi(Lt(),u,t,n,s,a)),wt}function Rs(t,n,s,a,u,c){const p=function fr(t,n,s,a){const u=sn(t,n,s);return sn(t,n+1,a)||u}(t,function Rr(){return je.lFrame.bindingIndex}(),s,u);return function Or(t){const n=je.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}(2),p?n+oe(s)+a+oe(u)+c:$e}function Nf(t,n,s,a,u,c,h,p){const _=se(),C=st(),E=t+20,I=C.firstCreatePass?function ly(t,n,s,a,u,c,h,p,_){const C=n.consts,E=ga(n,t,4,h||null,ii(C,p));yt(n,s,E,ii(C,_)),Js(n,E);const I=E.tViews=fc(2,E,a,u,c,n.directiveRegistry,n.pipeRegistry,null,n.schemas,C);return null!==n.queries&&(n.queries.template(n,E),I.queries=n.queries.embeddedTView(E)),E}(E,C,_,n,s,a,u,c,h):C.data[E];or(I,!1);const M=_[11].createComment("");ec(C,_,M,I),rn(M,_),Xe(_,_[E]=yg(M,_,M,I)),es(I)&&ff(C,_,I),null!=h&&Fl(_,I,p)}function Wg(t){return function ri(t,n){return t[n]}(function ud(){return je.lFrame.contextLView}(),20+t)}function Aa(t,n=Ne.Default){const s=se();return null===s?Ht(t,n):io(Vt(),s,J(t),n)}function nm(){throw new Error("invalid")}function $f(t,n,s){const a=se();return sn(a,as(),n)&&function Yn(t,n,s,a,u,c,h,p){const _=yn(n,s);let E,C=n.inputs;!p&&null!=C&&(E=C[a])?(wf(t,s,E,a,u),ko(n)&&function hc(t,n){const s=en(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function pg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=h?h(u,n.value||"",a):u,kt(c)?c.setProperty(_,a,u):ll(a)||(_.setProperty?_.setProperty(a,u):_[a]=u))}(st(),Lt(),a,t,n,a[11],s,!1),$f}function zf(t,n,s,a,u){const h=u?"class":"style";wf(t,s,n.inputs[h],h,a)}function Ql(t,n,s,a){const u=se(),c=st(),h=20+t,p=u[11],_=u[h]=Bd(p,n,function Km(){return je.lFrame.currentNamespace}()),C=c.firstCreatePass?function Wf(t,n,s,a,u,c,h){const p=n.consts,C=ga(n,t,2,u,ii(p,c));return yt(n,s,C,ii(p,h)),null!==C.attrs&&Bl(C,C.attrs,!1),null!==C.mergedAttrs&&Bl(C,C.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,C),C}(h,c,u,0,n,s,a):c.data[h];or(C,!0);const E=C.mergedAttrs;null!==E&&ds(p,_,E);const I=C.classes;null!==I&&Yd(p,_,I);const M=C.styles;return null!==M&&$p(p,_,M),64!=(64&C.flags)&&ec(c,u,_,C),0===function Eu(){return je.lFrame.elementDepthCount}()&&rn(_,u),function Ys(){je.lFrame.elementDepthCount++}(),es(C)&&(ff(c,u,C),function lg(t,n,s){if($a(n)){const u=n.directiveEnd;for(let c=n.directiveStart;c<u;c++){const h=t.data[c];h.contentQueries&&h.contentQueries(1,s[c],c)}}}(c,C,u)),null!==a&&Fl(u,C),Ql}function Ac(){let t=Vt();Zs()?function rl(){je.lFrame.isParent=!1}():(t=t.parent,or(t,!1));const n=t;!function Ks(){je.lFrame.elementDepthCount--}();const s=st();return s.firstCreatePass&&(Js(s,t),$a(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function eo(t){return 0!=(16&t.flags)}(n)&&zf(s,n,se(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function pd(t){return 0!=(32&t.flags)}(n)&&zf(s,n,se(),n.stylesWithoutHost,!1),Ac}function Gf(t,n,s,a){return Ql(t,n,s,a),Ac(),Gf}function Jl(){return se()}function Ma(t){return!!t&&"function"==typeof t.then}function rm(t){return!!t&&"function"==typeof t.subscribe}const im=rm;function qf(t,n,s,a){const u=se(),c=st(),h=Vt();return function sm(t,n,s,a,u,c,h,p){const _=es(a),E=t.firstCreatePass&&Dg(t),I=n[8],M=vc(n);let U=!0;if(3&a.type||p){const Ce=yn(a,n),Se=p?p(Ce):Ce,te=M.length,Ve=p?ut=>p(Dt(ut[a.index])):a.index;if(kt(s)){let ut=null;if(!p&&_&&(ut=function Kf(t,n,s,a){const u=t.cleanup;if(null!=u)for(let c=0;c<u.length-1;c+=2){const h=u[c];if(h===s&&u[c+1]===a){const p=n[7],_=u[c+2];return p.length>_?p[_]:null}"string"==typeof h&&(c+=2)}return null}(t,n,u,a.index)),null!==ut)(ut.__ngLastListenerFn__||ut).__ngNextListenerFn__=c,ut.__ngLastListenerFn__=c,U=!1;else{c=So(a,n,I,c,!1);const bt=s.listen(Se,u,c);M.push(c,bt),E&&E.push(u,Ve,te,te+1)}}else c=So(a,n,I,c,!0),Se.addEventListener(u,c,h),M.push(c),E&&E.push(u,Ve,te,h)}else c=So(a,n,I,c,!1);const X=a.outputs;let fe;if(U&&null!==X&&(fe=X[u])){const Ce=fe.length;if(Ce)for(let Se=0;Se<Ce;Se+=2){const Yr=n[fe[Se]][fe[Se+1]].subscribe(c),fu=M.length;M.push(c,Yr),E&&E.push(u,a.index,fu,-(fu+1))}}}(c,u,u[11],h,t,n,!!s,a),qf}function Wi(t,n,s,a){try{return!1!==s(a)}catch(u){return Df(t,u),!1}}function So(t,n,s,a,u){return function c(h){if(h===Function)return a;const p=2&t.flags?en(t.index,n):n;0==(32&n[2])&&ma(p);let _=Wi(n,0,a,h),C=c.__ngNextListenerFn__;for(;C;)_=Wi(n,0,C,h)&&_,C=C.__ngNextListenerFn__;return u&&!1===_&&(h.preventDefault(),h.returnValue=!1),_}}function om(t=1){return function Mu(t){return(je.lFrame.contextLView=function $h(t,n){for(;t>0;)n=n[15],t--;return n}(t,je.lFrame.contextLView))[8]}(t)}function hm(t,n=""){const s=se(),a=st(),u=t+20,c=a.firstCreatePass?ga(a,u,1,n,null):a.data[u],h=s[u]=function Pl(t,n){return kt(t)?t.createText(n):t.createTextNode(n)}(s[11],n);ec(a,s,h,c),or(c,!1)}function Tr(t){return iu("",t,""),Tr}function iu(t,n,s){const a=se(),u=function yi(t,n,s,a){return sn(t,as(),s)?n+oe(s)+a:$e}(a,t,n,s);return u!==$e&&Kn(a,Cn(),u),iu}function ch(t,n,s,a,u){const c=se(),h=Rs(c,t,n,s,a,u);return h!==$e&&Kn(c,Cn(),h),ch}const Ls=void 0;var Im=["en",[["a","p"],["AM","PM"],Ls],[["AM","PM"],Ls,Ls],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ls,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ls,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ls,"{1} 'at' {0}",Ls],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bm(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let qi={};function lu(t){const n=function Am(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Gc(n);if(s)return s;const a=n.split("-")[0];if(s=Gc(a),s)return s;if("en"===a)return Im;throw new Error(`Missing locale data for the locale "${t}".`)}function Sm(t){return lu(t)[Ue.PluralCase]}function Gc(t){return t in qi||(qi[t]=S.ng&&S.ng.common&&S.ng.common.locales&&S.ng.common.locales[t]),qi[t]}var Ue=(()=>((Ue=Ue||{})[Ue.LocaleId=0]="LocaleId",Ue[Ue.DayPeriodsFormat=1]="DayPeriodsFormat",Ue[Ue.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ue[Ue.DaysFormat=3]="DaysFormat",Ue[Ue.DaysStandalone=4]="DaysStandalone",Ue[Ue.MonthsFormat=5]="MonthsFormat",Ue[Ue.MonthsStandalone=6]="MonthsStandalone",Ue[Ue.Eras=7]="Eras",Ue[Ue.FirstDayOfWeek=8]="FirstDayOfWeek",Ue[Ue.WeekendRange=9]="WeekendRange",Ue[Ue.DateFormat=10]="DateFormat",Ue[Ue.TimeFormat=11]="TimeFormat",Ue[Ue.DateTimeFormat=12]="DateTimeFormat",Ue[Ue.NumberSymbols=13]="NumberSymbols",Ue[Ue.NumberFormats=14]="NumberFormats",Ue[Ue.CurrencyCode=15]="CurrencyCode",Ue[Ue.CurrencySymbol=16]="CurrencySymbol",Ue[Ue.CurrencyName=17]="CurrencyName",Ue[Ue.Currencies=18]="Currencies",Ue[Ue.Directionality=19]="Directionality",Ue[Ue.PluralCase=20]="PluralCase",Ue[Ue.ExtraData=21]="ExtraData",Ue))();const On="en-US";let Na=On;class Q{}class Xn{resolveComponentFactory(n){throw function ye(t){const n=Error(`No component factory found for ${ge(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Qt=(()=>{class t{}return t.NULL=new Xn,t})();function Bs(){return vi(Vt(),se())}function vi(t,n){return new La(yn(t,n))}let La=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Bs,t})();function Dw(t){return t instanceof La?t.nativeElement:t}class eD{}let ww=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function bw(){const t=se(),s=en(Vt().index,t);return function Ew(t){return t[11]}(Pr(s)?s:t)}(),t})(),Iw=(()=>{class t{}return t.\u0275prov=jt({token:t,providedIn:"root",factory:()=>null}),t})();class tD{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const nD=new tD("13.2.7"),Ev={};function Bm(t,n,s,a,u=!1){for(;null!==s;){const c=n[s.index];if(null!==c&&a.push(Dt(c)),Ot(c))for(let p=10;p<c.length;p++){const _=c[p],C=_[1].firstChild;null!==C&&Bm(_[1],_,C,a)}const h=s.type;if(8&h)Bm(t,n,s.child,a);else if(32&h){const p=Qu(s,n);let _;for(;_=p();)a.push(_)}else if(16&h){const p=Up(n,s);if(Array.isArray(p))a.push(...p);else{const _=xl(n[16]);Bm(_[1],_,p,a,!0)}}s=u?s.projectionNext:s.next}return a}class Eh{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return Bm(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Ot(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(ji(n,a),ra(s,a))}this._attachedToViewContainer=!1}Ud(this._lView[1],this._lView)}onDestroy(n){gf(this._lView[1],this._lView,null,n)}markForCheck(){ma(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Vr(t,n,s){$o(!0);try{Dr(t,n,s)}finally{$o(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new _e(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function M_(t,n){fa(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new _e(902,"");this._appRef=n}}class Tw extends Eh{constructor(n){super(n),this._view=n}detectChanges(){Ll(this._view)}checkNoChanges(){!function X_(t){$o(!0);try{Ll(t)}finally{$o(!1)}}(this._view)}get context(){return null}}class rD extends Qt{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Xt(n);return new bv(s,this.ngModule)}}function iD(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class bv extends Q{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function rc(t){return t.map(F_).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return iD(this.componentDef.inputs)}get outputs(){return iD(this.componentDef.outputs)}create(n,s,a,u){const c=(u=u||this.ngModule)?function Aw(t,n){return{get:(s,a,u)=>{const c=t.get(s,Ev,u);return c!==Ev||a===Ev?c:n.get(s,a,u)}}}(n,u.injector):n,h=c.get(eD,Du),p=c.get(Iw,null),_=h.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",E=a?function pf(t,n,s){if(kt(t))return t.selectRootElement(n,s===Jt.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(_,a,this.componentDef.encapsulation):Bd(h.createRenderer(null,this.componentDef),C,function Sw(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(C)),I=this.componentDef.onPush?576:528,M=function Ng(t,n){return{components:[],scheduler:t||Tp,clean:vf,playerHandler:n||null,flags:0}}(),U=fc(0,null,null,1,0,null,null,null,null,null),X=_o(null,U,M,I,null,null,h,_,p,c);let fe,Ce;Go(X);try{const Se=function wc(t,n,s,a,u,c){const h=s[1];s[20]=t;const _=ga(h,20,2,"#host",null),C=_.mergedAttrs=n.hostAttrs;null!==C&&(Bl(_,C,!0),null!==t&&(ds(u,t,C),null!==_.classes&&Yd(u,t,_.classes),null!==_.styles&&$p(u,t,_.styles)));const E=a.createRenderer(t,n),I=_o(s,hf(n),null,n.onPush?64:16,s[20],_,a,E,c||null,null);return h.firstCreatePass&&(li(Mi(_,s),h,n.type),xn(h,_),dr(_,s.length,1)),Xe(s,I),s[20]=I}(E,this.componentDef,X,h,_);if(E)if(a)ds(_,E,["ng-version",nD.full]);else{const{attrs:te,classes:Ve}=function k_(t){const n=[],s=[];let a=1,u=2;for(;a<t.length;){let c=t[a];if("string"==typeof c)2===u?""!==c&&n.push(c,t[++a]):8===u&&s.push(c);else{if(!Dn(u))break;u=c}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);te&&ds(_,E,te),Ve&&Ve.length>0&&Yd(_,E,Ve.join(" "))}if(Ce=os(U,20),void 0!==s){const te=Ce.projection=[];for(let Ve=0;Ve<this.ngContentSelectors.length;Ve++){const ut=s[Ve];te.push(null!=ut?Array.from(ut):null)}}fe=function Og(t,n,s,a,u){const c=s[1],h=function Ms(t,n,s){const a=Vt();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),_g(t,a,n,Hi(t,n,1,null),s));const u=xi(n,t,a.directiveStart,a);rn(u,n);const c=yn(a,n);return c&&rn(c,n),u}(c,s,n);if(a.components.push(h),t[8]=h,u&&u.forEach(_=>_(h,n)),n.contentQueries){const _=Vt();n.contentQueries(1,h,_.directiveStart)}const p=Vt();return!c.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ai(p.index),pc(s[1],p,0,p.directiveStart,p.directiveEnd,n),Nt(n,h)),h}(Se,this.componentDef,X,M,[Fg]),gi(U,X,null)}finally{qo()}return new xw(this.componentType,fe,vi(Ce,X),X,Ce)}}class xw extends class ${}{constructor(n,s,a,u,c){super(),this.location=a,this._rootLView=u,this._tNode=c,this.instance=s,this.hostView=this.changeDetectorRef=new Tw(u),this.componentType=n}get injector(){return new Wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ed{}class sD{}const td=new Map;class lD extends ed{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rD(this);const a=Hn(n);this._bootstrapComponents=jr(a.bootstrap),this._r3Injector=_a(n,s,[{provide:ed,useValue:this},{provide:Qt,useValue:this.componentFactoryResolver}],ge(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=wr.THROW_IF_NOT_FOUND,a=Ne.Default){return n===wr||n===ed||n===Ef?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Iv extends sD{constructor(n){super(),this.moduleType=n,null!==Hn(n)&&function Rw(t){const n=new Set;!function s(a){const u=Hn(a,!0),c=u.id;null!==c&&(function oD(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${ge(n)} vs ${ge(n.name)}`)}(c,td.get(c),a),td.set(c,a));const h=jr(u.imports);for(const p of h)n.has(p)||(n.add(p),s(p))}(t)}(n)}create(n){return new lD(this.moduleType,n)}}function Tv(t){return n=>{setTimeout(t,void 0,n)}}const js=class Zw extends ve.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var u,c,h;let p=n,_=s||(()=>null),C=a;if(n&&"object"==typeof n){const I=n;p=null===(u=I.next)||void 0===u?void 0:u.bind(I),_=null===(c=I.error)||void 0===c?void 0:c.bind(I),C=null===(h=I.complete)||void 0===h?void 0:h.bind(I)}this.__isAsync&&(_=Tv(_),p&&(p=Tv(p)),C&&(C=Tv(C)));const E=super.subscribe({next:p,error:_,complete:C});return n instanceof Me.w0&&n.add(E),E}};function Qw(){return this._results[Ea()]()}class Sv{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Ea(),a=Sv.prototype;a[s]||(a[s]=Qw)}get changes(){return this._changes||(this._changes=new js)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const u=lr(n);(this._changesDetected=!function yd(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],c=n[a];if(s&&(u=s(u),c=s(c)),c!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Th=(()=>{class t{}return t.__NG_ELEMENT_ID__=eE,t})();const Jw=Th,Xw=class extends Jw{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=_o(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(a[19]=c.createEmbeddedView(s)),gi(s,a,n),new Eh(a)}};function eE(){return jm(Vt(),se())}function jm(t,n){return 4&t.type?new Xw(n,t,vi(t,n)):null}let Um=(()=>{class t{}return t.__NG_ELEMENT_ID__=tE,t})();function tE(){return mD(Vt(),se())}const nE=Um,pD=class extends nE{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return vi(this._hostTNode,this._hostLView)}get injector(){return new Wn(this._hostTNode,this._hostLView)}get parentInjector(){const n=Zo(this._hostTNode,this._hostLView);if(In(n)){const s=hs(n,this._hostLView),a=fs(n);return new Wn(s[1].data[a+8],s)}return new Wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=gD(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const u=n.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(n,s,a,u,c){const h=n&&!function na(t){return"function"==typeof t}(n);let p;if(h)p=s;else{const I=s||{};p=I.index,a=I.injector,u=I.projectableNodes,c=I.ngModuleRef}const _=h?n:new bv(Xt(n)),C=a||this.parentInjector;if(!c&&null==_.ngModule){const M=(h?C:this.parentInjector).get(ed,null);M&&(c=M)}const E=_.create(C,u,void 0,c);return this.insert(E.hostView,p),E}insert(n,s){const a=n._lView,u=a[1];if(function tn(t){return Ot(t[3])}(a)){const E=this.indexOf(n);if(-1!==E)this.detach(E);else{const I=a[3],M=new pD(I,I[6],I[3]);M.detach(M.indexOf(n))}}const c=this._adjustIndex(s),h=this._lContainer;!function Op(t,n,s,a){const u=10+a,c=s.length;a>0&&(s[u-1][4]=n),a<c-10?(n[4]=s[u],Je(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const h=n[17];null!==h&&s!==h&&function jd(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(h,n);const p=n[19];null!==p&&p.insertView(t),n[2]|=128}(u,a,h,c);const p=Es(c,h),_=a[11],C=Xu(_,h[7]);return null!==C&&function Pp(t,n,s,a,u,c){a[0]=u,a[6]=n,fa(t,a,s,1,u,c)}(u,h[6],_,a,C,p),n.attachToViewContainerRef(),Je(Av(h),c,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=gD(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=ji(this._lContainer,s);a&&(ra(Av(this._lContainer),s),Ud(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=ji(this._lContainer,s);return a&&null!=ra(Av(this._lContainer),s)?new Eh(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function gD(t){return t[8]}function Av(t){return t[8]||(t[8]=[])}function mD(t,n){let s;const a=n[t.index];if(Ot(a))s=a;else{let u;if(8&t.type)u=Dt(a);else{const c=n[11];u=c.createComment("");const h=yn(t,n);go(c,Xu(c,h),u,function $d(t,n){return kt(t)?t.nextSibling(n):n.nextSibling}(c,h),!1)}n[t.index]=s=yg(a,n,u,t),Xe(n,s)}return new pD(s,t,n)}class Mv{constructor(n){this.queryList=n,this.matches=null}clone(){return new Mv(this.queryList)}setDirty(){this.queryList.setDirty()}}class xv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,u=[];for(let c=0;c<a;c++){const h=s.getByIndex(c);u.push(this.queries[h.indexInDeclarationView].clone())}return new xv(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==bD(n,s).matches&&this.queries[s].setDirty()}}class _D{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class Pv{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,c=this.getByIndex(a).embeddedTView(n,u);c&&(c.indexInDeclarationView=a,null!==s?s.push(c):s=[c])}return null!==s?new Pv(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Rv{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Rv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const c=a[u];this.matchTNodeWithReadOption(n,s,sE(s,c)),this.matchTNodeWithReadOption(n,s,zn(s,n,c,!1,!1))}else a===Th?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,zn(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===La||u===Um||u===Th&&4&s.type)this.addMatch(s.index,-2);else{const c=zn(s,n,u,!1,!1);null!==c&&this.addMatch(s.index,c)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function sE(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function aE(t,n,s,a){return-1===s?function oE(t,n){return 11&t.type?vi(t,n):4&t.type?jm(t,n):null}(n,t):-2===s?function lE(t,n,s){return s===La?vi(n,t):s===Th?jm(n,t):s===Um?mD(n,t):void 0}(t,n,a):xi(t,t[1],s,n)}function yD(t,n,s,a){const u=n[19].queries[a];if(null===u.matches){const c=t.data,h=s.matches,p=[];for(let _=0;_<h.length;_+=2){const C=h[_];p.push(C<0?null:aE(n,c[C],h[_+1],s.metadata.read))}u.matches=p}return u.matches}function Ov(t,n,s,a){const u=t.queries.getByIndex(s),c=u.matches;if(null!==c){const h=yD(t,n,u,s);for(let p=0;p<c.length;p+=2){const _=c[p];if(_>0)a.push(h[p/2]);else{const C=c[p+1],E=n[-_];for(let I=10;I<E.length;I++){const M=E[I];M[17]===M[3]&&Ov(M[1],M,C,a)}if(null!==E[9]){const I=E[9];for(let M=0;M<I.length;M++){const U=I[M];Ov(U[1],U,C,a)}}}}}return a}function vD(t){const n=se(),s=st(),a=dd();ls(a+1);const u=bD(s,a);if(t.dirty&&qs(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const c=u.crossesNgTemplate?Ov(s,n,a,[]):yD(s,n,u,a);t.reset(c,Dw),t.notifyOnChanges()}return!0}return!1}function CD(t,n,s,a){const u=st();if(u.firstCreatePass){const c=Vt();(function ED(t,n,s){null===t.queries&&(t.queries=new Pv),t.queries.track(new Rv(n,s))})(u,new _D(n,s,a),c.index),function dE(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(u,t),2==(2&s)&&(u.staticContentQueries=!0)}!function wD(t,n,s){const a=new Sv(4==(4&s));gf(t,n,a,a.destroy),null===n[19]&&(n[19]=new xv),n[19].queries.push(new Mv(a))}(u,se(),s)}function DD(){return function cE(t,n){return t[19].queries[n].queryList}(se(),dd())}function bD(t,n){return t.queries.getByIndex(n)}function $m(...t){}const VD=new nt("Application Initializer");let jv=(()=>{class t{constructor(s){this.appInits=s,this.resolve=$m,this.reject=$m,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const c=this.appInits[u]();if(Ma(c))s.push(c);else if(im(c)){const h=new Promise((p,_)=>{c.subscribe({complete:p,error:_})});s.push(h)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Ht(VD,8))},t.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const HD=new nt("AppId",{providedIn:"root",factory:function $D(){return`${Uv()}${Uv()}${Uv()}`}});function Uv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zD=new nt("Platform Initializer"),WD=new nt("Platform ID"),GD=new nt("appBootstrapListener");let qD=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=jt({token:t,factory:t.\u0275fac}),t})();const Vv=new nt("LocaleId",{providedIn:"root",factory:()=>Hu(Vv,Ne.Optional|Ne.SkipSelf)||function ME(){return"undefined"!=typeof $localize&&$localize.locale||On}()}),xE=new nt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class PE{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let RE=(()=>{class t{compileModuleSync(s){return new Iv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),c=jr(Hn(s).declarations).reduce((h,p)=>{const _=Xt(p);return _&&h.push(new bv(_)),h},[]);return new PE(a,c)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const NE=(()=>Promise.resolve(0))();function Hv(t){"undefined"==typeof Zone?NE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Yi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new js(!1),this.onMicrotaskEmpty=new js(!1),this.onStable=new js(!1),this.onError=new js(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function FE(){let t=S.requestAnimationFrame,n=S.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function BE(t){const n=()=>{!function LE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(S,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,zv(t),t.isCheckStableRunning=!0,$v(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),zv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,c,h,p)=>{try{return YD(t),s.invokeTask(u,c,h,p)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&n(),KD(t)}},onInvoke:(s,a,u,c,h,p,_)=>{try{return YD(t),s.invoke(u,c,h,p,_)}finally{t.shouldCoalesceRunChangeDetection&&n(),KD(t)}},onHasTask:(s,a,u,c)=>{s.hasTask(u,c),a===u&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,zv(t),$v(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(s,a,u,c)=>(s.handleError(u,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Yi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,u){const c=this._inner,h=c.scheduleEventTask("NgZoneEvent: "+u,n,kE,$m,$m);try{return c.runTask(h,s,a)}finally{c.cancelTask(h)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const kE={};function $v(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function YD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function KD(t){t._nesting--,$v(t)}class jE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new js,this.onMicrotaskEmpty=new js,this.onStable=new js,this.onError=new js}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,u){return n.apply(s,a)}}let ZD=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yi.assertNotInAngularZone(),Hv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let c=-1;a&&a>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==c),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:c,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return t.\u0275fac=function(s){return new(s||t)(Ht(Yi))},t.\u0275prov=jt({token:t,factory:t.\u0275fac}),t})(),QD=(()=>{class t{constructor(){this._applications=new Map,Wv.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Wv.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=jt({token:t,factory:t.\u0275fac}),t})();class UE{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function VE(t){Wv=t}let Ki,Wv=new UE;const JD=new nt("AllowMultipleToken");class zE{constructor(n,s){this.name=n,this.token=s}}function XD(t,n,s=[]){const a=`Platform: ${n}`,u=new nt(a);return(c=[])=>{let h=ew();if(!h||h.injector.get(JD,!1))if(t)t(s.concat(c).concat({provide:u,useValue:!0}));else{const p=s.concat(c).concat({provide:u,useValue:!0},{provide:bf,useValue:"platform"});!function WE(t){if(Ki&&!Ki.destroyed&&!Ki.injector.get(JD,!1))throw new _e(400,"");Ki=t.get(tw);const n=t.get(zD,null);n&&n.forEach(s=>s())}(wr.create({providers:p,name:a}))}return function GE(t){const n=ew();if(!n)throw new _e(401,"");return n}()}}function ew(){return Ki&&!Ki.destroyed?Ki:null}let tw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const p=function qE(t,n){let s;return s="noop"===t?new jE:("zone.js"===t?void 0:t)||new Yi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),_=[{provide:Yi,useValue:p}];return p.run(()=>{const C=wr.create({providers:_,parent:this.injector,name:s.moduleType.name}),E=s.create(C),I=E.injector.get(Al,null);if(!I)throw new _e(402,"");return p.runOutsideAngular(()=>{const M=p.onError.subscribe({next:U=>{I.handleError(U)}});E.onDestroy(()=>{qv(this._modules,E),M.unsubscribe()})}),function YE(t,n,s){try{const a=s();return Ma(a)?a.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(I,p,()=>{const M=E.injector.get(jv);return M.runInitializers(),M.donePromise.then(()=>(function kC(t){gt(t,"Expected localeId to be defined"),"string"==typeof t&&(Na=t.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Vv,On)||On),this._moduleDoBootstrap(E),E))})})}bootstrapModule(s,a=[]){const u=nw({},a);return function HE(t,n,s){const a=new Iv(s);return Promise.resolve(a)}(0,0,s).then(c=>this.bootstrapModuleFactory(c,u))}_moduleDoBootstrap(s){const a=s.injector.get(Gv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new _e(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Ht(wr))},t.\u0275prov=jt({token:t,factory:t.\u0275fac}),t})();function nw(t,n){return Array.isArray(n)?n.reduce(nw,t):Object.assign(Object.assign({},t),n)}let Gv=(()=>{class t{constructor(s,a,u,c,h){this._zone=s,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=c,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new De.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),_=new De.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Yi.assertNotInAngularZone(),Hv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{Yi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),I.unsubscribe()}});this.isStable=function Pe(...t){const n=(0,Z.yG)(t),s=(0,Z._6)(t,1/0),a=t;return a.length?1===a.length?(0,V.Xf)(a[0]):(0,y.J)(s)((0,he.D)(a,n)):ae.E}(p,_.pipe(function ie(t={}){const{connector:n=(()=>new ve.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:u=!0}=t;return c=>{let h,p,_,C=0,E=!1,I=!1;const M=()=>{null==p||p.unsubscribe(),p=void 0},U=()=>{M(),h=_=void 0,E=I=!1},X=()=>{const fe=h;U(),null==fe||fe.unsubscribe()};return(0,L.e)((fe,Ce)=>{C++,!I&&!E&&M();const Se=_=null!=_?_:n();Ce.add(()=>{C--,0===C&&!I&&!E&&(p=Ae(X,u))}),Se.subscribe(Ce),!h&&C>0&&(h=new B.Hp({next:te=>Se.next(te),error:te=>{I=!0,M(),p=Ae(U,s,te),Se.error(te)},complete:()=>{E=!0,M(),p=Ae(U,a),Se.complete()}}),(0,V.Xf)(fe).subscribe(h))})(c)}}()))}bootstrap(s,a){if(!this._initStatus.done)throw new _e(405,"");let u;u=s instanceof Q?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(u.componentType);const c=function $E(t){return t.isBoundToModule}(u)?void 0:this._injector.get(ed),p=u.create(wr.NULL,[],a||u.selector,c),_=p.location.nativeElement,C=p.injector.get(ZD,null),E=C&&p.injector.get(QD);return C&&E&&E.registerApplication(_,C),p.onDestroy(()=>{this.detachView(p.hostView),qv(this.components,p),E&&E.unregisterApplication(_)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new _e(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;qv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(GD,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Ht(Yi),Ht(wr),Ht(Al),Ht(Qt),Ht(jv))},t.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function qv(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}let iw=!0,sw=!1;function ZE(){return sw=!0,iw}function QE(){if(sw)throw new Error("Cannot enable prod mode after platform setup.");iw=!1}let JE=(()=>{class t{}return t.__NG_ELEMENT_ID__=XE,t})();function XE(t){return function e0(t,n,s){if(ko(t)&&!s){const a=en(t.index,n);return new Eh(a,a)}return 47&t.type?new Eh(n[16],n):null}(Vt(),se(),16==(16&t))}class uw{constructor(){}supports(n){return $i(n)}create(n){return new a0(n)}}const o0=(t,n)=>n;class a0{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||o0}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,u=0,c=null;for(;s||a;){const h=!a||s&&s.currentIndex<dw(a,u,c)?s:a,p=dw(h,u,c),_=h.currentIndex;if(h===a)u--,a=a._nextRemoved;else if(s=s._next,null==h.previousIndex)u++;else{c||(c=[]);const C=p-u,E=_-u;if(C!=E){for(let M=0;M<C;M++){const U=M<c.length?c[M]:c[M]=0,X=U+M;E<=X&&X<C&&(c[M]=U+1)}c[h.previousIndex]=E-C}}p!==_&&n(h,p,_)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!$i(n))throw new _e(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,c,h,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let p=0;p<this.length;p++)c=n[p],h=this._trackByFn(p,c),null!==s&&Object.is(s.trackById,h)?(a&&(s=this._verifyReinsertion(s,c,h,p)),Object.is(s.item,c)||this._addIdentityChange(s,c)):(s=this._mismatch(s,c,h,p),a=!0),s=s._next}else u=0,function ay(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Ea()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,p=>{h=this._trackByFn(u,p),null!==s&&Object.is(s.trackById,h)?(a&&(s=this._verifyReinsertion(s,p,h,u)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,h,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,u){let c;return null===n?c=this._itTail:(c=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,c,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,c,u)):n=this._addAfter(new l0(s,a),c,u),n}_verifyReinsertion(n,s,a,u){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==c?n=this._reinsertAfter(c,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,c=n._nextRemoved;return null===u?this._removalsHead=c:u._nextRemoved=c,null===c?this._removalsTail=u:c._prevRemoved=u,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const u=null===s?this._itHead:s._next;return n._next=u,n._prev=s,null===u?this._itTail=n:u._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new cw),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class l0{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class u0{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class cw{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new u0,this.map.set(s,a)),a.add(n)}get(n,s){const u=this.map.get(n);return u?u.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dw(t,n,s){const a=t.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+n+u}class fw{constructor(){}supports(n){return n instanceof Map||ba(n)}create(){return new c0}}class c0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||ba(n)))throw new _e(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const c=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,c)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,s);const c=u._prev,h=u._next;return c&&(c._next=h),h&&(h._prev=c),u._next=null,u._prev=null,u}const a=new d0(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class d0{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hw(){return new Jv([new uw])}let Jv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||hw()),deps:[[t,new T,new v]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new _e(901,"")}}return t.\u0275prov=jt({token:t,providedIn:"root",factory:hw}),t})();function pw(){return new Xv([new fw])}let Xv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||pw()),deps:[[t,new T,new v]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new _e(901,"")}}return t.\u0275prov=jt({token:t,providedIn:"root",factory:pw}),t})();const p0=XD(null,"core",[{provide:WD,useValue:"unknown"},{provide:tw,deps:[wr]},{provide:QD,deps:[]},{provide:qD,deps:[]}]);let g0=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Ht(Gv))},t.\u0275mod=Xr({type:t}),t.\u0275inj=Kr({}),t})()},681:(ke,ce,P)=>{P.r(ce),P.d(ce,{FirebaseError:()=>Z.ZR,SDK_VERSION:()=>jt,_DEFAULT_ENTRY_NAME:()=>xt,_addComponent:()=>Mt,_addOrOverwriteComponent:()=>on,_apps:()=>It,_clearComponents:()=>lt,_components:()=>En,_getProvider:()=>gr,_registerComponent:()=>pn,_removeServiceInstance:()=>gt,deleteApp:()=>tr,getApp:()=>Kr,getApps:()=>Vn,initializeApp:()=>Ba,onLog:()=>Zr,registerVersion:()=>Yt,setLogLevel:()=>nr});var y=P(861),V=P(859),ae=P(877),Z=P(90),he=P(766);class Pe{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map(R=>{if(function ve(S){const F=S.getComponent();return"VERSION"===(null==F?void 0:F.type)}(R)){const re=R.getImmediate();return`${re.library}/${re.version}`}return null}).filter(R=>R).join(" ")}}const Me="@firebase/app",B=new ae.Yd("@firebase/app"),xt="[DEFAULT]",We={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},It=new Map,En=new Map;function Mt(S,F){try{S.container.addComponent(F)}catch(R){B.debug(`Component ${F.name} failed to register with FirebaseApp ${S.name}`,R)}}function on(S,F){S.container.addOrOverwriteComponent(F)}function pn(S){const F=S.name;if(En.has(F))return B.debug(`There were multiple attempts to register component ${F}.`),!1;En.set(F,S);for(const R of It.values())Mt(R,S);return!0}function gr(S,F){const R=S.container.getProvider("heartbeat").getImmediate({optional:!0});return R&&R.triggerHeartbeat(),S.container.getProvider(F)}function gt(S,F,R=xt){gr(S,F).clearInstance(R)}function lt(){En.clear()}const er=new Z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hu{constructor(F,R,re){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},R),this._name=R.name,this._automaticDataCollectionEnabled=R.automaticDataCollectionEnabled,this._container=re,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const jt="9.9.3";function Ba(S,F={}){"object"!=typeof F&&(F={name:F});const R=Object.assign({name:xt,automaticDataCollectionEnabled:!1},F),re=R.name;if("string"!=typeof re||!re)throw er.create("bad-app-name",{appName:String(re)});const le=It.get(re);if(le){if((0,Z.vZ)(S,le.options)&&(0,Z.vZ)(R,le.config))return le;throw er.create("duplicate-app",{appName:re})}const Be=new V.H0(re);for(const mt of En.values())Be.addComponent(mt);const ft=new hu(S,R,Be);return It.set(re,ft),ft}function Kr(S=xt){const F=It.get(S);if(!F)throw er.create("no-app",{appName:S});return F}function Vn(){return Array.from(It.values())}function tr(S){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,y.Z)(function*(S){const F=S.name;It.has(F)&&(It.delete(F),yield Promise.all(S.container.getProviders().map(R=>R.delete())),S.isDeleted=!0)})).apply(this,arguments)}function Yt(S,F,R){var re;let le=null!==(re=We[S])&&void 0!==re?re:S;R&&(le+=`-${R}`);const Be=le.match(/\s|\//),ft=F.match(/\s|\//);if(Be||ft){const mt=[`Unable to register library "${le}" with version "${F}":`];return Be&&mt.push(`library name "${le}" contains illegal characters (whitespace or "/")`),Be&&ft&&mt.push("and"),ft&&mt.push(`version name "${F}" contains illegal characters (whitespace or "/")`),void B.warn(mt.join(" "))}pn(new V.wA(`${le}-version`,()=>({library:le,version:F}),"VERSION"))}function Zr(S,F){if(null!==S&&"function"!=typeof S)throw er.create("invalid-log-argument");(0,ae.Am)(S,F)}function nr(S){(0,ae.Ub)(S)}const Sr="firebase-heartbeat-store";let Ne=null;function Di(){return Ne||(Ne=(0,he.X3)("firebase-heartbeat-database",1,{upgrade:(S,F)=>{0===F&&S.createObjectStore(Sr)}}).catch(S=>{throw er.create("idb-open",{originalErrorMessage:S.message})})),Ne}function Te(){return(Te=(0,y.Z)(function*(S){var F;try{return(yield Di()).transaction(Sr).objectStore(Sr).get(Wt(S))}catch(R){if(R instanceof Z.ZR)B.warn(R.message);else{const re=er.create("idb-get",{originalErrorMessage:null===(F=R)||void 0===F?void 0:F.message});B.warn(re.message)}}})).apply(this,arguments)}function ze(S,F){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,y.Z)(function*(S,F){var R;try{const le=(yield Di()).transaction(Sr,"readwrite");return yield le.objectStore(Sr).put(F,Wt(S)),le.done}catch(re){if(re instanceof Z.ZR)B.warn(re.message);else{const le=er.create("idb-set",{originalErrorMessage:null===(R=re)||void 0===R?void 0:R.message});B.warn(le.message)}}})).apply(this,arguments)}function Wt(S){return`${S.name}!${S.options.appId}`}class an{constructor(F){this.container=F,this._heartbeatsCache=null;const R=this.container.getProvider("app").getImmediate();this._storage=new wi(R),this._heartbeatsCachePromise=this._storage.read().then(re=>(this._heartbeatsCache=re,re))}triggerHeartbeat(){var F=this;return(0,y.Z)(function*(){const re=F.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),le=Jt();if(null===F._heartbeatsCache&&(F._heartbeatsCache=yield F._heartbeatsCachePromise),F._heartbeatsCache.lastSentHeartbeatDate!==le&&!F._heartbeatsCache.heartbeats.some(Be=>Be.date===le))return F._heartbeatsCache.heartbeats.push({date:le,agent:re}),F._heartbeatsCache.heartbeats=F._heartbeatsCache.heartbeats.filter(Be=>{const ft=new Date(Be.date).valueOf();return Date.now()-ft<=2592e6}),F._storage.overwrite(F._heartbeatsCache)})()}getHeartbeatsHeader(){var F=this;return(0,y.Z)(function*(){if(null===F._heartbeatsCache&&(yield F._heartbeatsCachePromise),null===F._heartbeatsCache||0===F._heartbeatsCache.heartbeats.length)return"";const R=Jt(),{heartbeatsToSend:re,unsentEntries:le}=function vt(S,F=1024){const R=[];let re=S.slice();for(const le of S){const Be=R.find(ft=>ft.agent===le.agent);if(Be){if(Be.dates.push(le.date),x(R)>F){Be.dates.pop();break}}else if(R.push({agent:le.agent,dates:[le.date]}),x(R)>F){R.pop();break}re=re.slice(1)}return{heartbeatsToSend:R,unsentEntries:re}}(F._heartbeatsCache.heartbeats),Be=(0,Z.L)(JSON.stringify({version:2,heartbeats:re}));return F._heartbeatsCache.lastSentHeartbeatDate=R,le.length>0?(F._heartbeatsCache.heartbeats=le,yield F._storage.overwrite(F._heartbeatsCache)):(F._heartbeatsCache.heartbeats=[],F._storage.overwrite(F._heartbeatsCache)),Be})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class wi{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,Z.hl)()&&(0,Z.eu)().then(()=>!0).catch(()=>!1)})()}read(){var F=this;return(0,y.Z)(function*(){return(yield F._canUseIndexedDBPromise)&&(yield function Pt(S){return Te.apply(this,arguments)}(F.app))||{heartbeats:[]}})()}overwrite(F){var R=this;return(0,y.Z)(function*(){var re;if(yield R._canUseIndexedDBPromise){const Be=yield R.read();return ze(R.app,{lastSentHeartbeatDate:null!==(re=F.lastSentHeartbeatDate)&&void 0!==re?re:Be.lastSentHeartbeatDate,heartbeats:F.heartbeats})}})()}add(F){var R=this;return(0,y.Z)(function*(){var re;if(yield R._canUseIndexedDBPromise){const Be=yield R.read();return ze(R.app,{lastSentHeartbeatDate:null!==(re=F.lastSentHeartbeatDate)&&void 0!==re?re:Be.lastSentHeartbeatDate,heartbeats:[...Be.heartbeats,...F.heartbeats]})}})()}}function x(S){return(0,Z.L)(JSON.stringify({version:2,heartbeats:S})).length}!function O(S){pn(new V.wA("platform-logger",F=>new Pe(F),"PRIVATE")),pn(new V.wA("heartbeat",F=>new an(F),"PRIVATE")),Yt(Me,"0.7.31",S),Yt(Me,"0.7.31","esm2017"),Yt("fire-js","")}("")},859:(ke,ce,P)=>{P.d(ce,{wA:()=>ae,H0:()=>Me});var y=P(861),V=P(90);class ae{constructor(B,L,ie){this.name=B,this.instanceFactory=L,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const Z="[DEFAULT]";class he{constructor(B,L){this.name=B,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const L=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(L)){const ie=new V.BH;if(this.instancesDeferred.set(L,ie),this.isInitialized(L)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:L});Ae&&ie.resolve(Ae)}catch(Ae){}}return this.instancesDeferred.get(L).promise}getImmediate(B){var L;const ie=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),Ae=null!==(L=null==B?void 0:B.optional)&&void 0!==L&&L;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(ne){if(Ae)return null;throw ne}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function ve(De){return"EAGER"===De.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:Z})}catch(L){}for(const[L,ie]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(L);try{const ne=this.getOrInitializeService({instanceIdentifier:Ae});ie.resolve(ne)}catch(ne){}}}}clearInstance(B=Z){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,y.Z)(function*(){const L=Array.from(B.instances.values());yield Promise.all([...L.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...L.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=Z){return this.instances.has(B)}getOptions(B=Z){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:L={}}=B,ie=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:ie,options:L});for(const[ne,Ge]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(ne)&&Ge.resolve(Ae);return Ae}onInit(B,L){var ie;const Ae=this.normalizeInstanceIdentifier(L),ne=null!==(ie=this.onInitCallbacks.get(Ae))&&void 0!==ie?ie:new Set;ne.add(B),this.onInitCallbacks.set(Ae,ne);const Ge=this.instances.get(Ae);return Ge&&B(Ge,Ae),()=>{ne.delete(B)}}invokeOnInitCallbacks(B,L){const ie=this.onInitCallbacks.get(L);if(ie)for(const Ae of ie)try{Ae(B,L)}catch(ne){}}getOrInitializeService({instanceIdentifier:B,options:L={}}){let ie=this.instances.get(B);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(De=B,De===Z?void 0:De),options:L}),this.instances.set(B,ie),this.instancesOptions.set(B,L),this.invokeOnInitCallbacks(ie,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,ie)}catch(Ae){}var De;return ie||null}normalizeInstanceIdentifier(B=Z){return this.component?this.component.multipleInstances?B:Z:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const L=this.getProvider(B.name);if(L.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);L.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const L=new he(B,this);return this.providers.set(B,L),L}getProviders(){return Array.from(this.providers.values())}}},877:(ke,ce,P)=>{P.d(ce,{in:()=>V,Yd:()=>ve,Ub:()=>Me,Am:()=>De});const y=[];var V=(()=>{return(B=V||(V={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",V;var B})();const ae={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},Z=V.INFO,he={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},Pe=(B,L,...ie)=>{if(L<B.logLevel)return;const Ae=(new Date).toISOString(),ne=he[L];if(!ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[ne](`[${Ae}]  ${B.name}:`,...ie)};class ve{constructor(L){this.name=L,this._logLevel=Z,this._logHandler=Pe,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in V))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?ae[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...L),this._logHandler(this,V.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...L),this._logHandler(this,V.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,V.INFO,...L),this._logHandler(this,V.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,V.WARN,...L),this._logHandler(this,V.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...L),this._logHandler(this,V.ERROR,...L)}}function Me(B){y.forEach(L=>{L.setLogLevel(B)})}function De(B,L){for(const ie of y){let Ae=null;L&&L.level&&(Ae=ae[L.level]),ie.userLogHandler=null===B?null:(ne,Ge,...ge)=>{const Oe=ge.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch(it){return null}}).filter(He=>He).join(" ");Ge>=(null!=Ae?Ae:ne.logLevel)&&B({level:V[Ge].toLowerCase(),message:Oe,args:ge,type:ne.name})}}}},766:(ke,ce,P)=>{P.d(ce,{Lj:()=>we,X3:()=>J});var y=P(861);let ae,Z;const ve=new WeakMap,Me=new WeakMap,De=new WeakMap,B=new WeakMap,L=new WeakMap;let ne={get(Y,de,j){if(Y instanceof IDBTransaction){if("done"===de)return Me.get(Y);if("objectStoreNames"===de)return Y.objectStoreNames||De.get(Y);if("store"===de)return j.objectStoreNames[1]?void 0:j.objectStore(j.objectStoreNames[0])}return He(Y[de])},set:(Y,de,j)=>(Y[de]=j,!0),has:(Y,de)=>Y instanceof IDBTransaction&&("done"===de||"store"===de)||de in Y};function Oe(Y){return"function"==typeof Y?function ge(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Y)?function(...de){return Y.apply(it(this),de),He(ve.get(this))}:function(...de){return He(Y.apply(it(this),de))}:function(de,...j){const G=Y.call(it(this),de,...j);return De.set(G,de.sort?de.sort():[de]),He(G)}}(Y):(Y instanceof IDBTransaction&&function Ae(Y){if(Me.has(Y))return;const de=new Promise((j,G)=>{const W=()=>{Y.removeEventListener("complete",K),Y.removeEventListener("error",q),Y.removeEventListener("abort",q)},K=()=>{j(),W()},q=()=>{G(Y.error||new DOMException("AbortError","AbortError")),W()};Y.addEventListener("complete",K),Y.addEventListener("error",q),Y.addEventListener("abort",q)});Me.set(Y,de)}(Y),((Y,de)=>de.some(j=>Y instanceof j))(Y,function he(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Y,ne):Y)}function He(Y){if(Y instanceof IDBRequest)return function ie(Y){const de=new Promise((j,G)=>{const W=()=>{Y.removeEventListener("success",K),Y.removeEventListener("error",q)},K=()=>{j(He(Y.result)),W()},q=()=>{G(Y.error),W()};Y.addEventListener("success",K),Y.addEventListener("error",q)});return de.then(j=>{j instanceof IDBCursor&&ve.set(j,Y)}).catch(()=>{}),L.set(de,Y),de}(Y);if(B.has(Y))return B.get(Y);const de=Oe(Y);return de!==Y&&(B.set(Y,de),L.set(de,Y)),de}const it=Y=>L.get(Y);function J(Y,de,{blocked:j,upgrade:G,blocking:W,terminated:K}={}){const q=indexedDB.open(Y,de),pe=He(q);return G&&q.addEventListener("upgradeneeded",Le=>{G(He(q.result),Le.oldVersion,Le.newVersion,He(q.transaction))}),j&&q.addEventListener("blocked",()=>j()),pe.then(Le=>{K&&Le.addEventListener("close",()=>K()),W&&Le.addEventListener("versionchange",()=>W())}).catch(()=>{}),pe}function we(Y,{blocked:de}={}){const j=indexedDB.deleteDatabase(Y);return de&&j.addEventListener("blocked",()=>de()),He(j).then(()=>{})}const me=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],et=new Map;function oe(Y,de){if(!(Y instanceof IDBDatabase)||de in Y||"string"!=typeof de)return;if(et.get(de))return et.get(de);const j=de.replace(/FromIndex$/,""),G=de!==j,W=_e.includes(j);if(!(j in(G?IDBIndex:IDBObjectStore).prototype)||!W&&!me.includes(j))return;const K=function(){var q=(0,y.Z)(function*(pe,...Le){const Ke=this.transaction(pe,W?"readwrite":"readonly");let xt=Ke.store;return G&&(xt=xt.index(Le.shift())),(yield Promise.all([xt[j](...Le),W&&Ke.done]))[0]});return function(Le){return q.apply(this,arguments)}}();return et.set(de,K),K}!function Ge(Y){ne=Y(ne)}(Y=>yw(_w({},Y),{get:(de,j,G)=>oe(de,j)||Y.get(de,j,G),has:(de,j)=>!!oe(de,j)||Y.has(de,j)}))},861:(ke,ce,P)=>{function y(ae,Z,he,Pe,ve,Me,De){try{var B=ae[Me](De),L=B.value}catch(ie){return void he(ie)}B.done?Z(L):Promise.resolve(L).then(Pe,ve)}function V(ae){return function(){var Z=this,he=arguments;return new Promise(function(Pe,ve){var Me=ae.apply(Z,he);function De(L){y(Me,Pe,ve,De,B,"next",L)}function B(L){y(Me,Pe,ve,De,B,"throw",L)}De(void 0)})}}P.d(ce,{Z:()=>V})}},ke=>{ke(ke.s=832)}]);