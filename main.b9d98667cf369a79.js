"use strict";var xx=Object.defineProperty,Rx=Object.defineProperties,Px=Object.getOwnPropertyDescriptors,UT=Object.getOwnPropertySymbols,Ox=Object.prototype.hasOwnProperty,Nx=Object.prototype.propertyIsEnumerable,VT=(Ue,le,R)=>le in Ue?xx(Ue,le,{enumerable:!0,configurable:!0,writable:!0,value:R}):Ue[le]=R,$T=(Ue,le)=>{for(var R in le||(le={}))Ox.call(le,R)&&VT(Ue,R,le[R]);if(UT)for(var R of UT(le))Nx.call(le,R)&&VT(Ue,R,le[R]);return Ue},zT=(Ue,le)=>Rx(Ue,Px(le));(self.webpackChunkchat_test=self.webpackChunkchat_test||[]).push([[179],{773:(Ue,le,R)=>{R.d(le,{hO:()=>Gi});var g=R(0),V=R(90),ie=R(859),J=R(681),fe=R(877);class me{constructor(E,b){this._delegate=E,this.firebase=b,(0,J._addComponent)(E,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=E.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(E){this._delegate.automaticDataCollectionEnabled=E}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(E=>{this._delegate.checkDestroyed(),E()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(E,b=J._DEFAULT_ENTRY_NAME){var M;this._delegate.checkDestroyed();const B=this._delegate.container.getProvider(E);return!B.isInitialized()&&"EXPLICIT"===(null===(M=B.getComponent())||void 0===M?void 0:M.instantiationMode)&&B.initialize(),B.getImmediate({identifier:b})}_removeServiceInstance(E,b=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(E).clearInstance(b)}_addComponent(E){(0,J._addComponent)(this._delegate,E)}_addOrOverwriteComponent(E){(0,J._addOrOverwriteComponent)(this._delegate,E)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new V.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function j(){const y=function we(y){const E={},b={__esModule:!0,initializeApp:function G(Me,ze={}){const Ne=J.initializeApp(Me,ze);if((0,V.r3)(E,Ne.name))return E[Ne.name];const At=new y(Ne,b);return E[Ne.name]=At,At},app:B,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function ge(Me){const ze=Me.name,Ne=ze.replace("-compat","");if(J._registerComponent(Me)&&"PUBLIC"===Me.type){const At=(vt=B())=>{if("function"!=typeof vt[Ne])throw he.create("invalid-app-argument",{appName:ze});return vt[Ne]()};void 0!==Me.serviceProps&&(0,V.ZB)(At,Me.serviceProps),b[Ne]=At,y.prototype[Ne]=function(...vt){return this._getService.bind(this,ze).apply(this,Me.multipleInstances?vt:[])}}return"PUBLIC"===Me.type?b[Ne]:null},removeApp:function M(Me){delete E[Me]},useAsService:function je(Me,ze){return"serverAuth"===ze?null:ze},modularAPIs:J}};function B(Me){if(!(0,V.r3)(E,Me=Me||J._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Me});return E[Me]}return b.default=b,Object.defineProperty(b,"apps",{get:function re(){return Object.keys(E).map(Me=>E[Me])}}),B.App=y,b}(me);return y.INTERNAL=Object.assign(Object.assign({},y.INTERNAL),{createFirebaseNamespace:j,extendNamespace:function E(b){(0,V.ZB)(y,b)},createSubscribe:V.ne,ErrorFactory:V.LL,deepExtend:V.ZB}),y}(),Y=new fe.Yd("@firebase/app-compat");if((0,V.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=H;!function be(y){(0,J.registerVersion)("@firebase/app-compat","0.1.32",y)}(),Oe.registerVersion("firebase","9.9.3","app-compat"),R(867);var ve=R(861),Ie=R(766);const pe="@firebase/installations",Pe="0.5.12",ke=`w:${Pe}`,ee="FIS_v2",Q=new V.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(y){return y instanceof V.ZR&&y.code.includes("request-failed")}function $e({projectId:y}){return`https://firebaseinstallations.googleapis.com/v1/projects/${y}/installations`}function _t(y){return{token:y.token,requestStatus:2,expiresIn:On(y.expiresIn),creationTime:Date.now()}}function dt(y,E){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,ve.Z)(function*(y,E){const M=(yield E.json()).error;return Q.create("request-failed",{requestName:y,serverCode:M.code,serverMessage:M.message,serverStatus:M.status})})).apply(this,arguments)}function Lt({apiKey:y}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":y})}function Pn(y,{refreshToken:E}){const b=Lt(y);return b.append("Authorization",function Nn(y){return`${ee} ${y}`}(E)),b}function $t(y){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,ve.Z)(function*(y){const E=yield y();return E.status>=500&&E.status<600?y():E})).apply(this,arguments)}function On(y){return Number(y.replace("s","000"))}function cn(y,E){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,ve.Z)(function*({appConfig:y,heartbeatServiceProvider:E},{fid:b}){const M=$e(y),B=Lt(y),G=E.getImmediate({optional:!0});if(G){const Me=yield G.getHeartbeatsHeader();Me&&B.append("x-firebase-client",Me)}const ge={method:"POST",headers:B,body:JSON.stringify({fid:b,authVersion:ee,appId:y.appId,sdkVersion:ke})},je=yield $t(()=>fetch(M,ge));if(je.ok){const Me=yield je.json();return{fid:Me.fid||b,registrationStatus:2,refreshToken:Me.refreshToken,authToken:_t(Me.authToken)}}throw yield dt("Create Installation",je)})).apply(this,arguments)}function Ss(y){return new Promise(E=>{setTimeout(E,y)})}const oa=/^[cdef][\w-]{21}$/;function Ts(){try{const y=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(y),y[0]=112+y[0]%16;const b=function Is(y){return function Jn(y){return btoa(String.fromCharCode(...y)).replace(/\+/g,"-").replace(/\//g,"_")}(y).substr(0,22)}(y);return oa.test(b)?b:""}catch(y){return""}}function Nr(y){return`${y.appName}!${y.appId}`}const We=new Map;function ni(y,E){const b=Nr(y);ri(b,E),function Ml(y,E){const b=function rn(){return!Yt&&"BroadcastChannel"in self&&(Yt=new BroadcastChannel("[Firebase] FID Change"),Yt.onmessage=y=>{ri(y.data.key,y.data.fid)}),Yt}();b&&b.postMessage({key:y,fid:E}),function Fr(){0===We.size&&Yt&&(Yt.close(),Yt=null)}()}(b,E)}function ri(y,E){const b=We.get(y);if(b)for(const M of b)M(E)}let Yt=null;const Be="firebase-installations-store";let Je=null;function ii(){return Je||(Je=(0,Ie.X3)("firebase-installations-database",1,{upgrade:(y,E)=>{0===E&&y.createObjectStore(Be)}})),Je}function gr(y,E){return ht.apply(this,arguments)}function ht(){return(ht=(0,ve.Z)(function*(y,E){const b=Nr(y),B=(yield ii()).transaction(Be,"readwrite"),G=B.objectStore(Be),re=yield G.get(b);return yield G.put(E,b),yield B.done,(!re||re.fid!==E.fid)&&ni(y,E.fid),E})).apply(this,arguments)}function si(y){return vn.apply(this,arguments)}function vn(){return(vn=(0,ve.Z)(function*(y){const E=Nr(y),M=(yield ii()).transaction(Be,"readwrite");yield M.objectStore(Be).delete(E),yield M.done})).apply(this,arguments)}function kn(y,E){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,ve.Z)(function*(y,E){const b=Nr(y),B=(yield ii()).transaction(Be,"readwrite"),G=B.objectStore(Be),re=yield G.get(b),ge=E(re);return void 0===ge?yield G.delete(b):yield G.put(ge,b),yield B.done,ge&&(!re||re.fid!==ge.fid)&&ni(y,ge.fid),ge})).apply(this,arguments)}function kr(y){return N.apply(this,arguments)}function N(){return(N=(0,ve.Z)(function*(y){let E;const b=yield kn(y.appConfig,M=>{const B=L(M),G=x(y,B);return E=G.registrationPromise,G.installationEntry});return""===b.fid?{installationEntry:yield E}:{installationEntry:b,registrationPromise:E}})).apply(this,arguments)}function L(y){return St(y||{fid:Ts(),registrationStatus:0})}function x(y,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(Q.create("app-offline"))};const b={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},M=function F(y,E){return k.apply(this,arguments)}(y,b);return{installationEntry:b,registrationPromise:M}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:ae(y)}:{installationEntry:E}}function k(){return(k=(0,ve.Z)(function*(y,E){try{const b=yield cn(y,E);return gr(y.appConfig,b)}catch(b){throw Ee(b)&&409===b.customData.serverCode?yield si(y.appConfig):yield gr(y.appConfig,{fid:E.fid,registrationStatus:0}),b}})).apply(this,arguments)}function ae(y){return Se.apply(this,arguments)}function Se(){return(Se=(0,ve.Z)(function*(y){let E=yield Qe(y.appConfig);for(;1===E.registrationStatus;)yield Ss(100),E=yield Qe(y.appConfig);if(0===E.registrationStatus){const{installationEntry:b,registrationPromise:M}=yield kr(y);return M||b}return E})).apply(this,arguments)}function Qe(y){return kn(y,E=>{if(!E)throw Q.create("installation-not-found");return St(E)})}function St(y){return function Rt(y){return 1===y.registrationStatus&&y.registrationTime+1e4<Date.now()}(y)?{fid:y.fid,registrationStatus:0}:y}function mr(y,E){return gt.apply(this,arguments)}function gt(){return(gt=(0,ve.Z)(function*({appConfig:y,heartbeatServiceProvider:E},b){const M=_r(y,b),B=Pn(y,b),G=E.getImmediate({optional:!0});if(G){const Me=yield G.getHeartbeatsHeader();Me&&B.append("x-firebase-client",Me)}const ge={method:"POST",headers:B,body:JSON.stringify({installation:{sdkVersion:ke,appId:y.appId}})},je=yield $t(()=>fetch(M,ge));if(je.ok)return _t(yield je.json());throw yield dt("Generate Auth Token",je)})).apply(this,arguments)}function _r(y,{fid:E}){return`${$e(y)}/${E}/authTokens:generate`}function oi(y){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,ve.Z)(function*(y,E=!1){let b;const M=yield kn(y.appConfig,G=>{if(!li(G))throw Q.create("not-registered");const re=G.authToken;if(!E&&Al(re))return G;if(1===re.requestStatus)return b=bu(y,E),G;{if(!navigator.onLine)throw Q.create("app-offline");const ge=As(G);return b=Mi(y,ge),ge}});return b?yield b:M.authToken})).apply(this,arguments)}function bu(y,E){return sn.apply(this,arguments)}function sn(){return(sn=(0,ve.Z)(function*(y,E){let b=yield ai(y.appConfig);for(;1===b.authToken.requestStatus;)yield Ss(100),b=yield ai(y.appConfig);const M=b.authToken;return 0===M.requestStatus?oi(y,E):M})).apply(this,arguments)}function ai(y){return kn(y,E=>{if(!li(E))throw Q.create("not-registered");return function Ai(y){return 1===y.requestStatus&&y.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function Mi(y,E){return mn.apply(this,arguments)}function mn(){return(mn=(0,ve.Z)(function*(y,E){try{const b=yield mr(y,E),M=Object.assign(Object.assign({},E),{authToken:b});return yield gr(y.appConfig,M),b}catch(b){if(!Ee(b)||401!==b.customData.serverCode&&404!==b.customData.serverCode){const M=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield gr(y.appConfig,M)}else yield si(y.appConfig);throw b}})).apply(this,arguments)}function li(y){return void 0!==y&&2===y.registrationStatus}function Al(y){return 2===y.requestStatus&&!function _o(y){const E=Date.now();return E<y.creationTime||y.creationTime+y.expiresIn<E+36e5}(y)}function As(y){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},y),{authToken:E})}function yo(){return(yo=(0,ve.Z)(function*(y){const E=y,{installationEntry:b,registrationPromise:M}=yield kr(E);return M?M.catch(console.error):oi(E).catch(console.error),b.fid})).apply(this,arguments)}function Te(){return(Te=(0,ve.Z)(function*(y,E=!1){const b=y;return yield lt(b),(yield oi(b,E)).token})).apply(this,arguments)}function lt(y){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,ve.Z)(function*(y){const{registrationPromise:E}=yield kr(y);E&&(yield E)})).apply(this,arguments)}function xs(y){return Q.create("missing-app-config-values",{valueName:y})}const Ri="installations",Rs=y=>{const E=y.getProvider("app").getImmediate(),b=function it(y){if(!y||!y.options)throw xs("App Configuration");if(!y.name)throw xs("App Name");const E=["projectId","apiKey","appId"];for(const b of E)if(!y.options[b])throw xs(b);return{appName:y.name,projectId:y.options.projectId,apiKey:y.options.apiKey,appId:y.options.appId}}(E);return{app:E,appConfig:b,heartbeatServiceProvider:(0,J._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},Dn=y=>{const E=y.getProvider("app").getImmediate(),b=(0,J._getProvider)(E,Ri).getImmediate();return{getId:()=>function En(y){return yo.apply(this,arguments)}(b),getToken:B=>function er(y){return Te.apply(this,arguments)}(b,B)}};(function Ps(){(0,J._registerComponent)(new ie.wA(Ri,Rs,"PUBLIC")),(0,J._registerComponent)(new ie.wA("installations-internal",Dn,"PRIVATE"))})(),(0,J.registerVersion)(pe,Pe),(0,J.registerVersion)(pe,Pe,"esm2017");const is="@firebase/remote-config",jt=new V.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gg{constructor(E,b,M,B){this.client=E,this.storage=b,this.storageCache=M,this.logger=B}isCachedDataFresh(E,b){if(!b)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const M=Date.now()-b,B=M<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${M}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${B}.`),B}fetch(E){var b=this;return(0,ve.Z)(function*(){const[M,B]=yield Promise.all([b.storage.getLastSuccessfulFetchTimestampMillis(),b.storage.getLastSuccessfulFetchResponse()]);if(B&&b.isCachedDataFresh(E.cacheMaxAgeMillis,M))return B;E.eTag=B&&B.eTag;const G=yield b.client.fetch(E),re=[b.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===G.status&&re.push(b.storage.setLastSuccessfulFetchResponse(G)),yield Promise.all(re),G})()}}function qg(y=navigator){return y.languages&&y.languages[0]||y.language}class Kg{constructor(E,b,M,B,G,re){this.firebaseInstallations=E,this.sdkVersion=b,this.namespace=M,this.projectId=B,this.apiKey=G,this.appId=re}fetch(E){var b=this;return(0,ve.Z)(function*(){var M,B,G;const[re,ge]=yield Promise.all([b.firebaseInstallations.getId(),b.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${b.projectId}/namespaces/${b.namespace}:fetch?key=${b.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},Ne={sdk_version:b.sdkVersion,app_instance_id:re,app_instance_id_token:ge,app_id:b.appId,language_code:qg()},At={method:"POST",headers:ze,body:JSON.stringify(Ne)},vt=fetch(Me,At),ar=new Promise((gi,$r)=>{E.signal.addEventListener(()=>{const Fa=new Error("The operation was aborted.");Fa.name="AbortError",$r(Fa)})});let Sr;try{yield Promise.race([vt,ar]),Sr=yield vt}catch(gi){let $r="fetch-client-network";throw"AbortError"===(null===(M=gi)||void 0===M?void 0:M.name)&&($r="fetch-timeout"),jt.create($r,{originalErrorMessage:null===(B=gi)||void 0===B?void 0:B.message})}let fs=Sr.status;const Qh=Sr.headers.get("ETag")||void 0;let qi,pi;if(200===Sr.status){let gi;try{gi=yield Sr.json()}catch($r){throw jt.create("fetch-client-parse",{originalErrorMessage:null===(G=$r)||void 0===G?void 0:G.message})}qi=gi.entries,pi=gi.state}if("INSTANCE_STATE_UNSPECIFIED"===pi?fs=500:"NO_CHANGE"===pi?fs=304:("NO_TEMPLATE"===pi||"EMPTY_CONFIG"===pi)&&(qi={}),304!==fs&&200!==fs)throw jt.create("fetch-status",{httpStatus:fs});return{status:fs,eTag:Qh,config:qi}})()}}class Ll{constructor(E,b){this.client=E,this.storage=b}fetch(E){var b=this;return(0,ve.Z)(function*(){const M=(yield b.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return b.attemptFetch(E,M)})()}attemptFetch(E,{throttleEndTimeMillis:b,backoffCount:M}){var B=this;return(0,ve.Z)(function*(){yield function Yg(y,E){return new Promise((b,M)=>{const B=Math.max(E-Date.now(),0),G=setTimeout(b,B);y.addEventListener(()=>{clearTimeout(G),M(jt.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,b);try{const G=yield B.client.fetch(E);return yield B.storage.deleteThrottleMetadata(),G}catch(G){if(!function Su(y){if(!(y instanceof V.ZR&&y.customData))return!1;const E=Number(y.customData.httpStatus);return 429===E||500===E||503===E||504===E}(G))throw G;const re={throttleEndTimeMillis:Date.now()+(0,V.$s)(M),backoffCount:M+1};return yield B.storage.setThrottleMetadata(re),B.attemptFetch(E,re)}})()}}class Zg{constructor(E,b,M,B,G){this.app=E,this._client=b,this._storageCache=M,this._storage=B,this._logger=G,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Lr(y,E){var b;const M=y.target.error||void 0;return jt.create(E,{originalErrorMessage:M&&(null===(b=M)||void 0===b?void 0:b.message)})}const ss="app_namespace_store";class Xg{constructor(E,b,M,B=function Th(){return new Promise((y,E)=>{var b;try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=B=>{E(Lr(B,"storage-open"))},M.onsuccess=B=>{y(B.target.result)},M.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(ss,{keyPath:"compositeKey"})}}catch(M){E(jt.create("storage-open",{originalErrorMessage:null===(b=M)||void 0===b?void 0:b.message}))}})}()){this.appId=E,this.appName=b,this.namespace=M,this.openDbPromise=B}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var b=this;return(0,ve.Z)(function*(){const M=yield b.openDbPromise;return new Promise((B,G)=>{var re;const je=M.transaction([ss],"readonly").objectStore(ss),Me=b.createCompositeKey(E);try{const ze=je.get(Me);ze.onerror=Ne=>{G(Lr(Ne,"storage-get"))},ze.onsuccess=Ne=>{const At=Ne.target.result;B(At?At.value:void 0)}}catch(ze){G(jt.create("storage-get",{originalErrorMessage:null===(re=ze)||void 0===re?void 0:re.message}))}})})()}set(E,b){var M=this;return(0,ve.Z)(function*(){const B=yield M.openDbPromise;return new Promise((G,re)=>{var ge;const Me=B.transaction([ss],"readwrite").objectStore(ss),ze=M.createCompositeKey(E);try{const Ne=Me.put({compositeKey:ze,value:b});Ne.onerror=At=>{re(Lr(At,"storage-set"))},Ne.onsuccess=()=>{G()}}catch(Ne){re(jt.create("storage-set",{originalErrorMessage:null===(ge=Ne)||void 0===ge?void 0:ge.message}))}})})()}delete(E){var b=this;return(0,ve.Z)(function*(){const M=yield b.openDbPromise;return new Promise((B,G)=>{var re;const je=M.transaction([ss],"readwrite").objectStore(ss),Me=b.createCompositeKey(E);try{const ze=je.delete(Me);ze.onerror=Ne=>{G(Lr(Ne,"storage-delete"))},ze.onsuccess=()=>{B()}}catch(ze){G(jt.create("storage-delete",{originalErrorMessage:null===(re=ze)||void 0===re?void 0:re.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class ca{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,ve.Z)(function*(){const b=E.storage.getLastFetchStatus(),M=E.storage.getLastSuccessfulFetchTimestampMillis(),B=E.storage.getActiveConfig(),G=yield b;G&&(E.lastFetchStatus=G);const re=yield M;re&&(E.lastSuccessfulFetchTimestampMillis=re);const ge=yield B;ge&&(E.activeConfig=ge)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function Ih(){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,ve.Z)(function*(){if(!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch(y){return!1}})).apply(this,arguments)}!function Bl(){(0,J._registerComponent)(new ie.wA("remote-config",function y(E,{instanceIdentifier:b}){const M=E.getProvider("app").getImmediate(),B=E.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jt.create("registration-window");if(!(0,V.hl)())throw jt.create("indexed-db-unavailable");const{projectId:G,apiKey:re,appId:ge}=M.options;if(!G)throw jt.create("registration-project-id");if(!re)throw jt.create("registration-api-key");if(!ge)throw jt.create("registration-app-id");const je=new Xg(ge,M.name,b=b||"firebase"),Me=new ca(je),ze=new fe.Yd(is);ze.logLevel=fe.in.ERROR;const Ne=new Kg(B,J.SDK_VERSION,b,G,re,ge),At=new Ll(Ne,je),vt=new Gg(At,je,Me,ze),ar=new Zg(M,vt,Me,je,ze);return function $g(y){const E=(0,V.m9)(y);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(ar),ar},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(is,"0.3.11"),(0,J.registerVersion)(is,"0.3.11","esm2017")}();const Tu="/firebase-messaging-sw.js",em="/firebase-cloud-messaging-push-scope",jl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Iu="google.c.a.c_id",Hl="google.c.a.c_l",Mu="google.c.a.ts",Ul="google.c.a.e";var Pt=(()=>{return(y=Pt||(Pt={})).PUSH_RECEIVED="push-received",y.NOTIFICATION_CLICKED="notification-clicked",Pt;var y})();function Br(y){const E=new Uint8Array(y);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vl(y){const b=(y+"=".repeat((4-y.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),M=atob(b),B=new Uint8Array(M.length);for(let G=0;G<M.length;++G)B[G]=M.charCodeAt(G);return B}const Ft="fcm_token_details_db",ua="fcm_token_object_Store";function da(y){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,ve.Z)(function*(y){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(G=>G.name).includes(Ft))return null;let E=null;return(yield(0,Ie.X3)(Ft,5,{upgrade:(M=(0,ve.Z)(function*(B,G,re,ge){var je;if(G<2||!B.objectStoreNames.contains(ua))return;const Me=ge.objectStore(ua),ze=yield Me.index("fcmSenderId").get(y);if(yield Me.clear(),ze)if(2===G){const Ne=ze;if(!Ne.auth||!Ne.p256dh||!Ne.endpoint)return;E={token:Ne.fcmToken,createTime:null!==(je=Ne.createTime)&&void 0!==je?je:Date.now(),subscriptionOptions:{auth:Ne.auth,p256dh:Ne.p256dh,endpoint:Ne.endpoint,swScope:Ne.swScope,vapidKey:"string"==typeof Ne.vapidKey?Ne.vapidKey:Br(Ne.vapidKey)}}}else if(3===G){const Ne=ze;E={token:Ne.fcmToken,createTime:Ne.createTime,subscriptionOptions:{auth:Br(Ne.auth),p256dh:Br(Ne.p256dh),endpoint:Ne.endpoint,swScope:Ne.swScope,vapidKey:Br(Ne.vapidKey)}}}else if(4===G){const Ne=ze;E={token:Ne.fcmToken,createTime:Ne.createTime,subscriptionOptions:{auth:Br(Ne.auth),p256dh:Br(Ne.p256dh),endpoint:Ne.endpoint,swScope:Ne.swScope,vapidKey:Br(Ne.vapidKey)}}}}),function(G,re,ge,je){return M.apply(this,arguments)})})).close(),yield(0,Ie.Lj)(Ft),yield(0,Ie.Lj)("fcm_vapid_details_db"),yield(0,Ie.Lj)("undefined"),Ah(E)?E:null;var M}),Sn.apply(this,arguments)}function Ah(y){if(!y||!y.subscriptionOptions)return!1;const{subscriptionOptions:E}=y;return"number"==typeof y.createTime&&y.createTime>0&&"string"==typeof y.token&&y.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const on="firebase-messaging-store";let os=null;function Oi(){return os||(os=(0,Ie.X3)("firebase-messaging-database",1,{upgrade:(y,E)=>{0===E&&y.createObjectStore(on)}})),os}function zl(y){return Er.apply(this,arguments)}function Er(){return(Er=(0,ve.Z)(function*(y){const E=fa(y),M=yield(yield Oi()).transaction(on).objectStore(on).get(E);if(M)return M;{const B=yield da(y.appConfig.senderId);if(B)return yield Ni(y,B),B}})).apply(this,arguments)}function Ni(y,E){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,ve.Z)(function*(y,E){const b=fa(y),B=(yield Oi()).transaction(on,"readwrite");return yield B.objectStore(on).put(E,b),yield B.done,E})).apply(this,arguments)}function Xe(y){return ha.apply(this,arguments)}function ha(){return(ha=(0,ve.Z)(function*(y){const E=fa(y),M=(yield Oi()).transaction(on,"readwrite");yield M.objectStore(on).delete(E),yield M.done})).apply(this,arguments)}function fa({appConfig:y}){return y.appId}const _n=new V.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xu(y,E){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,ve.Z)(function*(y,E){var b;const M=yield Fs(y),B=tr(E),G={method:"POST",headers:M,body:JSON.stringify(B)};let re;try{re=yield(yield fetch(Vt(y.appConfig),G)).json()}catch(ge){throw _n.create("token-subscribe-failed",{errorInfo:null===(b=ge)||void 0===b?void 0:b.toString()})}if(re.error)throw _n.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw _n.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function xh(y,E){return oe.apply(this,arguments)}function oe(){return(oe=(0,ve.Z)(function*(y,E){var b;const M=yield Fs(y),B=tr(E.subscriptionOptions),G={method:"PATCH",headers:M,body:JSON.stringify(B)};let re;try{re=yield(yield fetch(`${Vt(y.appConfig)}/${E.token}`,G)).json()}catch(ge){throw _n.create("token-update-failed",{errorInfo:null===(b=ge)||void 0===b?void 0:b.toString()})}if(re.error)throw _n.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw _n.create("token-update-no-token");return re.token})).apply(this,arguments)}function ft(y,E){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,ve.Z)(function*(y,E){var b;const B={method:"DELETE",headers:yield Fs(y)};try{const re=yield(yield fetch(`${Vt(y.appConfig)}/${E}`,B)).json();if(re.error)throw _n.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(G){throw _n.create("token-unsubscribe-failed",{errorInfo:null===(b=G)||void 0===b?void 0:b.toString()})}})).apply(this,arguments)}function Vt({projectId:y}){return`https://fcmregistrations.googleapis.com/v1/projects/${y}/registrations`}function Fs(y){return as.apply(this,arguments)}function as(){return(as=(0,ve.Z)(function*({appConfig:y,installations:E}){const b=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":y.apiKey,"x-goog-firebase-installations-auth":`FIS ${b}`})})).apply(this,arguments)}function tr({p256dh:y,auth:E,endpoint:b,vapidKey:M}){const B={web:{endpoint:b,auth:E,p256dh:y}};return M!==jl&&(B.web.applicationPubKey=M),B}const ql=6048e5;function Kl(y){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,ve.Z)(function*(y){const E=yield Ls(y.swRegistration,y.vapidKey),b={vapidKey:y.vapidKey,swScope:y.swRegistration.scope,endpoint:E.endpoint,auth:Br(E.getKey("auth")),p256dh:Br(E.getKey("p256dh"))},M=yield zl(y.firebaseDependencies);if(M){if(Rh(M.subscriptionOptions,b))return Date.now()>=M.createTime+ql?pa(y,{token:M.token,createTime:Date.now(),subscriptionOptions:b}):M.token;try{yield ft(y.firebaseDependencies,M.token)}catch(B){console.warn(B)}return jr(y.firebaseDependencies,b)}return jr(y.firebaseDependencies,b)})).apply(this,arguments)}function Yl(y){return ks.apply(this,arguments)}function ks(){return(ks=(0,ve.Z)(function*(y){const E=yield zl(y.firebaseDependencies);E&&(yield ft(y.firebaseDependencies,E.token),yield Xe(y.firebaseDependencies));const b=yield y.swRegistration.pushManager.getSubscription();return!b||b.unsubscribe()})).apply(this,arguments)}function pa(y,E){return hn.apply(this,arguments)}function hn(){return(hn=(0,ve.Z)(function*(y,E){try{const b=yield xh(y.firebaseDependencies,E),M=Object.assign(Object.assign({},E),{token:b,createTime:Date.now()});return yield Ni(y.firebaseDependencies,M),b}catch(b){throw yield Yl(y),b}})).apply(this,arguments)}function jr(y,E){return ga.apply(this,arguments)}function ga(){return(ga=(0,ve.Z)(function*(y,E){const M={token:yield xu(y,E),createTime:Date.now(),subscriptionOptions:E};return yield Ni(y,M),M.token})).apply(this,arguments)}function Ls(y,E){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,ve.Z)(function*(y,E){return(yield y.pushManager.getSubscription())||y.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vl(E)})})).apply(this,arguments)}function Rh(y,E){return E.vapidKey===y.vapidKey&&E.endpoint===y.endpoint&&E.auth===y.auth&&E.p256dh===y.p256dh}function Ql(y){const E={from:y.from,collapseKey:y.collapse_key,messageId:y.fcmMessageId};return function Ph(y,E){if(!E.notification)return;y.notification={};const b=E.notification.title;b&&(y.notification.title=b);const M=E.notification.body;M&&(y.notification.body=M);const B=E.notification.image;B&&(y.notification.image=B)}(E,y),function Oh(y,E){!E.data||(y.data=E.data)}(E,y),function Zl(y,E){var b,M,B,G,re;if(!E.fcmOptions&&!(null===(b=E.notification)||void 0===b?void 0:b.click_action))return;y.fcmOptions={};const ge=null!==(B=null===(M=E.fcmOptions)||void 0===M?void 0:M.link)&&void 0!==B?B:null===(G=E.notification)||void 0===G?void 0:G.click_action;ge&&(y.fcmOptions.link=ge);const je=null===(re=E.fcmOptions)||void 0===re?void 0:re.analytics_label;je&&(y.fcmOptions.analyticsLabel=je)}(E,y),E}function ma(y){return"object"==typeof y&&!!y&&Iu in y}function Pu(y,E){const b=[];for(let M=0;M<y.length;M++)b.push(y.charAt(M)),M<E.length&&b.push(E.charAt(M));return b.join("")}function Ou(y){return _n.create("missing-app-config-values",{valueName:y})}Pu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nh{constructor(E,b,M){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const B=function Xl(y){if(!y||!y.options)throw Ou("App Configuration Object");if(!y.name)throw Ou("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:b}=y;for(const M of E)if(!b[M])throw Ou(M);return{appName:y.name,projectId:b.projectId,apiKey:b.apiKey,appId:b.appId,senderId:b.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:B,installations:b,analyticsProvider:M}}_delete(){return Promise.resolve()}}function bo(y){return _a.apply(this,arguments)}function _a(){return(_a=(0,ve.Z)(function*(y){var E;try{y.swRegistration=yield navigator.serviceWorker.register(Tu,{scope:em}),y.swRegistration.update().catch(()=>{})}catch(b){throw _n.create("failed-service-worker-registration",{browserErrorMessage:null===(E=b)||void 0===E?void 0:E.message})}})).apply(this,arguments)}function Nu(y,E){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,ve.Z)(function*(y,E){if(!E&&!y.swRegistration&&(yield bo(y)),E||!y.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw _n.create("invalid-sw-registration");y.swRegistration=E}})).apply(this,arguments)}function Fh(y,E){return ls.apply(this,arguments)}function ls(){return(ls=(0,ve.Z)(function*(y,E){E?y.vapidKey=E:y.vapidKey||(y.vapidKey=jl)})).apply(this,arguments)}function ec(){return(ec=(0,ve.Z)(function*(y,E){if(!navigator)throw _n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _n.create("permission-blocked");return yield Fh(y,null==E?void 0:E.vapidKey),yield Nu(y,null==E?void 0:E.serviceWorkerRegistration),Kl(y)})).apply(this,arguments)}function Tn(y,E,b){return nr.apply(this,arguments)}function nr(){return(nr=(0,ve.Z)(function*(y,E,b){const M=zt(E);(yield y.firebaseDependencies.analyticsProvider.get()).logEvent(M,{message_id:b[Iu],message_name:b[Hl],message_time:b[Mu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zt(y){switch(y){case Pt.NOTIFICATION_CLICKED:return"notification_open";case Pt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Fu(){return(Fu=(0,ve.Z)(function*(y,E){const b=E.data;if(!b.isFirebaseMessaging)return;y.onMessageHandler&&b.messageType===Pt.PUSH_RECEIVED&&("function"==typeof y.onMessageHandler?y.onMessageHandler(Ql(b)):y.onMessageHandler.next(Ql(b)));const M=b.data;ma(M)&&"1"===M[Ul]&&(yield Tn(y,b.messageType,M))})).apply(this,arguments)}const kh="@firebase/messaging",rm=y=>{const E=new Nh(y.getProvider("app").getImmediate(),y.getProvider("installations-internal").getImmediate(),y.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",b=>function nm(y,E){return Fu.apply(this,arguments)}(E,b)),E},Lh=y=>{const E=y.getProvider("messaging").getImmediate();return{getToken:M=>function ui(y,E){return ec.apply(this,arguments)}(E,M)}};function ya(){return Do.apply(this,arguments)}function Do(){return(Do=(0,ve.Z)(function*(){try{yield(0,V.eu)()}catch(y){return!1}return"undefined"!=typeof window&&(0,V.hl)()&&(0,V.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function tc(){(0,J._registerComponent)(new ie.wA("messaging",rm,"PUBLIC")),(0,J._registerComponent)(new ie.wA("messaging-internal",Lh,"PRIVATE")),(0,J.registerVersion)(kh,"0.9.16"),(0,J.registerVersion)(kh,"0.9.16","esm2017")}();const Hs="analytics",Bu="firebase_id",Bn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hr="https://www.googletagmanager.com/gtag/js",Fe=new fe.Yd("@firebase/analytics");function Qt(y){return Promise.all(y.map(E=>E.catch(b=>b)))}function In(y,E){const b=document.createElement("script");b.src=`${Hr}?l=${y}&id=${E}`,b.async=!0,document.head.appendChild(b)}function ju(y,E,b,M,B,G){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,ve.Z)(function*(y,E,b,M,B,G){const re=M[B];try{if(re)yield E[re];else{const je=(yield Qt(b)).find(Me=>Me.measurementId===B);je&&(yield E[je.appId])}}catch(ge){Fe.error(ge)}y("config",B,G)})).apply(this,arguments)}function Bh(y,E,b,M,B){return ki.apply(this,arguments)}function ki(){return(ki=(0,ve.Z)(function*(y,E,b,M,B){try{let G=[];if(B&&B.send_to){let re=B.send_to;Array.isArray(re)||(re=[re]);const ge=yield Qt(b);for(const je of re){const Me=ge.find(Ne=>Ne.measurementId===je),ze=Me&&E[Me.appId];if(!ze){G=[];break}G.push(ze)}}0===G.length&&(G=Object.values(E)),yield Promise.all(G),y("event",M,B||{})}catch(G){Fe.error(G)}})).apply(this,arguments)}function So(){const y=window.document.getElementsByTagName("script");for(const E of Object.values(y))if(E.src&&E.src.includes(Hr))return E;return null}const jn=new V.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Wt=new class Us{constructor(E={},b=1e3){this.throttleMetadata=E,this.intervalMillis=b}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,b){this.throttleMetadata[E]=b}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function oc(y){return new Headers({Accept:"application/json","x-goog-api-key":y})}function Ca(y){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,ve.Z)(function*(y){var E;const{appId:b,apiKey:M}=y,B={method:"GET",headers:oc(M)},G=Bn.replace("{app-id}",b),re=yield fetch(G,B);if(200!==re.status&&304!==re.status){let ge="";try{const je=yield re.json();(null===(E=je.error)||void 0===E?void 0:E.message)&&(ge=je.error.message)}catch(je){}throw jn.create("config-fetch-failed",{httpStatus:re.status,responseMessage:ge})}return re.json()})).apply(this,arguments)}function Hu(y){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,ve.Z)(function*(y,E=Wt,b){const{appId:M,apiKey:B,measurementId:G}=y.options;if(!M)throw jn.create("no-app-id");if(!B){if(G)return{measurementId:G,appId:M};throw jn.create("no-api-key")}const re=E.getThrottleMetadata(M)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ge=new Hh;return setTimeout((0,ve.Z)(function*(){ge.abort()}),void 0!==b?b:6e4),cs({appId:M,apiKey:B,measurementId:G},re,ge,E)})).apply(this,arguments)}function cs(y,E,b){return wa.apply(this,arguments)}function wa(){return(wa=(0,ve.Z)(function*(y,{throttleEndTimeMillis:E,backoffCount:b},M,B=Wt){var G,re;const{appId:ge,measurementId:je}=y;try{yield To(M,E)}catch(Me){if(je)return Fe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${null===(G=Me)||void 0===G?void 0:G.message}]`),{appId:ge,measurementId:je};throw Me}try{const Me=yield Ca(y);return B.deleteThrottleMetadata(ge),Me}catch(Me){const ze=Me;if(!ba(ze)){if(B.deleteThrottleMetadata(ge),je)return Fe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${null==ze?void 0:ze.message}]`),{appId:ge,measurementId:je};throw Me}const Ne=503===Number(null===(re=null==ze?void 0:ze.customData)||void 0===re?void 0:re.httpStatus)?(0,V.$s)(b,B.intervalMillis,30):(0,V.$s)(b,B.intervalMillis),At={throttleEndTimeMillis:Date.now()+Ne,backoffCount:b+1};return B.setThrottleMetadata(ge,At),Fe.debug(`Calling attemptFetch again in ${Ne} millis`),cs(y,At,M,B)}})).apply(this,arguments)}function To(y,E){return new Promise((b,M)=>{const B=Math.max(E-Date.now(),0),G=setTimeout(b,B);y.addEventListener(()=>{clearTimeout(G),M(jn.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function ba(y){if(!(y instanceof V.ZR&&y.customData))return!1;const E=Number(y.customData.httpStatus);return 429===E||500===E||503===E||504===E}class Hh{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}let Li,Hi;function Da(){return(Da=(0,ve.Z)(function*(y,E,b,M,B){if(B&&B.global)y("event",b,M);else{const G=yield E;y("event",b,Object.assign(Object.assign({},M),{send_to:G}))}})).apply(this,arguments)}function Ta(y){Hi=y}function fn(y){Li=y}function Hn(){return pn.apply(this,arguments)}function pn(){return(pn=(0,ve.Z)(function*(){var y;if(!(0,V.hl)())return Fe.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,V.eu)()}catch(E){return Fe.warn(jn.create("indexeddb-unavailable",{errorInfo:null===(y=E)||void 0===y?void 0:y.toString()}).message),!1}return!0})).apply(this,arguments)}function Ht(){return(Ht=(0,ve.Z)(function*(y,E,b,M,B,G,re){var ge;const je=Hu(y);je.then(vt=>{b[vt.measurementId]=vt.appId,y.options.measurementId&&vt.measurementId!==y.options.measurementId&&Fe.warn(`The measurement ID in the local Firebase config (${y.options.measurementId}) does not match the measurement ID fetched from the server (${vt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vt=>Fe.error(vt)),E.push(je);const Me=Hn().then(vt=>{if(vt)return M.getId()}),[ze,Ne]=yield Promise.all([je,Me]);So()||In(G,ze.measurementId),Hi&&(B("consent","default",Hi),Ta(void 0)),B("js",new Date);const At=null!==(ge=null==re?void 0:re.config)&&void 0!==ge?ge:{};return At.origin="firebase",At.update=!0,null!=Ne&&(At[Bu]=Ne),B("config",ze.measurementId,At),Li&&(B("set",Li),fn(void 0)),ze.measurementId})).apply(this,arguments)}class Uu{constructor(E){this.app=E}_delete(){return delete Ui[this.app.options.appId],Promise.resolve()}}let Ui={},Vu=[];const Uh={};let $u,Zt,Vi="dataLayer",Ia=!1;function Io(y,E,b){!function Ma(){const y=[];if((0,V.ru)()&&y.push("This is a browser extension environment."),(0,V.zI)()||y.push("Cookies are not available."),y.length>0){const E=y.map((M,B)=>`(${B+1}) ${M}`).join(" "),b=jn.create("invalid-analytics-context",{errorInfo:E});Fe.warn(b.message)}}();const M=y.options.appId;if(!M)throw jn.create("no-app-id");if(!y.options.apiKey){if(!y.options.measurementId)throw jn.create("no-api-key");Fe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${y.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ui[M])throw jn.create("already-exists",{id:M});if(!Ia){!function wr(y){let E=[];Array.isArray(window[y])?E=window[y]:window[y]=E}(Vi);const{wrappedGtag:G,gtagCore:re}=function Ea(y,E,b,M,B){let G=function(...re){window[M].push(arguments)};return window[B]&&"function"==typeof window[B]&&(G=window[B]),window[B]=function va(y,E,b,M){function G(){return(G=(0,ve.Z)(function*(re,ge,je){try{"event"===re?yield Bh(y,E,b,ge,je):"config"===re?yield ju(y,E,b,M,ge,je):"consent"===re?y("consent","update",je):y("set",ge)}catch(Me){Fe.error(Me)}})).apply(this,arguments)}return function B(re,ge,je){return G.apply(this,arguments)}}(G,y,E,b),{gtagCore:G,wrappedGtag:window[B]}}(Ui,Vu,Uh,Vi,"gtag");Zt=G,$u=re,Ia=!0}return Ui[M]=function $s(y,E,b,M,B,G,re){return Ht.apply(this,arguments)}(y,Vu,Uh,E,$u,Vi,b),new Uu(y)}function ir(){return sr.apply(this,arguments)}function sr(){return(sr=(0,ve.Z)(function*(){if((0,V.ru)()||!(0,V.zI)()||!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch(y){return!1}})).apply(this,arguments)}const zu="@firebase/analytics";!function Yn(){(0,J._registerComponent)(new ie.wA(Hs,(E,{options:b})=>Io(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),b),"PUBLIC")),(0,J._registerComponent)(new ie.wA("analytics-internal",function y(E){try{const b=E.getProvider(Hs).getImmediate();return{logEvent:(M,B,G)=>function Wh(y,E,b,M){y=(0,V.m9)(y),function br(y,E,b,M,B){return Da.apply(this,arguments)}(Zt,Ui[y.app.options.appId],E,b,M).catch(B=>Fe.error(B))}(b,M,B,G)}}catch(b){throw jn.create("interop-component-reg-failed",{reason:b})}},"PRIVATE")),(0,J.registerVersion)(zu,"0.8.0"),(0,J.registerVersion)(zu,"0.8.0","esm2017")}();const di=new g.GfV("7.4.1"),hi="__angularfire_symbol__analyticsIsSupportedValue",xa="__angularfire_symbol__analyticsIsSupported",Ra="__angularfire_symbol__remoteConfigIsSupportedValue",lc="__angularfire_symbol__remoteConfigIsSupported",cc="__angularfire_symbol__messagingIsSupportedValue",or="__angularfire_symbol__messagingIsSupported";globalThis[xa]||(globalThis[xa]=ir().then(y=>globalThis[hi]=y).catch(()=>globalThis[hi]=!1)),globalThis[or]||(globalThis[or]=ya().then(y=>globalThis[cc]=y).catch(()=>globalThis[cc]=!1)),globalThis[lc]||(globalThis[lc]=Ih().then(y=>globalThis[Ra]=y).catch(()=>globalThis[Ra]=!1)),Ue=R.hmd(Ue);class uc{constructor(E){return E}}const dc=new g.OlP("angularfire2.app.options"),Yu=new g.OlP("angularfire2.app.name"),hc={provide:uc,useFactory:function hs(y,E,b){const B="object"==typeof b&&b||{};B.name=B.name||"string"==typeof b&&b||"[DEFAULT]";const re=Oe.apps.filter(ge=>ge&&ge.name===B.name)[0]||E.runOutsideAngular(()=>Oe.initializeApp(y,B));try{JSON.stringify(y)!==JSON.stringify(re.options)&&((y,...E)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[y](...E)})("error",`${re.name} Firebase App already initialized with different options${Ue.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ge){}return new uc(re)},deps:[dc,g.R0b,[new g.FiY,Yu]]};let Gi=(()=>{class y{constructor(b){Oe.registerVersion("angularfire",di.full,"core"),Oe.registerVersion("angularfire",di.full,"app-compat"),Oe.registerVersion("angular",g.q4F.full,b.toString())}static initializeApp(b,M){return{ngModule:y,providers:[{provide:dc,useValue:b},{provide:Yu,useValue:M}]}}}return y.\u0275fac=function(b){return new(b||y)(g.LFG(g.Lbi))},y.\u0275mod=g.oAB({type:y}),y.\u0275inj=g.cJS({providers:[hc]}),y})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},90:(Ue,le,R)=>{R.d(le,{BH:()=>xe,LL:()=>Q,ZR:()=>te,gQ:()=>Nr,zI:()=>U,hu:()=>V,g5:()=>ie,US:()=>me,h$:()=>ce,L:()=>he,$s:()=>vn,r3:()=>On,ne:()=>We,p$:()=>j,vZ:()=>Ss,ZB:()=>H,gK:()=>Yt,m9:()=>kr,GJ:()=>Ct,jU:()=>Re,ru:()=>ot,xb:()=>cn,hl:()=>ee,uI:()=>Oe,Yr:()=>at,b$:()=>ve,w9:()=>$t,cI:()=>_t,UI:()=>Pr,xO:()=>Or,DV:()=>Nn,ug:()=>Be,dS:()=>wt,Pz:()=>dt,eu:()=>de});const V=function(N,L){if(!N)throw ie(L)},ie=function(N){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+N)},J=function(N){const L=[];let x=0;for(let F=0;F<N.length;F++){let k=N.charCodeAt(F);k<128?L[x++]=k:k<2048?(L[x++]=k>>6|192,L[x++]=63&k|128):55296==(64512&k)&&F+1<N.length&&56320==(64512&N.charCodeAt(F+1))?(k=65536+((1023&k)<<10)+(1023&N.charCodeAt(++F)),L[x++]=k>>18|240,L[x++]=k>>12&63|128,L[x++]=k>>6&63|128,L[x++]=63&k|128):(L[x++]=k>>12|224,L[x++]=k>>6&63|128,L[x++]=63&k|128)}return L},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(N,L){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let k=0;k<N.length;k+=3){const ae=N[k],Se=k+1<N.length,Qe=Se?N[k+1]:0,St=k+2<N.length,Rt=St?N[k+2]:0;let _r=(15&Qe)<<2|Rt>>6,oi=63&Rt;St||(oi=64,Se||(_r=64)),F.push(x[ae>>2],x[(3&ae)<<4|Qe>>4],x[_r],x[oi])}return F.join("")},encodeString(N,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(N):this.encodeByteArray(J(N),L)},decodeString(N,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(N):function(N){const L=[];let x=0,F=0;for(;x<N.length;){const k=N[x++];if(k<128)L[F++]=String.fromCharCode(k);else if(k>191&&k<224){const ae=N[x++];L[F++]=String.fromCharCode((31&k)<<6|63&ae)}else if(k>239&&k<365){const St=((7&k)<<18|(63&N[x++])<<12|(63&N[x++])<<6|63&N[x++])-65536;L[F++]=String.fromCharCode(55296+(St>>10)),L[F++]=String.fromCharCode(56320+(1023&St))}else{const ae=N[x++],Se=N[x++];L[F++]=String.fromCharCode((15&k)<<12|(63&ae)<<6|63&Se)}}return L.join("")}(this.decodeStringToByteArray(N,L))},decodeStringToByteArray(N,L){this.init_();const x=L?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let k=0;k<N.length;){const ae=x[N.charAt(k++)],Qe=k<N.length?x[N.charAt(k)]:0;++k;const Rt=k<N.length?x[N.charAt(k)]:64;++k;const gt=k<N.length?x[N.charAt(k)]:64;if(++k,null==ae||null==Qe||null==Rt||null==gt)throw Error();F.push(ae<<2|Qe>>4),64!==Rt&&(F.push(Qe<<4&240|Rt>>2),64!==gt&&F.push(Rt<<6&192|gt))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}},ce=function(N){const L=J(N);return me.encodeByteArray(L,!0)},he=function(N){return ce(N).replace(/\./g,"")},we=function(N){try{return me.decodeString(N,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function j(N){return H(void 0,N)}function H(N,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===N&&(N={});break;case Array:N=[];break;default:return L}for(const x in L)!L.hasOwnProperty(x)||!Y(x)||(N[x]=H(N[x],L[x]));return N}function Y(N){return"__proto__"!==N}class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,x)=>{this.resolve=L,this.reject=x})}wrapCallback(L){return(x,F)=>{x?this.reject(x):this.resolve(F),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(x):L(x,F))}}}function Oe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(function be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())}function Re(){return"object"==typeof self&&self.self===self}function ot(){const N="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof N&&void 0!==N.id}function ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function at(){return!1}function ee(){return"object"==typeof indexedDB}function de(){return new Promise((N,L)=>{try{let x=!0;const F="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(F);k.onsuccess=()=>{k.result.close(),x||self.indexedDB.deleteDatabase(F),N(!0)},k.onupgradeneeded=()=>{x=!1},k.onerror=()=>{var ae;L((null===(ae=k.error)||void 0===ae?void 0:ae.message)||"")}}catch(x){L(x)}})}function U(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class te extends Error{constructor(L,x,F){super(x),this.code=L,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(L,x,F){this.service=L,this.serviceName=x,this.errors=F}create(L,...x){const F=x[0]||{},k=`${this.service}/${L}`,ae=this.errors[L],Se=ae?function Ee(N,L){return N.replace($e,(x,F)=>{const k=L[F];return null!=k?String(k):`<${F}?>`})}(ae,F):"Error";return new te(k,`${this.serviceName}: ${Se} (${k}).`,F)}}const $e=/\{\$([^}]+)}/g;function _t(N){return JSON.parse(N)}function dt(N){return JSON.stringify(N)}const Ae=function(N){let L={},x={},F={},k="";try{const ae=N.split(".");L=_t(we(ae[0])||""),x=_t(we(ae[1])||""),k=ae[2],F=x.d||{},delete x.d}catch(ae){}return{header:L,claims:x,data:F,signature:k}},$t=function(N){const x=Ae(N).claims;return!!x&&"object"==typeof x&&x.hasOwnProperty("iat")},Ct=function(N){const L=Ae(N).claims;return"object"==typeof L&&!0===L.admin};function On(N,L){return Object.prototype.hasOwnProperty.call(N,L)}function Nn(N,L){if(Object.prototype.hasOwnProperty.call(N,L))return N[L]}function cn(N){for(const L in N)if(Object.prototype.hasOwnProperty.call(N,L))return!1;return!0}function Pr(N,L,x){const F={};for(const k in N)Object.prototype.hasOwnProperty.call(N,k)&&(F[k]=L.call(x,N[k],k,N));return F}function Ss(N,L){if(N===L)return!0;const x=Object.keys(N),F=Object.keys(L);for(const k of x){if(!F.includes(k))return!1;const ae=N[k],Se=L[k];if(Jn(ae)&&Jn(Se)){if(!Ss(ae,Se))return!1}else if(ae!==Se)return!1}for(const k of F)if(!x.includes(k))return!1;return!0}function Jn(N){return null!==N&&"object"==typeof N}function Or(N){const L=[];for(const[x,F]of Object.entries(N))Array.isArray(F)?F.forEach(k=>{L.push(encodeURIComponent(x)+"="+encodeURIComponent(k))}):L.push(encodeURIComponent(x)+"="+encodeURIComponent(F));return L.length?"&"+L.join("&"):""}class Nr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(L,x){x||(x=0);const F=this.W_;if("string"==typeof L)for(let gt=0;gt<16;gt++)F[gt]=L.charCodeAt(x)<<24|L.charCodeAt(x+1)<<16|L.charCodeAt(x+2)<<8|L.charCodeAt(x+3),x+=4;else for(let gt=0;gt<16;gt++)F[gt]=L[x]<<24|L[x+1]<<16|L[x+2]<<8|L[x+3],x+=4;for(let gt=16;gt<80;gt++){const _r=F[gt-3]^F[gt-8]^F[gt-14]^F[gt-16];F[gt]=4294967295&(_r<<1|_r>>>31)}let Rt,mr,k=this.chain_[0],ae=this.chain_[1],Se=this.chain_[2],Qe=this.chain_[3],St=this.chain_[4];for(let gt=0;gt<80;gt++){gt<40?gt<20?(Rt=Qe^ae&(Se^Qe),mr=1518500249):(Rt=ae^Se^Qe,mr=1859775393):gt<60?(Rt=ae&Se|Qe&(ae|Se),mr=2400959708):(Rt=ae^Se^Qe,mr=3395469782);const _r=(k<<5|k>>>27)+Rt+St+mr+F[gt]&4294967295;St=Qe,Qe=Se,Se=4294967295&(ae<<30|ae>>>2),ae=k,k=_r}this.chain_[0]=this.chain_[0]+k&4294967295,this.chain_[1]=this.chain_[1]+ae&4294967295,this.chain_[2]=this.chain_[2]+Se&4294967295,this.chain_[3]=this.chain_[3]+Qe&4294967295,this.chain_[4]=this.chain_[4]+St&4294967295}update(L,x){if(null==L)return;void 0===x&&(x=L.length);const F=x-this.blockSize;let k=0;const ae=this.buf_;let Se=this.inbuf_;for(;k<x;){if(0===Se)for(;k<=F;)this.compress_(L,k),k+=this.blockSize;if("string"==typeof L){for(;k<x;)if(ae[Se]=L.charCodeAt(k),++Se,++k,Se===this.blockSize){this.compress_(ae),Se=0;break}}else for(;k<x;)if(ae[Se]=L[k],++Se,++k,Se===this.blockSize){this.compress_(ae),Se=0;break}}this.inbuf_=Se,this.total_+=x}digest(){const L=[];let x=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let k=this.blockSize-1;k>=56;k--)this.buf_[k]=255&x,x/=256;this.compress_(this.buf_);let F=0;for(let k=0;k<5;k++)for(let ae=24;ae>=0;ae-=8)L[F]=this.chain_[k]>>ae&255,++F;return L}}function We(N,L){const x=new ni(N,L);return x.subscribe.bind(x)}class ni{constructor(L,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{L(this)}).catch(F=>{this.error(F)})}next(L){this.forEachObserver(x=>{x.next(L)})}error(L){this.forEachObserver(x=>{x.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,x,F){let k;if(void 0===L&&void 0===x&&void 0===F)throw new Error("Missing Observer.");k=function Fn(N,L){if("object"!=typeof N||null===N)return!1;for(const x of L)if(x in N&&"function"==typeof N[x])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:x,complete:F},void 0===k.next&&(k.next=ri),void 0===k.error&&(k.error=ri),void 0===k.complete&&(k.complete=ri);const ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch(Se){}}),this.observers.push(k),ae}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,L)}sendOne(L,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{x(this.observers[L])}catch(F){"undefined"!=typeof console&&console.error&&console.error(F)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ri(){}function Yt(N,L){return`${N} failed: ${L} argument `}const wt=function(N){const L=[];let x=0;for(let F=0;F<N.length;F++){let k=N.charCodeAt(F);if(k>=55296&&k<=56319){const ae=k-55296;F++,V(F<N.length,"Surrogate pair missing trail surrogate."),k=65536+(ae<<10)+(N.charCodeAt(F)-56320)}k<128?L[x++]=k:k<2048?(L[x++]=k>>6|192,L[x++]=63&k|128):k<65536?(L[x++]=k>>12|224,L[x++]=k>>6&63|128,L[x++]=63&k|128):(L[x++]=k>>18|240,L[x++]=k>>12&63|128,L[x++]=k>>6&63|128,L[x++]=63&k|128)}return L},Be=function(N){let L=0;for(let x=0;x<N.length;x++){const F=N.charCodeAt(x);F<128?L++:F<2048?L+=2:F>=55296&&F<=56319?(L+=4,x++):L+=3}return L};function vn(N,L=1e3,x=2){const F=L*Math.pow(x,N),k=Math.round(.5*F*(Math.random()-.5)*2);return Math.min(144e5,F+k)}function kr(N){return N&&N._delegate?N._delegate:N}},486:(Ue,le,R)=>{var g=R(0);let V=null;function ie(){return V}const ce=new g.OlP("DocumentToken");let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return function we(){return(0,g.LFG)(H)}()},providedIn:"platform"}),n})();const j=new g.OlP("Location Initialized");let H=(()=>{class n extends he{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(e){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=ie().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){Y()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){Y()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function xe(){return new H((0,g.LFG)(ce))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function _e(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function be(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Oe(n){return n&&"?"!==n[0]?"?"+n:n}let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return function Re(n){const t=(0,g.LFG)(ce).location;return new ve((0,g.LFG)(he),t&&t.origin||"")}()},providedIn:"root"}),n})();const ot=new g.OlP("appBaseHref");let ve=(()=>{class n extends ue{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _e(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Oe(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,c){const d=this.prepareExternalUrl(a+Oe(c));this._platformLocation.pushState(e,r,d)}replaceState(e,r,a,c){const d=this.prepareExternalUrl(a+Oe(c));this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(he),g.LFG(ot,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends ue{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=_e(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,c){let d=this.prepareExternalUrl(a+Oe(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,r,d)}replaceState(e,r,a,c){let d=this.prepareExternalUrl(a+Oe(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(he),g.LFG(ot,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),pe=(()=>{class n{constructor(e,r){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=be(ke(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Oe(r))}normalize(e){return n.stripTrailingSlash(function at(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ke(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Oe(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Oe(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.normalizeQueryParams=Oe,n.joinWithSlash=_e,n.stripTrailingSlash=be,n.\u0275fac=function(e){return new(e||n)(g.LFG(ue),g.LFG(he))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function Pe(){return new pe((0,g.LFG)(ue),(0,g.LFG)(he))}()},providedIn:"root"}),n})();function ke(n){return n.replace(/\/index.html$/,"")}let Ri=(()=>{class n{constructor(e,r,a,c){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=a,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Rs{constructor(t,e,r,a){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dn=(()=>{class n{constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((a,c,d)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new Rs(a.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===c?void 0:c);else if(null!==c){const f=r.get(c);r.move(f,d),Ps(f,a)}});for(let a=0,c=r.length;a<c;a++){const f=r.get(a).context;f.index=a,f.count=c,f.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{Ps(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ps(n,t){n.context.$implicit=t.item}let Gn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Nt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Rl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Rl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.s_b),g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Nt{constructor(){this.$implicit=null,this.ngIf=null}}function Rl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,g.AaK)(t)}'.`)}let ca=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();const Bl="browser";let Iu=(()=>{class n{}return n.\u0275prov=(0,g.Yz7)({token:n,providedIn:"root",factory:()=>new Hl((0,g.LFG)(ce),window)}),n})();class Hl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ul(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const d=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(d)return d}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Mu(this.window.history)||Mu(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Mu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Vl extends class Br extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){V||(V=n)}(new Vl)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Mh(){return Ft=Ft||document.querySelector("base"),Ft?Ft.getAttribute("href"):null}();return null==e?null:function da(n){ua=ua||document.createElement("a"),ua.setAttribute("href",n);const t=ua.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ft=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function xs(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let ua,Ft=null;const Sn=new g.OlP("TRANSITION_ID"),$l=[{provide:g.ip1,useFactory:function Ah(n,t,e){return()=>{e.get(g.CZH).donePromise.then(()=>{const r=ie(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)r.remove(a[c])})}},deps:[Sn,ce,g.zs3],multi:!0}];class Pi{static init(){(0,g.VLi)(new Pi)}addToWindow(t){g.dqk.getAngularTestability=(r,a=!0)=>{const c=t.findTestabilityInTree(r,a);if(null==c)throw new Error("Could not find testability for element.");return c},g.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const a=g.dqk.getAllAngularTestabilities();let c=a.length,d=!1;const f=function(_){d=d||_,c--,0==c&&r(d)};a.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:r?ie().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let on=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const os=new g.OlP("EventManagerPlugins");let Oi=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let c=0;c<a.length;c++){const d=a[c];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(os),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class zl{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=ie().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let Er=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Ni=(()=>{class n extends Er{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(c=>{const d=this._doc.createElement("style");d.textContent=c,a.push(r.appendChild(d))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Ns),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ns))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Ns(n){ie().remove(n)}const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ha=/%COMP%/g;function oe(n,t,e){for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?oe(n,a,e):(a=a.replace(ha,n),e.push(a))}return e}function ft(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Vt=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Fs(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case g.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new ql(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case g.ifc.ShadowDom:return new Kl(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=oe(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Oi),g.LFG(Ni),g.LFG(g.AFp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Fs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Xe[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const c=Xe[a];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=Xe[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(g.JOm.DashCase|g.JOm.Important)?t.style.setProperty(e,r,a&g.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&g.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ft(r)):this.eventManager.addEventListener(t,e,ft(r))}}class ql extends Fs{constructor(t,e,r,a){super(t),this.component=r;const c=oe(a+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr=function Wl(n){return"_ngcontent-%COMP%".replace(ha,n)}(a+"-"+r.id),this.hostAttr=function xh(n){return"_nghost-%COMP%".replace(ha,n)}(a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Kl extends Fs{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=oe(a.id,a.styles,[]);for(let d=0;d<c.length;d++){const f=document.createElement("style");f.textContent=c[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ru=(()=>{class n extends zl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Yl=["alt","control","meta","shift"],pa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ga=(()=>{class n extends zl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ie().onAndCancel(e,c.domEventName,d))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(r.pop());let d="";if(Yl.forEach(_=>{const C=r.indexOf(_);C>-1&&(r.splice(C,1),d+=_+".")}),d+=c,0!=r.length||0===c.length)return null;const f={};return f.domEventName=a,f.fullKey=d,f}static getEventFullKey(e){let r="",a=function Ls(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&hn.hasOwnProperty(t)&&(t=hn[t]))}return pa[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Yl.forEach(c=>{c!=a&&jr[c](e)&&(r+=c+".")}),r+=a,r}static eventCallback(e,r,a){return c=>{n.getEventFullKey(c)===e&&a.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Oh=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:Bl},{provide:g.g9A,useValue:function Cr(){Vl.makeCurrent(),Pi.init()},multi:!0},{provide:ce,useFactory:function Ql(){return(0,g.RDi)(document),document},deps:[]}]),Zl=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Rh(){return new g.qLn},deps:[]},{provide:os,useClass:Ru,multi:!0,deps:[ce,g.R0b,g.Lbi]},{provide:os,useClass:ga,multi:!0,deps:[ce]},{provide:Vt,useClass:Vt,deps:[Oi,Ni,g.AFp]},{provide:g.FYo,useExisting:Vt},{provide:Er,useExisting:Ni},{provide:Ni,useClass:Ni,deps:[ce]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:Oi,useClass:Oi,deps:[os,g.R0b]},{provide:class Pt{},useClass:on,deps:[]}];let ma=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:g.AFp,useValue:e.appId},{provide:Sn,useExisting:g.AFp},$l]}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(n,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:Zl,imports:[ca,g.hGG]}),n})();"undefined"!=typeof window&&window;let js=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):g.LFG(Bu),r},providedIn:"root"}),n})(),Bu=(()=>{class n extends js{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case g.q3G.NONE:return r;case g.q3G.HTML:return(0,g.qzn)(r,"HTML")?(0,g.z3N)(r):(0,g.EiD)(this._doc,String(r)).toString();case g.q3G.STYLE:return(0,g.qzn)(r,"Style")?(0,g.z3N)(r):r;case g.q3G.SCRIPT:if((0,g.qzn)(r,"Script"))return(0,g.z3N)(r);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.yhl)(r),(0,g.qzn)(r,"URL")?(0,g.z3N)(r):(0,g.mCW)(String(r));case g.q3G.RESOURCE_URL:if((0,g.qzn)(r,"ResourceURL"))return(0,g.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,g.JVY)(e)}bypassSecurityTrustStyle(e){return(0,g.L6k)(e)}bypassSecurityTrustScript(e){return(0,g.eBb)(e)}bypassSecurityTrustUrl(e){return(0,g.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,g.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Hs(n){return new Bu(n.get(ce))}(g.LFG(g.zs3)),r},providedIn:"root"}),n})();var om=R(773),Bn=R(76),Hr=R(269);function Fe(...n){const t=(0,Hr.yG)(n);return(0,Bn.D)(n,t)}var Qt=R(579);class In extends Qt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}var wr=R(306);const{isArray:ju}=Array,{getPrototypeOf:Fi,prototype:Bh,keys:ki}=Object;function va(n){if(1===n.length){const t=n[0];if(ju(t))return{args:t,keys:null};if(function Ea(n){return n&&"object"==typeof n&&Fi(n)===Bh}(t)){const e=ki(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var So=R(671),ut=R(4);const{isArray:jn}=Array;function sc(n){return(0,ut.U)(t=>function jh(n,t){return jn(t)?n(...t):n(t)}(n,t))}function Us(n,t){return n.reduce((e,r,a)=>(e[r]=t[a],e),{})}var Wt=R(403),oc=R(672);function Hu(n,t,e){n?(0,oc.f)(e,n,t):t()}var Kn=R(576);function cs(n,t){const e=(0,Kn.m)(n)?n:()=>n,r=a=>a.error(e());return new wr.y(t?a=>t.schedule(r,0,a):r)}const To=(0,R(888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ba=R(189);function Li(...n){return function Hh(){return(0,ba.J)(1)}()((0,Bn.D)(n,(0,Hr.yG)(n)))}var br=R(421);function Da(n){return new wr.y(t=>{(0,br.Xf)(n()).subscribe(t)})}var Bi=R(515),ji=R(727),Gt=R(482);function Sa(){return(0,Gt.e)((n,t)=>{let e=null;n._refCount++;const r=(0,Wt.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,c=e;e=null,a&&(!c||a===c)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class ac extends wr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Gt.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ji.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Wt.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ji.w0.EMPTY)}return t}refCount(){return Sa()(this)}}function Dr(n,t){return(0,Gt.e)((e,r)=>{let a=null,c=0,d=!1;const f=()=>d&&!a&&r.complete();e.subscribe((0,Wt.x)(r,_=>{null==a||a.unsubscribe();let C=0;const S=c++;(0,br.Xf)(n(_,S)).subscribe(a=(0,Wt.x)(r,T=>r.next(t?t(_,T,S,C++):T),()=>{a=null,f()}))},()=>{d=!0,f()}))})}function rr(n){return n<=0?()=>Bi.E:(0,Gt.e)((t,e)=>{let r=0;t.subscribe((0,Wt.x)(e,a=>{++r<=n&&(e.next(a),n<=r&&e.complete())}))})}function Ur(...n){const t=(0,Hr.yG)(n);return(0,Gt.e)((e,r)=>{(t?Li(n,e,t):Li(n,e)).subscribe(r)})}function Hi(n,t,e,r,a){return(c,d)=>{let f=e,_=t,C=0;c.subscribe((0,Wt.x)(d,S=>{const T=C++;_=f?n(_,S,T):(f=!0,S),r&&d.next(_)},a&&(()=>{f&&d.next(_),d.complete()})))}}function Ta(n,t){return(0,Gt.e)(Hi(n,t,arguments.length>=2,!0))}function fn(n,t){return(0,Gt.e)((e,r)=>{let a=0;e.subscribe((0,Wt.x)(r,c=>n.call(t,c,a++)&&r.next(c)))})}function Hn(n){return(0,Gt.e)((t,e)=>{let c,r=null,a=!1;r=t.subscribe((0,Wt.x)(e,void 0,void 0,d=>{c=(0,br.Xf)(n(d,Hn(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):a=!0})),a&&(r.unsubscribe(),r=null,c.subscribe(e))})}var pn=R(577);function $s(n,t){return(0,Kn.m)(t)?(0,pn.z)(n,t,1):(0,pn.z)(n,1)}function Ht(n){return n<=0?()=>Bi.E:(0,Gt.e)((t,e)=>{let r=[];t.subscribe((0,Wt.x)(e,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)e.next(a);e.complete()},void 0,()=>{r=null}))})}function Uu(n=Ui){return(0,Gt.e)((t,e)=>{let r=!1;t.subscribe((0,Wt.x)(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(n())))})}function Ui(){return new To}function Vu(n){return(0,Gt.e)((t,e)=>{let r=!1;t.subscribe((0,Wt.x)(e,a=>{r=!0,e.next(a)},()=>{r||e.next(n),e.complete()}))})}function Vi(n,t){const e=arguments.length>=2;return r=>r.pipe(n?fn((a,c)=>n(a,c,r)):So.y,rr(1),e?Vu(t):Uu(()=>new To))}function Cn(n,t,e){const r=(0,Kn.m)(n)||t||e?{next:n,error:t,complete:e}:n;return r?(0,Gt.e)((a,c)=>{var d;null===(d=r.subscribe)||void 0===d||d.call(r);let f=!0;a.subscribe((0,Wt.x)(c,_=>{var C;null===(C=r.next)||void 0===C||C.call(r,_),c.next(_)},()=>{var _;f=!1,null===(_=r.complete)||void 0===_||_.call(r),c.complete()},_=>{var C;f=!1,null===(C=r.error)||void 0===C||C.call(r,_),c.error(_)},()=>{var _,C;f&&(null===(_=r.unsubscribe)||void 0===_||_.call(r)),null===(C=r.finalize)||void 0===C||C.call(r)}))}):So.y}function $u(n){return(0,Gt.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Zt{constructor(t,e){this.id=t,this.url=e}}class Ia extends Zt{constructor(t,e,r="imperative",a=null){super(t,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qt extends Zt{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ma extends Zt{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Io extends Zt{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xv extends Zt{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vh extends Zt{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir extends Zt{constructor(t,e,r,a,c){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sr extends Zt{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $h extends Zt{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aa{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mo{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class am{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jv{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zu{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const st="primary";class Yn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function di(n){return new Yn(n)}const hi="ngNavigationCancelingError";function xa(n){const t=Error("NavigationCancelingError: "+n);return t[hi]=!0,t}function lc(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let c=0;c<r.length;c++){const d=r[c],f=n[c];if(d.startsWith(":"))a[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function or(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!Pa(n[a],t[a]))return!1;return!0}function Pa(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,c)=>r[c]===a)}return n===t}function Gh(n){return Array.prototype.concat.apply([],n)}function Wu(n){return n.length>0?n[n.length-1]:null}function an(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function $i(n){return(0,g.CqO)(n)?n:(0,g.QGY)(n)?(0,Bn.D)(Promise.resolve(n)):Fe(n)}const Gu={exact:function qu(n,t,e){if(!Wi(n.segments,t.segments)||!Ro(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!qu(n.children[r],t.children[r],e))return!1;return!0},subset:Yh},Ao={exact:function us(n,t){return or(n,t)},subset:function zi(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Pa(n[e],t[e]))},ignored:()=>!0};function Kh(n,t,e){return Gu[e.paths](n.root,t.root,e.matrixParams)&&Ao[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Yh(n,t,e){return xo(n,t,t.segments,e)}function xo(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Wi(a,e)||t.hasChildren()||!Ro(a,e,r))}if(n.segments.length===e.length){if(!Wi(n.segments,e)||!Ro(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!Yh(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Wi(n.segments,a)&&Ro(n.segments,a,r)&&n.children[st])&&xo(n.children[st],t,c,r)}}function Ro(n,t,e){return t.every((r,a)=>Ao[e](n[a].parameters,r.parameters))}class ds{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=di(this.queryParams)),this._queryParamMap}toString(){return Yu.serialize(this)}}class Ge{constructor(t,e){this.segments=t,this.children=e,this.parent=null,an(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hs(this)}}class Po{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=di(this.parameters)),this._parameterMap}toString(){return y(this)}}function Wi(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class uc{}class dc{parse(t){const e=new Me(t);return new ds(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${fi(t.root,!0)}`,r=function b(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${Gi(e)}=${Gi(a)}`).join("&"):`${Gi(e)}=${Gi(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function lm(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Yu=new dc;function hs(n){return n.segments.map(t=>y(t)).join("/")}function fi(n,t){if(!n.hasChildren())return hs(n);if(t){const e=n.children[st]?fi(n.children[st],!1):"",r=[];return an(n.children,(a,c)=>{c!==st&&r.push(`${c}:${fi(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Oa(n,t){let e=[];return an(n.children,(r,a)=>{a===st&&(e=e.concat(t(r,a)))}),an(n.children,(r,a)=>{a!==st&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===st?[fi(n.children[st],!1)]:[`${a}:${fi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[st]?`${hs(n)}/${e[0]}`:`${hs(n)}/(${e.join("//")})`}}function hc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gi(n){return hc(n).replace(/%3B/gi,";")}function Na(n){return hc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zs(n){return decodeURIComponent(n)}function Ws(n){return zs(n.replace(/\+/g,"%20"))}function y(n){return`${Na(n.path)}${function E(n){return Object.keys(n).map(t=>`;${Na(t)}=${Na(n[t])}`).join("")}(n.parameters)}`}const M=/^[^\/()?;=#]+/;function B(n){const t=n.match(M);return t?t[0]:""}const G=/^[^=?&#]+/,ge=/^[^&#]+/;class Me{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[st]=new Ge(t,e)),r}parseSegment(){const t=B(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Po(zs(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=B(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=B(this.remaining);a&&(r=a,this.capture(r))}t[zs(e)]=zs(r)}parseQueryParam(t){const e=function re(n){const t=n.match(G);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const d=function je(n){const t=n.match(ge);return t?t[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const a=Ws(e),c=Ws(r);if(t.hasOwnProperty(a)){let d=t[a];Array.isArray(d)||(d=[d],t[a]=d),d.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=B(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=st);const d=this.parseChildren();e[c]=1===Object.keys(d).length?d[st]:new Ge([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ze{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ne(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Ne(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=At(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return At(t,this._root).map(e=>e.value)}}function Ne(n,t){if(n===t.value)return t;for(const e of t.children){const r=Ne(n,e);if(r)return r}return null}function At(n,t){if(n===t.value)return[t];for(const e of t.children){const r=At(n,e);if(r.length)return r.unshift(t),r}return[]}class vt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ar(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Sr extends ze{constructor(t,e){super(t),this.snapshot=e,Qu(this,t)}toString(){return this.snapshot.toString()}}function fs(n,t){const e=function Qh(n,t){const d=new $r([],{},{},"",{},st,t,null,n.root,-1,{});return new Fa("",new vt(d,[]))}(n,t),r=new In([new Po("",{})]),a=new In({}),c=new In({}),d=new In({}),f=new In(""),_=new qi(r,a,d,f,c,st,t,e.root);return _.snapshot=e.root,new Sr(new vt(_,[]),e)}class qi{constructor(t,e,r,a,c,d,f,_){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=d,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(t=>di(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(t=>di(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pi(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],c=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function gi(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class $r{constructor(t,e,r,a,c,d,f,_,C,S,T){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=d,this.component=f,this.routeConfig=_,this._urlSegment=C,this._lastPathIndex=S,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=di(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=di(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fa extends ze{constructor(t,e){super(e),this.url=t,Qu(this,e)}toString(){return Gs(this._root)}}function Qu(n,t){t.value._routerState=n,t.children.forEach(e=>Qu(n,e))}function Gs(n){const t=n.children.length>0?` { ${n.children.map(Gs).join(", ")} } `:"";return`${n.value}${t}`}function Zh(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,or(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),or(t.params,e.params)||n.params.next(e.params),function cc(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!or(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),or(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Xh(n,t){const e=or(n.params,t.params)&&function Ku(n,t){return Wi(n,t)&&n.every((e,r)=>or(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Xh(n.parent,t.parent))}function fc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function tE(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return fc(n,r,a);return fc(n,r)})}(n,t,e);return new vt(r,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(f=>fc(n,f)),d}}const r=function ps(n){return new qi(new In(n.url),new In(n.params),new In(n.queryParams),new In(n.fragment),new In(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>fc(n,c));return new vt(r,a)}}function pc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function gc(n){return"object"==typeof n&&null!=n&&n.outlets}function Jh(n,t,e,r,a){let c={};if(r&&an(r,(f,_)=>{c[_]=Array.isArray(f)?f.map(C=>`${C}`):`${f}`}),n===t)return new ds(e,c,a);const d=cm(n,t,e);return new ds(d,c,a)}function cm(n,t,e){const r={};return an(n.children,(a,c)=>{r[c]=a===t?e:cm(a,t,e)}),new Ge(n.segments,r)}class um{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&pc(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(gc);if(a&&a!==Wu(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zu{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function dm(n,t,e){if(n||(n=new Ge([],{})),0===n.segments.length&&n.hasChildren())return ef(n,t,e);const r=function oE(n,t,e){let r=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return c;const d=n.segments[a],f=e[r];if(gc(f))break;const _=`${f}`,C=r<e.length-1?e[r+1]:null;if(a>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!La(_,C,d))return c;r+=2}else{if(!La(_,{},d))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Ge(n.segments.slice(0,r.pathIndex),{});return c.children[st]=new Ge(n.segments.slice(r.pathIndex),n.children),ef(c,0,a)}return r.match&&0===a.length?new Ge(n.segments,{}):r.match&&!n.hasChildren()?Oo(n,t,e):r.match?ef(n,0,a):Oo(n,t,e)}function ef(n,t,e){if(0===e.length)return new Ge(n.segments,{});{const r=function sE(n){return gc(n[0])?n[0].outlets:{[st]:n}}(e),a={};return an(r,(c,d)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[d]=dm(n.children[d],t,c))}),an(n.children,(c,d)=>{void 0===r[d]&&(a[d]=c)}),new Ge(n.segments,a)}}function Oo(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(gc(c)){const _=hm(c.outlets);return new Ge(r,_)}if(0===a&&pc(e[0])){r.push(new Po(n.segments[t].path,mi(e[0]))),a++;continue}const d=gc(c)?c.outlets[st]:`${c}`,f=a<e.length-1?e[a+1]:null;d&&f&&pc(f)?(r.push(new Po(d,mi(f))),a+=2):(r.push(new Po(d,{})),a++)}return new Ge(r,{})}function hm(n){const t={};return an(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Oo(new Ge([],{}),0,e))}),t}function mi(n){const t={};return an(n,(e,r)=>t[r]=`${e}`),t}function La(n,t,e){return n==e.path&&or(t,e.parameters)}class pm{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Zh(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=ar(e);t.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,a[d],r),delete a[d]}),an(a,(c,d)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const d=r.getContext(a.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=ar(t);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],a);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,c=ar(t);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=ar(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new Jv(c.value.snapshot))}),t.children.length&&this.forwardEvent(new am(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,c=e?e.value:null;if(Zh(a),a===c)if(a.component){const d=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const d=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const f=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),Zh(f.route.value),this.activateChildRoutes(t,null,d.children)}else{const f=function gm(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),_=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=a,d.resolver=_,d.outlet&&d.outlet.activateWith(a,_),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,r)}}class mm{constructor(t,e){this.routes=t,this.module=e}}function No(n){return"function"==typeof n}function gs(n){return n instanceof ds}const Ba=Symbol("INITIAL_VALUE");function mc(){return Dr(n=>function Ca(...n){const t=(0,Hr.yG)(n),e=(0,Hr.jO)(n),{args:r,keys:a}=va(n);if(0===r.length)return(0,Bn.D)([],t);const c=new wr.y(function Vs(n,t,e=So.y){return r=>{Hu(t,()=>{const{length:a}=n,c=new Array(a);let d=a,f=a;for(let _=0;_<a;_++)Hu(t,()=>{const C=(0,Bn.D)(n[_],t);let S=!1;C.subscribe((0,Wt.x)(r,T=>{c[_]=T,S||(S=!0,f--),f||r.next(e(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,t,a?d=>Us(a,d):So.y));return e?c.pipe(sc(e)):c}(n.map(t=>t.pipe(rr(1),Ur(Ba)))).pipe(Ta((t,e)=>{let r=!1;return e.reduce((a,c,d)=>a!==Ba?a:(c===Ba&&(r=!0),r||!1!==c&&d!==e.length-1&&!gs(c)?a:c),t)},Ba),fn(t=>t!==Ba),(0,ut.U)(t=>gs(t)?t:!0===t),rr(1)))}class aE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _c,this.attachRef=null}}class _c{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new aE,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let rf=(()=>{class n{constructor(e,r,a,c,d){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=c||st,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const d=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new _m(e,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(_c),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class _m{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===qi?this.route:t===_c?this.childContexts:this.parent.get(t,e)}}let yc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&g._UZ(0,"router-outlet")},directives:[rf],encapsulation:2}),n})();function sf(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];af(r,lE(t,r))}}function af(n,t){n.children&&sf(n.children,t)}function lE(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Xt(n){const t=n.children&&n.children.map(Xt),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==st&&(e.component=yc),e}function zr(n){return n.outlet||st}function ym(n,t){const e=n.filter(r=>zr(r)===t);return e.push(...n.filter(r=>zr(r)!==t)),e}const Xu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vc(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Xu):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const c=(t.matcher||lc)(e,n,t);if(!c)return Object.assign({},Xu);const d={};an(c.posParams,(_,C)=>{d[C]=_.path});const f=c.consumed.length>0?Object.assign(Object.assign({},d),c.consumed[c.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:c.consumed,remainingSegments:e.slice(c.consumed.length),parameters:f,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function Ju(n,t,e,r,a="corrected"){if(e.length>0&&function dE(n,t,e){return e.some(r=>lf(n,t,r)&&zr(r)!==st)}(n,e,r)){const d=new Ge(t,function uE(n,t,e,r){const a={};a[st]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&zr(c)!==st){const d=new Ge([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,a[zr(c)]=d}return a}(n,t,r,new Ge(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function hE(n,t,e){return e.some(r=>lf(n,t,r))}(n,e,r)){const d=new Ge(n.segments,function cE(n,t,e,r,a,c){const d={};for(const f of r)if(lf(n,e,f)&&!a[zr(f)]){const _=new Ge([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===c?n.segments.length:t.length,d[zr(f)]=_}return Object.assign(Object.assign({},a),d)}(n,t,e,r,n.children,a));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const c=new Ge(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function lf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function fE(n,t,e,r){return!!(zr(n)===r||r!==st&&lf(t,e,n))&&("**"===n.path||vc(t,n,e).matched)}function ja(n,t,e){return 0===t.length&&!n.children[e]}class wn{constructor(t){this.segmentGroup=t||null}}class ed{constructor(t){this.urlTree=t}}function Ha(n){return cs(new wn(n))}function cf(n){return cs(new ed(n))}class pE{constructor(t,e,r,a,c){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(g.h0i)}apply(){const t=Ju(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ge(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,st).pipe((0,ut.U)(c=>this.createUrlTree(td(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hn(c=>{if(c instanceof ed)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof wn?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,st).pipe((0,ut.U)(a=>this.createUrlTree(td(a),t.queryParams,t.fragment))).pipe(Hn(a=>{throw a instanceof wn?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const a=t.segments.length>0?new Ge([],{[st]:t}):t;return new ds(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,ut.U)(c=>new Ge([],c))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return(0,Bn.D)(a).pipe($s(c=>{const d=r.children[c],f=ym(e,c);return this.expandSegmentGroup(t,f,d,c).pipe((0,ut.U)(_=>({segment:_,outlet:c})))}),Ta((c,d)=>(c[d.outlet]=d.segment,c),{}),function Uh(n,t){const e=arguments.length>=2;return r=>r.pipe(n?fn((a,c)=>n(a,c,r)):So.y,Ht(1),e?Vu(t):Uu(()=>new To))}())}expandSegment(t,e,r,a,c,d){return(0,Bn.D)(r).pipe($s(f=>this.expandSegmentAgainstRoute(t,e,r,f,a,c,d).pipe(Hn(C=>{if(C instanceof wn)return Fe(null);throw C}))),Vi(f=>!!f),Hn((f,_)=>{if(f instanceof To||"EmptyError"===f.name)return ja(e,a,c)?Fe(new Ge([],{})):Ha(e);throw f}))}expandSegmentAgainstRoute(t,e,r,a,c,d,f){return fE(a,e,c,d)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,d):Ha(e):Ha(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,c,d){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?cf(c):this.lineralizeSegments(r,c).pipe((0,pn.z)(d=>{const f=new Ge(d,{});return this.expandSegment(t,f,e,d,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,c,d){const{matched:f,consumedSegments:_,remainingSegments:C,positionalParamSegments:S}=vc(e,a,c);if(!f)return Ha(e);const T=this.applyRedirectCommands(_,a.redirectTo,S);return a.redirectTo.startsWith("/")?cf(T):this.lineralizeSegments(a,T).pipe((0,pn.z)(P=>this.expandSegment(t,e,r,P.concat(C),d,!1)))}matchSegmentAgainstRoute(t,e,r,a,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Fe(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,ut.U)(T=>(r._loadedConfig=T,new Ge(a,{})))):Fe(new Ge(a,{}));const{matched:d,consumedSegments:f,remainingSegments:_}=vc(e,r,a);return d?this.getChildConfig(t,r,a).pipe((0,pn.z)(S=>{const T=S.module,P=S.routes,{segmentGroup:z,slicedSegments:X}=Ju(e,f,_,P),Ce=new Ge(z.segments,z.children);if(0===X.length&&Ce.hasChildren())return this.expandChildren(T,P,Ce).pipe((0,ut.U)(tn=>new Ge(f,tn)));if(0===P.length&&0===X.length)return Fe(new Ge(f,{}));const Ve=zr(r)===c;return this.expandSegment(T,Ce,P,X,Ve?st:c,!0).pipe((0,ut.U)(yt=>new Ge(f.concat(yt.segments),yt.children)))})):Ha(e)}getChildConfig(t,e,r){return e.children?Fe(new mm(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Fe(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,pn.z)(a=>a?this.configLoader.load(t.injector,e).pipe((0,ut.U)(c=>(e._loadedConfig=c,c))):function Ec(n){return cs(xa(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Fe(new mm([],t))}runCanLoadGuards(t,e,r){const a=e.canLoad;return a&&0!==a.length?Fe(a.map(d=>{const f=t.get(d);let _;if(function tf(n){return n&&No(n.canLoad)}(f))_=f.canLoad(e,r);else{if(!No(f))throw new Error("Invalid CanLoad guard");_=f(e,r)}return $i(_)})).pipe(mc(),Cn(d=>{if(!gs(d))return;const f=xa(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,ut.U)(d=>!0===d)):Fe(!0)}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return Fe(r);if(a.numberOfChildren>1||!a.children[st])return cs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));a=a.children[st]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,a){const c=this.createSegmentGroup(t,e.root,r,a);return new ds(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return an(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);r[c]=e[f]}else r[c]=a}),r}createSegmentGroup(t,e,r,a){const c=this.createSegments(t,e.segments,r,a);let d={};return an(e.children,(f,_)=>{d[_]=this.createSegmentGroup(t,f,r,a)}),new Ge(c,d)}createSegments(t,e,r,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}function td(n){const t={};for(const r of Object.keys(n.children)){const c=td(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function gE(n){if(1===n.numberOfChildren&&n.children[st]){const t=n.children[st];return new Ge(n.segments.concat(t.segments),t.children)}return n}(new Ge(n.segments,t))}class df{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class nd{constructor(t,e){this.component=t,this.route=e}}function vm(n,t,e){const r=n._root;return Cc(r,t?t._root:null,e,[r.value])}function rd(n,t,e){const r=function hf(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Cc(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=ar(t);return n.children.forEach(d=>{(function yE(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const _=function ff(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Wi(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Wi(n.url,t.url)||!or(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xh(n,t)||!or(n.queryParams,t.queryParams);default:return!Xh(n,t)}}(d,c,c.routeConfig.runGuardsAndResolvers);_?a.canActivateChecks.push(new df(r)):(c.data=d.data,c._resolvedData=d._resolvedData),Cc(n,t,c.component?f?f.children:null:e,r,a),_&&f&&f.outlet&&f.outlet.isActivated&&a.canDeactivateChecks.push(new nd(f.outlet.component,d))}else d&&wc(t,f,a),a.canActivateChecks.push(new df(r)),Cc(n,null,c.component?f?f.children:null:e,r,a)})(d,c[d.value.outlet],e,r.concat([d.value]),a),delete c[d.value.outlet]}),an(c,(d,f)=>wc(d,e.getContext(f),a)),a}function wc(n,t,e){const r=ar(n),a=n.value;an(r,(c,d)=>{wc(c,a.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new nd(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class SE{}function Cm(n){return new wr.y(t=>t.error(n))}class IE{constructor(t,e,r,a,c,d){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d}recognize(){const t=Ju(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,st);if(null===e)return null;const r=new $r([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},st,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new vt(r,e),c=new Fa(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,r=pi(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const c of Object.keys(e.children)){const d=e.children[c],f=ym(t,c),_=this.processSegmentGroup(f,d,c);if(null===_)return null;r.push(..._)}const a=wm(r);return function ME(n){n.sort((t,e)=>t.value.outlet===st?-1:e.value.outlet===st?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(t,e,r,a){for(const c of t){const d=this.processSegmentAgainstRoute(c,e,r,a);if(null!==d)return d}return ja(e,r,a)?[]:null}processSegmentAgainstRoute(t,e,r,a){if(t.redirectTo||!fE(t,e,r,a))return null;let c,d=[],f=[];if("**"===t.path){const z=r.length>0?Wu(r).parameters:{};c=new $r(r,z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,PE(t),zr(t),t.component,t,_i(e),RE(e)+r.length,pf(t))}else{const z=vc(e,t,r);if(!z.matched)return null;d=z.consumedSegments,f=z.remainingSegments,c=new $r(d,z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,PE(t),zr(t),t.component,t,_i(e),RE(e)+d.length,pf(t))}const _=function AE(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:C,slicedSegments:S}=Ju(e,d,f,_.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);if(0===S.length&&C.hasChildren()){const z=this.processChildren(_,C);return null===z?null:[new vt(c,z)]}if(0===_.length&&0===S.length)return[new vt(c,[])];const T=zr(t)===a,P=this.processSegment(_,C,S,T?st:a);return null===P?null:[new vt(c,P)]}}function xE(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function wm(n){const t=[],e=new Set;for(const r of n){if(!xE(r)){t.push(r);continue}const a=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=wm(r.children);t.push(new vt(r.value,a))}return t.filter(r=>!e.has(r))}function _i(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function RE(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function PE(n){return n.data||{}}function pf(n){return n.resolve||{}}function bm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Fo(n){return Dr(t=>{const e=n(t);return e?(0,Bn.D)(e).pipe((0,ut.U)(()=>t)):Fe(t)})}class _f extends class Tm{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Dc=new g.OlP("ROUTES");class yf{constructor(t,e,r,a){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,ut.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const d=c.create(t);return new mm(Gh(d.injector.get(Dc,void 0,g.XFs.Self|g.XFs.Optional)).map(Xt),d)}),Hn(c=>{throw e._loader$=void 0,c}));return e._loader$=new ac(a,()=>new Qt.x).pipe(Sa()),e._loader$}loadModuleFactory(t){return $i(t()).pipe((0,pn.z)(e=>e instanceof g.YKP?Fe(e):(0,Bn.D)(this.compiler.compileModuleAsync(e))))}}class Ua{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vf(n){throw n}function Im(n,t,e){return t.parse("/")}function Mm(n,t){return Fe(null)}const Ef={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lr=(()=>{class n{constructor(e,r,a,c,d,f,_){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=c,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qt.x,this.errorHandler=vf,this.malformedUriErrorHandler=Im,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mm,afterPreactivation:Mm},this.urlHandlingStrategy=new Ua,this.routeReuseStrategy=new _f,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(g.h0i),this.console=d.get(g.c2e);const T=d.get(g.R0b);this.isNgZoneEnabled=T instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Vr(){return new ds(new Ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yf(d,f,P=>this.triggerEvent(new Aa(P)),P=>this.triggerEvent(new Mo(P))),this.routerState=fs(this.currentUrlTree,this.rootComponentType),this.transitions=new In({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(fn(a=>0!==a.id),(0,ut.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Dr(a=>{let c=!1,d=!1;return Fe(a).pipe(Cn(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dr(f=>{const _=this.browserUrlTree.toString(),C=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Am(f.source)&&(this.browserUrlTree=f.extractedUrl),Fe(f).pipe(Dr(T=>{const P=this.transitions.getValue();return r.next(new Ia(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),P!==this.transitions.getValue()?Bi.E:Promise.resolve(T)}),function mE(n,t,e,r){return Dr(a=>function uf(n,t,e,r,a){return new pE(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe((0,ut.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Cn(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function H0(n,t,e,r,a){return(0,pn.z)(c=>function TE(n,t,e,r,a="emptyOnly",c="legacy"){try{const d=new IE(n,t,e,r,a,c).recognize();return null===d?Cm(new SE):Fe(d)}catch(d){return Cm(d)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),r,a).pipe((0,ut.U)(d=>Object.assign(Object.assign({},c),{targetSnapshot:d}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),Cn(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(z,T)}this.browserUrlTree=T.urlAfterRedirects}const P=new Xv(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);r.next(P)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:z,source:X,restoredState:Ce,extras:Ve}=f,bt=new Ia(P,this.serializeUrl(z),X,Ce);r.next(bt);const yt=fs(z,this.rootComponentType).snapshot;return Fe(Object.assign(Object.assign({},f),{targetSnapshot:yt,urlAfterRedirects:z,extras:Object.assign(Object.assign({},Ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Bi.E}),Fo(f=>{const{targetSnapshot:_,id:C,extractedUrl:S,rawUrl:T,extras:{skipLocationChange:P,replaceUrl:z}}=f;return this.hooks.beforePreactivation(_,{navigationId:C,appliedUrlTree:S,rawUrlTree:T,skipLocationChange:!!P,replaceUrl:!!z})}),Cn(f=>{const _=new Vh(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,ut.U)(f=>Object.assign(Object.assign({},f),{guards:vm(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function vE(n,t){return(0,pn.z)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:d}}=e;return 0===d.length&&0===c.length?Fe(Object.assign(Object.assign({},e),{guardsResult:!0})):function id(n,t,e,r){return(0,Bn.D)(n).pipe((0,pn.z)(a=>function Em(n,t,e,r,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Fe(c.map(f=>{const _=rd(f,t,a);let C;if(function j0(n){return n&&No(n.canDeactivate)}(_))C=$i(_.canDeactivate(n,t,e,r));else{if(!No(_))throw new Error("Invalid CanDeactivate guard");C=$i(_(n,t,e,r))}return C.pipe(Vi())})).pipe(mc()):Fe(!0)}(a.component,a.route,e,t,r)),Vi(a=>!0!==a,!0))}(d,r,a,n).pipe((0,pn.z)(f=>f&&function L0(n){return"boolean"==typeof n}(f)?function EE(n,t,e,r){return(0,Bn.D)(t).pipe($s(a=>Li(function wE(n,t){return null!==n&&t&&t(new zh(n)),Fe(!0)}(a.route.parent,r),function CE(n,t){return null!==n&&t&&t(new Wh(n)),Fe(!0)}(a.route,r),function DE(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(d=>function _E(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Da(()=>Fe(d.guards.map(_=>{const C=rd(_,d.node,e);let S;if(function B0(n){return n&&No(n.canActivateChild)}(C))S=$i(C.canActivateChild(r,n));else{if(!No(C))throw new Error("Invalid CanActivateChild guard");S=$i(C(r,n))}return S.pipe(Vi())})).pipe(mc())));return Fe(c).pipe(mc())}(n,a.path,e),function bE(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Fe(!0);const a=r.map(c=>Da(()=>{const d=rd(c,t,e);let f;if(function nf(n){return n&&No(n.canActivate)}(d))f=$i(d.canActivate(t,n));else{if(!No(d))throw new Error("Invalid CanActivate guard");f=$i(d(t,n))}return f.pipe(Vi())}));return Fe(a).pipe(mc())}(n,a.route,e))),Vi(a=>!0!==a,!0))}(r,c,n,t):Fe(f)),(0,ut.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),Cn(f=>{if(gs(f.guardsResult)){const C=xa(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw C.url=f.guardsResult,C}const _=new ir(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),fn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Fo(f=>{if(f.guards.canActivateChecks.length)return Fe(f).pipe(Cn(_=>{const C=new sr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),Dr(_=>{let C=!1;return Fe(_).pipe(function Ki(n,t){return(0,pn.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return Fe(e);let c=0;return(0,Bn.D)(a).pipe($s(d=>function gf(n,t,e,r){return function mf(n,t,e,r){const a=bm(n);if(0===a.length)return Fe({});const c={};return(0,Bn.D)(a).pipe((0,pn.z)(d=>function Dm(n,t,e,r){const a=rd(n,t,r);return $i(a.resolve?a.resolve(t,e):a(t,e))}(n[d],t,e,r).pipe(Cn(f=>{c[d]=f}))),Ht(1),(0,pn.z)(()=>bm(c).length===a.length?Fe(c):Bi.E))}(n._resolve,n,t,r).pipe((0,ut.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),pi(n,e).resolve),null)))}(d.route,r,n,t)),Cn(()=>c++),Ht(1),(0,pn.z)(d=>c===a.length?Fe(e):Bi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Cn({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),Cn(_=>{const C=new $h(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}))}),Fo(f=>{const{targetSnapshot:_,id:C,extractedUrl:S,rawUrl:T,extras:{skipLocationChange:P,replaceUrl:z}}=f;return this.hooks.afterPreactivation(_,{navigationId:C,appliedUrlTree:S,rawUrlTree:T,skipLocationChange:!!P,replaceUrl:!!z})}),(0,ut.U)(f=>{const _=function eE(n,t,e){const r=fc(n,t._root,e?e._root:void 0);return new Sr(r,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),Cn(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,ut.U)(r=>(new pm(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),Cn({next(){c=!0},complete(){c=!0}}),$u(()=>{var f;c||d||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===a.id&&(this.currentNavigation=null)}),Hn(f=>{if(d=!0,function Ra(n){return n&&n[hi]}(f)){const _=gs(f.url);_||(this.navigated=!0,this.restoreHistory(a,!0));const C=new Ma(a.id,this.serializeUrl(a.extractedUrl),f.message);r.next(C),_?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),T={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Am(a.source)};this.scheduleNavigation(S,"imperative",null,T,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const _=new Io(a.id,this.serializeUrl(a.extractedUrl),f);r.next(_);try{a.resolve(this.errorHandler(f))}catch(C){a.reject(C)}}return Bi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const c={replaceUrl:!0},d=(null===(a=e.state)||void 0===a?void 0:a.navigationId)?e.state:null;if(d){const _=Object.assign({},d);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(c.state=_)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,r,d,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){sf(e),this.config=e.map(Xt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:c,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,C=a||this.routerState.root,S=_?this.currentUrlTree.fragment:d;let T=null;switch(f){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=c||null}return null!==T&&(T=this.removeEmptyProps(T)),function ka(n,t,e,r,a){if(0===e.length)return Jh(t.root,t.root,t.root,r,a);const c=function nE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new um(!0,0,n);let t=0,e=!1;const r=n.reduce((a,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const f={};return an(c.outlets,(_,C)=>{f[C]="string"==typeof _?_.split("/"):_}),[...a,{outlets:f}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===d?(c.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?e=!0:".."===f?t++:""!=f&&a.push(f))}),a):[...a,c]},[]);return new um(e,t,r)}(e);if(c.toRoot())return Jh(t.root,t.root,new Ge([],{}),r,a);const d=function rE(n,t,e){if(n.isAbsolute)return new Zu(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new Zu(c,c===t.root,0)}const r=pc(n.commands[0])?0:1;return function iE(n,t,e){let r=n,a=t,c=e;for(;c>a;){if(c-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new Zu(r,!1,a-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,t,n),f=d.processChildren?ef(d.segmentGroup,d.index,c.commands):dm(d.segmentGroup,d.index,c.commands);return Jh(t.root,d.segmentGroup,f,r,a)}(C,this.currentUrlTree,e,T,null!=S?S:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=gs(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function NE(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?Object.assign({},Ef):!1===r?Object.assign({},OE):r,gs(e))return Kh(this.currentUrlTree,e,a);const c=this.parseUrl(e);return Kh(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const c=e[a];return null!=c&&(r[a]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new qt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,c,d){var f,_;if(this.disposed)return Promise.resolve(!1);let C,S,T;d?(C=d.resolve,S=d.reject,T=d.promise):T=new Promise((X,Ce)=>{C=X,S=Ce});const P=++this.navigationId;let z;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),z=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):z=0,this.setTransition({id:P,targetPageId:z,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:C,reject:S,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(X=>Promise.reject(X))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,r=!1){var a,c;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===d?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===d&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new Ma(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Am(n){return"imperative"!==n}class sd{}class Rm{preload(t,e){return Fe(null)}}let Df=(()=>{class n{constructor(e,r,a,c){this.router=e,this.injector=a,this.preloadingStrategy=c,this.loader=new yf(a,r,_=>e.triggerEvent(new Aa(_)),_=>e.triggerEvent(new Mo(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(fn(e=>e instanceof qt),$s(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(g.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const d=c._loadedConfig;a.push(this.processRoutes(d.module,d.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(e,c)):c.children&&a.push(this.processRoutes(e,c.children));return(0,Bn.D)(a).pipe((0,ba.J)(),(0,ut.U)(c=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Fe(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,pn.z)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(lr),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(sd))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),od=(()=>{class n{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ia?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qt&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof zu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new zu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const qs=new g.OlP("ROUTER_CONFIGURATION"),Sf=new g.OlP("ROUTER_FORROOT_GUARD"),kE=[pe,{provide:uc,useClass:dc},{provide:lr,useFactory:function km(n,t,e,r,a,c,d={},f,_){const C=new lr(null,n,t,e,r,a,Gh(c));return f&&(C.urlHandlingStrategy=f),_&&(C.routeReuseStrategy=_),function cd(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,C),d.enableTracing&&C.events.subscribe(S=>{var T,P;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(P=console.groupEnd)||void 0===P||P.call(console)}),C},deps:[uc,_c,pe,g.zs3,g.Sil,Dc,qs,[class U0{},new g.FiY],[class Sm{},new g.FiY]]},_c,{provide:qi,useFactory:function ud(n){return n.routerState.root},deps:[lr]},Df,Rm,class FE{preload(t,e){return e().pipe(Hn(()=>Fe(null)))}},{provide:qs,useValue:{enableTracing:!1}}];function ad(){return new g.PXZ("Router",lr)}let Pm=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[kE,ld(e),{provide:Sf,useFactory:Fm,deps:[[lr,new g.FiY,new g.tp0]]},{provide:qs,useValue:r||{}},{provide:ue,useFactory:Nm,deps:[he,[new g.tBr(ot),new g.FiY],qs]},{provide:od,useFactory:Om,deps:[lr,Iu,qs]},{provide:sd,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Rm},{provide:g.PXZ,multi:!0,useFactory:ad},[dd,{provide:g.ip1,multi:!0,useFactory:Tf,deps:[dd]},{provide:hd,useFactory:Lm,deps:[dd]},{provide:g.tb,multi:!0,useExisting:hd}]]}}static forChild(e){return{ngModule:n,providers:[ld(e)]}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Sf,8),g.LFG(lr,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function Om(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new od(n,t,e)}function Nm(n,t,e={}){return e.useHash?new Ie(n,t):new ve(n,t)}function Fm(n){return"guarded"}function ld(n){return[{provide:g.deG,multi:!0,useValue:n},{provide:Dc,multi:!0,useValue:n}]}let dd=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Qt.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(f=>r=f),c=this.injector.get(lr),d=this.injector.get(qs);return"disabled"===d.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?Fe(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(qs),a=this.injector.get(Df),c=this.injector.get(od),d=this.injector.get(lr),f=this.injector.get(g.z2F);e===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),a.setUpPreloading(),c.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.zs3))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Tf(n){return n.appInitializer.bind(n)}function Lm(n){return n.bootstrapListener.bind(n)}const hd=new g.OlP("Router Initializer");var Bm=R(867),LE=R(861),$a=R(681),jm=R(859),W=R(90),If=R(877);const BE="@firebase/database";let Af="";class jE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,W.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,W.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class HE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,W.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Wr=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new jE(t)}}catch(t){}return new HE},Lo=Wr("localStorage"),fd=Wr("sessionStorage"),za=new If.Yd("@firebase/database"),Um=function(){let n=1;return function(){return n++}}(),Vm=function(n){const t=(0,W.dS)(n),e=new W.gQ;e.update(t);const r=e.digest();return W.US.encodeByteArray(r)},Tc=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Tc.apply(null,r):t+="object"==typeof r?(0,W.Pz)(r):r,t+=" "}return t};let Ks=null,$m=!0;const bn=function(...n){if(!0===$m&&($m=!1,null===Ks&&!0===fd.get("logging_enabled")&&function(n,t){(0,W.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(za.logLevel=If.in.VERBOSE,Ks=za.log.bind(za),t&&fd.set("logging_enabled",!0)):"function"==typeof n?Ks=n:(Ks=null,fd.remove("logging_enabled"))}(!0)),Ks){const t=Tc.apply(null,n);Ks(t)}},et=function(n){return function(...t){bn(n,...t)}},pd=function(...n){const t="FIREBASE INTERNAL ERROR: "+Tc(...n);za.error(t)},yi=function(...n){const t=`FIREBASE FATAL ERROR: ${Tc(...n)}`;throw za.error(t),new Error(t)},Mn=function(...n){const t="FIREBASE WARNING: "+Tc(...n);za.warn(t)},cr=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ms="[MIN_NAME]",Gr="[MAX_NAME]",Qn=function(n,t){if(n===t)return 0;if(n===ms||t===Gr)return-1;if(t===ms||n===Gr)return 1;{const e=vd(n),r=vd(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},xf=function(n,t){return n===t?0:n<t?-1:1},Wa=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,W.Pz)(t))},Ic=function(n){if("object"!=typeof n||null===n)return(0,W.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,W.Pz)(t[r]),e+=":",e+=Ic(n[t[r]]);return e+="}",e},UE=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let a=0;a<e;a+=t)r.push(n.substring(a,a+t>e?e:a+t));return r};function yn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const VE=function(n){(0,W.hu)(!cr(n),"Invalid JSON number");const r=1023;let a,c,d,f,_;0===n?(c=0,d=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=f+r,d=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(c=0,d=Math.round(n/Math.pow(2,-1074))));const C=[];for(_=52;_;_-=1)C.push(d%2?1:0),d=Math.floor(d/2);for(_=11;_;_-=1)C.push(c%2?1:0),c=Math.floor(c/2);C.push(a?1:0),C.reverse();const S=C.join("");let T="";for(_=0;_<64;_+=8){let P=parseInt(S.substr(_,8),2).toString(16);1===P.length&&(P="0"+P),T+=P}return T.toLowerCase()},Pf=new RegExp("^-?(0*)\\d{1,10}$"),vd=function(n){if(Pf.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Ga=function(n){try{n()}catch(t){setTimeout(()=>{throw Mn("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Mc=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class qm{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Mn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class $0{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(bn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mn(t)}}let Ac=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const zE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qE="websocket",KE="long_polling";class Qm{constructor(t,e,r,a,c=!1,d="",f=!1){this.secure=e,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lo.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Lo.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function YE(n,t,e){let r;if((0,W.hu)("string"==typeof t,"typeof type must == string"),(0,W.hu)("object"==typeof e,"typeof params must == object"),t===qE)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==KE)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function z0(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return yn(e,(c,d)=>{a.push(c+"="+d)}),r+a.join("&")}class W0{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,W.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,W.p$)(this.counters_)}}const Yi={},xc={};function kf(n){const t=n.toString();return Yi[t]||(Yi[t]=new W0),Yi[t]}class Lf{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&Ga(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Qs{constructor(t,e,r,a,c,d,f){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=a,this.authToken=c,this.transportSessionId=d,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=et(t),this.stats_=kf(e),this.urlFn=_=>(this.appCheckToken&&(_.ac=this.appCheckToken),YE(e,KE,_))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Lf(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,W.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bd((...c)=>{const[d,f,_,C,S]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=f,this.password=_;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[d,f]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,f)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&zE.test(location.hostname)&&(r.r="f");const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qs.forceAllow_=!0}static forceDisallow(){Qs.forceDisallow_=!0}static isAvailable(){return!((0,W.Yr)()||!Qs.forceAllow_&&(Qs.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,W.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,W.h$)(e),a=UE(r,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,W.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,W.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class bd{constructor(t,e,r,a){if(this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,W.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Um(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=bd.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(f){bn("frame writing exception"),f.stack&&bn(f.stack),bn(f)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||bn("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const d=this.pendingSegs.shift();r=r+"&seg"+a+"="+d.seg+"&ts"+a+"="+d.ts+"&d"+a+"="+d.d,a++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),r()})}addTag(t,e){(0,W.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||"loaded"===a||"complete"===a)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{bn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Ya=null;"undefined"!=typeof MozWebSocket?Ya=MozWebSocket:"undefined"!=typeof WebSocket&&(Ya=WebSocket);let jo=(()=>{class n{constructor(e,r,a,c,d,f,_){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=et(this.connId),this.stats_=kf(r),this.connURL=n.connectionURL_(r,f,_,c,a),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,a,c,d){const f={v:"5"};return!(0,W.Yr)()&&"undefined"!=typeof location&&location.hostname&&zE.test(location.hostname)&&(f.r="f"),r&&(f.s=r),a&&(f.ls=a),c&&(f.ac=c),d&&(f.p=d),YE(e,qE,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lo.set("previous_websocket_failure",!0);try{let a;if((0,W.Yr)()){a={headers:{"User-Agent":`Firebase/5/${Af}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,f=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;f&&(a.proxy={origin:f})}this.mySock=new Ya(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Ya&&!n.forceDisallow_}static previouslyFailed(){return Lo.isInMemoryStorage||!0===Lo.get("previous_websocket_failure")}markConnectionHealthy(){Lo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=(0,W.cI)(r);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,W.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const r=(0,W.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=UE(r,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Oc=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Qs,jo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=jo&&jo.isAvailable();let a=r&&!jo.previouslyFailed();if(e.webSocketOnly&&(r||Mn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[jo];else{const c=this.transports_=[];for(const d of n.ALL_TRANSPORTS)d&&d.isAvailable()&&c.push(d);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Vf{constructor(t,e,r,a,c,d,f,_,C,S){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=d,this.onReady_=f,this.onDisconnect_=_,this.onKill_=C,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=et("c:"+this.id+":"),this.transportManager_=new Oc(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Mc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Wa("t",t),r=Wa("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Wa("t",t),r=Wa("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Wa("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?pd("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pd("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Mn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Mc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class rC{put(t,e,r,a){}merge(t,e,r,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class l_{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,W.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const a=this.getInitialEvent(t);a&&e.apply(r,a)}off(t,e,r){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!r||r===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,W.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Qa extends l_{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,W.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Qa}getInitialEvent(t){return(0,W.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class xt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Dt(){return new xt("")}function ct(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Zs(n){return n.pieces_.length-n.pieceNum_}function kt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new xt(n.pieces_,t)}function zf(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Za(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Wf(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new xt(t,0)}function Kt(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof xt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&e.push(r[a])}return new xt(e,0)}function tt(n){return n.pieceNum_>=n.pieces_.length}function An(n,t){const e=ct(n),r=ct(t);if(null===e)return t;if(e===r)return An(kt(n),kt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Gf(n,t){if(Zs(n)!==Zs(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function vi(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(Zs(n)>Zs(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class u_{constructor(t,e){this.errorPrefix_=e,this.parts_=Za(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,W.ug)(this.parts_[r]);d_(this)}}function d_(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+_s(n))}function _s(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class qf extends l_{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new qf}getInitialEvent(t){return(0,W.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Nc=1e3;let Zf,Ho=(()=>{class n extends rC{constructor(e,r,a,c,d,f,_,C){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=d,this.authTokenProvider_=f,this.appCheckTokenProvider_=_,this.authOverride_=C,this.id=n.nextPersistentConnectionId_++,this.log_=et("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Nc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,C&&!(0,W.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Qa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,a){const c=++this.requestNumber_,d={r:c,a:e,b:r};this.log_((0,W.Pz)(d)),(0,W.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const r=new W.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:f=>{const _=f.d;"ok"===f.s?r.resolve(_):r.reject(_)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,a,c){this.initConnection_();const d=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+d),this.listens.has(f)||this.listens.set(f,new Map),(0,W.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,W.hu)(!this.listens.get(f).has(d),"listen() called twice for same path/queryId.");const _={onComplete:c,hashFn:r,query:e,tag:a};this.listens.get(f).set(d,_),this.connected_&&this.sendListen_(_)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(e){const r=e.query,a=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+a+" for "+c);const d={p:a};e.tag&&(d.q=r._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest("q",d,_=>{const C=_.d,S=_.s;n.warnOnListenWarnings_(C,r),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",_),"ok"!==S&&this.removeListen_(a,c),e.onComplete&&e.onComplete(S,C))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,W.r3)(e,"w")){const a=(0,W.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',d=r._path.toString();Mn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,W.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,W.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(r,a,c=>{const d=c.s,f=c.d||"error";this.authToken_===e&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,a=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(e,r){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,W.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,r)}sendUnlisten_(e,r,a,c){this.log_("Unlisten on "+e+" for "+r);const d={p:e};c&&(d.q=a,d.t=c),this.sendRequest("n",d)}onDisconnectPut(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:a})}onDisconnectMerge(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:a})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,a,c){const d={p:r,d:a};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,f=>{c&&setTimeout(()=>{c(f.s,f.d)},Math.floor(0))})}put(e,r,a,c){this.putInternal("p",e,r,a,c)}merge(e,r,a,c){this.putInternal("m",e,r,a,c)}putInternal(e,r,a,c,d){this.initConnection_();const f={p:r,d:a};void 0!==d&&(f.h=d),this.outstandingPuts_.push({action:e,request:f,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,a,d=>{this.log_(r+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(d.s,d.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,W.Pz)(e));const r=e.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):pd("Unrecognized action received from server: "+(0,W.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,W.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Nc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Nc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,LE.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),d=e.id+":"+n.nextConnectionId_++,f=e.lastSessionId;let _=!1,C=null;const S=function(){C?C.close():(_=!0,c())};e.realtime_={close:S,sendRequest:function(z){(0,W.hu)(C,"sendRequest call when we're not connected not allowed."),C.sendRequest(z)}};const P=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[z,X]=yield Promise.all([e.authTokenProvider_.getToken(P),e.appCheckTokenProvider_.getToken(P)]);_?bn("getToken() completed but was canceled"):(bn("getToken() completed. Creating connection."),e.authToken_=z&&z.accessToken,e.appCheckToken_=X&&X.token,C=new Vf(d,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,a,c,Ce=>{Mn(Ce+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},f))}catch(z){e.log_("Failed to get token: "+z),_||(e.repoInfo_.nodeAdmin&&Mn(z),S())}}})()}interrupt(e){bn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){bn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,W.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Nc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let a;a=r?r.map(d=>Ic(d)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,r){const a=new xt(e).toString();let c;if(this.listens.has(a)){const d=this.listens.get(a);c=d.get(r),d.delete(r),0===d.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,r){bn("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){bn("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,W.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Af.replace(/\./g,"-")]=1,(0,W.uI)()?e["framework.cordova"]=1:(0,W.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qa.getInstance().currentlyOnline();return(0,W.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class pt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new pt(t,e)}}class Xa{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new pt(ms,t),a=new pt(ms,e);return 0!==this.compare(r,a)}minPost(){return pt.MIN}}class h_ extends Xa{static get __EMPTY_NODE(){return Zf}static set __EMPTY_NODE(t){Zf=t}compare(t,e){return Qn(t.name,e.name)}isDefinedOn(t){throw(0,W.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return pt.MIN}maxPost(){return new pt(Gr,Zf)}makePost(t,e){return(0,W.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new pt(t,Zf)}toString(){return".key"}}const Ei=new h_;class Fc{constructor(t,e,r,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=e?r(t.key,e):1,a&&(d*=-1),d<0)t=this.isReverse_?t.left:t.right;else{if(0===d){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Xf,qr=(()=>{class n{constructor(e,r,a,c,d){this.key=e,this.value=r,this.color=null!=a?a:n.RED,this.left=null!=c?c:Zn.EMPTY_NODE,this.right=null!=d?d:Zn.EMPTY_NODE}copy(e,r,a,c,d){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=d?d:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let c=this;const d=a(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,r,a),null):0===d?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let a,c;if(a=this,r(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===r(e,a.key)){if(a.right.isEmpty())return Zn.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Zn{constructor(t,e=Zn.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Zn(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,qr.BLACK,null,null))}remove(t){return new Zn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,qr.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,a=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(a=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Fc(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Fc(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Fc(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Fc(this.root_,null,this.comparator_,!0,t)}}function ys(n,t){return Qn(n.name,t.name)}function Ja(n,t){return Qn(n,t)}Zn.EMPTY_NODE=new class f_{copy(t,e,r,a,c){return this}insert(t,e,r){return new qr(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const uC=function(n){return"number"==typeof n?"number:"+VE(n):"string:"+n},Id=function(n){if(n.isLeafNode()){const t=n.val();(0,W.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,W.r3)(t,".sv"),"Priority must be a string or number.")}else(0,W.hu)(n===Xf||n.isEmpty(),"priority of unexpected type.");(0,W.hu)(n===Xf||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Jf,el,p_,Xs=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,W.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Id(this.priorityNode_)}static set __childrenNodeConstructor(e){Jf=e}static get __childrenNodeConstructor(){return Jf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return tt(e)?this:".priority"===ct(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const a=ct(e);return null===a?r:r.isEmpty()&&".priority"!==a?this:((0,W.hu)(".priority"!==a||1===Zs(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(kt(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+uC(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?VE(this.value_):this.value_,this.lazyHash_=Vm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,W.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),d=n.VALUE_TYPE_ORDER.indexOf(a);return(0,W.hu)(c>=0,"Unknown leaf type: "+r),(0,W.hu)(d>=0,"Unknown leaf type: "+a),c===d?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ut=new class m_ extends Xa{compare(t,e){const r=t.node.getPriority(),a=e.node.getPriority(),c=r.compareTo(a);return 0===c?Qn(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return pt.MIN}maxPost(){return new pt(Gr,new Xs("[PRIORITY-POST]",p_))}makePost(t,e){const r=el(t);return new pt(e,new Xs("[PRIORITY-POST]",r))}toString(){return".priority"}},dC=Math.log(2);class tp{constructor(t){this.count=parseInt(Math.log(t+1)/dC,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Md=function(n,t,e,r){n.sort(t);const a=function(_,C){const S=C-_;let T,P;if(0===S)return null;if(1===S)return T=n[_],P=e?e(T):T,new qr(P,T.node,qr.BLACK,null,null);{const z=parseInt(S/2,10)+_,X=a(_,z),Ce=a(z+1,C);return T=n[z],P=e?e(T):T,new qr(P,T.node,qr.BLACK,X,Ce)}},f=function(_){let C=null,S=null,T=n.length;const P=function(X,Ce){const Ve=T-X,bt=T;T-=X;const yt=a(Ve+1,bt),tn=n[Ve],nn=e?e(tn):tn;z(new qr(nn,tn.node,Ce,null,yt))},z=function(X){C?(C.left=X,C=X):(S=X,C=X)};for(let X=0;X<_.count;++X){const Ce=_.nextBitIsOne(),Ve=Math.pow(2,_.count-(X+1));Ce?P(Ve,qr.BLACK):(P(Ve,qr.BLACK),P(Ve,qr.RED))}return S}(new tp(n.length));return new Zn(r||t,f)};let np;const Uo={};class dr{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,W.hu)(Uo&&Ut,"ChildrenNode.ts has not been loaded"),np=np||new dr({".priority":Uo},{".priority":Ut}),np}get(t){const e=(0,W.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Zn?e:null}hasIndex(t){return(0,W.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,W.hu)(t!==Ei,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const c=e.getIterator(pt.Wrap);let f,d=c.getNext();for(;d;)a=a||t.isDefinedOn(d.node),r.push(d),d=c.getNext();f=a?Md(r,t.getCompare()):Uo;const _=t.toString(),C=Object.assign({},this.indexSet_);C[_]=t;const S=Object.assign({},this.indexes_);return S[_]=f,new dr(S,C)}addToIndexes(t,e){const r=(0,W.UI)(this.indexes_,(a,c)=>{const d=(0,W.DV)(this.indexSet_,c);if((0,W.hu)(d,"Missing index implementation for "+c),a===Uo){if(d.isDefinedOn(t.node)){const f=[],_=e.getIterator(pt.Wrap);let C=_.getNext();for(;C;)C.name!==t.name&&f.push(C),C=_.getNext();return f.push(t),Md(f,d.getCompare())}return Uo}{const f=e.get(t.name);let _=a;return f&&(_=_.remove(new pt(t.name,f))),_.insert(t,t.node)}});return new dr(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,W.UI)(this.indexes_,a=>{if(a===Uo)return a;{const c=e.get(t.name);return c?a.remove(new pt(t.name,c)):a}});return new dr(r,this.indexSet_)}}let tl,rt=(()=>{class n{constructor(e,r,a){this.children_=e,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&Id(this.priorityNode_),this.children_.isEmpty()&&(0,W.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return tl||(tl=new n(new Zn(Ja),null,dr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tl}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?tl:r}}getChild(e){const r=ct(e);return null===r?this:this.getImmediateChild(r).getChild(kt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,W.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const a=new pt(e,r);let c,d;r.isEmpty()?(c=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,r),d=this.indexMap_.addToIndexes(a,this.children_));const f=c.isEmpty()?tl:this.priorityNode_;return new n(c,f,d)}}updateChild(e,r){const a=ct(e);if(null===a)return r;{(0,W.hu)(".priority"!==ct(e)||1===Zs(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(kt(e),r);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let a=0,c=0,d=!0;if(this.forEachChild(Ut,(f,_)=>{r[f]=_.val(e),a++,d&&n.INTEGER_REGEXP_.test(f)?c=Math.max(c,Number(f)):d=!1}),!e&&d&&c<2*a){const f=[];for(const _ in r)f[_]=r[_];return f}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+uC(this.getPriority().val())+":"),this.forEachChild(Ut,(r,a)=>{const c=a.hash();""!==c&&(e+=":"+r+":"+c)}),this.lazyHash_=""===e?"":Vm(e)}return this.lazyHash_}getPredecessorChildName(e,r,a){const c=this.resolveIndex_(a);if(c){const d=c.getPredecessorKey(new pt(e,r));return d?d.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new pt(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new pt(r,this.children_.get(r)):null}forEachChild(e,r){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,pt.Wrap);let d=c.peek();for(;null!=d&&r.compare(d,e)<0;)c.getNext(),d=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,pt.Wrap);let d=c.peek();for(;null!=d&&r.compare(d,e)>0;)c.getNext(),d=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qi?-1:0}withIndex(e){if(e===Ei||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Ei||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const a=this.getIterator(Ut),c=r.getIterator(Ut);let d=a.getNext(),f=c.getNext();for(;d&&f;){if(d.name!==f.name||!d.node.equals(f.node))return!1;d=a.getNext(),f=c.getNext()}return null===d&&null===f}return!1}return!1}}resolveIndex_(e){return e===Ei?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Qi=new class hC extends rt{constructor(){super(new Zn(Ja),rt.EMPTY_NODE,dr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return rt.EMPTY_NODE}isEmpty(){return!1}};function Jt(n,t=null){if(null===n)return rt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,W.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Xs(n,Jt(t));if(n instanceof Array){let e=rt.EMPTY_NODE;return yn(n,(r,a)=>{if((0,W.r3)(n,r)&&"."!==r.substring(0,1)){const c=Jt(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(r,c))}}),e.updatePriority(Jt(t))}{const e=[];let r=!1;if(yn(n,(d,f)=>{if("."!==d.substring(0,1)){const _=Jt(f);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),e.push(new pt(d,_)))}}),0===e.length)return rt.EMPTY_NODE;const c=Md(e,ys,d=>d.name,Ja);if(r){const d=Md(e,Ut.getCompare());return new rt(c,Jt(t),new dr({".priority":d},{".priority":Ut}))}return new rt(c,Jt(t),dr.Default)}}Object.defineProperties(pt,{MIN:{value:new pt(ms,rt.EMPTY_NODE)},MAX:{value:new pt(Gr,Qi)}}),h_.__EMPTY_NODE=rt.EMPTY_NODE,Xs.__childrenNodeConstructor=rt,function cC(n){Xf=n}(Qi),function g_(n){p_=n}(Qi),function ep(n){el=n}(Jt);class rp extends Xa{constructor(t){super(),this.indexPath_=t,(0,W.hu)(!tt(t)&&".priority"!==ct(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),a=this.extractChild(e.node),c=r.compareTo(a);return 0===c?Qn(t.name,e.name):c}makePost(t,e){const r=Jt(t),a=rt.EMPTY_NODE.updateChild(this.indexPath_,r);return new pt(e,a)}maxPost(){const t=rt.EMPTY_NODE.updateChild(this.indexPath_,Qi);return new pt(Gr,t)}toString(){return Za(this.indexPath_,0).join("/")}}const Tr=new class pC extends Xa{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?Qn(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return pt.MIN}maxPost(){return pt.MAX}makePost(t,e){const r=Jt(t);return new pt(e,r)}toString(){return".value"}},Js="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",__=function(){let n=0;const t=[];return function(e){const r=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=Js.charAt(e%64),e=Math.floor(e/64);(0,W.hu)(0===e,"Cannot push at time == 0");let d=c.join("");if(r){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)d+=Js.charAt(t[a]);return(0,W.hu)(20===d.length,"nextPushId: Length should be 20."),d}}();function E_(n){return{type:"value",snapshotNode:n}}function nl(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function rl(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function xd(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class op{constructor(t){this.index_=t}updateChild(t,e,r,a,c,d){(0,W.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=t.getImmediateChild(e);return f.getChild(a).equals(r.getChild(a))&&f.isEmpty()===r.isEmpty()||(null!=d&&(r.isEmpty()?t.hasChild(e)?d.trackChildChange(rl(e,f)):(0,W.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?d.trackChildChange(nl(e,r)):d.trackChildChange(xd(e,r,f))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Ut,(a,c)=>{e.hasChild(a)||r.trackChildChange(rl(a,c))}),e.isLeafNode()||e.forEachChild(Ut,(a,c)=>{if(t.hasChild(a)){const d=t.getImmediateChild(a);d.equals(c)||r.trackChildChange(xd(a,c,d))}else r.trackChildChange(nl(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?rt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class kc{constructor(t){this.indexedFilter_=new op(t.getIndex()),this.index_=t.getIndex(),this.startPost_=kc.getStartPost_(t),this.endPost_=kc.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,a,c,d){return this.matches(new pt(e,r))||(r=rt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,a,c,d)}updateFullNode(t,e,r){e.isLeafNode()&&(e=rt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(rt.EMPTY_NODE);const c=this;return e.forEachChild(Ut,(d,f)=>{c.matches(new pt(d,f))||(a=a.updateImmediateChild(d,rt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class K0{constructor(t){this.rangedFilter_=new kc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,a,c,d){return this.rangedFilter_.matches(new pt(e,r))||(r=rt.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,a,c,d):this.fullLimitUpdateChild_(t,e,r,c,d)}updateFullNode(t,e,r){let a;if(e.isLeafNode()||e.isEmpty())a=rt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=rt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const f=c.getNext();let _;if(_=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),f)<=0:this.index_.compare(f,this.rangedFilter_.getEndPost())<=0,!_)break;a=a.updateImmediateChild(f.name,f.node),d++}}else{let c,d,f,_;if(a=e.withIndex(this.index_),a=a.updatePriority(rt.EMPTY_NODE),this.reverse_){_=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();const T=this.index_.getCompare();f=(P,z)=>T(z,P)}else _=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();let C=0,S=!1;for(;_.hasNext();){const T=_.getNext();!S&&f(c,T)<=0&&(S=!0),S&&C<this.limit_&&f(T,d)<=0?C++:a=a.updateImmediateChild(T.name,rt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,a,c){let d;if(this.reverse_){const T=this.index_.getCompare();d=(P,z)=>T(z,P)}else d=this.index_.getCompare();const f=t;(0,W.hu)(f.numChildren()===this.limit_,"");const _=new pt(e,r),C=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),S=this.rangedFilter_.matches(_);if(f.hasChild(e)){const T=f.getImmediateChild(e);let P=a.getChildAfterChild(this.index_,C,this.reverse_);for(;null!=P&&(P.name===e||f.hasChild(P.name));)P=a.getChildAfterChild(this.index_,P,this.reverse_);const z=null==P?1:d(P,_);if(S&&!r.isEmpty()&&z>=0)return null!=c&&c.trackChildChange(xd(e,r,T)),f.updateImmediateChild(e,r);{null!=c&&c.trackChildChange(rl(e,T));const Ce=f.updateImmediateChild(e,rt.EMPTY_NODE);return null!=P&&this.rangedFilter_.matches(P)?(null!=c&&c.trackChildChange(nl(P.name,P.node)),Ce.updateImmediateChild(P.name,P.node)):Ce}}return r.isEmpty()?t:S&&d(C,_)>=0?(null!=c&&(c.trackChildChange(rl(C.name,C.node)),c.trackChildChange(nl(e,r))),f.updateImmediateChild(e,r).updateImmediateChild(C.name,rt.EMPTY_NODE)):t}}class w_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ut}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ms}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,W.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ut}copy(){const t=new w_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function cp(n){const t={};if(n.isDefault())return t;let e;return n.index_===Ut?e="$priority":n.index_===Tr?e="$value":n.index_===Ei?e="$key":((0,W.hu)(n.index_ instanceof rp,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,W.Pz)(e),n.startSet_&&(t.startAt=(0,W.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,W.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,W.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,W.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function up(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Ut&&(t.i=n.index_.toString()),t}class Lc extends rC{constructor(t,e,r,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=et("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,W.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const d=Lc.getListenId_(t,r),f={};this.listens_[d]=f;const _=cp(t._queryParams);this.restRequest_(c+".json",_,(C,S)=>{let T=S;if(404===C&&(T=null,C=null),null===C&&this.onDataUpdate_(c,T,!1,r),(0,W.DV)(this.listens_,d)===f){let P;P=C?401===C?"permission_denied":"rest_error:"+C:"ok",a(P,null)}})}unlisten(t,e){const r=Lc.getListenId_(t,e);delete this.listens_[r]}get(t){const e=cp(t._queryParams),r=t._path.toString(),a=new W.BH;return this.restRequest_(r+".json",e,(c,d)=>{let f=d;404===c&&(f=null,c=null),null===c?(this.onDataUpdate_(r,f,!1,null),a.resolve(f)):a.reject(new Error(f))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,W.xO)(e);this.log_("Sending REST request for "+d);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&4===f.readyState){this.log_("REST Response for "+d+" received. status:",f.status,"response:",f.responseText);let _=null;if(f.status>=200&&f.status<300){try{_=(0,W.cI)(f.responseText)}catch(C){Mn("Failed to parse JSON response for "+d+": "+f.responseText)}r(null,_)}else 401!==f.status&&404!==f.status&&Mn("Got unsuccessful REST response for "+d+" Status: "+f.status),r(f.status);r=null}},f.open("GET",d,!0),f.send()})}}class mC{constructor(){this.rootNode_=rt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function dp(){return{value:null,children:new Map}}function Vo(n,t,e){if(tt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=ct(t);n.children.has(r)||n.children.set(r,dp()),Vo(n.children.get(r),t=kt(t),e)}}function hp(n,t,e){null!==n.value?e(t,n.value):function fp(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,a)=>{hp(a,new xt(t.toString()+"/"+r),e)})}class _C{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&yn(this.last_,(r,a)=>{e[r]=e[r]-a}),this.last_=t,e}}class EC{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new _C(t);const r=1e4+2e4*Math.random();Mc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;yn(t,(a,c)=>{c>0&&(0,W.r3)(this.statsToReport_,a)&&(e[a]=c,r=!0)}),r&&this.server_.reportStats(e),Mc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Kr=(()=>{return(n=Kr||(Kr={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Kr;var n})();function pp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class to{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Kr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(tt(this.path)){if(null!=this.affectedTree.value)return(0,W.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new xt(t));return new to(Dt(),e,this.revert)}}return(0,W.hu)(ct(this.path)===t,"operationForChild called for unrelated child."),new to(kt(this.path),this.affectedTree,this.revert)}}class jc{constructor(t,e){this.source=t,this.path=e,this.type=Kr.LISTEN_COMPLETE}operationForChild(t){return tt(this.path)?new jc(this.source,Dt()):new jc(this.source,kt(this.path))}}class $o{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Kr.OVERWRITE}operationForChild(t){return tt(this.path)?new $o(this.source,Dt(),this.snap.getImmediateChild(t)):new $o(this.source,kt(this.path),this.snap)}}class no{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Kr.MERGE}operationForChild(t){if(tt(this.path)){const e=this.children.subtree(new xt(t));return e.isEmpty()?null:e.value?new $o(this.source,Dt(),e.value):new no(this.source,Dt(),e)}return(0,W.hu)(ct(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new no(this.source,kt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xn{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(tt(t))return this.isFullyInitialized()&&!this.filtered_;const e=ct(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Hc{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Ci(n,t,e,r,a,c){const d=r.filter(f=>f.type===e);d.sort((f,_)=>function Yr(n,t,e){if(null==t.childName||null==e.childName)throw(0,W.g5)("Should only compare child_ events.");const r=new pt(t.childName,t.snapshotNode),a=new pt(e.childName,e.snapshotNode);return n.index_.compare(r,a)}(n,f,_)),d.forEach(f=>{const _=function Pd(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,f,c);a.forEach(C=>{C.respondsTo(f.type)&&t.push(C.createEvent(_,n.query_))})})}function sl(n,t){return{eventCache:n,serverCache:t}}function Zi(n,t,e,r){return sl(new xn(t,e,r),n.serverCache)}function zo(n,t,e,r){return sl(n.eventCache,new xn(t,e,r))}function vs(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Qr(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let ro;class Tt{constructor(t,e=(()=>(ro||(ro=new Zn(xf)),ro))()){this.value=t,this.children=e}static fromObject(t){let e=new Tt(null);return yn(t,(r,a)=>{e=e.set(new xt(r),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Dt(),value:this.value};if(tt(t))return null;{const r=ct(t),a=this.children.get(r);if(null!==a){const c=a.findRootMostMatchingPathAndValue(kt(t),e);return null!=c?{path:Kt(new xt(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(tt(t))return this;{const e=ct(t),r=this.children.get(e);return null!==r?r.subtree(kt(t)):new Tt(null)}}set(t,e){if(tt(t))return new Tt(e,this.children);{const r=ct(t),c=(this.children.get(r)||new Tt(null)).set(kt(t),e),d=this.children.insert(r,c);return new Tt(this.value,d)}}remove(t){if(tt(t))return this.children.isEmpty()?new Tt(null):new Tt(null,this.children);{const e=ct(t),r=this.children.get(e);if(r){const a=r.remove(kt(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new Tt(null):new Tt(this.value,c)}return this}}get(t){if(tt(t))return this.value;{const e=ct(t),r=this.children.get(e);return r?r.get(kt(t)):null}}setTree(t,e){if(tt(t))return e;{const r=ct(t),c=(this.children.get(r)||new Tt(null)).setTree(kt(t),e);let d;return d=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new Tt(this.value,d)}}fold(t){return this.fold_(Dt(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((a,c)=>{r[a]=c.fold_(Kt(t,a),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Dt(),e)}findOnPath_(t,e,r){const a=!!this.value&&r(e,this.value);if(a)return a;if(tt(t))return null;{const c=ct(t),d=this.children.get(c);return d?d.findOnPath_(kt(t),Kt(e,c),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Dt(),e)}foreachOnPath_(t,e,r){if(tt(t))return this;{this.value&&r(e,this.value);const a=ct(t),c=this.children.get(a);return c?c.foreachOnPath_(kt(t),Kt(e,a),r):new Tt(null)}}foreach(t){this.foreach_(Dt(),t)}foreach_(t,e){this.children.inorderTraversal((r,a)=>{a.foreach_(Kt(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class $n{constructor(t){this.writeTree_=t}static empty(){return new $n(new Tt(null))}}function Xi(n,t,e){if(tt(t))return new $n(new Tt(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let c=r.value;const d=An(a,t);return c=c.updateChild(d,e),new $n(n.writeTree_.set(a,c))}{const a=new Tt(e),c=n.writeTree_.setTree(t,a);return new $n(c)}}}function Od(n,t,e){let r=n;return yn(e,(a,c)=>{r=Xi(r,Kt(t,a),c)}),r}function gp(n,t){if(tt(t))return $n.empty();{const e=n.writeTree_.setTree(t,new Tt(null));return new $n(e)}}function Nd(n,t){return null!=io(n,t)}function io(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(An(e.path,t)):null}function mp(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ut,(r,a)=>{t.push(new pt(r,a))}):n.writeTree_.children.inorderTraversal((r,a)=>{null!=a.value&&t.push(new pt(r,a.value))}),t}function Es(n,t){if(tt(t))return n;{const e=io(n,t);return new $n(null!=e?new Tt(e):n.writeTree_.subtree(t))}}function Fd(n){return n.writeTree_.isEmpty()}function Wo(n,t){return _p(Dt(),n.writeTree_,t)}function _p(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,W.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):e=_p(Kt(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Kt(n,".priority"),r)),e}}function kd(n,t){return R_(t,n)}function wC(n,t){if(n.snap)return vi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&vi(Kt(n.path,e),t))return!0;return!1}function M_(n){return n.visible}function A_(n,t,e){let r=$n.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const d=c.path;let f;if(c.snap)vi(e,d)?(f=An(e,d),r=Xi(r,f,c.snap)):vi(d,e)&&(f=An(d,e),r=Xi(r,Dt(),c.snap.getChild(f)));else{if(!c.children)throw(0,W.g5)("WriteRecord should have .snap or .children");if(vi(e,d))f=An(e,d),r=Od(r,f,c.children);else if(vi(d,e))if(f=An(d,e),tt(f))r=Od(r,Dt(),c.children);else{const _=(0,W.DV)(c.children,ct(f));if(_){const C=_.getChild(kt(f));r=Xi(r,Dt(),C)}}}}}return r}function yp(n,t,e,r,a){if(r||a){const c=Es(n.visibleWrites,t);return!a&&Fd(c)?e:a||null!=e||Nd(c,Dt())?Wo(A_(n.allWrites,function(C){return(C.visible||a)&&(!r||!~r.indexOf(C.writeId))&&(vi(C.path,t)||vi(t,C.path))},t),e||rt.EMPTY_NODE):null}{const c=io(n.visibleWrites,t);if(null!=c)return c;{const d=Es(n.visibleWrites,t);return Fd(d)?e:null!=e||Nd(d,Dt())?Wo(d,e||rt.EMPTY_NODE):null}}}function Ld(n,t,e,r){return yp(n.writeTree,n.treePath,t,e,r)}function x_(n,t){return function DC(n,t,e){let r=rt.EMPTY_NODE;const a=io(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Ut,(c,d)=>{r=r.updateImmediateChild(c,d)}),r;if(e){const c=Es(n.visibleWrites,t);return e.forEachChild(Ut,(d,f)=>{const _=Wo(Es(c,new xt(d)),f);r=r.updateImmediateChild(d,_)}),mp(c).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}return mp(Es(n.visibleWrites,t)).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}(n.writeTree,n.treePath,t)}function IC(n,t,e,r){return function SC(n,t,e,r,a){(0,W.hu)(r||a,"Either existingEventSnap or existingServerSnap must exist");const c=Kt(t,e);if(Nd(n.visibleWrites,c))return null;{const d=Es(n.visibleWrites,c);return Fd(d)?a.getChild(e):Wo(d,a.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function Cp(n,t){return function TC(n,t){return io(n.visibleWrites,t)}(n.writeTree,Kt(n.treePath,t))}function Bd(n,t,e){return function Z0(n,t,e,r){const a=Kt(t,e),c=io(n.visibleWrites,a);return null!=c?c:r.isCompleteForChild(e)?Wo(Es(n.visibleWrites,a),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function AC(n,t){return R_(Kt(n.treePath,t),n.writeTree)}function R_(n,t){return{treePath:n,writeTree:t}}class al{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,W.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,W.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(r,xd(r,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(r,rl(r,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(r,nl(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,W.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(r,xd(r,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const wp=new class xC{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class bp{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new xn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bd(this.writes_,t,r)}}getChildAfterChild(t,e,r){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qr(this.viewCache_),c=function MC(n,t,e,r,a,c){return function vp(n,t,e,r,a,c,d){let f;const _=Es(n.visibleWrites,t),C=io(_,Dt());if(null!=C)f=C;else{if(null==e)return[];f=Wo(_,e)}if(f=f.withIndex(d),f.isEmpty()||f.isLeafNode())return[];{const S=[],T=d.getCompare(),P=c?f.getReverseIteratorFrom(r,d):f.getIteratorFrom(r,d);let z=P.getNext();for(;z&&S.length<a;)0!==T(z,r)&&S.push(z),z=P.getNext();return S}}(n.writeTree,n.treePath,t,e,r,a,c)}(this.writes_,a,e,1,r,t);return 0===c.length?null:c[0]}}function N_(n,t,e,r,a,c){const d=t.eventCache;if(null!=Cp(r,e))return t;{let f,_;if(tt(e))if((0,W.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const C=Qr(t),T=x_(r,C instanceof rt?C:rt.EMPTY_NODE);f=n.filter.updateFullNode(t.eventCache.getNode(),T,c)}else{const C=Ld(r,Qr(t));f=n.filter.updateFullNode(t.eventCache.getNode(),C,c)}else{const C=ct(e);if(".priority"===C){(0,W.hu)(1===Zs(e),"Can't have a priority with additional path components");const S=d.getNode();_=t.serverCache.getNode();const T=IC(r,e,S,_);f=null!=T?n.filter.updatePriority(S,T):d.getNode()}else{const S=kt(e);let T;if(d.isCompleteForChild(C)){_=t.serverCache.getNode();const P=IC(r,e,d.getNode(),_);T=null!=P?d.getNode().getImmediateChild(C).updateChild(S,P):d.getNode().getImmediateChild(C)}else T=Bd(r,C,t.serverCache);f=null!=T?n.filter.updateChild(d.getNode(),C,T,S,a,c):d.getNode()}}return Zi(t,f,d.isFullyInitialized()||tt(e),n.filter.filtersNodes())}}function Hd(n,t,e,r,a,c,d,f){const _=t.serverCache;let C;const S=d?n.filter:n.filter.getIndexedFilter();if(tt(e))C=S.updateFullNode(_.getNode(),r,null);else if(S.filtersNodes()&&!_.isFiltered()){const z=_.getNode().updateChild(e,r);C=S.updateFullNode(_.getNode(),z,null)}else{const z=ct(e);if(!_.isCompleteForPath(e)&&Zs(e)>1)return t;const X=kt(e),Ve=_.getNode().getImmediateChild(z).updateChild(X,r);C=".priority"===z?S.updatePriority(_.getNode(),Ve):S.updateChild(_.getNode(),z,Ve,X,wp,null)}const T=zo(t,C,_.isFullyInitialized()||tt(e),S.filtersNodes());return N_(n,T,e,a,new bp(a,T,c),f)}function Dp(n,t,e,r,a,c,d){const f=t.eventCache;let _,C;const S=new bp(a,t,c);if(tt(e))C=n.filter.updateFullNode(t.eventCache.getNode(),r,d),_=Zi(t,C,!0,n.filter.filtersNodes());else{const T=ct(e);if(".priority"===T)C=n.filter.updatePriority(t.eventCache.getNode(),r),_=Zi(t,C,f.isFullyInitialized(),f.isFiltered());else{const P=kt(e),z=f.getNode().getImmediateChild(T);let X;if(tt(P))X=r;else{const Ce=S.getCompleteChild(T);X=null!=Ce?".priority"===zf(P)&&Ce.getChild(Wf(P)).isEmpty()?Ce:Ce.updateChild(P,r):rt.EMPTY_NODE}_=z.equals(X)?t:Zi(t,n.filter.updateChild(f.getNode(),T,X,P,S,d),f.isFullyInitialized(),n.filter.filtersNodes())}}return _}function F_(n,t){return n.eventCache.isCompleteForChild(t)}function Sp(n,t,e){return e.foreach((r,a)=>{t=t.updateChild(r,a)}),t}function Tp(n,t,e,r,a,c,d,f){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let C,_=t;C=tt(e)?r:new Tt(null).setTree(e,r);const S=t.serverCache.getNode();return C.children.inorderTraversal((T,P)=>{if(S.hasChild(T)){const X=Sp(0,t.serverCache.getNode().getImmediateChild(T),P);_=Hd(n,_,new xt(T),X,a,c,d,f)}}),C.children.inorderTraversal((T,P)=>{const z=!t.serverCache.isCompleteForChild(T)&&null===P.value;if(!S.hasChild(T)&&!z){const Ce=Sp(0,t.serverCache.getNode().getImmediateChild(T),P);_=Hd(n,_,new xt(T),Ce,a,c,d,f)}}),_}class X0{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new op(r.getIndex()),c=function ap(n){return n.loadsAllData()?new op(n.getIndex()):n.hasLimit()?new K0(n):new kc(n)}(r);this.processor_=function P_(n){return{filter:n}}(c);const d=e.serverCache,f=e.eventCache,_=a.updateFullNode(rt.EMPTY_NODE,d.getNode(),null),C=c.updateFullNode(rt.EMPTY_NODE,f.getNode(),null),S=new xn(_,d.isFullyInitialized(),a.filtersNodes()),T=new xn(C,f.isFullyInitialized(),c.filtersNodes());this.viewCache_=sl(T,S),this.eventGenerator_=new Hc(this.query_)}get query(){return this.query_}}function J0(n,t){const e=Qr(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!tt(t)&&!e.getImmediateChild(ct(t)).isEmpty())?e.getChild(t):null}function ll(n){return 0===n.eventRegistrations_.length}function Ud(n,t,e){const r=[];if(e){(0,W.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(e,a);d&&r.push(d)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const d=n.eventRegistrations_[c];if(d.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(d)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return r}function Vd(n,t,e,r){t.type===Kr.MERGE&&null!==t.source.queryId&&((0,W.hu)(Qr(n.viewCache_),"We should always have a full cache before handling merges"),(0,W.hu)(vs(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function RC(n,t,e,r,a){const c=new al;let d,f;if(e.type===Kr.OVERWRITE){const C=e;C.source.fromUser?d=Dp(n,t,C.path,C.snap,r,a,c):((0,W.hu)(C.source.fromServer,"Unknown source."),f=C.source.tagged||t.serverCache.isFiltered()&&!tt(C.path),d=Hd(n,t,C.path,C.snap,r,a,f,c))}else if(e.type===Kr.MERGE){const C=e;C.source.fromUser?d=function PC(n,t,e,r,a,c,d){let f=t;return r.foreach((_,C)=>{const S=Kt(e,_);F_(t,ct(S))&&(f=Dp(n,f,S,C,a,c,d))}),r.foreach((_,C)=>{const S=Kt(e,_);F_(t,ct(S))||(f=Dp(n,f,S,C,a,c,d))}),f}(n,t,C.path,C.children,r,a,c):((0,W.hu)(C.source.fromServer,"Unknown source."),f=C.source.tagged||t.serverCache.isFiltered(),d=Tp(n,t,C.path,C.children,r,a,f,c))}else if(e.type===Kr.ACK_USER_WRITE){const C=e;d=C.revert?function Ip(n,t,e,r,a,c){let d;if(null!=Cp(r,e))return t;{const f=new bp(r,t,a),_=t.eventCache.getNode();let C;if(tt(e)||".priority"===ct(e)){let S;if(t.serverCache.isFullyInitialized())S=Ld(r,Qr(t));else{const T=t.serverCache.getNode();(0,W.hu)(T instanceof rt,"serverChildren would be complete if leaf node"),S=x_(r,T)}S=S,C=n.filter.updateFullNode(_,S,c)}else{const S=ct(e);let T=Bd(r,S,t.serverCache);null==T&&t.serverCache.isCompleteForChild(S)&&(T=_.getImmediateChild(S)),C=null!=T?n.filter.updateChild(_,S,T,kt(e),f,c):t.eventCache.getNode().hasChild(S)?n.filter.updateChild(_,S,rt.EMPTY_NODE,kt(e),f,c):_,C.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Ld(r,Qr(t)),d.isLeafNode()&&(C=n.filter.updateFullNode(C,d,c)))}return d=t.serverCache.isFullyInitialized()||null!=Cp(r,Dt()),Zi(t,C,d,n.filter.filtersNodes())}}(n,t,C.path,r,a,c):function k_(n,t,e,r,a,c,d){if(null!=Cp(a,e))return t;const f=t.serverCache.isFiltered(),_=t.serverCache;if(null!=r.value){if(tt(e)&&_.isFullyInitialized()||_.isCompleteForPath(e))return Hd(n,t,e,_.getNode().getChild(e),a,c,f,d);if(tt(e)){let C=new Tt(null);return _.getNode().forEachChild(Ei,(S,T)=>{C=C.set(new xt(S),T)}),Tp(n,t,e,C,a,c,f,d)}return t}{let C=new Tt(null);return r.foreach((S,T)=>{const P=Kt(e,S);_.isCompleteForPath(P)&&(C=C.set(S,_.getNode().getChild(P)))}),Tp(n,t,e,C,a,c,f,d)}}(n,t,C.path,C.affectedTree,r,a,c)}else{if(e.type!==Kr.LISTEN_COMPLETE)throw(0,W.g5)("Unknown operation type: "+e.type);d=function L_(n,t,e,r,a){const c=t.serverCache;return N_(n,zo(t,c.getNode(),c.isFullyInitialized()||tt(e),c.isFiltered()),e,r,wp,a)}(n,t,e.path,r,c)}const _=c.getChanges();return function O_(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=vs(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&e.push(E_(vs(t)))}}(t,d,_),{viewCache:d,changes:_}}(n.processor_,a,t,e,r);return function jd(n,t){(0,W.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,W.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,W.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,Uc(n,c.changes,c.viewCache.eventCache.getNode(),null)}function Uc(n,t,e,r){return function Vn(n,t,e,r){const a=[],c=[];return t.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(function C_(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(d.childName,d.snapshotNode))}),Ci(n,a,"child_removed",t,r,e),Ci(n,a,"child_added",t,r,e),Ci(n,a,"child_moved",c,r,e),Ci(n,a,"child_changed",t,r,e),Ci(n,a,"value",t,r,e),a}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let Go,zc;class $d{constructor(){this.views=new Map}}function Vc(n,t,e,r){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,W.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Vd(c,t,e,r)}{let c=[];for(const d of n.views.values())c=c.concat(Vd(d,t,e,r));return c}}function j_(n,t,e,r,a,c){const d=function xp(n,t,e,r,a){const d=n.views.get(t._queryIdentifier);if(!d){let f=Ld(e,a?r:null),_=!1;f?_=!0:r instanceof rt?(f=x_(e,r),_=!1):(f=rt.EMPTY_NODE,_=!1);const C=sl(new xn(f,_,!1),new xn(r,a,!1));return new X0(t,C)}return d}(n,t,r,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,d),function B_(n,t){n.eventRegistrations_.push(t)}(d,e),function NC(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ut,(c,d)=>{r.push(nl(c,d))}),e.isFullyInitialized()&&r.push(E_(e.getNode())),Uc(n,r,e.getNode(),t)}(d,e)}function Pp(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Cs(n,t){let e=null;for(const r of n.views.values())e=e||J0(r,t);return e}function zd(n,t){return t._queryParams.loadsAllData()?$c(n):n.views.get(t._queryIdentifier)}function Wd(n,t){return null!=zd(n,t)}function so(n){return null!=$c(n)}function $c(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let kC=1;class Np{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Tt(null),this.pendingWriteTree_=function Ep(){return{visibleWrites:$n.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Gd(n,t,e,r,a){return function S_(n,t,e,r,a){(0,W.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:a}),a&&(n.visibleWrites=Xi(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,a),a?ul(n,new $o({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ji(n,t,e=!1){const r=function T_(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function I_(n,t){const e=n.allWrites.findIndex(f=>f.writeId===t);(0,W.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let a=r.visible,c=!1,d=n.allWrites.length-1;for(;a&&d>=0;){const f=n.allWrites[d];f.visible&&(d>=e&&wC(f,r.path)?a=!1:vi(r.path,f.path)&&(c=!0)),d--}return!!a&&(c?(function bC(n){n.visibleWrites=A_(n.allWrites,M_,Dt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=gp(n.visibleWrites,r.path):yn(r.children,_=>{n.visibleWrites=gp(n.visibleWrites,Kt(r.path,_))}),!0))}(n.pendingWriteTree_,t)){let c=new Tt(null);return null!=r.snap?c=c.set(Dt(),!0):yn(r.children,d=>{c=c.set(new xt(d),!0)}),ul(n,new to(r.path,c,e))}return[]}function cl(n,t,e){return ul(n,new $o({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Wc(n,t,e,r,a=!1){const c=t._path,d=n.syncPointTree_.get(c);let f=[];if(d&&("default"===t._queryIdentifier||Wd(d,t))){const _=function Rp(n,t,e,r){const a=t._queryIdentifier,c=[];let d=[];const f=so(n);if("default"===a)for(const[_,C]of n.views.entries())d=d.concat(Ud(C,e,r)),ll(C)&&(n.views.delete(_),C.query._queryParams.loadsAllData()||c.push(C.query));else{const _=n.views.get(a);_&&(d=d.concat(Ud(_,e,r)),ll(_)&&(n.views.delete(a),_.query._queryParams.loadsAllData()||c.push(_.query)))}return f&&!so(n)&&c.push(new(function FC(){return(0,W.hu)(Go,"Reference.ts has not been loaded"),Go}())(t._repo,t._path)),{removed:c,events:d}}(d,t,e,r);(function Ap(n){return 0===n.views.size})(d)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const C=_.removed;if(f=_.events,!a){const S=-1!==C.findIndex(P=>P._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(c,(P,z)=>so(z));if(S&&!T){const P=n.syncPointTree_.subtree(c);if(!P.isEmpty()){const z=function q_(n){return n.fold((t,e,r)=>{if(e&&so(e))return[$c(e)];{let a=[];return e&&(a=Pp(e)),yn(r,(c,d)=>{a=a.concat(d)}),a}})}(P);for(let X=0;X<z.length;++X){const Ce=z[X],Ve=Ce.query,bt=gn(n,Ce);n.listenProvider_.startListening(hl(Ve),dl(n,Ve),bt.hashFn,bt.onComplete)}}}!T&&C.length>0&&!r&&(S?n.listenProvider_.stopListening(hl(t),null):C.forEach(P=>{const z=n.queryToTagMap.get(Kd(P));n.listenProvider_.stopListening(hl(P),z)}))}!function fl(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const a=Kd(r),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,C)}return f}function qd(n,t,e,r=!1){const a=t._path;let c=null,d=!1;n.syncPointTree_.foreachOnPath(a,(P,z)=>{const X=An(P,a);c=c||Cs(z,X),d=d||so(z)});let _,f=n.syncPointTree_.get(a);f?(d=d||so(f),c=c||Cs(f,Dt())):(f=new $d,n.syncPointTree_=n.syncPointTree_.set(a,f)),null!=c?_=!0:(_=!1,c=rt.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((z,X)=>{const Ce=Cs(X,Dt());Ce&&(c=c.updateImmediateChild(z,Ce))}));const C=Wd(f,t);if(!C&&!t._queryParams.loadsAllData()){const P=Kd(t);(0,W.hu)(!n.queryToTagMap.has(P),"View does not exist, but we have a tag");const z=function BC(){return kC++}();n.queryToTagMap.set(P,z),n.tagToQueryMap.set(z,P)}let T=j_(f,t,e,kd(n.pendingWriteTree_,a),c,_);if(!C&&!d&&!r){const P=zd(f,t);T=T.concat(function jC(n,t,e){const r=t._path,a=dl(n,t),c=gn(n,e),d=n.listenProvider_.startListening(hl(t),a,c.hashFn,c.onComplete),f=n.syncPointTree_.subtree(r);if(a)(0,W.hu)(!so(f.value),"If we're adding a query, it shouldn't be shadowed");else{const _=f.fold((C,S,T)=>{if(!tt(C)&&S&&so(S))return[$c(S).query];{let P=[];return S&&(P=P.concat(Pp(S).map(z=>z.query))),yn(T,(z,X)=>{P=P.concat(X)}),P}});for(let C=0;C<_.length;++C){const S=_[C];n.listenProvider_.stopListening(hl(S),dl(n,S))}}return d}(n,t,P))}return T}function kp(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(d,f)=>{const C=Cs(f,An(d,t));if(C)return C});return yp(a,t,c,e,!0)}function ul(n,t){return Lp(t,n.syncPointTree_,null,kd(n.pendingWriteTree_,Dt()))}function Lp(n,t,e,r){if(tt(n.path))return G_(n,t,e,r);{const a=t.get(Dt());null==e&&null!=a&&(e=Cs(a,Dt()));let c=[];const d=ct(n.path),f=n.operationForChild(d),_=t.children.get(d);if(_&&f){const C=e?e.getImmediateChild(d):null,S=AC(r,d);c=c.concat(Lp(f,_,C,S))}return a&&(c=c.concat(Vc(a,n,r,e))),c}}function G_(n,t,e,r){const a=t.get(Dt());null==e&&null!=a&&(e=Cs(a,Dt()));let c=[];return t.children.inorderTraversal((d,f)=>{const _=e?e.getImmediateChild(d):null,C=AC(r,d),S=n.operationForChild(d);S&&(c=c.concat(G_(S,f,_,C)))}),a&&(c=c.concat(Vc(a,n,r,e))),c}function gn(n,t){const e=t.query,r=dl(n,e);return{hashFn:()=>(function Mp(n){return n.viewCache_.serverCache.getNode()}(t)||rt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return r?function z_(n,t,e){const r=Bp(n,e);if(r){const a=Yd(r),c=a.path,d=a.queryId,f=An(c,t);return jp(n,c,new jc(pp(d),f))}return[]}(n,e._path,r):function $_(n,t){return ul(n,new jc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function Rf(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(a,e);return Wc(n,e,null,c)}}}}function dl(n,t){const e=Kd(t);return n.queryToTagMap.get(e)}function Kd(n){return n._path.toString()+"$"+n._queryIdentifier}function Bp(n,t){return n.tagToQueryMap.get(t)}function Yd(n){const t=n.indexOf("$");return(0,W.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new xt(n.substr(0,t))}}function jp(n,t,e){const r=n.syncPointTree_.get(t);return(0,W.hu)(r,"Missing sync point for query tag that we're tracking"),Vc(r,e,kd(n.pendingWriteTree_,t),null)}function hl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function H_(){return(0,W.hu)(zc,"Reference.ts has not been loaded"),zc}())(n._repo,n._path):n}class Qd{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Qd(e)}node(){return this.node_}}class Hp{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Kt(this.path_,t);return new Hp(this.syncTree_,e)}node(){return kp(this.syncTree_,this.path_)}}const HC=function(n,t,e){return n&&"object"==typeof n?((0,W.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Up(n[".sv"],t,e):"object"==typeof n[".sv"]?Vp(n[".sv"],t):void(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Up=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,W.hu)(!1,"Unexpected server value: "+n)},Vp=function(n,t,e){n.hasOwnProperty("increment")||(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,W.hu)(!1,"Unexpected increment value: "+r);const a=t.node();if((0,W.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const d=a.getValue();return"number"!=typeof d?r:d+r},$p=function(n,t,e){return zp(n,new Qd(t),e)};function zp(n,t,e){const r=n.getPriority().val(),a=HC(r,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const d=n,f=HC(d.getValue(),t,e);return f!==d.getValue()||a!==d.getPriority().val()?new Xs(f,Jt(a)):n}{const d=n;return c=d,a!==d.getPriority().val()&&(c=c.updatePriority(new Xs(a))),d.forEachChild(Ut,(f,_)=>{const C=zp(_,t.getImmediateChild(f),e);C!==_&&(c=c.updateImmediateChild(f,C))}),c}}class Zr{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function hr(n,t){let e=t instanceof xt?t:new xt(t),r=n,a=ct(e);for(;null!==a;){const c=(0,W.DV)(r.node.children,a)||{children:{},childCount:0};r=new Zr(a,r,c),e=kt(e),a=ct(e)}return r}function Rn(n){return n.node.value}function Zd(n,t){n.node.value=t,Ko(n)}function Wp(n){return n.node.childCount>0}function Xd(n,t){yn(n.node.children,(e,r)=>{t(new Zr(e,n,r))})}function Y_(n,t,e,r){e&&!r&&t(n),Xd(n,a=>{Y_(a,t,!0,r)}),e&&r&&t(n)}function qo(n){return new xt(null===n.parent?n.name:qo(n.parent)+"/"+n.name)}function Ko(n){null!==n.parent&&function $C(n,t,e){const r=function UC(n){return void 0===Rn(n)&&!Wp(n)}(e),a=(0,W.r3)(n.node.children,t);r&&a?(delete n.node.children[t],n.node.childCount--,Ko(n)):!r&&!a&&(n.node.children[t]=e.node,n.node.childCount++,Ko(n))}(n.parent,n.name,n)}const Q_=/[\[\].#$\/\u0000-\u001F\u007F]/,zC=/[\[\].#$\u0000-\u001F\u007F]/,Jd=10485760,Gc=function(n){return"string"==typeof n&&0!==n.length&&!Q_.test(n)},qc=function(n){return"string"==typeof n&&0!==n.length&&!zC.test(n)},bi=function(n,t,e,r){r&&void 0===t||Yo((0,W.gK)(n,"value"),t,e)},Yo=function(n,t,e){const r=e instanceof xt?new u_(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+_s(r));if("function"==typeof t)throw new Error(n+"contains a function "+_s(r)+" with contents = "+t.toString());if(cr(t))throw new Error(n+"contains "+t.toString()+" "+_s(r));if("string"==typeof t&&t.length>Jd/3&&(0,W.ug)(t)>Jd)throw new Error(n+"contains a string greater than "+Jd+" utf8 bytes "+_s(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(yn(t,(d,f)=>{if(".value"===d)a=!0;else if(".priority"!==d&&".sv"!==d&&(c=!0,!Gc(d)))throw new Error(n+" contains an invalid key ("+d+") "+_s(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function oC(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,W.ug)(t),d_(n)})(r,d),Yo(n,f,r),function aC(n){const t=n.parts_.pop();n.byteLength_-=(0,W.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),a&&c)throw new Error(n+' contains ".value" child '+_s(r)+" in addition to actual children.")}},nh=function(n,t,e,r){if(!(r&&void 0===e||qc(e)))throw new Error((0,W.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Di=function(n,t){if(".info"===ct(t))throw new Error(n+" failed = Can't modify data under /.info/")};class X_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rh(n,t){let e=null;for(let r=0;r<t.length;r++){const a=t[r],c=a.getPath();null!==e&&!Gf(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function J_(n,t,e){rh(n,e),ey(n,r=>Gf(r,t))}function Mr(n,t,e){rh(n,e),ey(n,r=>vi(r,t)||vi(t,r))}function ey(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const a=n.eventLists_[r];a&&(t(a.path)?(GC(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function GC(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Ks&&bn("event: "+e.toString()),Ga(r)}}}class KC{constructor(t,e,r,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new X_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dp(),this.transactionQueueTree_=new Zr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ny(n){const e=n.infoData_.getNode(new xt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Kc(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:ny(n)})}function ry(n,t,e,r,a){n.dataUpdateCount++;const c=new xt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let d=[];if(a)if(r){const _=(0,W.UI)(e,C=>Jt(C));d=function W_(n,t,e,r){const a=Bp(n,r);if(a){const c=Yd(a),d=c.path,f=c.queryId,_=An(d,t),C=Tt.fromObject(e);return jp(n,d,new no(pp(f),_,C))}return[]}(n.serverSyncTree_,c,_,a)}else{const _=Jt(e);d=function Fp(n,t,e,r){const a=Bp(n,r);if(null!=a){const c=Yd(a),d=c.path,f=c.queryId,_=An(d,t);return jp(n,d,new $o(pp(f),_,e))}return[]}(n.serverSyncTree_,c,_,a)}else if(r){const _=(0,W.UI)(e,C=>Jt(C));d=function V_(n,t,e){const r=Tt.fromObject(e);return ul(n,new no({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,c,_)}else{const _=Jt(e);d=cl(n.serverSyncTree_,c,_)}let f=c;d.length>0&&(f=ao(n,c)),Mr(n.eventQueue_,f,d)}function iy(n,t){Kp(n,"connected",t),!1===t&&function oy(n){oo(n,"onDisconnectEvents");const t=Kc(n),e=dp();hp(n.onDisconnect_,Dt(),(a,c)=>{const d=function(n,t,e,r){return zp(t,new Hp(e,n),r)}(a,c,n.serverSyncTree_,t);Vo(e,a,d)});let r=[];hp(e,Dt(),(a,c)=>{r=r.concat(cl(n.serverSyncTree_,a,c));const d=tg(n,a);ao(n,d)}),n.onDisconnect_=dp(),Mr(n.eventQueue_,Dt(),r)}(n)}function Kp(n,t,e){const r=new xt("/.info/"+t),a=Jt(e);n.infoData_.updateSnapshot(r,a);const c=cl(n.infoSyncTree_,r,a);Mr(n.eventQueue_,r,c)}function ih(n){return n.nextWriteId_++}function Yp(n,t,e,r,a){oo(n,"set",{path:t.toString(),value:e,priority:r});const c=Kc(n),d=Jt(e,r),f=kp(n.serverSyncTree_,t),_=$p(d,f,c),C=ih(n),S=Gd(n.serverSyncTree_,t,_,C,!0);rh(n.eventQueue_,S),n.server_.put(t.toString(),d.val(!0),(P,z)=>{const X="ok"===P;X||Mn("set at "+t+" failed: "+P);const Ce=Ji(n.serverSyncTree_,C,!X);Mr(n.eventQueue_,t,Ce),function fr(n,t,e,r){t&&Ga(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;r&&(c+=": "+r);const d=new Error(c);d.code=a,t(d)}})}(0,a,P,z)});const T=tg(n,t);ao(n,T),Mr(n.eventQueue_,T,[])}function sh(n,t,e){let r;r=".info"===ct(t._path)?Wc(n.infoSyncTree_,t,e):Wc(n.serverSyncTree_,t,e),J_(n.eventQueue_,t._path,r)}function oo(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),bn(e,...t)}function Xp(n,t,e){return kp(n.serverSyncTree_,t,e)||rt.EMPTY_NODE}function ws(n,t=n.transactionQueueTree_){if(t||qe(n,t),Rn(t)){const e=eg(n,t);(0,W.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function tD(n,t,e){const r=e.map(C=>C.currentWriteId),a=Xp(n,t,r);let c=a;const d=a.hash();for(let C=0;C<e.length;C++){const S=e[C];(0,W.hu)(0===S.status,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const T=An(t,S.path);c=c.updateChild(T,S.currentOutputSnapshotRaw)}const f=c.val(!0),_=t;n.server_.put(_.toString(),f,C=>{oo(n,"transaction put response",{path:_.toString(),status:C});let S=[];if("ok"===C){const T=[];for(let P=0;P<e.length;P++)e[P].status=2,S=S.concat(Ji(n.serverSyncTree_,e[P].currentWriteId)),e[P].onComplete&&T.push(()=>e[P].onComplete(null,!0,e[P].currentOutputSnapshotResolved)),e[P].unwatcher();qe(n,hr(n.transactionQueueTree_,t)),ws(n,n.transactionQueueTree_),Mr(n.eventQueue_,t,S);for(let P=0;P<T.length;P++)Ga(T[P])}else{if("datastale"===C)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{Mn("transaction at "+_.toString()+" failed: "+C);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=C}ao(n,t)}},d)}(n,qo(t),e)}else Wp(t)&&Xd(t,e=>{ws(n,e)})}function ao(n,t){const e=Jp(n,t),r=qo(e);return function nD(n,t,e){if(0===t.length)return;const r=[];let a=[];const d=t.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<t.length;f++){const _=t[f],C=An(e,_.path);let T,S=!1;if((0,W.hu)(null!==C,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_.status)S=!0,T=_.abortReason,a=a.concat(Ji(n.serverSyncTree_,_.currentWriteId,!0));else if(0===_.status)if(_.retryCount>=25)S=!0,T="maxretry",a=a.concat(Ji(n.serverSyncTree_,_.currentWriteId,!0));else{const P=Xp(n,_.path,d);_.currentInputSnapshot=P;const z=t[f].update(P.val());if(void 0!==z){Yo("transaction failed: Data returned ",z,_.path);let X=Jt(z);"object"==typeof z&&null!=z&&(0,W.r3)(z,".priority")||(X=X.updatePriority(P.getPriority()));const Ve=_.currentWriteId,bt=Kc(n),yt=$p(X,P,bt);_.currentOutputSnapshotRaw=X,_.currentOutputSnapshotResolved=yt,_.currentWriteId=ih(n),d.splice(d.indexOf(Ve),1),a=a.concat(Gd(n.serverSyncTree_,_.path,yt,_.currentWriteId,_.applyLocally)),a=a.concat(Ji(n.serverSyncTree_,Ve,!0))}else S=!0,T="nodata",a=a.concat(Ji(n.serverSyncTree_,_.currentWriteId,!0))}Mr(n.eventQueue_,e,a),a=[],S&&(t[f].status=2,setTimeout(t[f].unwatcher,Math.floor(0)),t[f].onComplete&&r.push("nodata"===T?()=>t[f].onComplete(null,!1,t[f].currentInputSnapshot):()=>t[f].onComplete(new Error(T),!1,null)))}qe(n,n.transactionQueueTree_);for(let f=0;f<r.length;f++)Ga(r[f]);ws(n,n.transactionQueueTree_)}(n,eg(n,e),r),r}function Jp(n,t){let e,r=n.transactionQueueTree_;for(e=ct(t);null!==e&&void 0===Rn(r);)r=hr(r,e),e=ct(t=kt(t));return r}function eg(n,t){const e=[];return JC(n,t,e),e.sort((r,a)=>r.order-a.order),e}function JC(n,t,e){const r=Rn(t);if(r)for(let a=0;a<r.length;a++)e.push(r[a]);Xd(t,a=>{JC(n,a,e)})}function qe(n,t){const e=Rn(t);if(e){let r=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[r]=e[a],r++);e.length=r,Zd(t,e.length>0?e:void 0)}Xd(t,r=>{qe(n,r)})}function tg(n,t){const e=qo(Jp(n,t)),r=hr(n.transactionQueueTree_,t);return function VC(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,a=>{ng(n,a)}),ng(n,r),Y_(r,a=>{ng(n,a)}),e}function ng(n,t){const e=Rn(t);if(e){const r=[];let a=[],c=-1;for(let d=0;d<e.length;d++)3===e[d].status||(1===e[d].status?((0,W.hu)(c===d-1,"All SENT items should be at beginning of queue."),c=d,e[d].status=3,e[d].abortReason="set"):((0,W.hu)(0===e[d].status,"Unexpected transaction status in abort"),e[d].unwatcher(),a=a.concat(Ji(n.serverSyncTree_,e[d].currentWriteId,!0)),e[d].onComplete&&r.push(e[d].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Zd(t,void 0):e.length=c+1,Mr(n.eventQueue_,qo(t),a);for(let d=0;d<r.length;d++)Ga(r[d])}}const rg=function(n,t){const e=ah(n),r=e.namespace;return"firebase.com"===e.domain&&yi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&yi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Qm(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new xt(e.pathString)}},ah=function(n){let t="",e="",r="",a="",c="",d=!0,f="https",_=443;if("string"==typeof n){let C=n.indexOf("//");C>=0&&(f=n.substring(0,C-1),n=n.substring(C+2));let S=n.indexOf("/");-1===S&&(S=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),t=n.substring(0,Math.min(S,T)),S<T&&(a=function ew(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let a=e[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(c){}t+="/"+a}return t}(n.substring(S,T)));const P=function oh(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Mn(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,T)));C=t.indexOf(":"),C>=0?(d="https"===f||"wss"===f,_=parseInt(t.substring(C+1),10)):C=t.length;const z=t.slice(0,C);if("localhost"===z.toLowerCase())e="localhost";else if(z.split(".").length<=2)e=z;else{const X=t.indexOf(".");r=t.substring(0,X).toLowerCase(),e=t.substring(X+1),c=r}"ns"in P&&(c=P.ns)}return{host:t,port:_,domain:e,subdomain:r,secure:d,scheme:f,pathString:a,namespace:c}};class Yc{constructor(t,e,r,a){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,W.Pz)(this.snapshot.exportVal())}}class en{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class hy{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,W.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Ar{constructor(t,e,r,a){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=a}get key(){return tt(this._path)?null:zf(this._path)}get ref(){return new Xr(this._repo,this._path)}get _queryIdentifier(){const t=up(this._queryParams),e=Ic(t);return"{}"===e?"default":e}get _queryObject(){return up(this._queryParams)}isEqual(t){if(!((t=(0,W.m9)(t))instanceof Ar))return!1;const e=this._repo===t._repo,r=Gf(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function iC(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class Xr extends Ar{constructor(t,e){super(t,e,new w_,!1)}get parent(){const t=Wf(this._path);return null===t?null:new Xr(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class lo{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new xt(t),r=ml(this.ref,t);return new lo(this._node.getChild(e),r,Ut)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,a)=>t(new lo(a,ml(this.ref,r),Ut)))}hasChild(t){const e=new xt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Zc(n,t){return(n=(0,W.m9)(n))._checkNotDeleted("ref"),void 0!==t?ml(n._root,t):n._root}function ml(n,t){return null===ct((n=(0,W.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),nh("child","path",e,!1)):nh("child","path",t,!1),new Xr(n._repo,Kt(n._path,t));var e}function ig(n,t){n=(0,W.m9)(n),Di("set",n._path),bi("set",t,n._path,!1);const e=new W.BH;return Yp(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}class Xc{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new Yc("value",this,new lo(t.snapshotNode,new Xr(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new en(this,t,e):null}matches(t){return t instanceof Xc&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class co{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new en(this,t,e):null}createEvent(t,e){(0,W.hu)(null!=t.childName,"Child events should have a childName.");const r=ml(new Xr(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new Yc(t.type,this,new lo(t.snapshotNode,r,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof co&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function uh(n,t,e,r){return function Ds(n,t,e,r,a){let c;if("object"==typeof r&&(c=void 0,a=r),"function"==typeof r&&(c=r),a&&a.onlyOnce){const _=e,C=(S,T)=>{sh(n._repo,n,f),_(S,T)};C.userCallback=e.userCallback,C.context=e.context,e=C}const d=new hy(e,c||void 0),f="value"===t?new Xc(d):new co(t,d);return function uy(n,t,e){let r;r=".info"===ct(t._path)?qd(n.infoSyncTree_,t,e):qd(n.serverSyncTree_,t,e),J_(n.eventQueue_,t._path,r)}(n._repo,n,f),()=>sh(n._repo,n,f)}(n,"value",t,e,r)}(function eD(n){(0,W.hu)(!Go,"__referenceConstructor has already been defined"),Go=n})(Xr),function Op(n){(0,W.hu)(!zc,"__referenceConstructor has already been defined"),zc=n}(Xr);const ag={};function my(n,t,e,r,a){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||yi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bn("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let _,C,d=rg(c,a),f=d.repoInfo;"undefined"!=typeof process&&process.env&&(C=process.env.FIREBASE_DATABASE_EMULATOR_HOST),C?(_=!0,c=`http://${C}?ns=${f.namespace}`,d=rg(c,a),f=d.repoInfo):_=!d.repoInfo.secure;const S=a&&_?new Ac(Ac.OWNER):new $0(n.name,n.options,t);(function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Gc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qc(n)}(e))throw new Error((0,W.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",d),tt(d.path)||yi("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function cg(n,t,e,r){let a=ag[t.name];a||(a={},ag[t.name]=a);let c=a[n.toURLString()];return c&&yi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new KC(n,false,e,r),a[n.toURLString()]=c,c}(f,n,S,new qm(n.name,e));return new _y(T,n)}class _y{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function YC(n,t,e){if(n.stats_=kf(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Lc(n.repoInfo_,(r,a,c,d)=>{ry(n,r,a,c,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>iy(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,W.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Ho(n.repoInfo_,t,(r,a,c,d)=>{ry(n,r,a,c,d)},r=>{iy(n,r)},r=>{!function QC(n,t){yn(t,(e,r)=>{Kp(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Zm(n,t){const e=n.toString();return xc[e]||(xc[e]=t()),xc[e]}(n.repoInfo_,()=>new EC(n.stats_,n.server_)),n.infoData_=new mC,n.infoSyncTree_=new Np({startListening:(r,a,c,d)=>{let f=[];const _=n.infoData_.getNode(r._path);return _.isEmpty()||(f=cl(n.infoSyncTree_,r._path,_),setTimeout(()=>{d("ok")},0)),f},stopListening:()=>{}}),Kp(n,"connected",!1),n.serverSyncTree_=new Np({startListening:(r,a,c,d)=>(n.server_.listen(r,c,a,(f,_)=>{const C=d(f,_);Mr(n.eventQueue_,r._path,C)}),[]),stopListening:(r,a)=>{n.server_.unlisten(r,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xr(this._repo,Dt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function _w(n,t){const e=ag[t];(!e||e[n.key]!==n)&&yi(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function Zp(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&yi("Cannot call "+t+" on a deleted database.")}}function Qo(n){return null!=n&&"false"!=`${n}`}function hh(n){return n instanceof g.SBq?n.nativeElement:n}Ho.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Ho.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Cw(n){(function Hm(n){Af=n})($a.SDK_VERSION),(0,$a._registerComponent)(new jm.wA("database",(t,{instanceIdentifier:e})=>my(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,$a.registerVersion)(BE,"0.13.5",n),(0,$a.registerVersion)(BE,"0.13.5","esm2017")}();var dg=R(144);const hg=["addListener","removeListener"],vy=["addEventListener","removeEventListener"],fg=["on","off"];function tu(n,t,e,r){if((0,Kn.m)(e)&&(r=e,e=void 0),r)return tu(n,t,e).pipe(sc(r));const[a,c]=function Cy(n){return(0,Kn.m)(n.addEventListener)&&(0,Kn.m)(n.removeEventListener)}(n)?vy.map(d=>f=>n[d](t,f,e)):function pg(n){return(0,Kn.m)(n.addListener)&&(0,Kn.m)(n.removeListener)}(n)?hg.map(Ey(n,t)):function Iw(n){return(0,Kn.m)(n.on)&&(0,Kn.m)(n.off)}(n)?fg.map(Ey(n,t)):[];if(!a&&(0,dg.z)(n))return(0,pn.z)(d=>tu(d,t,e))((0,br.Xf)(n));if(!a)throw new TypeError("Invalid event target");return new wr.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return a(f),()=>c(f)})}function Ey(n,t){return e=>r=>n[e](t,r)}class Mw extends ji.w0{constructor(t,e){super()}schedule(t,e=0){return this}}const nu={setInterval(n,t,...e){const{delegate:r}=nu;return(null==r?void 0:r.setInterval)?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=nu;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};var Aw=R(737);class fh extends Mw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(a,this.id,e),this}requestAsyncId(t,e,r=0){return nu.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;nu.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let a,r=!1;try{this.work(t)}catch(c){r=!0,a=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Aw.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const ph={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=ph;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const a=t(c=>{e=void 0,n(c)});return new ji.w0(()=>null==e?void 0:e(a))},requestAnimationFrame(...n){const{delegate:t}=ph;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ph;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},ru={now:()=>(ru.delegate||Date).now(),delegate:void 0};class iu{constructor(t,e=iu.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}iu.now=ru.now;class uo extends iu{constructor(t,e=iu.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}new class su extends uo{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let a;t=t||r.shift();do{if(a=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,a){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw a}}}(class xw extends fh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=ph.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(a=>a.id===e)||(ph.cancelAnimationFrame(e),t._scheduled=void 0)}});let gg,wy=1;const gh={};function by(n){return n in gh&&(delete gh[n],!0)}const Pw={setImmediate(n){const t=wy++;return gh[t]=!0,gg||(gg=Promise.resolve()),gg.then(()=>by(t)&&n()),t},clearImmediate(n){by(n)}},{setImmediate:Dy,clearImmediate:mg}=Pw,Zo={setImmediate(...n){const{delegate:t}=Zo;return((null==t?void 0:t.setImmediate)||Dy)(...n)},clearImmediate(n){const{delegate:t}=Zo;return((null==t?void 0:t.clearImmediate)||mg)(n)},delegate:void 0},_g=(new class Nw extends uo{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let a;t=t||r.shift();do{if(a=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,a){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw a}}}(class ou extends fh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Zo.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(a=>a.id===e)||(Zo.clearImmediate(e),t._scheduled=void 0)}}),new uo(fh)),kw=_g;var Lw=R(532);function Ty(n,t=_g){return function yg(n){return(0,Gt.e)((t,e)=>{let r=!1,a=null,c=null,d=!1;const f=()=>{if(null==c||c.unsubscribe(),c=null,r){r=!1;const C=a;a=null,e.next(C)}d&&e.complete()},_=()=>{c=null,d&&e.complete()};t.subscribe((0,Wt.x)(e,C=>{r=!0,a=C,c||(0,br.Xf)(n(C)).subscribe(c=(0,Wt.x)(e,f,_))},()=>{d=!0,(!r||!c||c.closed)&&e.complete()}))})}(()=>function Bw(n=0,t,e=kw){let r=-1;return null!=t&&((0,Lw.K)(t)?e=t:r=t),new wr.y(a=>{let c=function ID(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let d=0;return e.schedule(function(){a.closed||(a.next(d++),0<=r?this.schedule(void 0,r):a.complete())},c)})}(n,t))}var _l=R(32);function Jr(n){return(0,Gt.e)((t,e)=>{(0,br.Xf)(n).subscribe((0,Wt.x)(e,()=>e.complete(),_l.Z)),!e.closed&&t.subscribe(e)})}let ho;try{ho="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){ho=!1}let mh,_h,Xo,vg,yl=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ln(n){return n===Bl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ho)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.Lbi))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function au(n){return function Iy(){if(null==mh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>mh=!0}))}finally{mh=mh||!1}return mh}()?n:!!n.capture}function lu(){if("object"!=typeof document||!document)return 0;if(null==_h){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),_h=0,0===n.scrollLeft&&(n.scrollLeft=1,_h=0===n.scrollLeft?1:2),n.remove()}return _h}function cu(n){return n.composedPath?n.composedPath()[0]:n.target}const uu=new g.OlP("cdk-dir-doc",{providedIn:"root",factory:function Ay(){return(0,g.f3M)(ce)}}),xy=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Eg=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new g.vpe,e){const a=e.documentElement?e.documentElement.dir:null;this.value=function Ry(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?xy.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||a||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(uu,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Py=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),Oy=(()=>{class n{constructor(e,r,a){this._ngZone=e,this._platform=r,this._scrolled=new Qt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new wr.y(r=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(Ty(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Fe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const a=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(fn(c=>!c||a.indexOf(c)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((a,c)=>{this._scrollableContainsElement(c,e)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let a=hh(r),c=e.getElementRef().nativeElement;do{if(a==c)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>tu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.R0b),g.LFG(yl),g.LFG(ce,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hu=(()=>{class n{constructor(e,r,a,c){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=a,this.dir=c,this._destroyed=new Qt.x,this._elementScrolled=new wr.y(d=>this.ngZone.runOutsideAngular(()=>tu(this.elementRef.nativeElement,"scroll").pipe(Jr(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=a?e.end:e.start),null==e.right&&(e.right=a?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),a&&0!=lu()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==lu()?e.left=e.right:1==lu()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;!function My(){if(null==Xo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xo=!1,Xo;if("scrollBehavior"in document.documentElement.style)Xo=!0;else{const n=Element.prototype.scrollTo;Xo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Xo}()?(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left)):r.scrollTo(e)}measureScrollOffset(e){const r="left",a="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?a:r:"end"==e&&(e=d?r:a),d&&2==lu()?e==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:d&&1==lu()?e==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.SBq),g.Y36(Oy),g.Y36(g.R0b),g.Y36(Eg,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Gw=(()=>{class n{constructor(e,r,a){this._platform=e,this._change=new Qt.x,this._changeListener=c=>{this._change.next(c)},this._document=a,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+r,height:a,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),a=e.documentElement,c=a.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||a.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Ty(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(yl),g.LFG(g.R0b),g.LFG(ce,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function tv(n,t=So.y){return n=null!=n?n:Tg,(0,Gt.e)((e,r)=>{let a,c=!0;e.subscribe((0,Wt.x)(r,d=>{const f=t(d);(c||!n(a,f))&&(c=!1,a=f,r.next(d))}))})}function Tg(n,t){return n===t}let Eh=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function iv(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function Ig(n){try{return n.frameElement}catch(t){return null}}(function zb(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===Vb(r)||!this.isVisible(r)))return!1;let a=e.nodeName.toLowerCase(),c=Vb(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function av(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===a?!!e.hasAttribute("controls")&&-1!==c:"video"===a?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function $b(n){return!function sv(n){return function jb(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Bb(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function ov(n){return function Hb(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Ub(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(yl))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ub(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Vb(n){if(!Ub(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Wb{constructor(t,e,r,a,c=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const a=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(a)return a}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const a=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(a)return a}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(rr(1)).subscribe(t)}}let DS=(()=>{class n{constructor(e,r,a){this._checker=e,this._ngZone=r,this._document=a}create(e,r=!1){return new Wb(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Eh),g.LFG(g.R0b),g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lv=new g.OlP("cdk-input-modality-detector-options"),Jo={ignoreKeys:[18,17,224,91,16]},fo=au({passive:!0,capture:!0});let xg=(()=>{class n{constructor(e,r,a,c){this._platform=e,this._mostRecentTarget=null,this._modality=new In(null),this._lastTouchMs=0,this._onKeydown=d=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(C=>C===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=cu(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function Gb(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(d)?"keyboard":"mouse"),this._mostRecentTarget=cu(d))},this._onTouchstart=d=>{!function qb(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(d)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=cu(d)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},Jo),c),this.modalityDetected=this._modality.pipe(function Pb(n){return fn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(tv()),e.isBrowser&&r.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,fo),a.addEventListener("mousedown",this._onMousedown,fo),a.addEventListener("touchstart",this._onTouchstart,fo)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,fo),document.removeEventListener("mousedown",this._onMousedown,fo),document.removeEventListener("touchstart",this._onTouchstart,fo))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(yl),g.LFG(g.R0b),g.LFG(ce),g.LFG(lv,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IS=new g.OlP("cdk-focus-monitor-default-options"),Og=au({passive:!0,capture:!0});let MS=(()=>{class n{constructor(e,r,a,c,d){this._ngZone=e,this._platform=r,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Qt.x,this._rootNodeFocusAndBlurListener=f=>{const _=cu(f),C="focus"===f.type?this._onFocus:this._onBlur;for(let S=_;S;S=S.parentElement)C.call(this,f,S)},this._document=c,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(e,r=!1){const a=hh(e);if(!this._platform.isBrowser||1!==a.nodeType)return Fe(null);const c=function $w(n){if(function Vw(){if(null==vg){const n="undefined"!=typeof document?document.head:null;vg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return vg}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(a)||this._getDocument(),d=this._elementInfo.get(a);if(d)return r&&(d.checkChildren=!0),d.subject;const f={checkChildren:r,subject:new Qt.x,rootNode:c};return this._elementInfo.set(a,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const r=hh(e),a=this._elementInfo.get(r);a&&(a.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(a))}focusVia(e,r,a){const c=hh(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const a=this._elementInfo.get(r),c=cu(e);!a||!a.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),a)}_onBlur(e,r){const a=this._elementInfo.get(r);!a||a.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(a.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,a=this._rootNodeFocusListenerCount.get(r)||0;a||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Og),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Og)}),this._rootNodeFocusListenerCount.set(r,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Jr(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const a=this._rootNodeFocusListenerCount.get(r);a>1?this._rootNodeFocusListenerCount.set(r,a-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Og),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Og),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,a){this._setClasses(e,r),this._emitOrigin(a.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((a,c)=>{(c===e||a.checkChildren&&c.contains(e))&&r.push([c,a])}),r}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.R0b),g.LFG(yl),g.LFG(xg),g.LFG(ce,8),g.LFG(IS,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uv="cdk-high-contrast-black-on-white",dv="cdk-high-contrast-white-on-black",Ng="cdk-high-contrast-active";let Yb=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,a=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(a&&a.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Ng),e.remove(uv),e.remove(dv),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(Ng),e.add(uv)):2===r&&(e.add(Ng),e.add(dv))}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(yl),g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t0=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function Fg(){return!0}});let ea=(()=>{class n{constructor(e,r,a){this._sanityChecks=r,this._document=a,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function zw(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(Yb),g.LFG(t0,8),g.LFG(ce))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[Py],Py]}),n})();function n0(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}var OI=R(451);function PS(n){return(0,ut.U)(()=>n)}class OS{}const ta="*";function s0(n,t){return{type:7,name:n,definitions:t,options:{}}}function Cv(n,t=null){return{type:4,styles:t,timings:n}}function NS(n,t=null){return{type:2,steps:n,options:t}}function Cl(n){return{type:6,styles:n,offset:null}}function wh(n,t,e){return{type:0,name:n,styles:t,options:e}}function wv(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function FS(n){Promise.resolve(null).then(n)}class kg{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){FS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class kS{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,a=0;const c=this.players.length;0==c?FS(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==c&&this._onFinish()}),d.onDestroy(()=>{++r==c&&this._onDestroy()}),d.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(a)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const Et=!1;function LS(n){return new g.vHH(3e3,Et)}function gM(){return"undefined"!=typeof window&&void 0!==window.document}function a0(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wl(n){switch(n.length){case 0:return new kg;case 1:return n[0];default:return new kS(n)}}function BS(n,t,e,r,a={},c={}){const d=[],f=[];let _=-1,C=null;if(r.forEach(S=>{const T=S.offset,P=T==_,z=P&&C||{};Object.keys(S).forEach(X=>{let Ce=X,Ve=S[X];if("offset"!==X)switch(Ce=t.normalizePropertyName(Ce,d),Ve){case"!":Ve=a[X];break;case ta:Ve=c[X];break;default:Ve=t.normalizeStyleValue(X,Ce,Ve,d)}z[Ce]=Ve}),P||f.push(z),C=z,_=T}),d.length)throw function iM(n){return new g.vHH(3502,Et)}();return f}function l0(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&c0(e,"start",n)));break;case"done":n.onDone(()=>r(e&&c0(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&c0(e,"destroy",n)))}}function c0(n,t,e){const r=e.totalTime,c=u0(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),d=n._data;return null!=d&&(c._data=d),c}function u0(n,t,e,r,a="",c=0,d){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:a,totalTime:c,disabled:!!d}}function Si(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function jS(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let d0=(n,t)=>!1,HS=(n,t,e)=>[],US=null;function h0(n){const t=n.parentNode||n.host;return t===US?null:t}(a0()||"undefined"!=typeof Element)&&(gM()?(US=(()=>document.documentElement)(),d0=(n,t)=>{for(;t;){if(t===n)return!0;t=h0(t)}return!1}):d0=(n,t)=>n.contains(t),HS=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let gu=null,VS=!1;function $S(n){gu||(gu=function _M(){return"undefined"!=typeof document?document.body:null}()||{},VS=!!gu.style&&"WebkitAppearance"in gu.style);let t=!0;return gu.style&&!function mM(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in gu.style,!t&&VS&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in gu.style)),t}const zS=d0,WS=HS;let GS=(()=>{class n{validateStyleProperty(e){return $S(e)}matchesElement(e,r){return!1}containsElement(e,r){return zS(e,r)}getParentElement(e){return h0(e)}query(e,r,a){return WS(e,r,a)}computeStyle(e,r,a){return a||""}animate(e,r,a,c,d,f=[],_){return new kg(a,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),f0=(()=>{class n{}return n.NOOP=new GS,n})();const p0="ng-enter",Dv="ng-leave",Sv="ng-trigger",Tv=".ng-trigger",KS="ng-animating",g0=".ng-animating";function mu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:m0(parseFloat(t[1]),t[2])}function m0(n,t){return"s"===t?1e3*n:n}function Iv(n,t,e){return n.hasOwnProperty("duration")?n:function EM(n,t,e){let a,c=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(LS()),{duration:0,delay:0,easing:""};a=m0(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(c=m0(parseFloat(_),f[4]));const C=f[5];C&&(d=C)}else a=n;if(!e){let f=!1,_=t.length;a<0&&(t.push(function kI(){return new g.vHH(3100,Et)}()),f=!0),c<0&&(t.push(function LI(){return new g.vHH(3101,Et)}()),f=!0),f&&t.splice(_,0,LS())}return{duration:a,delay:c,easing:d}}(n,t,e)}function bh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function bl(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else bh(n,e);return e}function QS(n,t,e){return e?t+":"+e+";":""}function ZS(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=QS(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=QS(0,bM(e),n.style[e]));n.setAttribute("style",t)}function po(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const a=y0(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[a]),n.style[a]=t[r]}),a0()&&ZS(n))}function _u(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=y0(e);n.style[r]=""}),a0()&&ZS(n))}function Lg(n){return Array.isArray(n)?1==n.length?n[0]:NS(n):n}const _0=new RegExp("{{\\s*(.+?)\\s*}}","g");function XS(n){let t=[];if("string"==typeof n){let e;for(;e=_0.exec(n);)t.push(e[1]);_0.lastIndex=0}return t}function Mv(n,t,e){const r=n.toString(),a=r.replace(_0,(c,d)=>{let f=t[d];return t.hasOwnProperty(d)||(e.push(function jI(n){return new g.vHH(3003,Et)}()),f=""),f.toString()});return a==r?n:a}function Av(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const wM=/-+([a-z0-9])/g;function y0(n){return n.replace(wM,(...t)=>t[1].toUpperCase())}function bM(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ti(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function HI(n){return new g.vHH(3004,Et)}()}}function JS(n,t){return window.getComputedStyle(n)[t]}function AM(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function xM(n,t,e){if(":"==n[0]){const _=function RM(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function eM(n){return new g.vHH(3016,Et)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function JI(n){return new g.vHH(3015,Et)}()),t;const a=r[1],c=r[2],d=r[3];t.push(eT(a,d));"<"==c[0]&&!("*"==a&&"*"==d)&&t.push(eT(d,a))}(r,e,t)):e.push(n),e}const Ov=new Set(["true","1"]),Nv=new Set(["false","0"]);function eT(n,t){const e=Ov.has(n)||Nv.has(n),r=Ov.has(t)||Nv.has(t);return(a,c)=>{let d="*"==n||n==a,f="*"==t||t==c;return!d&&e&&"boolean"==typeof a&&(d=a?Ov.has(n):Nv.has(n)),!f&&r&&"boolean"==typeof c&&(f=c?Ov.has(t):Nv.has(t)),d&&f}}const PM=new RegExp("s*:selfs*,?","g");function v0(n,t,e,r){return new OM(n).build(t,e,r)}class OM{constructor(t){this._driver=t}build(t,e,r){const a=new kM(e);this._resetContextStyleTimingState(a);const c=Ti(this,Lg(t),a);return a.unsupportedCSSPropertiesFound.size&&a.unsupportedCSSPropertiesFound.keys(),c}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,a=e.depCount=0;const c=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function VI(){return new g.vHH(3006,Et)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const _=f,C=_.name;C.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,c.push(this.visitState(_,e))}),_.name=C}else if(1==f.type){const _=this.visitTransition(f,e);r+=_.queryCount,a+=_.depCount,d.push(_)}else e.errors.push(function $I(){return new g.vHH(3007,Et)}())}),{type:7,name:t.name,states:c,transitions:d,queryCount:r,depCount:a,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,d=a||{};r.styles.forEach(f=>{if(Fv(f)){const _=f;Object.keys(_).forEach(C=>{XS(_[C]).forEach(S=>{d.hasOwnProperty(S)||c.add(S)})})}}),c.size&&(Av(c.values()),e.errors.push(function zI(n,t){return new g.vHH(3008,Et)}()))}return{type:0,name:t.name,style:r,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Ti(this,Lg(t.animation),e);return{type:1,matchers:AM(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:yu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Ti(this,r,e)),options:yu(t.options)}}visitGroup(t,e){const r=e.currentTime;let a=0;const c=t.steps.map(d=>{e.currentTime=r;const f=Ti(this,d,e);return a=Math.max(a,e.currentTime),f});return e.currentTime=a,{type:3,steps:c,options:yu(t.options)}}visitAnimate(t,e){const r=function BM(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return E0(Iv(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=E0(0,0,"");return c.dynamic=!0,c.strValue=r,c}return e=e||Iv(r,t),E0(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let a,c=t.styles?t.styles:Cl({});if(5==c.type)a=this.visitKeyframes(c,e);else{let d=t.styles,f=!1;if(!d){f=!0;const C={};r.easing&&(C.easing=r.easing),d=Cl(C)}e.currentTime+=r.duration+r.delay;const _=this.visitStyle(d,e);_.isEmptyStep=f,a=_}return e.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(d=>{"string"==typeof d?d==ta?r.push(d):e.errors.push(function WI(n){return new g.vHH(3002,Et)}()):r.push(d)}):r.push(t.styles);let a=!1,c=null;return r.forEach(d=>{if(Fv(d)){const f=d,_=f.easing;if(_&&(c=_,delete f.easing),!a)for(let C in f)if(f[C].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:c,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let a=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete d[f],void e.unsupportedCSSPropertiesFound.add(f);const _=e.collectedStyles[e.currentQuerySelector],C=_[f];let S=!0;C&&(c!=a&&c>=C.startTime&&a<=C.endTime&&(e.errors.push(function GI(n,t,e,r,a){return new g.vHH(3010,Et)}()),S=!1),c=C.startTime),S&&(_[f]={startTime:c,endTime:a}),e.options&&function CM(n,t,e){const r=t.params||{},a=XS(n);a.length&&a.forEach(c=>{r.hasOwnProperty(c)||e.push(function BI(n){return new g.vHH(3001,Et)}())})}(d[f],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function qI(){return new g.vHH(3011,Et)}()),r;let c=0;const d=[];let f=!1,_=!1,C=0;const S=t.steps.map(bt=>{const yt=this._makeStyleAst(bt,e);let tn=null!=yt.offset?yt.offset:function LM(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Fv(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(Fv(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(yt.styles),nn=0;return null!=tn&&(c++,nn=yt.offset=tn),_=_||nn<0||nn>1,f=f||nn<C,C=nn,d.push(nn),yt});_&&e.errors.push(function KI(){return new g.vHH(3012,Et)}()),f&&e.errors.push(function YI(){return new g.vHH(3200,Et)}());const T=t.steps.length;let P=0;c>0&&c<T?e.errors.push(function QI(){return new g.vHH(3202,Et)}()):0==c&&(P=1/(T-1));const z=T-1,X=e.currentTime,Ce=e.currentAnimateTimings,Ve=Ce.duration;return S.forEach((bt,yt)=>{const tn=P>0?yt==z?1:P*yt:d[yt],nn=tn*Ve;e.currentTime=X+Ce.delay+nn,Ce.duration=nn,this._validateStyleAst(bt,e),bt.offset=tn,r.styles.push(bt)}),r}visitReference(t,e){return{type:8,animation:Ti(this,Lg(t.animation),e),options:yu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:yu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:yu(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[c,d]=function NM(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(PM,"")),n=n.replace(/@\*/g,Tv).replace(/@\w+/g,e=>Tv+"-"+e.substr(1)).replace(/:animating/g,g0),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,Si(e.collectedStyles,e.currentQuerySelector,{});const f=Ti(this,Lg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:d,animation:f,originalSelector:t.selector,options:yu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ZI(){return new g.vHH(3013,Et)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Iv(t.timings,e.errors,!0);return{type:12,animation:Ti(this,Lg(t.animation),e),timings:r,options:null}}}class kM{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fv(n){return!Array.isArray(n)&&"object"==typeof n}function yu(n){return n?(n=bh(n)).params&&(n.params=function FM(n){return n?bh(n):null}(n.params)):n={},n}function E0(n,t,e){return{duration:n,delay:t,easing:e}}function C0(n,t,e,r,a,c,d=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:a,delay:c,totalTime:a+c,easing:d,subTimeline:f}}class kv{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const UM=new RegExp(":enter","g"),$M=new RegExp(":leave","g");function w0(n,t,e,r,a,c={},d={},f,_,C=[]){return(new zM).buildKeyframes(n,t,e,r,a,c,d,f,_,C)}class zM{buildKeyframes(t,e,r,a,c,d,f,_,C,S=[]){C=C||new kv;const T=new b0(t,e,C,a,c,S,[]);T.options=_,T.currentTimeline.setStyles([d],null,T.errors,_),Ti(this,r,T);const P=T.timelines.filter(z=>z.containsAnimation());if(Object.keys(f).length){let z;for(let X=P.length-1;X>=0;X--){const Ce=P[X];if(Ce.element===e){z=Ce;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([f],null,T.errors,_)}return P.length?P.map(z=>z.buildKeyframes()):[C0(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const a=e.createSubContext(t.options),c=e.currentTimeline.currentTime,d=this._visitSubInstructions(r,a,a.options);c!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const d=null!=r.duration?mu(r.duration):null,f=null!=r.delay?mu(r.delay):null;return 0!==d&&t.forEach(_=>{const C=e.appendInstructionToTimeline(_,d,f);c=Math.max(c,C.duration+C.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),Ti(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let a=e;const c=t.options;if(c&&(c.params||c.delay)&&(a=e.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Lv);const d=mu(c.delay);a.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>Ti(this,d,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let a=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?mu(t.options.delay):0;t.steps.forEach(d=>{const f=e.createSubContext(t.options);c&&f.delayNextStep(c),Ti(this,d,f),a=Math.max(a,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Iv(e.params?Mv(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),a.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,a=e.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const c=a&&a.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,a=e.currentTimeline.duration,c=r.duration,f=e.createSubContext().currentTimeline;f.easing=r.easing,t.styles.forEach(_=>{f.forwardTime((_.offset||0)*c),f.setStyles(_.styles,_.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(a+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,a=t.options||{},c=a.delay?mu(a.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Lv);let d=r;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=f.length;let _=null;f.forEach((C,S)=>{e.currentQueryIndex=S;const T=e.createSubContext(t.options,C);c&&T.delayNextStep(c),C===e.element&&(_=T.currentTimeline),Ti(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,a=e.currentTimeline,c=t.timings,d=Math.abs(c.duration),f=d*(e.currentQueryTotal-1);let _=d*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const S=e.currentTimeline;_&&S.delayNextStep(_);const T=S.currentTime;Ti(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=a.currentTime-T+(a.startTime-r.currentTimeline.startTime)}}const Lv={};class b0{constructor(t,e,r,a,c,d,f,_){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=c,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Bv(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let a=this.options;null!=r.duration&&(a.duration=mu(r.duration)),null!=r.delay&&(a.delay=mu(r.delay));const c=r.params;if(c){let d=a.params;d||(d=this.options.params={}),Object.keys(c).forEach(f=>{(!e||!d.hasOwnProperty(f))&&(d[f]=Mv(c[f],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(a=>{r[a]=e[a]})}}return t}createSubContext(t=null,e,r){const a=e||this.element,c=new b0(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=Lv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const a={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},c=new WM(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,a,c,d){let f=[];if(a&&f.push(this.element),t.length>0){t=(t=t.replace(UM,"."+this._enterClassName)).replace($M,"."+this._leaveClassName);let C=this._driver.query(this.element,t,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),f.push(...C)}return!c&&0==f.length&&d.push(function XI(n){return new g.vHH(3014,Et)}()),f}}class Bv{constructor(t,e,r,a){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Bv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ta,this._currentKeyframe[e]=ta}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,a){e&&(this._previousKeyframe.easing=e);const c=a&&a.params||{},d=function GM(n,t){const e={};let r;return n.forEach(a=>{"*"===a?(r=r||Object.keys(t),r.forEach(c=>{e[c]=ta})):bl(a,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const _=Mv(d[f],c,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:ta),this._updateStyle(f,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],a=t._styleSummary[e];(!r||a.time>r.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((f,_)=>{const C=bl(f,!0);Object.keys(C).forEach(S=>{const T=C[S];"!"==T?t.add(S):T==ta&&e.add(S)}),r||(C.offset=_/this.duration),a.push(C)});const c=t.size?Av(t.values()):[],d=e.size?Av(e.values()):[];if(r){const f=a[0],_=bh(f);f.offset=0,_.offset=1,a=[f,_]}return C0(this.element,a,c,d,this.duration,this.startTime,this.easing,!1)}}class WM extends Bv{constructor(t,e,r,a,c,d,f=!1){super(t,e,d.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],d=r+e,f=e/d,_=bl(t[0],!1);_.offset=0,c.push(_);const C=bl(t[0],!1);C.offset=rT(f),c.push(C);const S=t.length-1;for(let T=1;T<=S;T++){let P=bl(t[T],!1);P.offset=rT((e+P.offset*r)/d),c.push(P)}r=d,e=0,a="",t=c}return C0(this.element,t,this.preStyleProps,this.postStyleProps,r,e,a,!0)}}function rT(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class D0{}class qM extends D0{normalizePropertyName(t,e){return y0(t)}normalizeStyleValue(t,e,r,a){let c="";const d=r.toString().trim();if(KM[e]&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&a.push(function UI(n,t){return new g.vHH(3005,Et)}())}return d+c}}const KM=(()=>function YM(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function iT(n,t,e,r,a,c,d,f,_,C,S,T,P){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:c,toState:r,toStyles:d,timelines:f,queriedElements:_,preStyleProps:C,postStyleProps:S,totalTime:T,errors:P}}const S0={};class sT{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,a){return function QM(n,t,e,r,a){return n.some(c=>c(t,e,r,a))}(this.ast.matchers,t,e,r,a)}buildStyles(t,e,r){const a=this._stateStyles["*"],c=this._stateStyles[t],d=a?a.buildStyles(e,r):{};return c?c.buildStyles(e,r):d}build(t,e,r,a,c,d,f,_,C,S){const T=[],P=this.ast.options&&this.ast.options.params||S0,X=this.buildStyles(r,f&&f.params||S0,T),Ce=_&&_.params||S0,Ve=this.buildStyles(a,Ce,T),bt=new Set,yt=new Map,tn=new Map,nn="void"===a,na={params:Object.assign(Object.assign({},P),Ce)},go=S?[]:w0(t,e,this.ast.animation,c,d,X,Ve,na,C,T);let xr=0;if(go.forEach(ia=>{xr=Math.max(ia.duration+ia.delay,xr)}),T.length)return iT(e,this._triggerName,r,a,nn,X,Ve,[],[],yt,tn,xr,T);go.forEach(ia=>{const sa=ia.element,LT=Si(yt,sa,{});ia.preStyleProps.forEach(Eu=>LT[Eu]=!0);const Ug=Si(tn,sa,{});ia.postStyleProps.forEach(Eu=>Ug[Eu]=!0),sa!==e&&bt.add(sa)});const ra=Av(bt.values());return iT(e,this._triggerName,r,a,nn,X,Ve,go,ra,yt,tn,xr)}}class ZM{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},a=bh(this.defaultParams);return Object.keys(t).forEach(c=>{const d=t[c];null!=d&&(a[c]=d)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const d=c;Object.keys(d).forEach(f=>{let _=d[f];_.length>1&&(_=Mv(_,a,e));const C=this.normalizer.normalizePropertyName(f,e);_=this.normalizer.normalizeStyleValue(f,C,_,e),r[C]=_})}}),r}}class JM{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new ZM(a.style,a.options&&a.options.params||{},r)}),oT(this.states,"true","1"),oT(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new sT(t,a,this.states))}),this.fallbackTransition=function eA(n,t,e){return new sT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,a){return this.transitionFactories.find(d=>d.match(t,e,r,a))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function oT(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const tA=new kv;class nA{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],c=v0(this._driver,e,r,[]);if(r.length)throw function sM(n){return new g.vHH(3503,Et)}();this._animations[t]=c}_buildPlayer(t,e,r){const a=t.element,c=BS(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(a,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const a=[],c=this._animations[t];let d;const f=new Map;if(c?(d=w0(this._driver,e,c,p0,Dv,{},{},r,tA,a),d.forEach(S=>{const T=Si(f,S.element,{});S.postStyleProps.forEach(P=>T[P]=null)})):(a.push(function oM(){return new g.vHH(3300,Et)}()),d=[]),a.length)throw function aM(n){return new g.vHH(3504,Et)}();f.forEach((S,T)=>{Object.keys(S).forEach(P=>{S[P]=this._driver.computeStyle(T,P,ta)})});const C=wl(d.map(S=>{const T=f.get(S.element);return this._buildPlayer(S,{},T)}));return this._playersById[t]=C,C.onDestroy(()=>this.destroy(t)),this.players.push(C),C}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function lM(n){return new g.vHH(3301,Et)}();return e}listen(t,e,r,a){const c=u0(e,"","","");return l0(this._getPlayer(t),r,c,a),()=>{}}command(t,e,r,a){if("register"==r)return void this.register(t,a[0]);if("create"==r)return void this.create(t,e,a[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const aT="ng-animate-queued",T0="ng-animate-disabled",aA=[],lT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ns="__ng_removed";class I0{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function hA(n){return null!=n?n:null}(r?t.value:t),r){const c=bh(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(a=>{null==r[a]&&(r[a]=e[a])})}}}const Bg="void",M0=new I0(Bg);class cA{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,rs(e,this._hostClassName)}listen(t,e,r,a){if(!this._triggers.hasOwnProperty(e))throw function cM(n,t){return new g.vHH(3302,Et)}();if(null==r||0==r.length)throw function uM(n){return new g.vHH(3303,Et)}();if(!function fA(n){return"start"==n||"done"==n}(r))throw function dM(n,t){return new g.vHH(3400,Et)}();const c=Si(this._elementListeners,t,[]),d={name:e,phase:r,callback:a};c.push(d);const f=Si(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(rs(t,Sv),rs(t,Sv+"-"+e),f[e]=M0),()=>{this._engine.afterFlush(()=>{const _=c.indexOf(d);_>=0&&c.splice(_,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function hM(n){return new g.vHH(3401,Et)}();return e}trigger(t,e,r,a=!0){const c=this._getTrigger(e),d=new A0(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(rs(t,Sv),rs(t,Sv+"-"+e),this._engine.statesByElement.set(t,f={}));let _=f[e];const C=new I0(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&C.absorbOptions(_.options),f[e]=C,_||(_=M0),C.value!==Bg&&_.value===C.value){if(!function mA(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){const c=e[a];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(_.params,C.params)){const Ce=[],Ve=c.matchStyles(_.value,_.params,Ce),bt=c.matchStyles(C.value,C.params,Ce);Ce.length?this._engine.reportError(Ce):this._engine.afterFlush(()=>{_u(t,Ve),po(t,bt)})}return}const P=Si(this._engine.playersByElement,t,[]);P.forEach(Ce=>{Ce.namespaceId==this.id&&Ce.triggerName==e&&Ce.queued&&Ce.destroy()});let z=c.matchTransition(_.value,C.value,t,C.params),X=!1;if(!z){if(!a)return;z=c.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:z,fromState:_,toState:C,player:d,isFallbackTransition:X}),X||(rs(t,aT),d.onStart(()=>{Dh(t,aT)})),d.onDone(()=>{let Ce=this.players.indexOf(d);Ce>=0&&this.players.splice(Ce,1);const Ve=this._engine.playersByElement.get(t);if(Ve){let bt=Ve.indexOf(d);bt>=0&&Ve.splice(bt,1)}}),this.players.push(d),P.push(d),d}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Tv,!0);r.forEach(a=>{if(a[ns])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(d=>d.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,r,a){const c=this._engine.statesByElement.get(t),d=new Map;if(c){const f=[];if(Object.keys(c).forEach(_=>{if(d.set(_,c[_].value),this._triggers[_]){const C=this.trigger(t,_,Bg,a);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),r&&wl(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const a=new Set;e.forEach(c=>{const d=c.name;if(a.has(d))return;a.add(d);const _=this._triggers[d].fallbackTransition,C=r[d]||M0,S=new I0(Bg),T=new A0(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:_,fromState:C,toState:S,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)a=!0;else{let d=t;for(;d=d.parentNode;)if(r.statesByElement.get(d)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[ns];(!c||c===lT)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){rs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const c=r.element,d=this._elementListeners.get(c);d&&d.forEach(f=>{if(f.name==r.triggerName){const _=u0(c,r.triggerName,r.fromState.value,r.toState.value);_._data=t,l0(r.player,f.phase,_,f.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(r)}),this._queue=[],e.sort((r,a)=>{const c=r.transition.ast.depCount,d=a.transition.ast.depCount;return 0==c||0==d?c-d:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class uA{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new cA(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,a=this.namespacesByHostElement,c=r.length-1;if(c>=0){let d=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(e);for(;f;){const _=a.get(f);if(_){const C=r.indexOf(_);r.splice(C+1,0,t),d=!0;break}f=this.driver.getParentElement(f)}}else for(let f=c;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,e)){r.splice(f+1,0,t),d=!0;break}d||r.unshift(t)}else r.push(t);return a.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let a=this._namespaceLookup[t];a&&a.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const a=Object.keys(r);for(let c=0;c<a.length;c++){const d=r[a[c]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&e.add(f)}}}return e}trigger(t,e,r,a){if(jv(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,a),!0}return!1}insertNode(t,e,r,a){if(!jv(e))return;const c=e[ns];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,r)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),rs(t,T0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Dh(t,T0))}removeNode(t,e,r,a){if(jv(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),r){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,r,a,c){this.collectedLeaveElements.push(e),e[ns]={namespaceId:t,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(t,e,r,a,c){return jv(e)?this._fetchNamespace(t).listen(e,r,a,c):()=>{}}_buildInstruction(t,e,r,a,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,a,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,Tv,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,g0,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return wl(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[ns];if(r&&r.setForRemoval){if(t[ns]=lT,r.namespaceId){this.destroyInnerAnimations(t);const a=this._fetchNamespace(r.namespaceId);a&&a.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(T0))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)rs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?wl(e).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(t){throw function fM(n){return new g.vHH(3402,Et)}()}_flushAnimations(t,e){const r=new kv,a=[],c=new Map,d=[],f=new Map,_=new Map,C=new Map,S=new Set;this.disabledNodes.forEach(He=>{S.add(He);const Ze=this.driver.query(He,".ng-animate-queued",!0);for(let nt=0;nt<Ze.length;nt++)S.add(Ze[nt])});const T=this.bodyNode,P=Array.from(this.statesByElement.keys()),z=dT(P,this.collectedEnterElements),X=new Map;let Ce=0;z.forEach((He,Ze)=>{const nt=p0+Ce++;X.set(Ze,nt),He.forEach(It=>rs(It,nt))});const Ve=[],bt=new Set,yt=new Set;for(let He=0;He<this.collectedLeaveElements.length;He++){const Ze=this.collectedLeaveElements[He],nt=Ze[ns];nt&&nt.setForRemoval&&(Ve.push(Ze),bt.add(Ze),nt.hasAnimation?this.driver.query(Ze,".ng-star-inserted",!0).forEach(It=>bt.add(It)):yt.add(Ze))}const tn=new Map,nn=dT(P,Array.from(bt));nn.forEach((He,Ze)=>{const nt=Dv+Ce++;tn.set(Ze,nt),He.forEach(It=>rs(It,nt))}),t.push(()=>{z.forEach((He,Ze)=>{const nt=X.get(Ze);He.forEach(It=>Dh(It,nt))}),nn.forEach((He,Ze)=>{const nt=tn.get(Ze);He.forEach(It=>Dh(It,nt))}),Ve.forEach(He=>{this.processLeaveNode(He)})});const na=[],go=[];for(let He=this._namespaceList.length-1;He>=0;He--)this._namespaceList[He].drainQueuedTransitions(e).forEach(nt=>{const It=nt.player,zn=nt.element;if(na.push(It),this.collectedEnterElements.length){const Rr=zn[ns];if(Rr&&Rr.setForMove){if(Rr.previousTriggersValues&&Rr.previousTriggersValues.has(nt.triggerName)){const Cu=Rr.previousTriggersValues.get(nt.triggerName),Il=this.statesByElement.get(nt.element);Il&&Il[nt.triggerName]&&(Il[nt.triggerName].value=Cu)}return void It.destroy()}}const mo=!T||!this.driver.containsElement(T,zn),Ii=tn.get(zn),Tl=X.get(zn),ln=this._buildInstruction(nt,r,Tl,Ii,mo);if(ln.errors&&ln.errors.length)return void go.push(ln);if(mo)return It.onStart(()=>_u(zn,ln.fromStyles)),It.onDestroy(()=>po(zn,ln.toStyles)),void a.push(It);if(nt.isFallbackTransition)return It.onStart(()=>_u(zn,ln.fromStyles)),It.onDestroy(()=>po(zn,ln.toStyles)),void a.push(It);const HT=[];ln.timelines.forEach(Rr=>{Rr.stretchStartingKeyframe=!0,this.disabledNodes.has(Rr.element)||HT.push(Rr)}),ln.timelines=HT,r.append(zn,ln.timelines),d.push({instruction:ln,player:It,element:zn}),ln.queriedElements.forEach(Rr=>Si(f,Rr,[]).push(It)),ln.preStyleProps.forEach((Rr,Cu)=>{const Il=Object.keys(Rr);if(Il.length){let wu=_.get(Cu);wu||_.set(Cu,wu=new Set),Il.forEach(F0=>wu.add(F0))}}),ln.postStyleProps.forEach((Rr,Cu)=>{const Il=Object.keys(Rr);let wu=C.get(Cu);wu||C.set(Cu,wu=new Set),Il.forEach(F0=>wu.add(F0))})});if(go.length){const He=[];go.forEach(Ze=>{He.push(function pM(n,t){return new g.vHH(3505,Et)}())}),na.forEach(Ze=>Ze.destroy()),this.reportError(He)}const xr=new Map,ra=new Map;d.forEach(He=>{const Ze=He.element;r.has(Ze)&&(ra.set(Ze,Ze),this._beforeAnimationBuild(He.player.namespaceId,He.instruction,xr))}),a.forEach(He=>{const Ze=He.element;this._getPreviousPlayers(Ze,!1,He.namespaceId,He.triggerName,null).forEach(It=>{Si(xr,Ze,[]).push(It),It.destroy()})});const ia=Ve.filter(He=>fT(He,_,C)),sa=new Map;uT(sa,this.driver,yt,C,ta).forEach(He=>{fT(He,_,C)&&ia.push(He)});const Ug=new Map;z.forEach((He,Ze)=>{uT(Ug,this.driver,new Set(He),_,"!")}),ia.forEach(He=>{const Ze=sa.get(He),nt=Ug.get(He);sa.set(He,Object.assign(Object.assign({},Ze),nt))});const Eu=[],BT=[],jT={};d.forEach(He=>{const{element:Ze,player:nt,instruction:It}=He;if(r.has(Ze)){if(S.has(Ze))return nt.onDestroy(()=>po(Ze,It.toStyles)),nt.disabled=!0,nt.overrideTotalTime(It.totalTime),void a.push(nt);let zn=jT;if(ra.size>1){let Ii=Ze;const Tl=[];for(;Ii=Ii.parentNode;){const ln=ra.get(Ii);if(ln){zn=ln;break}Tl.push(Ii)}Tl.forEach(ln=>ra.set(ln,zn))}const mo=this._buildAnimation(nt.namespaceId,It,xr,c,Ug,sa);if(nt.setRealPlayer(mo),zn===jT)Eu.push(nt);else{const Ii=this.playersByElement.get(zn);Ii&&Ii.length&&(nt.parentPlayer=wl(Ii)),a.push(nt)}}else _u(Ze,It.fromStyles),nt.onDestroy(()=>po(Ze,It.toStyles)),BT.push(nt),S.has(Ze)&&a.push(nt)}),BT.forEach(He=>{const Ze=c.get(He.element);if(Ze&&Ze.length){const nt=wl(Ze);He.setRealPlayer(nt)}}),a.forEach(He=>{He.parentPlayer?He.syncPlayerEvents(He.parentPlayer):He.destroy()});for(let He=0;He<Ve.length;He++){const Ze=Ve[He],nt=Ze[ns];if(Dh(Ze,Dv),nt&&nt.hasAnimation)continue;let It=[];if(f.size){let mo=f.get(Ze);mo&&mo.length&&It.push(...mo);let Ii=this.driver.query(Ze,g0,!0);for(let Tl=0;Tl<Ii.length;Tl++){let ln=f.get(Ii[Tl]);ln&&ln.length&&It.push(...ln)}}const zn=It.filter(mo=>!mo.destroyed);zn.length?pA(this,Ze,zn):this.processLeaveNode(Ze)}return Ve.length=0,Eu.forEach(He=>{this.players.push(He),He.onDone(()=>{He.destroy();const Ze=this.players.indexOf(He);this.players.splice(Ze,1)}),He.play()}),Eu}elementContainsData(t,e){let r=!1;const a=e[ns];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,a,c){let d=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(d=f)}else{const f=this.playersByElement.get(t);if(f){const _=!c||c==Bg;f.forEach(C=>{C.queued||!_&&C.triggerName!=a||d.push(C)})}}return(r||a)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||a&&a!=f.triggerName))),d}_beforeAnimationBuild(t,e,r){const c=e.element,d=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const C=_.element,S=C!==c,T=Si(r,C,[]);this._getPreviousPlayers(C,S,d,f,e.toState).forEach(z=>{const X=z.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),z.destroy(),T.push(z)})}_u(c,e.fromStyles)}_buildAnimation(t,e,r,a,c,d){const f=e.triggerName,_=e.element,C=[],S=new Set,T=new Set,P=e.timelines.map(X=>{const Ce=X.element;S.add(Ce);const Ve=Ce[ns];if(Ve&&Ve.removedBeforeQueried)return new kg(X.duration,X.delay);const bt=Ce!==_,yt=function gA(n){const t=[];return hT(n,t),t}((r.get(Ce)||aA).map(xr=>xr.getRealPlayer())).filter(xr=>!!xr.element&&xr.element===Ce),tn=c.get(Ce),nn=d.get(Ce),na=BS(0,this._normalizer,0,X.keyframes,tn,nn),go=this._buildPlayer(X,na,yt);if(X.subTimeline&&a&&T.add(Ce),bt){const xr=new A0(t,f,Ce);xr.setRealPlayer(go),C.push(xr)}return go});C.forEach(X=>{Si(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function dA(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,X.element,X))}),S.forEach(X=>rs(X,KS));const z=wl(P);return z.onDestroy(()=>{S.forEach(X=>Dh(X,KS)),po(_,e.toStyles)}),T.forEach(X=>{Si(a,X,[]).push(z)}),z}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new kg(t.duration,t.delay)}}class A0{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new kg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>l0(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Si(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function jv(n){return n&&1===n.nodeType}function cT(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function uT(n,t,e,r,a){const c=[];e.forEach(_=>c.push(cT(_)));const d=[];r.forEach((_,C)=>{const S={};_.forEach(T=>{const P=S[T]=t.computeStyle(C,T,a);(!P||0==P.length)&&(C[ns]=lA,d.push(C))}),n.set(C,S)});let f=0;return e.forEach(_=>cT(_,c[f++])),d}function dT(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const a=new Set(t),c=new Map;function d(f){if(!f)return 1;let _=c.get(f);if(_)return _;const C=f.parentNode;return _=e.has(C)?C:a.has(C)?1:d(C),c.set(f,_),_}return t.forEach(f=>{const _=d(f);1!==_&&e.get(_).push(f)}),e}function rs(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Dh(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function pA(n,t,e){wl(e).onDone(()=>n.processLeaveNode(t))}function hT(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof kS?hT(r.players,t):t.push(r)}}function fT(n,t,e){const r=e.get(n);if(!r)return!1;let a=t.get(n);return a?r.forEach(c=>a.add(c)):t.set(n,r),e.delete(n),!0}class Hv{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new uA(t,e,r),this._timelineEngine=new nA(t,e,r),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(t,e,r,a,c){const d=t+"-"+a;let f=this._triggerCache[d];if(!f){const _=[],S=v0(this._driver,c,_,[]);if(_.length)throw function rM(n,t){return new g.vHH(3404,Et)}();f=function XM(n,t,e){return new JM(n,t,e)}(a,S,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(e,a,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,a){this._transitionEngine.insertNode(t,e,r,a)}onRemove(t,e,r,a){this._transitionEngine.removeNode(t,e,a||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,a){if("@"==r.charAt(0)){const[c,d]=jS(r);this._timelineEngine.command(c,e,d,a)}else this._transitionEngine.trigger(t,e,r,a)}listen(t,e,r,a,c){if("@"==r.charAt(0)){const[d,f]=jS(r);return this._timelineEngine.listen(d,e,f,c)}return this._transitionEngine.listen(t,e,r,a,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let yA=(()=>{class n{constructor(e,r,a){this._element=e,this._startStyles=r,this._endStyles=a,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&po(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(po(this._element,this._initialStyles),this._endStyles&&(po(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_u(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_u(this._element,this._endStyles),this._endStyles=null),po(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function x0(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const a=e[r];vA(a)&&(t=t||{},t[a]=n[a])}return t}function vA(n){return"display"===n||"position"===n}class pT{constructor(t,e,r,a){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:JS(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class EA{validateStyleProperty(t){return $S(t)}matchesElement(t,e){return!1}containsElement(t,e){return zS(t,e)}getParentElement(t){return h0(t)}query(t,e,r){return WS(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,a,c,d=[]){const _={duration:r,delay:a,fill:0==a?"both":"forwards"};c&&(_.easing=c);const C={},S=d.filter(P=>P instanceof pT);(function DM(n,t){return 0===n||0===t})(r,a)&&S.forEach(P=>{let z=P.currentSnapshot;Object.keys(z).forEach(X=>C[X]=z[X])}),e=function SM(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let c=t[0],d=[];if(r.forEach(f=>{c.hasOwnProperty(f)||d.push(f),c[f]=e[f]}),d.length)for(var a=1;a<t.length;a++){let f=t[a];d.forEach(function(_){f[_]=JS(n,_)})}}return t}(t,e=e.map(P=>bl(P,!1)),C);const T=function _A(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=x0(t[0]),t.length>1&&(r=x0(t[t.length-1]))):t&&(e=x0(t)),e||r?new yA(n,e,r):null}(t,e);return new pT(t,e,_,T)}}let CA=(()=>{class n extends OS{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?NS(e):e;return gT(this._renderer,null,r,"register",[a]),new wA(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.FYo),g.LFG(ce))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class wA extends class FI{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new bA(this._id,t,e||{},this._renderer)}}class bA{constructor(t,e,r,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return gT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function gT(n,t,e,r,a){return n.setProperty(t,`@@${e}:${r}`,a)}const mT="@.disabled";let DA=(()=>{class n{constructor(e,r,a){this.delegate=e,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,d)=>{const f=null==d?void 0:d.parentNode(c);f&&d.removeChild(f,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(c);return S||(S=new _T("",c,this.engine),this._rendererCache.set(c,S)),S}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(d,f,e,S.name,S)};return r.data.animation.forEach(_),new SA(this,f,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,a){e>=0&&e<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[d,f]=c;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(g.FYo),g.LFG(Hv),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class _T{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,a=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,a){this.delegate.setAttribute(t,e,r,a)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,a){this.delegate.setStyle(t,e,r,a)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==mT?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class SA extends _T{constructor(t,e,r,a){super(e,r,a),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==mT?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const a=function TA(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),d="";return"@"!=c.charAt(0)&&([c,d]=function IA(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,a,c,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(t,e,r)}}let MA=(()=>{class n extends Hv{constructor(e,r,a){super(e.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(ce),g.LFG(f0),g.LFG(D0))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const R0=new g.OlP("AnimationModuleType"),yT=[{provide:OS,useClass:CA},{provide:D0,useFactory:function AA(){return new qM}},{provide:Hv,useClass:MA},{provide:g.FYo,useFactory:function xA(n,t,e){return new DA(n,t,e)},deps:[Vt,Hv,g.R0b]}],vT=[{provide:f0,useFactory:()=>new EA},{provide:R0,useValue:"BrowserAnimations"},...yT],RA=[{provide:f0,useClass:GS},{provide:R0,useValue:"NoopAnimations"},...yT];let PA=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?RA:vT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:vT,imports:[ma]}),n})();const ET=["*"],OA=["content"];function NA(n,t){if(1&n){const e=g.EpF();g.TgZ(0,"div",2),g.NdJ("click",function(){return g.CHM(e),g.oxw()._onBackdropClicked()}),g.qZA()}if(2&n){const e=g.oxw();g.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function FA(n,t){1&n&&(g.TgZ(0,"mat-drawer-content"),g.Hsn(1,2),g.qZA())}const kA=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],LA=["mat-drawer","mat-drawer-content","*"],BA={transformDrawer:s0("transform",[wh("open, open-instant",Cl({transform:"none",visibility:"visible"})),wh("void",Cl({"box-shadow":"none",visibility:"hidden"})),wv("void => open-instant",Cv("0ms")),wv("void <=> open, open-instant => void",Cv("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},jA=new g.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function HA(){return!1}}),CT=new g.OlP("MAT_DRAWER_CONTAINER");let P0=(()=>{class n extends hu{constructor(e,r,a,c,d){super(a,c,d),this._changeDetectorRef=e,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.sBO),g.Y36((0,g.Gpc)(()=>bT)),g.Y36(g.SBq),g.Y36(Oy),g.Y36(g.R0b))},n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,r){2&e&&g.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[g._Bn([{provide:hu,useExisting:n}]),g.qOj],ngContentSelectors:ET,decls:1,vars:0,template:function(e,r){1&e&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),wT=(()=>{class n{constructor(e,r,a,c,d,f,_,C){this._elementRef=e,this._focusTrapFactory=r,this._focusMonitor=a,this._platform=c,this._ngZone=d,this._interactivityChecker=f,this._doc=_,this._container=C,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Qt.x,this._animationEnd=new Qt.x,this._animationState="void",this.openedChange=new g.vpe(!0),this._openedStream=this.openedChange.pipe(fn(S=>S),(0,ut.U)(()=>{})),this.openedStart=this._animationStarted.pipe(fn(S=>S.fromState!==S.toState&&0===S.toState.indexOf("open")),PS(void 0)),this._closedStream=this.openedChange.pipe(fn(S=>!S),(0,ut.U)(()=>{})),this.closedStart=this._animationStarted.pipe(fn(S=>S.fromState!==S.toState&&"void"===S.toState),PS(void 0)),this._destroyed=new Qt.x,this.onPositionChanged=new g.vpe,this._modeChanged=new Qt.x,this.openedChange.subscribe(S=>{S?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{tu(this._elementRef.nativeElement,"keydown").pipe(fn(S=>27===S.keyCode&&!this.disableClose&&!function ev(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(S)),Jr(this._destroyed)).subscribe(S=>this._ngZone.run(()=>{this.close(),S.stopPropagation(),S.preventDefault()}))}),this._animationEnd.pipe(tv((S,T)=>S.fromState===T.fromState&&S.toState===T.toState)).subscribe(S=>{const{fromState:T,toState:P}=S;(0===P.indexOf("open")&&"void"===T||"void"===P&&0===T.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Qo(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Qo(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Qo(e))}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{e.removeEventListener("blur",a),e.removeEventListener("mousedown",a),e.removeAttribute("tabindex")};e.addEventListener("blur",a),e.addEventListener("mousedown",a)})),e.focus(r)}_focusByCssSelector(e,r){let a=this._elementRef.nativeElement.querySelector(e);a&&this._forceFocus(a,r)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,r){e&&r&&(this._openedVia=r);const a=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),a}_setOpen(e,r,a){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(a)),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe(rr(1)).subscribe(d=>c(d?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const r=this._elementRef.nativeElement,a=r.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),a.insertBefore(this._anchor,r)),a.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.SBq),g.Y36(DS),g.Y36(MS),g.Y36(yl),g.Y36(g.R0b),g.Y36(Eh),g.Y36(ce,8),g.Y36(CT,8))},n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,r){if(1&e&&g.Gf(OA,5),2&e){let a;g.iGM(a=g.CRH())&&(r._content=a.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,r){1&e&&g.WFA("@transform.start",function(c){return r._animationStarted.next(c)})("@transform.done",function(c){return r._animationEnd.next(c)}),2&e&&(g.uIk("align",null),g.d8E("@transform",r._animationState),g.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ET,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,r){1&e&&(g.F$t(),g.TgZ(0,"div",0,1),g.Hsn(2),g.qZA())},directives:[hu],encapsulation:2,data:{animation:[BA.transformDrawer]},changeDetection:0}),n})(),bT=(()=>{class n{constructor(e,r,a,c,d,f=!1,_){this._dir=e,this._element=r,this._ngZone=a,this._changeDetectorRef=c,this._animationMode=_,this._drawers=new g.n_E,this.backdropClick=new g.vpe,this._destroyed=new Qt.x,this._doCheckSubject=new Qt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Qt.x,e&&e.change.pipe(Jr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),d.change().pipe(Jr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Qo(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Qo(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Ur(this._allDrawers),Jr(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ur(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function NI(n,t=_g){return(0,Gt.e)((e,r)=>{let a=null,c=null,d=null;const f=()=>{if(a){a.unsubscribe(),a=null;const C=c;c=null,r.next(C)}};function _(){const C=d+n,S=t.now();if(S<C)return a=this.schedule(void 0,C-S),void r.add(a);f()}e.subscribe((0,Wt.x)(r,C=>{c=C,d=t.now(),a||(a=t.schedule(_,n),r.add(a))},()=>{f(),r.complete()},void 0,()=>{c=a=null}))})}(10),Jr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const a=this._left._getWidth();e+=a,r-=a}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const a=this._right._getWidth();r+=a,e-=a}e=e||null,r=r||null,(e!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:e,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(fn(r=>r.fromState!==r.toState),Jr(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Jr(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Jr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(rr(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Jr((0,OI.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const r=this._element.nativeElement.classList,a="mat-drawer-container-has-open";e?r.add(a):r.remove(a)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(Eg,8),g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(g.sBO),g.Y36(Gw),g.Y36(jA),g.Y36(R0,8))},n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,r,a){if(1&e&&(g.Suo(a,P0,5),g.Suo(a,wT,5)),2&e){let c;g.iGM(c=g.CRH())&&(r._content=c.first),g.iGM(c=g.CRH())&&(r._allDrawers=c)}},viewQuery:function(e,r){if(1&e&&g.Gf(P0,5),2&e){let a;g.iGM(a=g.CRH())&&(r._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,r){2&e&&g.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[g._Bn([{provide:CT,useExisting:n}])],ngContentSelectors:LA,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,r){1&e&&(g.F$t(kA),g.YNc(0,NA,1,2,"div",0),g.Hsn(1),g.Hsn(2,1),g.YNc(3,FA,2,0,"mat-drawer-content",1)),2&e&&(g.Q6J("ngIf",r.hasBackdrop),g.xp6(3),g.Q6J("ngIf",!r._content))},directives:[P0,Gn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),UA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[ca,ea,fu],fu,ea]}),n})();var $A=R(99);class zA{}class Dl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const a=e.slice(0,r),c=a.toLowerCase(),d=e.slice(r+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const a=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(a,r),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Dl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Dl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Dl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...r),this.headers.set(e,a);break;case"d":const c=t.value;if(c){let d=this.headers.get(e);if(!d)return;d=d.filter(f=>-1===c.indexOf(f)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class WA{encodeKey(t){return DT(t)}encodeValue(t){return DT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const qA=/%(\d[a-f0-9])/gi,KA={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function DT(n){return encodeURIComponent(n).replace(qA,(t,e)=>{var r;return null!==(r=KA[e])&&void 0!==r?r:t})}function ST(n){return`${n}`}class Sl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new WA,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function GA(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[d,f]=-1==c?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,c)),t.decodeValue(a.slice(c+1))],_=e.get(d)||[];_.push(f),e.set(d,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const a=t[r];Array.isArray(a)?a.forEach(c=>{e.push({param:r,value:c,op:"a"})}):e.push({param:r,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Sl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ST(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const a=r.indexOf(ST(t.value));-1!==a&&r.splice(a,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class YA{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function TT(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function IT(n){return"undefined"!=typeof Blob&&n instanceof Blob}function MT(n){return"undefined"!=typeof FormData&&n instanceof FormData}class jg{constructor(t,e,r,a){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function QA(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,c=a):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Dl),this.context||(this.context=new YA),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+d}}else this.params=new Sl,this.urlWithParams=e}serializeBody(){return null===this.body?null:TT(this.body)||IT(this.body)||MT(this.body)||function ZA(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Sl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MT(this.body)?null:IT(this.body)?this.body.type||null:TT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Sl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,a=t.url||this.url,c=t.responseType||this.responseType,d=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,_=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let C=t.headers||this.headers,S=t.params||this.params;const T=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(C=Object.keys(t.setHeaders).reduce((P,z)=>P.set(z,t.setHeaders[z]),C)),t.setParams&&(S=Object.keys(t.setParams).reduce((P,z)=>P.set(z,t.setParams[z]),S)),new jg(r,a,d,{params:S,headers:C,context:T,reportProgress:_,responseType:c,withCredentials:f})}}var Xn=(()=>((Xn=Xn||{})[Xn.Sent=0]="Sent",Xn[Xn.UploadProgress=1]="UploadProgress",Xn[Xn.ResponseHeader=2]="ResponseHeader",Xn[Xn.DownloadProgress=3]="DownloadProgress",Xn[Xn.Response=4]="Response",Xn[Xn.User=5]="User",Xn))();class O0 extends class XA{constructor(t,e=200,r="OK"){this.headers=t.headers||new Dl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Xn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new O0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function N0(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let xT=(()=>{class n{constructor(e){this.handler=e}request(e,r,a={}){let c;if(e instanceof jg)c=e;else{let _,C;_=a.headers instanceof Dl?a.headers:new Dl(a.headers),a.params&&(C=a.params instanceof Sl?a.params:new Sl({fromObject:a.params})),c=new jg(e,r,void 0!==a.body?a.body:null,{headers:_,context:a.context,params:C,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const d=Fe(c).pipe($s(_=>this.handler.handle(_)));if(e instanceof jg||"events"===a.observe)return d;const f=d.pipe(fn(_=>_ instanceof O0));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return f.pipe((0,ut.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,ut.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,ut.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,ut.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Sl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,a={}){return this.request("PATCH",e,N0(a,r))}post(e,r,a={}){return this.request("POST",e,N0(a,r))}put(e,r,a={}){return this.request("PUT",e,N0(a,r))}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(zA))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const ex=["*"];let Vv;function Hg(n){var t;return(null===(t=function tx(){if(void 0===Vv&&(Vv=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Vv=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Vv}())||void 0===t?void 0:t.createHTML(n))||n}function RT(n){return Error(`Unable to find icon with the name "${n}"`)}function PT(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function OT(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class vu{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let $v=(()=>{class n{constructor(e,r,a,c){this._httpClient=e,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=a}addSvgIcon(e,r,a){return this.addSvgIconInNamespace("",e,r,a)}addSvgIconLiteral(e,r,a){return this.addSvgIconLiteralInNamespace("",e,r,a)}addSvgIconInNamespace(e,r,a,c){return this._addSvgIconConfig(e,r,new vu(a,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,a,c){const d=this._sanitizer.sanitize(g.q3G.HTML,a);if(!d)throw OT(a);const f=Hg(d);return this._addSvgIconConfig(e,r,new vu("",f,c))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,a){return this._addSvgIconSetConfig(e,new vu(r,null,a))}addSvgIconSetLiteralInNamespace(e,r,a){const c=this._sanitizer.sanitize(g.q3G.HTML,r);if(!c)throw OT(r);const d=Hg(c);return this._addSvgIconSetConfig(e,new vu("",d,a))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(g.q3G.RESOURCE_URL,e);if(!r)throw PT(e);const a=this._cachedIconsByUrl.get(r);return a?Fe(zv(a)):this._loadSvgIconFromConfig(new vu(e,null)).pipe(Cn(c=>this._cachedIconsByUrl.set(r,c)),(0,ut.U)(c=>zv(c)))}getNamedSvgIcon(e,r=""){const a=NT(r,e);let c=this._svgIconConfigs.get(a);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,e),c)return this._svgIconConfigs.set(a,c),this._getSvgFromConfig(c);const d=this._iconSetConfigs.get(r);return d?this._getSvgFromIconSetConfigs(e,d):cs(RT(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Fe(zv(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ut.U)(r=>zv(r)))}_getSvgFromIconSetConfigs(e,r){const a=this._extractIconWithNameFromAnySet(e,r);return a?Fe(a):function VA(...n){const t=(0,Hr.jO)(n),{args:e,keys:r}=va(n),a=new wr.y(c=>{const{length:d}=e;if(!d)return void c.complete();const f=new Array(d);let _=d,C=d;for(let S=0;S<d;S++){let T=!1;(0,br.Xf)(e[S]).subscribe((0,Wt.x)(c,P=>{T||(T=!0,C--),f[S]=P},()=>_--,void 0,()=>{(!_||!T)&&(C||c.next(r?Us(r,f):f),c.complete())}))}});return t?a.pipe(sc(t)):a}(r.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Hn(f=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(g.q3G.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(C)),Fe(null)})))).pipe((0,ut.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,r);if(!d)throw RT(e);return d}))}_extractIconWithNameFromAnySet(e,r){for(let a=r.length-1;a>=0;a--){const c=r[a];if(c.svgText&&c.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(c),f=this._extractSvgIconFromSet(d,e,c.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Cn(r=>e.svgText=r),(0,ut.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Fe(null):this._fetchIcon(e).pipe(Cn(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,a){const c=e.querySelector(`[id="${r}"]`);if(!c)return null;const d=c.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,a);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),a);const f=this._svgElementFromString(Hg("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,a)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const a=r.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(e){const r=this._svgElementFromString(Hg("<svg></svg>")),a=e.attributes;for(let c=0;c<a.length;c++){const{name:d,value:f}=a[c];"id"!==d&&r.setAttribute(d,f)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){var r;const{url:a,options:c}=e,d=null!==(r=null==c?void 0:c.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function nx(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==a)throw Error(`Cannot fetch icon from URL "${a}".`);const f=this._sanitizer.sanitize(g.q3G.RESOURCE_URL,a);if(!f)throw PT(a);const _=this._inProgressUrlFetches.get(f);if(_)return _;const C=this._httpClient.get(f,{responseType:"text",withCredentials:d}).pipe((0,ut.U)(S=>Hg(S)),$u(()=>this._inProgressUrlFetches.delete(f)),(0,$A.B)());return this._inProgressUrlFetches.set(f,C),C}_addSvgIconConfig(e,r,a){return this._svgIconConfigs.set(NT(e,r),a),this}_addSvgIconSetConfig(e,r){const a=this._iconSetConfigs.get(e);return a?a.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let a=0;a<this._resolvers.length;a++){const c=this._resolvers[a](r,e);if(c)return ix(c)?new vu(c.url,null,c.options):new vu(c,null)}}}return n.\u0275fac=function(e){return new(e||n)(g.LFG(xT,8),g.LFG(js),g.LFG(ce,8),g.LFG(g.qLn))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zv(n){return n.cloneNode(!0)}function NT(n,t){return n+":"+t}function ix(n){return!(!n.url||!n.options)}const sx=n0(class{constructor(n){this._elementRef=n}}),ox=new g.OlP("mat-icon-location",{providedIn:"root",factory:function ax(){const n=(0,g.f3M)(ce),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),FT=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],lx=FT.map(n=>`[${n}]`).join(", "),cx=/^url\(['"]?#(.*?)['"]?\)$/;let ux=(()=>{class n extends sx{constructor(e,r,a,c,d){super(e),this._iconRegistry=r,this._location=c,this._errorHandler=d,this._inline=!1,this._currentIconFetch=ji.w0.EMPTY,a||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Qo(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const a=e.childNodes[r];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&a.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),r&&e.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((a,c)=>{a.forEach(d=>{c.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(lx),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)FT.forEach(d=>{const f=r[c],_=f.getAttribute(d),C=_?_.match(cx):null;if(C){let S=a.get(f);S||(S=[],a.set(f,S)),S.push({name:d,value:C[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,a]=this._splitIconName(e);r&&(this._svgNamespace=r),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,r).pipe(rr(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${a}! ${c.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(g.SBq),g.Y36($v),g.$8M("aria-hidden"),g.Y36(ox),g.Y36(g.qLn))},n.\u0275cmp=g.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(g.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),g.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[g.qOj],ngContentSelectors:ex,decls:1,vars:0,template:function(e,r){1&e&&(g.F$t(),g.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),dx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[ea],ea]}),n})();const hx=["chat"],fx=function(n,t){return{righty:n,lefty:t}},px=function(n,t){return{s1:n,s2:t}};function gx(n,t){if(1&n&&(g.TgZ(0,"div")(1,"div",13)(2,"div",13)(3,"label")(4,"b"),g._uU(5),g.qZA(),g._uU(6),g.qZA()(),g._UZ(7,"br"),g.qZA()()),2&n){const e=t.$implicit,r=g.oxw();g.xp6(1),g.Q6J("ngClass",g.WLB(4,fx,r.username==e.username,r.username!=e.username)),g.xp6(1),g.Q6J("ngClass",g.WLB(7,px,r.username==e.username,r.username!=e.username)),g.xp6(3),g.Oqu(e.username),g.xp6(1),g.hij(" : ",e.chat,"")}}let mx=(()=>{class n{constructor(){this.username="",this.title="chat_test",this.all_chats=[],this.firebaseConfig={apiKey:"AIzaSyCiJt5PNdQVth5K0Mu02jClWE3wQZky2iA",authDomain:"chat-test-76af5.firebaseapp.com",projectId:"chat-test-76af5",storageBucket:"chat-test-76af5.appspot.com",messagingSenderId:"285509761505",appId:"1:285509761505:web:3ea6617c3bc005bbde3aa0",dataBaseURL:"https://chat-test-76af5-default-rtdb.firebaseio.com/"},this.x=[],this.app=(0,Bm.ZF)(this.firebaseConfig),this.database=function vw(n=(0,$a.getApp)(),t){return(0,$a._getProvider)(n,"database").getImmediate({identifier:t})}(this.app),this.showFiller=!1}ngOnInit(){this.sh=window.innerHeight,uh(Zc(this.database,"/Chats"),r=>{this.x=[],r.forEach(a=>{const c=a.val();this.x.push(c)})})}add_to_chat(e){this.all_chats.push(e);let a=function tw(n,t){n=(0,W.m9)(n),Di("push",n._path),bi("push",t,n._path,!0);const e=ny(n._repo),r=__(e),a=ml(n,r),c=ml(n,r);let d;return d=null!=t?ig(c,t).then(()=>c):Promise.resolve(c),a.then=d.then.bind(d),a.catch=d.then.bind(d,void 0),a}(Zc(this.database,"Chats/"));""==e?alert("Trying to send empty text!"):(ig(a,{username:this.username,chat:e}),this.chat_line.nativeElement.value="",uh(Zc(this.database,"/Chats"),d=>{this.x=[],d.forEach(f=>{const _=f.val();this.x.push(_)})}))}ngOnChanges(){uh(Zc(this.database,"/Chats"),r=>{this.x=[],r.forEach(a=>{const c=a.val();this.x.push(c)})})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-chat-test"]],viewQuery:function(e,r){if(1&e&&g.Gf(hx,5),2&e){let a;g.iGM(a=g.CRH())&&(r.chat_line=a.first)}},inputs:{username:"username"},features:[g.TTD],decls:19,vars:1,consts:[[1,"example-container"],["mode","side","hasBackdrop","true","position","end",1,"example-sidenav"],["drawer",""],[1,"chat_title"],["mat-fab","",1,"back-but",3,"click"],[1,"msgbox"],[4,"ngFor","ngForOf"],[1,"sendmsg"],["placeholder","Enter your text.....","id","chat_line",2,"width","max"],["chat",""],[3,"click"],[1,"example-sidenav-content"],["type","button","mat-button","",1,"chat-button",3,"click"],[3,"ngClass"]],template:function(e,r){if(1&e){const a=g.EpF();g.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"button",4),g.NdJ("click",function(){return g.CHM(a),g.MAs(2).toggle()}),g.TgZ(5,"mat-icon"),g._uU(6,"navigate_next"),g.qZA()()(),g.TgZ(7,"div",5),g.YNc(8,gx,8,10,"div",6),g._UZ(9,"br"),g.qZA(),g.TgZ(10,"div",7),g._UZ(11,"input",8,9),g.TgZ(13,"button",10),g.NdJ("click",function(){g.CHM(a);const d=g.MAs(12);return r.add_to_chat(d.value)}),g.TgZ(14,"mat-icon"),g._uU(15,"send"),g.qZA()()()(),g.TgZ(16,"div",11)(17,"button",12),g.NdJ("click",function(){return g.CHM(a),g.MAs(2).toggle()}),g._uU(18," Open Chats "),g.qZA()()()}2&e&&(g.xp6(8),g.Q6J("ngForOf",r.x.slice().reverse()))},directives:[bT,wT,ux,Dn,Ri],styles:[".s1[_ngcontent-%COMP%]{color:#000;width:-moz-fit-content;width:fit-content;border:1px solid black;padding:10px;background-color:#a2f7da;border-radius:20px}.s2[_ngcontent-%COMP%]{color:#000;width:-moz-fit-content;width:fit-content;border:1px solid black;padding:10px;background-color:#a2f7f7;border-radius:20px}.s1[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#c0f}.s2[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#8f032d}.s1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{height:auto;width:50%}.sendmsg[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;background-color:#fff}.sendmsg[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{vertical-align:middle;margin:5px 10px 5px 0;padding:10px;width:75%;background-color:#fff;border:1px solid #fff}.sendmsg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#1e8fff00;border:1px solid rgba(221,221,221,0);border-radius:50px;color:#c0f}.sendmsg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#869ca8}.hed[_ngcontent-%COMP%]{color:#000;text-align:center;size:large;position:fixed;background-color:#c1e8ff;border-bottom:1px solid black}.msgbox[_ngcontent-%COMP%]{overflow-y:scroll;height:750px;display:flex;flex-direction:column-reverse;background-color:#83f8e8}[_ngcontent-%COMP%]::-webkit-scrollbar{width:1px}.example-container[_ngcontent-%COMP%]{height:850px;background-color:#89f5f5;border-radius:20px}.example-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.chat-button[_ngcontent-%COMP%]{border-radius:30px}.chat_title[_ngcontent-%COMP%]{display:flex;justify-content:right}.back-but[_ngcontent-%COMP%]{border-radius:30px}.lefty[_ngcontent-%COMP%]{float:left}.righty[_ngcontent-%COMP%]{float:right}"]}),n})();const _x=[{path:"",component:(()=>{class n{constructor(e){this.Router=e}take_me_to_chats(e){this.Router.navigate(["/home"],{queryParams:{user:e}})}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(lr))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-login"]],decls:7,vars:0,consts:[["username",""],[3,"click"]],template:function(e,r){if(1&e){const a=g.EpF();g.TgZ(0,"h1"),g._uU(1,"Enter Username"),g.qZA(),g._UZ(2,"input",null,0),g.TgZ(4,"button",1),g.NdJ("click",function(){g.CHM(a);const d=g.MAs(3);return r.take_me_to_chats(d.value)}),g._uU(5,"Click me"),g.qZA(),g._UZ(6,"br")}},styles:[""]}),n})()},{path:"home",component:(()=>{class n{constructor(e){this.route=e,this.username=""}ngOnInit(){this.route.queryParamMap.subscribe(e=>this.username=e.get("user")),this.w=window.innerWidth}ngOnChanges(){console.log("Changed")}}return n.\u0275fac=function(e){return new(e||n)(g.Y36(qi))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-homepage"]],features:[g.TTD],decls:14,vars:2,consts:[[1,"row"],[1,"prof_col"],["settings",""],[1,"posts_col"],["posts",""],[1,"chat_col"],["chats",""],[3,"username"]],template:function(e,r){1&e&&(g.TgZ(0,"div",0)(1,"div",1,2)(3,"h1"),g._uU(4,"Profile Setting Component"),g.qZA()(),g.TgZ(5,"div",3,4)(7,"h1"),g._uU(8,"Main Component"),g.qZA()(),g.TgZ(9,"div",5,6)(11,"h1"),g._uU(12),g.qZA(),g._UZ(13,"app-chat-test",7),g.qZA()()),2&e&&(g.xp6(12),g.hij("Welcome ",r.username,""),g.xp6(1),g.Q6J("username",r.username))},directives:[mx],styles:['.prof_col[_ngcontent-%COMP%]{float:left;height:100%;width:15%;border:1px solid black}.posts_col[_ngcontent-%COMP%]{float:left;height:100%;width:55%;border:1px solid black}.chat_col[_ngcontent-%COMP%]{float:left;height:100%;width:30%;border:1px solid black}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}[_ngcontent-%COMP%]::-webkit-scrollbar{width:1px}.chat_button[_ngcontent-%COMP%]{float:right}.prof_button[_ngcontent-%COMP%]{float:left}']}),n})()}];let yx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[Pm.forRoot(_x)],Pm]}),n})(),vx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&g._UZ(0,"router-outlet")},directives:[rf],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:1px}"]}),n})(),Ex=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[ea],ea]}),n})(),Cx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),Sx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),Tx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[ca,ea,Cx,Sx]]}),n})(),Ix={apiKey:"AIzaSyCiJt5PNdQVth5K0Mu02jClWE3wQZky2iA",authDomain:"chat-test-76af5.firebaseapp.com",projectId:"chat-test-76af5",storageBucket:"chat-test-76af5.appspot.com",messagingSenderId:"285509761505",appId:"1:285509761505:web:3ea6617c3bc005bbde3aa0",dataBaseURL:"https://chat-test-76af5-default-rtdb.firebaseio.com/"},Mx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[vx]}),n.\u0275inj=g.cJS({providers:[],imports:[[ma,yx,om.hO.initializeApp(Ix),PA,UA,dx,Ex,Tx]]}),n})();(0,g.G48)(),Oh().bootstrapModule(Mx).catch(n=>console.error(n))},867:(Ue,le,R)=>{R.d(le,{ZF:()=>g.initializeApp});var g=R(681);(0,g.registerVersion)("firebase","9.9.3","app")},306:(Ue,le,R)=>{R.d(le,{y:()=>j});var g=R(930),V=R(727),ie=R(822),J=R(671);var ce=R(416),he=R(576),we=R(806);let j=(()=>{class _e{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const ue=new _e;return ue.source=this,ue.operator=Oe,ue}subscribe(Oe,ue,Re){const ot=function xe(_e){return _e&&_e instanceof g.Lv||function Y(_e){return _e&&(0,he.m)(_e.next)&&(0,he.m)(_e.error)&&(0,he.m)(_e.complete)}(_e)&&(0,V.Nn)(_e)}(Oe)?Oe:new g.Hp(Oe,ue,Re);return(0,we.x)(()=>{const{operator:ve,source:Ie}=this;ot.add(ve?ve.call(ot,Ie):Ie?this._subscribe(ot):this._trySubscribe(ot))}),ot}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(ue){Oe.error(ue)}}forEach(Oe,ue){return new(ue=H(ue))((Re,ot)=>{const ve=new g.Hp({next:Ie=>{try{Oe(Ie)}catch(pe){ot(pe),ve.unsubscribe()}},error:ot,complete:Re});this.subscribe(ve)})}_subscribe(Oe){var ue;return null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(Oe)}[ie.L](){return this}pipe(...Oe){return function me(_e){return 0===_e.length?J.y:1===_e.length?_e[0]:function(Oe){return _e.reduce((ue,Re)=>Re(ue),Oe)}}(Oe)(this)}toPromise(Oe){return new(Oe=H(Oe))((ue,Re)=>{let ot;this.subscribe(ve=>ot=ve,ve=>Re(ve),()=>ue(ot))})}}return _e.create=be=>new _e(be),_e})();function H(_e){var be;return null!==(be=null!=_e?_e:ce.v.Promise)&&void 0!==be?be:Promise}},579:(Ue,le,R)=>{R.d(le,{x:()=>ce});var g=R(306),V=R(727);const J=(0,R(888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=R(737),me=R(806);let ce=(()=>{class we extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Y=new he(this,this);return Y.operator=H,Y}_throwIfClosed(){if(this.closed)throw new J}next(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(H)}})}error(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Y}=this;for(;Y.length;)Y.shift().error(H)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Y,isStopped:xe,observers:_e}=this;return Y||xe?V.Lc:(this.currentObservers=null,_e.push(H),new V.w0(()=>{this.currentObservers=null,(0,fe.P)(_e,H)}))}_checkFinalizedStatuses(H){const{hasError:Y,thrownError:xe,isStopped:_e}=this;Y?H.error(xe):_e&&H.complete()}asObservable(){const H=new g.y;return H.source=this,H}}return we.create=(j,H)=>new he(j,H),we})();class he extends ce{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Y||Y.call(H,j)}error(j){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Y||Y.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,Y;return null!==(Y=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==Y?Y:V.Lc}}},930:(Ue,le,R)=>{R.d(le,{Hp:()=>Oe,Lv:()=>Y});var g=R(576),V=R(727),ie=R(416),J=R(849),fe=R(32);const me=we("C",void 0,void 0);function we(Ie,pe,Pe){return{kind:Ie,value:pe,error:Pe}}var j=R(410),H=R(806);class Y extends V.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,V.Nn)(pe)&&pe.add(this)):this.destination=ve}static create(pe,Pe,at){return new Oe(pe,Pe,at)}next(pe){this.isStopped?ot(function he(Ie){return we("N",Ie,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?ot(function ce(Ie){return we("E",void 0,Ie)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?ot(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function _e(Ie,pe){return xe.call(Ie,pe)}class be{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:Pe}=this;if(Pe.next)try{Pe.next(pe)}catch(at){ue(at)}}error(pe){const{partialObserver:Pe}=this;if(Pe.error)try{Pe.error(pe)}catch(at){ue(at)}else ue(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(Pe){ue(Pe)}}}class Oe extends Y{constructor(pe,Pe,at){let ke;if(super(),(0,g.m)(pe)||!pe)ke={next:null!=pe?pe:void 0,error:null!=Pe?Pe:void 0,complete:null!=at?at:void 0};else{let ee;this&&ie.v.useDeprecatedNextContext?(ee=Object.create(pe),ee.unsubscribe=()=>this.unsubscribe(),ke={next:pe.next&&_e(pe.next,ee),error:pe.error&&_e(pe.error,ee),complete:pe.complete&&_e(pe.complete,ee)}):ke=pe}this.destination=new be(ke)}}function ue(Ie){ie.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ie):(0,J.h)(Ie)}function ot(Ie,pe){const{onStoppedNotification:Pe}=ie.v;Pe&&j.z.setTimeout(()=>Pe(Ie,pe))}const ve={closed:!0,next:fe.Z,error:function Re(Ie){throw Ie},complete:fe.Z}},727:(Ue,le,R)=>{R.d(le,{Lc:()=>me,w0:()=>fe,Nn:()=>ce});var g=R(576);const ie=(0,R(888).d)(we=>function(H){we(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Y,xe)=>`${xe+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var J=R(737);class fe{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const _e of H)_e.remove(this);else H.remove(this);const{initialTeardown:Y}=this;if((0,g.m)(Y))try{Y()}catch(_e){j=_e instanceof ie?_e.errors:[_e]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const _e of xe)try{he(_e)}catch(be){j=null!=j?j:[],be instanceof ie?j=[...j,...be.errors]:j.push(be)}}if(j)throw new ie(j)}}add(j){var H;if(j&&j!==this)if(this.closed)he(j);else{if(j instanceof fe){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,J.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,J.P)(H,j),j instanceof fe&&j._removeParent(this)}}fe.EMPTY=(()=>{const we=new fe;return we.closed=!0,we})();const me=fe.EMPTY;function ce(we){return we instanceof fe||we&&"closed"in we&&(0,g.m)(we.remove)&&(0,g.m)(we.add)&&(0,g.m)(we.unsubscribe)}function he(we){(0,g.m)(we)?we():we.unsubscribe()}},416:(Ue,le,R)=>{R.d(le,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ue,le,R)=>{R.d(le,{E:()=>V});const V=new(R(306).y)(fe=>fe.complete())},76:(Ue,le,R)=>{R.d(le,{D:()=>at});var g=R(421),V=R(672),ie=R(482),J=R(403);function fe(ke,ee=0){return(0,ie.e)((de,U)=>{de.subscribe((0,J.x)(U,q=>(0,V.f)(U,ke,()=>U.next(q),ee),()=>(0,V.f)(U,ke,()=>U.complete(),ee),q=>(0,V.f)(U,ke,()=>U.error(q),ee)))})}function me(ke,ee=0){return(0,ie.e)((de,U)=>{U.add(ke.schedule(()=>de.subscribe(U),ee))})}var we=R(306),H=R(202),Y=R(576);function _e(ke,ee){if(!ke)throw new Error("Iterable cannot be null");return new we.y(de=>{(0,V.f)(de,ee,()=>{const U=ke[Symbol.asyncIterator]();(0,V.f)(de,ee,()=>{U.next().then(q=>{q.done?de.complete():de.next(q.value)})},0,!0)})})}var be=R(670),Oe=R(239),ue=R(144),Re=R(495),ot=R(206),ve=R(645),Ie=R(260);function at(ke,ee){return ee?function Pe(ke,ee){if(null!=ke){if((0,be.c)(ke))return function ce(ke,ee){return(0,g.Xf)(ke).pipe(me(ee),fe(ee))}(ke,ee);if((0,ue.z)(ke))return function j(ke,ee){return new we.y(de=>{let U=0;return ee.schedule(function(){U===ke.length?de.complete():(de.next(ke[U++]),de.closed||this.schedule())})})}(ke,ee);if((0,Oe.t)(ke))return function he(ke,ee){return(0,g.Xf)(ke).pipe(me(ee),fe(ee))}(ke,ee);if((0,ot.D)(ke))return _e(ke,ee);if((0,Re.T)(ke))return function xe(ke,ee){return new we.y(de=>{let U;return(0,V.f)(de,ee,()=>{U=ke[H.h](),(0,V.f)(de,ee,()=>{let q,K;try{({value:q,done:K}=U.next())}catch(te){return void de.error(te)}K?de.complete():de.next(q)},0,!0)}),()=>(0,Y.m)(null==U?void 0:U.return)&&U.return()})}(ke,ee);if((0,Ie.L)(ke))return function pe(ke,ee){return _e((0,Ie.Q)(ke),ee)}(ke,ee)}throw(0,ve.z)(ke)}(ke,ee):(0,g.Xf)(ke)}},421:(Ue,le,R)=>{R.d(le,{Xf:()=>xe});var g=R(655),V=R(144),ie=R(239),J=R(306),fe=R(670),me=R(206),ce=R(645),he=R(495),we=R(260),j=R(576),H=R(849),Y=R(822);function xe(Ie){if(Ie instanceof J.y)return Ie;if(null!=Ie){if((0,fe.c)(Ie))return function _e(Ie){return new J.y(pe=>{const Pe=Ie[Y.L]();if((0,j.m)(Pe.subscribe))return Pe.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,V.z)(Ie))return function be(Ie){return new J.y(pe=>{for(let Pe=0;Pe<Ie.length&&!pe.closed;Pe++)pe.next(Ie[Pe]);pe.complete()})}(Ie);if((0,ie.t)(Ie))return function Oe(Ie){return new J.y(pe=>{Ie.then(Pe=>{pe.closed||(pe.next(Pe),pe.complete())},Pe=>pe.error(Pe)).then(null,H.h)})}(Ie);if((0,me.D)(Ie))return Re(Ie);if((0,he.T)(Ie))return function ue(Ie){return new J.y(pe=>{for(const Pe of Ie)if(pe.next(Pe),pe.closed)return;pe.complete()})}(Ie);if((0,we.L)(Ie))return function ot(Ie){return Re((0,we.Q)(Ie))}(Ie)}throw(0,ce.z)(Ie)}function Re(Ie){return new J.y(pe=>{(function ve(Ie,pe){var Pe,at,ke,ee;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Pe=(0,g.KL)(Ie);!(at=yield Pe.next()).done;)if(pe.next(at.value),pe.closed)return}catch(de){ke={error:de}}finally{try{at&&!at.done&&(ee=Pe.return)&&(yield ee.call(Pe))}finally{if(ke)throw ke.error}}pe.complete()})})(Ie,pe).catch(Pe=>pe.error(Pe))})}},451:(Ue,le,R)=>{R.d(le,{T:()=>me});var g=R(189),V=R(421),ie=R(515),J=R(269),fe=R(76);function me(...ce){const he=(0,J.yG)(ce),we=(0,J._6)(ce,1/0),j=ce;return j.length?1===j.length?(0,V.Xf)(j[0]):(0,g.J)(we)((0,fe.D)(j,he)):ie.E}},403:(Ue,le,R)=>{R.d(le,{x:()=>V});var g=R(930);function V(J,fe,me,ce,he){return new ie(J,fe,me,ce,he)}class ie extends g.Lv{constructor(fe,me,ce,he,we,j){super(fe),this.onFinalize=we,this.shouldUnsubscribe=j,this._next=me?function(H){try{me(H)}catch(Y){fe.error(Y)}}:super._next,this._error=he?function(H){try{he(H)}catch(Y){fe.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(H){fe.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4:(Ue,le,R)=>{R.d(le,{U:()=>ie});var g=R(482),V=R(403);function ie(J,fe){return(0,g.e)((me,ce)=>{let he=0;me.subscribe((0,V.x)(ce,we=>{ce.next(J.call(fe,we,he++))}))})}},189:(Ue,le,R)=>{R.d(le,{J:()=>ie});var g=R(577),V=R(671);function ie(J=1/0){return(0,g.z)(V.y,J)}},577:(Ue,le,R)=>{R.d(le,{z:()=>he});var g=R(4),V=R(421),ie=R(482),J=R(672),fe=R(403),ce=R(576);function he(we,j,H=1/0){return(0,ce.m)(j)?he((Y,xe)=>(0,g.U)((_e,be)=>j(Y,_e,xe,be))((0,V.Xf)(we(Y,xe))),H):("number"==typeof j&&(H=j),(0,ie.e)((Y,xe)=>function me(we,j,H,Y,xe,_e,be,Oe){const ue=[];let Re=0,ot=0,ve=!1;const Ie=()=>{ve&&!ue.length&&!Re&&j.complete()},pe=at=>Re<Y?Pe(at):ue.push(at),Pe=at=>{_e&&j.next(at),Re++;let ke=!1;(0,V.Xf)(H(at,ot++)).subscribe((0,fe.x)(j,ee=>{null==xe||xe(ee),_e?pe(ee):j.next(ee)},()=>{ke=!0},void 0,()=>{if(ke)try{for(Re--;ue.length&&Re<Y;){const ee=ue.shift();be?(0,J.f)(j,be,()=>Pe(ee)):Pe(ee)}Ie()}catch(ee){j.error(ee)}}))};return we.subscribe((0,fe.x)(j,pe,()=>{ve=!0,Ie()})),()=>{null==Oe||Oe()}}(Y,xe,we,H)))}},99:(Ue,le,R)=>{R.d(le,{B:()=>fe});var g=R(421),V=R(579),ie=R(930),J=R(482);function fe(ce={}){const{connector:he=(()=>new V.x),resetOnError:we=!0,resetOnComplete:j=!0,resetOnRefCountZero:H=!0}=ce;return Y=>{let xe,_e,be,Oe=0,ue=!1,Re=!1;const ot=()=>{null==_e||_e.unsubscribe(),_e=void 0},ve=()=>{ot(),xe=be=void 0,ue=Re=!1},Ie=()=>{const pe=xe;ve(),null==pe||pe.unsubscribe()};return(0,J.e)((pe,Pe)=>{Oe++,!Re&&!ue&&ot();const at=be=null!=be?be:he();Pe.add(()=>{Oe--,0===Oe&&!Re&&!ue&&(_e=me(Ie,H))}),at.subscribe(Pe),!xe&&Oe>0&&(xe=new ie.Hp({next:ke=>at.next(ke),error:ke=>{Re=!0,ot(),_e=me(ve,we,ke),at.error(ke)},complete:()=>{ue=!0,ot(),_e=me(ve,j),at.complete()}}),(0,g.Xf)(pe).subscribe(xe))})(Y)}}function me(ce,he,...we){if(!0===he)return void ce();if(!1===he)return;const j=new ie.Hp({next:()=>{j.unsubscribe(),ce()}});return he(...we).subscribe(j)}},410:(Ue,le,R)=>{R.d(le,{z:()=>g});const g={setTimeout(V,ie,...J){const{delegate:fe}=g;return(null==fe?void 0:fe.setTimeout)?fe.setTimeout(V,ie,...J):setTimeout(V,ie,...J)},clearTimeout(V){const{delegate:ie}=g;return((null==ie?void 0:ie.clearTimeout)||clearTimeout)(V)},delegate:void 0}},202:(Ue,le,R)=>{R.d(le,{h:()=>V});const V=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},822:(Ue,le,R)=>{R.d(le,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},269:(Ue,le,R)=>{R.d(le,{jO:()=>J,yG:()=>fe,_6:()=>me});var g=R(576),V=R(532);function ie(ce){return ce[ce.length-1]}function J(ce){return(0,g.m)(ie(ce))?ce.pop():void 0}function fe(ce){return(0,V.K)(ie(ce))?ce.pop():void 0}function me(ce,he){return"number"==typeof ie(ce)?ce.pop():he}},737:(Ue,le,R)=>{function g(V,ie){if(V){const J=V.indexOf(ie);0<=J&&V.splice(J,1)}}R.d(le,{P:()=>g})},888:(Ue,le,R)=>{function g(V){const J=V(fe=>{Error.call(fe),fe.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}R.d(le,{d:()=>g})},806:(Ue,le,R)=>{R.d(le,{x:()=>ie,O:()=>J});var g=R(416);let V=null;function ie(fe){if(g.v.useDeprecatedSynchronousErrorHandling){const me=!V;if(me&&(V={errorThrown:!1,error:null}),fe(),me){const{errorThrown:ce,error:he}=V;if(V=null,ce)throw he}}else fe()}function J(fe){g.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=fe)}},672:(Ue,le,R)=>{function g(V,ie,J,fe=0,me=!1){const ce=ie.schedule(function(){J(),me?V.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(V.add(ce),!me)return ce}R.d(le,{f:()=>g})},671:(Ue,le,R)=>{function g(V){return V}R.d(le,{y:()=>g})},144:(Ue,le,R)=>{R.d(le,{z:()=>g});const g=V=>V&&"number"==typeof V.length&&"function"!=typeof V},206:(Ue,le,R)=>{R.d(le,{D:()=>V});var g=R(576);function V(ie){return Symbol.asyncIterator&&(0,g.m)(null==ie?void 0:ie[Symbol.asyncIterator])}},576:(Ue,le,R)=>{function g(V){return"function"==typeof V}R.d(le,{m:()=>g})},670:(Ue,le,R)=>{R.d(le,{c:()=>ie});var g=R(822),V=R(576);function ie(J){return(0,V.m)(J[g.L])}},495:(Ue,le,R)=>{R.d(le,{T:()=>ie});var g=R(202),V=R(576);function ie(J){return(0,V.m)(null==J?void 0:J[g.h])}},239:(Ue,le,R)=>{R.d(le,{t:()=>V});var g=R(576);function V(ie){return(0,g.m)(null==ie?void 0:ie.then)}},260:(Ue,le,R)=>{R.d(le,{Q:()=>ie,L:()=>J});var g=R(655),V=R(576);function ie(fe){return(0,g.FC)(this,arguments,function*(){const ce=fe.getReader();try{for(;;){const{value:he,done:we}=yield(0,g.qq)(ce.read());if(we)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(he)}}finally{ce.releaseLock()}})}function J(fe){return(0,V.m)(null==fe?void 0:fe.getReader)}},532:(Ue,le,R)=>{R.d(le,{K:()=>V});var g=R(576);function V(ie){return ie&&(0,g.m)(ie.schedule)}},482:(Ue,le,R)=>{R.d(le,{A:()=>V,e:()=>ie});var g=R(576);function V(J){return(0,g.m)(null==J?void 0:J.lift)}function ie(J){return fe=>{if(V(fe))return fe.lift(function(me){try{return J(me,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},32:(Ue,le,R)=>{function g(){}R.d(le,{Z:()=>g})},849:(Ue,le,R)=>{R.d(le,{h:()=>ie});var g=R(416),V=R(410);function ie(J){V.z.setTimeout(()=>{const{onUnhandledError:fe}=g.v;if(!fe)throw J;fe(J)})}},645:(Ue,le,R)=>{function g(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(le,{z:()=>g})},655:(Ue,le,R)=>{function he(U,q,K,te){return new(K||(K=Promise))(function(Ee,$e){function _t(Lt){try{Ae(te.next(Lt))}catch(Pn){$e(Pn)}}function dt(Lt){try{Ae(te.throw(Lt))}catch(Pn){$e(Pn)}}function Ae(Lt){Lt.done?Ee(Lt.value):function Q(Ee){return Ee instanceof K?Ee:new K(function($e){$e(Ee)})}(Lt.value).then(_t,dt)}Ae((te=te.apply(U,q||[])).next())})}function ue(U){return this instanceof ue?(this.v=U,this):new ue(U)}function Re(U,q,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,te=K.apply(U,q||[]),Ee=[];return Q={},$e("next"),$e("throw"),$e("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function $e($t){te[$t]&&(Q[$t]=function(Ct){return new Promise(function(On,Nn){Ee.push([$t,Ct,On,Nn])>1||_t($t,Ct)})})}function _t($t,Ct){try{!function dt($t){$t.value instanceof ue?Promise.resolve($t.value.v).then(Ae,Lt):Pn(Ee[0][2],$t)}(te[$t](Ct))}catch(On){Pn(Ee[0][3],On)}}function Ae($t){_t("next",$t)}function Lt($t){_t("throw",$t)}function Pn($t,Ct){$t(Ct),Ee.shift(),Ee.length&&_t(Ee[0][0],Ee[0][1])}}function ve(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,q=U[Symbol.asyncIterator];return q?q.call(U):(U=function Y(U){var q="function"==typeof Symbol&&Symbol.iterator,K=q&&U[q],te=0;if(K)return K.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&te>=U.length&&(U=void 0),{value:U&&U[te++],done:!U}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),K={},te("next"),te("throw"),te("return"),K[Symbol.asyncIterator]=function(){return this},K);function te(Ee){K[Ee]=U[Ee]&&function($e){return new Promise(function(_t,dt){!function Q(Ee,$e,_t,dt){Promise.resolve(dt).then(function(Ae){Ee({value:Ae,done:_t})},$e)}(_t,dt,($e=U[Ee]($e)).done,$e.value)})}}}R.d(le,{mG:()=>he,qq:()=>ue,FC:()=>Re,KL:()=>ve})},0:(Ue,le,R)=>{R.d(le,{deG:()=>Uu,tb:()=>Mb,AFp:()=>Db,ip1:()=>bb,CZH:()=>qy,hGG:()=>n0,z2F:()=>Eh,sBO:()=>$b,Sil:()=>dS,_Vd:()=>ru,EJc:()=>cS,SBq:()=>su,qLn:()=>id,vpe:()=>es,tBr:()=>hs,XFs:()=>We,OlP:()=>Ht,zs3:()=>Tr,ZZ4:()=>Ch,aQg:()=>Fg,soG:()=>Yy,YKP:()=>Jr,h0i:()=>_l,PXZ:()=>Nb,R0b:()=>ts,FiY:()=>fi,Lbi:()=>Ib,g9A:()=>Tb,n_E:()=>Cg,Qsj:()=>gg,FYo:()=>wy,JOm:()=>Ki,q3G:()=>Xt,tp0:()=>Gi,Rgc:()=>yh,dDg:()=>Jy,q4F:()=>Dy,GfV:()=>Ow,s_b:()=>wg,ifc:()=>wt,eFA:()=>rv,G48:()=>Hb,Gpc:()=>H,f3M:()=>Ku,X6Q:()=>jb,_c5:()=>RS,VLi:()=>tv,c2e:()=>Ab,zSh:()=>Xs,wAp:()=>qe,vHH:()=>be,EiD:()=>sf,mCW:()=>Oo,qzn:()=>ka,JVY:()=>gc,pB0:()=>nE,eBb:()=>cm,L6k:()=>Jh,LAX:()=>um,cg1:()=>ao,kL8:()=>Jp,yhl:()=>pc,dqk:()=>ht,sIi:()=>to,CqO:()=>Cs,QGY:()=>Rp,F4k:()=>Pp,RDi:()=>Mu,AaK:()=>he,z3N:()=>ps,qOj:()=>Bc,TTD:()=>Co,_Bn:()=>Cy,xp6:()=>pd,uIk:()=>sl,ekj:()=>Vp,Suo:()=>tb,Xpm:()=>Se,lG2:()=>Ms,Yz7:()=>Ct,cJS:()=>Nn,oAB:()=>gt,Yjl:()=>bu,Y36:()=>ll,_UZ:()=>$d,qZA:()=>Go,TgZ:()=>Uc,EpF:()=>j_,LFG:()=>Ge,$8M:()=>Dr,$Z:()=>B_,NdJ:()=>zd,CRH:()=>nb,oxw:()=>H_,Hsn:()=>Gd,F$t:()=>Np,Q6J:()=>Ud,WLB:()=>My,iGM:()=>Jw,MAs:()=>T_,CHM:()=>Gl,LSH:()=>Xu,Udp:()=>Up,WFA:()=>Wd,d8E:()=>oo,YNc:()=>S_,_uU:()=>bi,Oqu:()=>Yo,hij:()=>eh,Gf:()=>eb});var g=R(579),V=R(727),ie=R(306),J=R(451),fe=R(99);function me(i){for(let s in i)if(i[s]===me)return s;throw Error("Could not find renamed property on target object.")}function ce(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function he(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(he).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function we(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const j=me({__forward_ref__:me});function H(i){return i.__forward_ref__=H,i.toString=function(){return he(this())},i}function Y(i){return function xe(i){return"function"==typeof i&&i.hasOwnProperty(j)&&i.__forward_ref__===H}(i)?i():i}class be extends Error{constructor(s,o){super(function Oe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,o)),this.code=s}}function ue(i){return"string"==typeof i?i:null==i?"":String(i)}function Re(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ue(i)}function pe(i,s){const o=s?` in ${s}`:"";throw new be(-201,`No provider for ${Re(i)} found${o}`)}function dt(i,s){null==i&&function Ae(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Ct(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Nn(i){return{providers:i.providers||[],imports:i.imports||[]}}function cn(i){return Pr(i,Or)||Pr(i,Is)}function Pr(i,s){return i.hasOwnProperty(s)?i[s]:null}function oa(i){return i&&(i.hasOwnProperty(Ts)||i.hasOwnProperty(Nr))?i[Ts]:null}const Or=me({\u0275prov:me}),Ts=me({\u0275inj:me}),Is=me({ngInjectableDef:me}),Nr=me({ngInjectorDef:me});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let ni;function Fn(i){const s=ni;return ni=i,s}function ri(i,s,o){const l=cn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&We.Optional?null:void 0!==s?s:void pe(he(i),"Injector")}function Yt(i){return{toString:i}.toString()}var rn=(()=>((rn=rn||{})[rn.OnPush=0]="OnPush",rn[rn.Default=1]="Default",rn))(),wt=(()=>{return(i=wt||(wt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",wt;var i})();const Be="undefined"!=typeof globalThis&&globalThis,Je="undefined"!=typeof window&&window,ii="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ht=Be||"undefined"!=typeof global&&global||Je||ii,kn={},Ke=[],kr=me({\u0275cmp:me}),N=me({\u0275dir:me}),L=me({\u0275pipe:me}),x=me({\u0275mod:me}),F=me({\u0275fac:me}),k=me({__NG_ELEMENT_ID__:me});let ae=0;function Se(i){return Yt(()=>{const o={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===rn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Ke,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||wt.Emulated,id:"c",styles:i.styles||Ke,_:null,setInput:null,schemas:i.schemas||null,tView:null},u=i.directives,h=i.features,p=i.pipes;return l.id+=ae++,l.inputs=oi(i.inputs,o),l.outputs=oi(i.outputs),h&&h.forEach(m=>m(l)),l.directiveDefs=u?()=>("function"==typeof u?u():u).map(St):null,l.pipeDefs=p?()=>("function"==typeof p?p():p).map(Rt):null,l})}function St(i){return sn(i)||function ai(i){return i[N]||null}(i)}function Rt(i){return function Mi(i){return i[L]||null}(i)}const mr={};function gt(i){return Yt(()=>{const s={type:i.type,bootstrap:i.bootstrap||Ke,declarations:i.declarations||Ke,imports:i.imports||Ke,exports:i.exports||Ke,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(mr[i.id]=i.type),s})}function oi(i,s){if(null==i)return kn;const o={};for(const l in i)if(i.hasOwnProperty(l)){let u=i[l],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=l,s&&(s[u]=h)}return o}const Ms=Se;function bu(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function sn(i){return i[kr]||null}function mn(i,s){const o=i[x]||null;if(!o&&!0===s)throw new Error(`Type ${he(i)} does not have '\u0275mod' property.`);return o}function jt(i){return Array.isArray(i)&&"object"==typeof i[1]}function yr(i){return Array.isArray(i)&&!0===i[1]}function Ol(i){return 0!=(8&i.flags)}function Nl(i){return 2==(2&i.flags)}function Os(i){return 1==(1&i.flags)}function vr(i){return null!==i.template}function Fl(i){return 0!=(512&i[2])}function Lr(i,s){return i.hasOwnProperty(F)?i[F]:null}class ss{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Co(){return la}function la(i){return i.type.prototype.ngOnChanges&&(i.setInput=Xg),Th}function Th(){const i=Bl(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===kn)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Xg(i,s,o,l){const u=Bl(i)||function Jg(i,s){return i[ca]=s}(i,{previous:kn,current:null}),h=u.current||(u.current={}),p=u.previous,m=this.declaredInputs[o],v=p[m];h[m]=new ss(v&&v.currentValue,s,p===kn),i[l]=s}Co.ngInherit=!0;const ca="__ngSimpleChanges__";function Bl(i){return i[ca]||null}let Hl;function Mu(i){Hl=i}function Pt(i){return!!i.listen}const Br={createRenderer:(i,s)=>function Ul(){return void 0!==Hl?Hl:"undefined"!=typeof document?document:void 0}()};function Ft(i){for(;Array.isArray(i);)i=i[0];return i}function da(i,s){return Ft(s[i])}function Sn(i,s){return Ft(s[i.index])}function $l(i,s){return i.data[s]}function on(i,s){const o=s[i];return jt(o)?o:o[0]}function os(i){return 4==(4&i[2])}function Oi(i){return 128==(128&i[2])}function Er(i,s){return null==s?null:i[s]}function Ni(i){i[18]=0}function Ns(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const Xe={lFrame:Nu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function xu(){return Xe.bindingsEnabled}function oe(){return Xe.lFrame.lView}function ft(){return Xe.lFrame.tView}function Gl(i){return Xe.lFrame.contextLView=i,i[8]}function Vt(){let i=Fs();for(;null!==i&&64===i.type;)i=i.parent;return i}function Fs(){return Xe.lFrame.currentTNode}function tr(i,s){const o=Xe.lFrame;o.currentTNode=i,o.isParent=s}function ql(){return Xe.lFrame.isParent}function Kl(){Xe.lFrame.isParent=!1}function ks(){return Xe.isInCheckNoChangesMode}function pa(i){Xe.isInCheckNoChangesMode=i}function Ls(){return Xe.lFrame.bindingIndex++}function Ph(i,s){const o=Xe.lFrame;o.bindingIndex=o.bindingRootIndex=i,Zl(s)}function Zl(i){Xe.lFrame.currentDirectiveIndex=i}function ma(i){const s=Xe.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Pu(){return Xe.lFrame.currentQueryIndex}function Xl(i){Xe.lFrame.currentQueryIndex=i}function Ou(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Nh(i,s,o){if(o&We.SkipSelf){let u=s,h=i;for(;!(u=u.parent,null!==u||o&We.Host||(u=Ou(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;s=u,i=h}const l=Xe.lFrame=_a();return l.currentTNode=s,l.lView=i,!0}function bo(i){const s=_a(),o=i[1];Xe.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function _a(){const i=Xe.lFrame,s=null===i?null:i.child;return null===s?Nu(i):s}function Nu(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Jl(){const i=Xe.lFrame;return Xe.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Fh=Jl;function ls(){const i=Jl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Tn(){return Xe.lFrame.selectedIndex}function nr(i){Xe.lFrame.selectedIndex=i}function zt(){const i=Xe.lFrame;return $l(i.tView,i.selectedIndex)}function tc(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:m,ngAfterViewInit:v,ngAfterViewChecked:w,ngOnDestroy:D}=h;p&&(i.contentHooks||(i.contentHooks=[])).push(-o,p),m&&((i.contentHooks||(i.contentHooks=[])).push(o,m),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,m)),v&&(i.viewHooks||(i.viewHooks=[])).push(-o,v),w&&((i.viewHooks||(i.viewHooks=[])).push(o,w),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,w)),null!=D&&(i.destroyHooks||(i.destroyHooks=[])).push(o,D)}}function ya(i,s,o){rc(i,s,3,o)}function Do(i,s,o,l){(3&i[2])===o&&rc(i,s,o,l)}function nc(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function rc(i,s,o,l){const h=null!=l?l:-1,p=s.length-1;let m=0;for(let v=void 0!==l?65535&i[18]:0;v<p;v++)if("number"==typeof s[v+1]){if(m=s[v],null!=l&&m>=l)break}else s[v]<0&&(i[18]+=65536),(m<h||-1==h)&&(im(i,o,s,v),i[18]=(4294901760&i[18])+v+2),v++}function im(i,s,o,l){const u=o[l]<0,h=o[l+1],m=i[u?-o[l]:o[l]];if(u){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(m)}finally{}}}else try{h.call(m)}finally{}}class ic{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Hr(i,s,o){const l=Pt(i);let u=0;for(;u<o.length;){const h=o[u];if("number"==typeof h){if(0!==h)break;u++;const p=o[u++],m=o[u++],v=o[u++];l?i.setAttribute(s,m,v,p):s.setAttributeNS(p,m,v)}else{const p=h,m=o[++u];Qt(p)?l&&i.setProperty(s,p,m):l?i.setAttribute(s,p,m):s.setAttribute(p,m),u++}}return u}function Fe(i){return 3===i||4===i||6===i}function Qt(i){return 64===i.charCodeAt(0)}function In(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const u=s[l];"number"==typeof u?o=u:0===o||wr(i,o,u,null,-1===o||2===o?s[++l]:null)}}return i}function wr(i,s,o,l,u){let h=0,p=i.length;if(-1===s)p=-1;else for(;h<i.length;){const m=i[h++];if("number"==typeof m){if(m===s){p=-1;break}if(m>s){p=h-1;break}}}for(;h<i.length;){const m=i[h];if("number"==typeof m)break;if(m===o){if(null===l)return void(null!==u&&(i[h+1]=u));if(l===i[h+1])return void(i[h+2]=u)}h++,null!==l&&h++,null!==u&&h++}-1!==p&&(i.splice(p,0,s),h=p+1),i.splice(h++,0,o),null!==l&&i.splice(h++,0,l),null!==u&&i.splice(h++,0,u)}function ju(i){return-1!==i}function Fi(i){return 32767&i}function ki(i,s){let o=function Bh(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let va=!0;function Ea(i){const s=va;return va=i,s}let jh=0;function Us(i,s){const o=oc(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Wt(l.data,i),Wt(s,null),Wt(l.blueprint,null));const u=Ca(i,s),h=i.injectorIndex;if(ju(u)){const p=Fi(u),m=ki(u,s),v=m[1].data;for(let w=0;w<8;w++)s[h+w]=m[p+w]|v[p+w]}return s[h+8]=u,h}function Wt(i,s){i.push(0,0,0,0,0,0,0,0,s)}function oc(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ca(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,u=s;for(;null!==u;){const h=u[1],p=h.type;if(l=2===p?h.declTNode:1===p?u[6]:null,null===l)return-1;if(o++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Vs(i,s,o){!function sc(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(k)&&(l=o[k]),null==l&&(l=o[k]=jh++);const u=255&l;s.data[i+(u>>5)]|=1<<u}(i,s,o)}function Kn(i,s,o){if(o&We.Optional)return i;pe(s,"NodeInjector")}function cs(i,s,o,l){if(o&We.Optional&&void 0===l&&(l=null),0==(o&(We.Self|We.Host))){const u=i[9],h=Fn(void 0);try{return u?u.get(s,l,o&We.Optional):ri(s,l,o&We.Optional)}finally{Fn(h)}}return Kn(l,s,o)}function wa(i,s,o,l=We.Default,u){if(null!==i){const h=function Da(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(k)?i[k]:void 0;return"number"==typeof s?s>=0?255&s:ba:s}(o);if("function"==typeof h){if(!Nh(s,i,l))return l&We.Host?Kn(u,o,l):cs(s,o,l,u);try{const p=h(l);if(null!=p||l&We.Optional)return p;pe(o)}finally{Fh()}}else if("number"==typeof h){let p=null,m=oc(i,s),v=-1,w=l&We.Host?s[16][6]:null;for((-1===m||l&We.SkipSelf)&&(v=-1===m?Ca(i,s):s[m+8],-1!==v&&ji(l,!1)?(p=s[1],m=Fi(v),s=ki(v,s)):m=-1);-1!==m;){const D=s[1];if(Bi(h,m,D.data)){const I=Hh(m,s,o,p,l,w);if(I!==To)return I}v=s[m+8],-1!==v&&ji(l,s[1].data[m+8]===w)&&Bi(h,m,s)?(p=D,m=Fi(v),s=ki(v,s)):m=-1}}}return cs(s,o,l,u)}const To={};function ba(){return new Gt(Vt(),oe())}function Hh(i,s,o,l,u,h){const p=s[1],m=p.data[i+8],D=Li(m,p,o,null==l?Nl(m)&&va:l!=p&&0!=(3&m.type),u&We.Host&&h===m);return null!==D?br(s,p,D,m):To}function Li(i,s,o,l,u){const h=i.providerIndexes,p=s.data,m=1048575&h,v=i.directiveStart,D=h>>20,O=u?m+D:i.directiveEnd;for(let $=l?m:m+D;$<O;$++){const ne=p[$];if($<v&&o===ne||$>=v&&ne.type===o)return $}if(u){const $=p[v];if($&&vr($)&&$.type===o)return v}return null}function br(i,s,o,l){let u=i[o];const h=s.data;if(function Lu(i){return i instanceof ic}(u)){const p=u;p.resolving&&function ot(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new be(-200,`Circular dependency in DI detected for ${i}${o}`)}(Re(h[o]));const m=Ea(p.canSeeViewProviders);p.resolving=!0;const v=p.injectImpl?Fn(p.injectImpl):null;Nh(i,l,We.Default);try{u=i[o]=p.factory(void 0,h,i,l),s.firstCreatePass&&o>=l.directiveStart&&function Lh(i,s,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:h}=s.type.prototype;if(l){const p=la(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,p)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,u),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==v&&Fn(v),Ea(m),p.resolving=!1,Fh()}}return u}function Bi(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function ji(i,s){return!(i&We.Self||i&We.Host&&s)}class Gt{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return wa(this._tNode,this._lView,s,l,o)}}function Dr(i){return function Hu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const h=o[u];if(Fe(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(h===s)return o[u+1];u+=2}}}return null}(Vt(),i)}const Ur="__parameters__";function Hn(i,s,o){return Yt(()=>{const l=function fn(i){return function(...o){if(i){const l=i(...o);for(const u in l)this[u]=l[u]}}}(s);function u(...h){if(this instanceof u)return l.apply(this,h),this;const p=new u(...h);return m.annotation=p,m;function m(v,w,D){const I=v.hasOwnProperty(Ur)?v[Ur]:Object.defineProperty(v,Ur,{value:[]})[Ur];for(;I.length<=D;)I.push(null);return(I[D]=I[D]||[]).push(p),v}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=i,u.annotationCls=u,u})}class Ht{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ct({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Uu=new Ht("AnalyzeForEntryComponents");function ir(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),ir(l,s)):s!==i&&s.push(l)}return s}function sr(i,s){i.forEach(o=>Array.isArray(o)?sr(o,s):s(o))}function $h(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Aa(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Mo(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}function Yn(i,s,o){let l=hi(i,s);return l>=0?i[1|l]=o:(l=~l,function Wh(i,s,o,l){let u=i.length;if(u==s)i.push(o,l);else if(1===u)i.push(l,i[0]),i[0]=o;else{for(u--,i.push(i[u-1],i[u]);u>s;)i[u]=i[u-2],u--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function di(i,s){const o=hi(i,s);if(o>=0)return i[1|o]}function hi(i,s){return function Ra(i,s,o){let l=0,u=i.length>>o;for(;u!==l;){const h=l+(u-l>>1),p=i[h<<o];if(s===p)return h<<o;p>s?u=h:l=h+1}return~(u<<o)}(i,s,1)}const Vr={},Gu="__NG_DI_FLAG__",Ao="ngTempTokenPath",us=/\n/gm,zi="__source",Yh=me({provide:String,useValue:me});let xo;function Ro(i){const s=xo;return xo=i,s}function ds(i,s=We.Default){if(void 0===xo)throw new be(203,"");return null===xo?ri(i,void 0,s):xo.get(i,s&We.Optional?null:void 0,s)}function Ge(i,s=We.Default){return(function un(){return ni}()||ds)(Y(i),s)}const Ku=Ge;function Wi(i){const s=[];for(let o=0;o<i.length;o++){const l=Y(i[o]);if(Array.isArray(l)){if(0===l.length)throw new be(900,"");let u,h=We.Default;for(let p=0;p<l.length;p++){const m=l[p],v=uc(m);"number"==typeof v?-1===v?u=m.token:h|=v:u=m}s.push(Ge(u,h))}else s.push(Ge(l))}return s}function Oa(i,s){return i[Gu]=s,i.prototype[Gu]=s,i}function uc(i){return i[Gu]}const hs=Oa(Hn("Inject",i=>({token:i})),-1),fi=Oa(Hn("Optional"),8),Gi=Oa(Hn("SkipSelf"),4);let vt;function Sr(i){var s;return(null===(s=function ar(){if(void 0===vt&&(vt=null,ht.trustedTypes))try{vt=ht.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return vt}())||void 0===s?void 0:s.createHTML(i))||i}class Gs{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Zh extends Gs{getTypeName(){return"HTML"}}class Xh extends Gs{getTypeName(){return"Style"}}class eE extends Gs{getTypeName(){return"Script"}}class fc extends Gs{getTypeName(){return"URL"}}class tE extends Gs{getTypeName(){return"ResourceURL"}}function ps(i){return i instanceof Gs?i.changingThisBreaksApplicationSecurity:i}function ka(i,s){const o=pc(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function pc(i){return i instanceof Gs&&i.getTypeName()||null}function gc(i){return new Zh(i)}function Jh(i){return new Xh(i)}function cm(i){return new eE(i)}function um(i){return new fc(i)}function nE(i){return new tE(i)}class rE{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Sr(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class iE{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Sr(s),o;const l=this.inertDocument.createElement("body");return l.innerHTML=Sr(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const o=s.attributes;for(let u=o.length-1;0<u;u--){const p=o.item(u).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&s.removeAttribute(p)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const dm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,oE=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Oo(i){return(i=String(i)).match(dm)||i.match(oE)?i:"unsafe:"+i}function mi(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function La(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const fm=mi("area,br,col,hr,img,wbr"),pm=mi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gm=mi("rp,rt"),gs=La(fm,La(pm,mi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),La(gm,mi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),La(gm,pm)),tf=mi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nf=mi("srcset"),Ba=La(tf,nf,mi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mc=mi("script,style,template");class aE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!gs.hasOwnProperty(o))return this.sanitizedSomething=!0,!mc.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let u=0;u<l.length;u++){const h=l.item(u),p=h.name,m=p.toLowerCase();if(!Ba.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let v=h.value;tf[m]&&(v=Oo(v)),nf[m]&&(i=v,v=(i=String(i)).split(",").map(s=>Oo(s.trim())).join(", ")),this.buf.push(" ",p,'="',_m(v),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();gs.hasOwnProperty(o)&&!fm.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(_m(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const _c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rf=/([^\#-~ |!])/g;function _m(i){return i.replace(/&/g,"&amp;").replace(_c,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(rf,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yc;function sf(i,s){let o=null;try{yc=yc||function Zu(i){const s=new iE(i);return function sE(){try{return!!(new window.DOMParser).parseFromString(Sr(""),"text/html")}catch(i){return!1}}()?new rE(s):s}(i);let l=s?String(s):"";o=yc.getInertBodyElement(l);let u=5,h=l;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,l=h,h=o.innerHTML,o=yc.getInertBodyElement(l)}while(l!==h);return Sr((new aE).sanitizeChildren(af(o)||o))}finally{if(o){const l=af(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function af(i){return"content"in i&&function lE(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Xt=(()=>((Xt=Xt||{})[Xt.NONE=0]="NONE",Xt[Xt.HTML=1]="HTML",Xt[Xt.STYLE=2]="STYLE",Xt[Xt.SCRIPT=3]="SCRIPT",Xt[Xt.URL=4]="URL",Xt[Xt.RESOURCE_URL=5]="RESOURCE_URL",Xt))();function Xu(i){const s=function ja(){const i=oe();return i&&i[12]}();return s?s.sanitize(Xt.URL,i)||"":ka(i,"URL")?ps(i):Oo(ue(i))}const cf="__ngContext__";function Un(i,s){i[cf]=s}function uf(i){const s=function Ec(i){return i[cf]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function ff(i){return i.ngOriginalError}function vE(i,...s){i.error(...s)}class id{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),l=function wc(i){return i&&i.ngErrorLogger||vE}(s);l(this._console,"ERROR",s),o&&l(this._console,"ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&ff(s);for(;o&&ff(o);)o=ff(o);return o||null}}const ME=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ht))();function _i(i){return i instanceof Function?i():i}var Ki=(()=>((Ki=Ki||{})[Ki.Important=1]="Important",Ki[Ki.DashCase=2]="DashCase",Ki))();function mf(i,s){return undefined(i,s)}function Fo(i){const s=i[3];return yr(s)?s[3]:s}function _f(i){return yf(i[13])}function Dc(i){return yf(i[4])}function yf(i){for(;null!==i&&!yr(i);)i=i[4];return i}function Ua(i,s,o,l,u){if(null!=l){let h,p=!1;yr(l)?h=l:jt(l)&&(p=!0,l=l[0]);const m=Ft(l);0===i&&null!==o?null==u?qs(s,o,m):Va(s,o,m,u||null,!0):1===i&&null!==o?Va(s,o,m,u||null,!0):2===i?function Lm(i,s,o){const l=ad(i,s);l&&function kE(i,s,o,l){Pt(i)?i.removeChild(s,o,l):s.removeChild(o)}(i,l,s,o)}(s,m,p):3===i&&s.destroyNode(m),null!=h&&function LE(i,s,o,l,u){const h=o[7];h!==Ft(o)&&Ua(s,i,l,h,u);for(let m=10;m<o.length;m++){const v=o[m];Sc(v[1],v,i,s,l,h)}}(s,i,h,o,u)}}function Ef(i,s,o){if(Pt(i))return i.createElement(s,o);{const l=null!==o?function Iu(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(o):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function ko(i,s){const o=i[9],l=o.indexOf(s),u=s[3];1024&s[2]&&(s[2]&=-1025,Ns(u,-1)),o.splice(l,1)}function bf(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const u=l[17];null!==u&&u!==i&&ko(u,l),s>0&&(i[o-1][4]=l[4]);const h=Aa(i,10+s);!function OE(i,s){Sc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const p=h[19];null!==p&&p.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function xm(i,s){if(!(256&s[2])){const o=s[11];Pt(o)&&o.destroyNode&&Sc(i,s,o,3,null,null),function Am(i){let s=i[13];if(!s)return sd(i[1],i);for(;s;){let o=null;if(jt(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)jt(s)&&sd(s[1],s),s=s[3];null===s&&(s=i),jt(s)&&sd(s[1],s),o=s&&s[4]}s=o}}(s)}}function sd(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Rm(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const u=s[o[l]];if(!(u instanceof ic)){const h=o[l+1];if(Array.isArray(h))for(let p=0;p<h.length;p+=2){const m=u[h[p]],v=h[p+1];try{v.call(m)}finally{}}else try{h.call(u)}finally{}}}}(i,s),function FE(i,s){const o=i.cleanup,l=s[7];let u=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const p=o[h+1],m="function"==typeof p?p(s):Ft(s[p]),v=l[u=o[h+2]],w=o[h+3];"boolean"==typeof w?m.removeEventListener(o[h],v,w):w>=0?l[u=w]():l[u=-w].unsubscribe(),h+=2}else{const p=l[u=o[h+1]];o[h].call(p)}if(null!==l){for(let h=u+1;h<l.length;h++)l[h]();s[7]=null}}(i,s),1===s[1].type&&Pt(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&yr(s[3])){o!==s[3]&&ko(o,s);const l=s[19];null!==l&&l.detachView(i)}}}function Df(i,s,o){return function od(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const u=i.data[l.directiveStart].encapsulation;if(u===wt.None||u===wt.Emulated)return null}return Sn(l,o)}(i,s.parent,o)}function Va(i,s,o,l,u){Pt(i)?i.insertBefore(s,o,l,u):s.insertBefore(o,l,u)}function qs(i,s,o){Pt(i)?i.appendChild(s,o):s.appendChild(o)}function Sf(i,s,o,l,u){null!==l?Va(i,s,o,l,u):qs(i,s,o)}function ad(i,s){return Pt(i)?i.parentNode(s):s.parentNode}function Om(i,s,o){return Fm(i,s,o)}let Fm=function Nm(i,s,o){return 40&i.type?Sn(i,o):null};function cd(i,s,o,l){const u=Df(i,l,s),h=s[11],m=Om(l.parent||s[6],l,s);if(null!=u)if(Array.isArray(o))for(let v=0;v<o.length;v++)Sf(h,u,o[v],m,!1);else Sf(h,u,o,m,!1)}function ud(i,s){if(null!==s){const o=s.type;if(3&o)return Sn(s,i);if(4&o)return Tf(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return ud(i,l);{const u=i[s.index];return yr(u)?Tf(-1,u):Ft(u)}}if(32&o)return mf(s,i)()||Ft(i[s.index]);{const l=dd(i,s);return null!==l?Array.isArray(l)?l[0]:ud(Fo(i[16]),l):ud(i,s.next)}}return null}function dd(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Tf(i,s){const o=10+i+1;if(o<s.length){const l=s[o],u=l[1].firstChild;if(null!==u)return ud(l,u)}return s[7]}function hd(i,s,o,l,u,h,p){for(;null!=o;){const m=l[o.index],v=o.type;if(p&&0===s&&(m&&Un(Ft(m),l),o.flags|=4),64!=(64&o.flags))if(8&v)hd(i,s,o.child,l,u,h,!1),Ua(s,i,u,m,h);else if(32&v){const w=mf(o,l);let D;for(;D=w();)Ua(s,i,u,D,h);Ua(s,i,u,m,h)}else 16&v?Bm(i,s,l,o,u,h):Ua(s,i,u,m,h);o=p?o.projectionNext:o.next}}function Sc(i,s,o,l,u,h){hd(o,l,i.firstChild,s,u,h,!1)}function Bm(i,s,o,l,u,h){const p=o[16],v=p[6].projection[l.projection];if(Array.isArray(v))for(let w=0;w<v.length;w++)Ua(s,i,u,v[w],h);else hd(i,s,v,p[3],u,h,!0)}function jm(i,s,o){Pt(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function W(i,s,o){Pt(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function If(i,s,o){let l=i.length;for(;;){const u=i.indexOf(s,o);if(-1===u)return u;if(0===u||i.charCodeAt(u-1)<=32){const h=s.length;if(u+h===l||i.charCodeAt(u+h)<=32)return u}o=u+1}}const Mf="ng-template";function Af(i,s,o){let l=0;for(;l<i.length;){let u=i[l++];if(o&&"class"===u){if(u=i[l],-1!==If(u.toLowerCase(),s,0))return!0}else if(1===u){for(;l<i.length&&"string"==typeof(u=i[l++]);)if(u.toLowerCase()===s)return!0;return!1}}return!1}function Hm(i){return 4===i.type&&i.value!==Mf}function jE(i,s,o){return s===(4!==i.type||o?i.value:Mf)}function HE(i,s,o){let l=4;const u=i.attrs||[],h=function Um(i){for(let s=0;s<i.length;s++)if(Fe(i[s]))return s;return i.length}(u);let p=!1;for(let m=0;m<s.length;m++){const v=s[m];if("number"!=typeof v){if(!p)if(4&l){if(l=2|1&l,""!==v&&!jE(i,v,o)||""===v&&1===s.length){if(Wr(l))return!1;p=!0}}else{const w=8&l?v:s[++m];if(8&l&&null!==i.attrs){if(!Af(i.attrs,w,o)){if(Wr(l))return!1;p=!0}continue}const I=Lo(8&l?"class":v,u,Hm(i),o);if(-1===I){if(Wr(l))return!1;p=!0;continue}if(""!==w){let O;O=I>h?"":u[I+1].toLowerCase();const $=8&l?O:null;if($&&-1!==If($,w,0)||2&l&&w!==O){if(Wr(l))return!1;p=!0}}}}else{if(!p&&!Wr(l)&&!Wr(v))return!1;if(p&&Wr(v))continue;p=!1,l=v|1&l}}return Wr(l)||p}function Wr(i){return 0==(1&i)}function Lo(i,s,o,l){if(null===s)return-1;let u=0;if(l||!o){let h=!1;for(;u<s.length;){const p=s[u];if(p===i)return u;if(3===p||6===p)h=!0;else{if(1===p||2===p){let m=s[++u];for(;"string"==typeof m;)m=s[++u];continue}if(4===p)break;if(0===p){u+=4;continue}}u+=h?1:2}return-1}return function Vm(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function fd(i,s,o=!1){for(let l=0;l<s.length;l++)if(HE(i,s[l],o))return!0;return!1}function Tc(i,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(i.length===l.length){for(let u=0;u<i.length;u++)if(i[u]!==l[u])continue e;return!0}}return!1}function Ks(i,s){return i?":not("+s.trim()+")":s}function $m(i){let s=i[0],o=1,l=2,u="",h=!1;for(;o<i.length;){let p=i[o];if("string"==typeof p)if(2&l){const m=i[++o];u+="["+p+(m.length>0?'="'+m+'"':"")+"]"}else 8&l?u+="."+p:4&l&&(u+=" "+p);else""!==u&&!Wr(p)&&(s+=Ks(h,u),u=""),l=p,h=h||!Wr(l);o++}return""!==u&&(s+=Ks(h,u)),s}const et={};function pd(i){yi(ft(),oe(),Tn()+i,ks())}function yi(i,s,o,l){if(!l)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&ya(s,h,o)}else{const h=i.preOrderHooks;null!==h&&Do(s,h,0,o)}nr(o)}function gd(i,s){return i<<17|s<<2}function cr(i){return i>>17&32767}function Gr(i){return 2|i}function Qn(i){return(131068&i)>>2}function xf(i,s){return-131069&i|s<<2}function Ic(i){return 1|i}function Jm(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const u=o[l],h=o[l+1];if(-1!==h){const p=i.data[h];Xl(u),p.contentQueries(2,s[h],h)}}}function Rc(i,s,o,l,u,h,p,m,v,w){const D=s.blueprint.slice();return D[0]=u,D[2]=140|l,Ni(D),D[3]=D[15]=i,D[8]=o,D[10]=p||i&&i[10],D[11]=m||i&&i[11],D[12]=v||i&&i[12]||null,D[9]=w||i&&i[9]||null,D[6]=h,D[16]=2==s.type?i[16]:D,D}function Bo(i,s,o,l,u){let h=i.data[s];if(null===h)h=function wd(i,s,o,l,u){const h=Fs(),p=ql(),v=i.data[s]=function r_(i,s,o,l,u,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?h:h&&h.parent,o,s,l,u);return null===i.firstChild&&(i.firstChild=v),null!==h&&(p?null==h.child&&null!==v.parent&&(h.child=v):null===h.next&&(h.next=v)),v}(i,s,o,l,u),function Rh(){return Xe.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=l,h.attrs=u;const p=function as(){const i=Xe.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===p?-1:p.injectorIndex}return tr(h,!0),h}function qa(i,s,o,l){if(0===o)return-1;const u=s.length;for(let h=0;h<o;h++)s.push(l),i.blueprint.push(l),i.data.push(null);return u}function Pc(i,s,o){bo(s);try{const l=i.viewQuery;null!==l&&Xa(1,l,o);const u=i.template;null!==u&&bd(i,s,u,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Jm(i,s),i.staticViewQueries&&Xa(2,i.viewQuery,o);const h=i.components;null!==h&&function JE(i,s){for(let o=0;o<s.length;o++)qf(i,s[o])}(s,h)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,ls()}}function Ka(i,s,o,l){const u=s[2];if(256==(256&u))return;bo(s);const h=ks();try{Ni(s),function ga(i){return Xe.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&bd(i,s,o,2,l);const p=3==(3&u);if(!h)if(p){const w=i.preOrderCheckHooks;null!==w&&ya(s,w,null)}else{const w=i.preOrderHooks;null!==w&&Do(s,w,0,null),nc(s,0)}if(function aC(i){for(let s=_f(i);null!==s;s=Dc(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const u=o[l],h=u[3];0==(1024&u[2])&&Ns(h,1),u[2]|=1024}}}(s),function oC(i){for(let s=_f(i);null!==s;s=Dc(s))for(let o=10;o<s.length;o++){const l=s[o],u=l[1];Oi(l)&&Ka(u,l,u.template,l[8])}}(s),null!==i.contentQueries&&Jm(i,s),!h)if(p){const w=i.contentCheckHooks;null!==w&&ya(s,w)}else{const w=i.contentHooks;null!==w&&Do(s,w,1),nc(s,1)}!function ZE(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)nr(~u);else{const h=u,p=o[++l],m=o[++l];Ph(p,h),m(2,s[h])}}}finally{nr(-1)}}(i,s);const m=i.components;null!==m&&function XE(i,s){for(let o=0;o<s.length;o++)d_(i,s[o])}(s,m);const v=i.viewQuery;if(null!==v&&Xa(2,v,l),!h)if(p){const w=i.viewCheckHooks;null!==w&&ya(s,w)}else{const w=i.viewHooks;null!==w&&Do(s,w,2),nc(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Ns(s[3],-1))}finally{ls()}}function Qs(i,s,o,l){const u=s[10],h=!ks(),p=os(s);try{h&&!p&&u.begin&&u.begin(),p&&Pc(i,s,l),Ka(i,s,o,l)}finally{h&&!p&&u.end&&u.end()}}function bd(i,s,o,l,u){const h=Tn(),p=2&l;try{nr(-1),p&&s.length>20&&yi(i,s,20,ks()),o(l,u)}finally{nr(h)}}function Uf(i,s,o){!xu()||(function xt(i,s,o,l){const u=o.directiveStart,h=o.directiveEnd;i.firstCreatePass||Us(o,s),Un(l,s);const p=o.initialInputs;for(let m=u;m<h;m++){const v=i.data[m],w=vr(v);w&&Kt(s,o,v);const D=br(s,i,m,o);Un(D,s),null!==p&&sC(0,m-u,D,v,0,p),w&&(on(o.index,s)[8]=D)}}(i,s,o,Sn(o,s)),128==(128&o.flags)&&function Dt(i,s,o){const l=o.directiveStart,u=o.directiveEnd,p=o.index,m=function Oh(){return Xe.lFrame.currentDirectiveIndex}();try{nr(p);for(let v=l;v<u;v++){const w=i.data[v],D=s[v];Zl(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&ct(w,D)}}finally{nr(-1),Zl(m)}}(i,s,o))}function Ya(i,s,o=Sn){const l=s.localNames;if(null!==l){let u=s.index+1;for(let h=0;h<l.length;h+=2){const p=l[h+1],m=-1===p?o(s,i):i[p];i[u++]=m}}}function jo(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Oc(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Oc(i,s,o,l,u,h,p,m,v,w){const D=20+l,I=D+u,O=function eC(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:et);return o}(D,I),$="function"==typeof w?w():w;return O[1]={type:i,blueprint:O,template:o,queries:null,viewQuery:m,declTNode:s,data:O.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:v,consts:$,incompleteFirstPass:!1}}function Dd(i,s,o,l){const u=Ei(s);null===o?u.push(l):(u.push(o),i.firstCreatePass&&Fc(i).push(l,u.length-1))}function i_(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const u=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,u):o[l]=[s,u]}return o}function ur(i,s,o,l,u,h,p,m){const v=Sn(s,o);let D,w=s.inputs;!m&&null!=w&&(D=w[l])?(Zn(i,o,D,l,u),Nl(s)&&function o_(i,s){const o=on(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(l=function tC(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),u=null!=p?p(u,s.value||"",l):u,Pt(h)?h.setProperty(v,l,u):Qt(l)||(v.setProperty?v.setProperty(l,u):v[l]=u))}function Qa(i,s,o,l){let u=!1;if(xu()){const h=function Zs(i,s,o){const l=i.directiveRegistry;let u=null;if(l)for(let h=0;h<l.length;h++){const p=l[h];fd(o,p.selectors,!1)&&(u||(u=[]),Vs(Us(o,s),i,p.type),vr(p)?(kt(i,o),u.unshift(p)):u.push(p))}return u}(i,s,o),p=null===l?null:{"":-1};if(null!==h){u=!0,Za(o,i.data.length,h.length);for(let D=0;D<h.length;D++){const I=h[D];I.providersResolver&&I.providersResolver(I)}let m=!1,v=!1,w=qa(i,s,h.length,null);for(let D=0;D<h.length;D++){const I=h[D];o.mergedAttrs=In(o.mergedAttrs,I.hostAttrs),Wf(i,o,s,w,I),iC(w,I,p),null!==I.contentQueries&&(o.flags|=8),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(o.flags|=128);const O=I.type.prototype;!m&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),m=!0),!v&&(O.ngOnChanges||O.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),v=!0),w++}!function s_(i,s){const l=s.directiveEnd,u=i.data,h=s.attrs,p=[];let m=null,v=null;for(let w=s.directiveStart;w<l;w++){const D=u[w],I=D.inputs,O=null===h||Hm(s)?null:Gf(I,h);p.push(O),m=i_(I,w,m),v=i_(D.outputs,w,v)}null!==m&&(m.hasOwnProperty("class")&&(s.flags|=16),m.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=p,s.inputs=m,s.outputs=v}(i,o)}p&&function zf(i,s,o){if(s){const l=i.localNames=[];for(let u=0;u<s.length;u+=2){const h=o[s[u+1]];if(null==h)throw new be(-301,!1);l.push(s[u],h)}}}(o,l,p)}return o.mergedAttrs=In(o.mergedAttrs,o.attrs),u}function $f(i,s,o,l,u,h){const p=h.hostBindings;if(p){let m=i.hostBindingOpCodes;null===m&&(m=i.hostBindingOpCodes=[]);const v=~s.index;(function c_(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(m)!=v&&m.push(v),m.push(l,u,p)}}function ct(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function kt(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function iC(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;vr(s)&&(o[""]=i)}}function Za(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Wf(i,s,o,l,u){i.data[l]=u;const h=u.factory||(u.factory=Lr(u.type)),p=new ic(h,vr(u),null);i.blueprint[l]=p,o[l]=p,$f(i,s,0,l,qa(i,o,u.hostVars,et),u)}function Kt(i,s,o){const l=Sn(s,i),u=jo(o),h=i[10],p=Sd(i,Rc(i,u,null,o.onPush?64:16,l,s,h,h.createRenderer(l,o),null,null));i[s.index]=p}function tt(i,s,o,l,u,h){const p=Sn(i,s);!function An(i,s,o,l,u,h,p){if(null==h)Pt(i)?i.removeAttribute(s,u,o):s.removeAttribute(u);else{const m=null==p?ue(h):p(h,l||"",u);Pt(i)?i.setAttribute(s,u,m,o):o?s.setAttributeNS(o,u,m):s.setAttribute(u,m)}}(s[11],p,h,i.value,o,l,u)}function sC(i,s,o,l,u,h){const p=h[s];if(null!==p){const m=l.setInput;for(let v=0;v<p.length;){const w=p[v++],D=p[v++],I=p[v++];null!==m?l.setInput(o,I,w,D):o[D]=I}}}function Gf(i,s){let o=null,l=0;for(;l<s.length;){const u=s[l];if(0!==u)if(5!==u){if("number"==typeof u)break;i.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,i[u],s[l+1])),l+=2}else l+=2;else l+=4}return o}function u_(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function d_(i,s){const o=on(s,i);if(Oi(o)){const l=o[1];80&o[2]?Ka(l,o,l.template,o[8]):o[5]>0&&_s(o)}}function _s(i){for(let l=_f(i);null!==l;l=Dc(l))for(let u=10;u<l.length;u++){const h=l[u];if(1024&h[2]){const p=h[1];Ka(p,h,p.template,h[8])}else h[5]>0&&_s(h)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const u=on(o[l],i);Oi(u)&&u[5]>0&&_s(u)}}function qf(i,s){const o=on(s,i),l=o[1];(function Nc(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),Pc(l,o,o[8])}function Sd(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Td(i){for(;i;){i[2]|=64;const s=Fo(i);if(Fl(i)&&!s)return i;i=s}return null}function Yf(i,s,o){const l=s[10];l.begin&&l.begin();try{Ka(i,s,i.template,o)}catch(u){throw f_(s,u),u}finally{l.end&&l.end()}}function Qf(i){!function Kf(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],l=uf(o),u=l[1];Qs(u,l,u.template,o)}}(i[8])}function Xa(i,s,o){Xl(0),s(i,o)}const h_=(()=>Promise.resolve(null))();function Ei(i){return i[7]||(i[7]=[])}function Fc(i){return i.cleanup||(i.cleanup=[])}function qr(i,s,o){return(null===i||vr(i))&&(o=function Mh(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}function f_(i,s){const o=i[9],l=o?o.get(id,null):null;l&&l.handleError(s)}function Zn(i,s,o,l,u){for(let h=0;h<o.length;){const p=o[h++],m=o[h++],v=s[p],w=i.data[p];null!==w.setInput?w.setInput(v,u,l,m):v[m]=u}}function ys(i,s,o){const l=da(s,i);!function Im(i,s,o){Pt(i)?i.setValue(s,o):s.textContent=o}(i[11],l,o)}function Ja(i,s,o){let l=o?i.styles:null,u=o?i.classes:null,h=0;if(null!==s)for(let p=0;p<s.length;p++){const m=s[p];"number"==typeof m?h=m:1==h?u=we(u,m):2==h&&(l=we(l,m+": "+s[++p]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=u:i.classesWithoutHost=u}const Id=new Ht("INJECTOR",-1);class Jf{get(s,o=Vr){if(o===Vr){const l=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw l.name="NullInjectorError",l}return o}}const Xs=new Ht("Set Injector scope."),el={},p_={};let ep;function g_(){return void 0===ep&&(ep=new Jf),ep}function m_(i,s=null,o=null,l){const u=Ut(i,s,o,l);return u._resolveInjectorDefTypes(),u}function Ut(i,s=null,o=null,l){return new dC(i,o,s||g_(),l)}class dC{constructor(s,o,l,u=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&sr(o,m=>this.processProvider(m,s,o)),sr([s],m=>this.processInjectorType(m,[],h)),this.records.set(Id,dr(void 0,this));const p=this.records.get(Xs);this.scope=null!=p?p.value:null,this.source=u||("object"==typeof s?null:he(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=Vr,l=We.Default){this.assertNotDestroyed();const u=Ro(this),h=Fn(void 0);try{if(!(l&We.SkipSelf)){let m=this.records.get(s);if(void 0===m){const v=function pC(i){return"function"==typeof i||"object"==typeof i&&i instanceof Ht}(s)&&cn(s);m=v&&this.injectableDefInScope(v)?dr(tp(s),el):null,this.records.set(s,m)}if(null!=m)return this.hydrate(s,m)}return(l&We.Self?g_():this.parent).get(s,o=l&We.Optional&&o===Vr?null:o)}catch(p){if("NullInjectorError"===p.name){if((p[Ao]=p[Ao]||[]).unshift(he(s)),u)throw p;return function dc(i,s,o,l){const u=i[Ao];throw s[zi]&&u.unshift(s[zi]),i.message=function Yu(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let u=he(s);if(Array.isArray(s))u=s.map(he).join(" -> ");else if("object"==typeof s){let h=[];for(let p in s)if(s.hasOwnProperty(p)){let m=s[p];h.push(p+":"+("string"==typeof m?JSON.stringify(m):he(m)))}u=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${i.replace(us,"\n  ")}`}("\n"+i.message,u,o,l),i.ngTokenPath=u,i[Ao]=null,i}(p,s,"R3InjectorError",this.source)}throw p}finally{Fn(h),Ro(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,u)=>s.push(he(u))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processInjectorType(s,o,l){if(!(s=Y(s)))return!1;let u=oa(s);const h=null==u&&s.ngModule||void 0,p=void 0===h?s:h,m=-1!==l.indexOf(p);if(void 0!==h&&(u=oa(h)),null==u)return!1;if(null!=u.imports&&!m){let D;l.push(p);try{sr(u.imports,I=>{this.processInjectorType(I,o,l)&&(void 0===D&&(D=[]),D.push(I))})}finally{}if(void 0!==D)for(let I=0;I<D.length;I++){const{ngModule:O,providers:$}=D[I];sr($,ne=>this.processProvider(ne,O,$||Ke))}}this.injectorDefTypes.add(p);const v=Lr(p)||(()=>new p);this.records.set(p,dr(v,el));const w=u.providers;if(null!=w&&!m){const D=s;sr(w,I=>this.processProvider(I,D,w))}return void 0!==h&&void 0!==s.providers}processProvider(s,o,l){let u=Qi(s=Y(s))?s:Y(s&&s.provide);const h=function np(i,s,o){return tl(i)?dr(void 0,i.useValue):dr(Uo(i),el)}(s);if(Qi(s)||!0!==s.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=dr(void 0,el,!0),p.factory=()=>Wi(p.multi),this.records.set(u,p)),u=s,p.multi.push(s)}this.records.set(u,h)}hydrate(s,o){return o.value===el&&(o.value=p_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function rp(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Y(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function tp(i){const s=cn(i),o=null!==s?s.factory:Lr(i);if(null!==o)return o;if(i instanceof Ht)throw new be(204,!1);if(i instanceof Function)return function Md(i){const s=i.length;if(s>0)throw Mo(s,"?"),new be(204,!1);const o=function Ss(i){const s=i&&(i[Or]||i[Is]);if(s){const o=function Jn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new be(204,!1)}function Uo(i,s,o){let l;if(Qi(i)){const u=Y(i);return Lr(u)||tp(u)}if(tl(i))l=()=>Y(i.useValue);else if(function hC(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Wi(i.deps||[]));else if(function rt(i){return!(!i||!i.useExisting)}(i))l=()=>Ge(Y(i.useExisting));else{const u=Y(i&&(i.useClass||i.provide));if(!function Jt(i){return!!i.deps}(i))return Lr(u)||tp(u);l=()=>new u(...Wi(i.deps))}return l}function dr(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function tl(i){return null!==i&&"object"==typeof i&&Yh in i}function Qi(i){return"function"==typeof i}let Tr=(()=>{class i{static create(o,l){var u;if(Array.isArray(o))return m_({name:""},l,o,"");{const h=null!==(u=o.name)&&void 0!==u?u:"";return m_({name:h},o.parent,o.providers,h)}}}return i.THROW_IF_NOT_FOUND=Vr,i.NULL=new Jf,i.\u0275prov=Ct({token:i,providedIn:"any",factory:()=>Ge(Id)}),i.__NG_ELEMENT_ID__=-1,i})();function mC(i,s){tc(uf(i)[1],Vt())}function Bc(i){let s=function Vo(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let u;if(vr(i))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new be(903,"");u=s.\u0275dir}if(u){if(o){l.push(u);const p=i;p.inputs=fp(i.inputs),p.declaredInputs=fp(i.declaredInputs),p.outputs=fp(i.outputs);const m=u.hostBindings;m&&yC(i,m);const v=u.viewQuery,w=u.contentQueries;if(v&&_C(i,v),w&&D_(i,w),ce(i.inputs,u.inputs),ce(i.declaredInputs,u.declaredInputs),ce(i.outputs,u.outputs),vr(u)&&u.data.animation){const D=i.data;D.animation=(D.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let p=0;p<h.length;p++){const m=h[p];m&&m.ngInherit&&m(i),m===Bc&&(o=!1)}}s=Object.getPrototypeOf(s)}!function hp(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const u=i[l];u.hostVars=s+=u.hostVars,u.hostAttrs=In(u.hostAttrs,o=In(o,u.hostAttrs))}}(l)}function fp(i){return i===kn?{}:i===Ke?[]:i}function _C(i,s){const o=i.viewQuery;i.viewQuery=o?(l,u)=>{s(l,u),o(l,u)}:s}function D_(i,s){const o=i.contentQueries;i.contentQueries=o?(l,u,h)=>{s(l,u,h),o(l,u,h)}:s}function yC(i,s){const o=i.hostBindings;i.hostBindings=o?(l,u)=>{s(l,u),o(l,u)}:s}let il=null;function eo(){if(!il){const i=ht.Symbol;if(i&&i.iterator)il=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(il=l)}}}return il}function to(i){return!!no(i)&&(Array.isArray(i)||!(i instanceof Map)&&eo()in i)}function no(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Vn(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function sl(i,s,o,l){const u=oe();return Vn(u,Ls(),s)&&(ft(),tt(zt(),u,i,s,o,l)),sl}function S_(i,s,o,l,u,h,p,m){const v=oe(),w=ft(),D=i+20,I=w.firstCreatePass?function kd(i,s,o,l,u,h,p,m,v){const w=s.consts,D=Bo(s,i,4,p||null,Er(w,m));Qa(s,o,D,Er(w,v)),tc(s,D);const I=D.tViews=Oc(2,D,l,u,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,w);return null!==s.queries&&(s.queries.template(s,D),I.queries=s.queries.embeddedTView(D)),D}(D,w,v,s,o,l,u,h,p):w.data[D];tr(I,!1);const O=v[11].createComment("");cd(w,v,O,I),Un(O,v),Sd(v,v[D]=u_(O,v,O,I)),Os(I)&&Uf(w,v,I),null!=p&&Ya(v,I,m)}function T_(i){return function Pi(i,s){return i[s]}(function Yl(){return Xe.lFrame.contextLView}(),20+i)}function ll(i,s=We.Default){const o=oe();return null===o?Ge(i,s):wa(Vt(),o,Y(i),s)}function B_(){throw new Error("invalid")}function Ud(i,s,o){const l=oe();return Vn(l,Ls(),s)&&ur(ft(),zt(),l,i,s,l[11],o,!1),Ud}function Vd(i,s,o,l,u){const p=u?"class":"style";Zn(i,o,s.inputs[p],p,l)}function Uc(i,s,o,l){const u=oe(),h=ft(),p=20+i,m=u[11],v=u[p]=Ef(m,s,function rm(){return Xe.lFrame.currentNamespace}()),w=h.firstCreatePass?function NC(i,s,o,l,u,h,p){const m=s.consts,w=Bo(s,i,2,u,Er(m,h));return Qa(s,o,w,Er(m,p)),null!==w.attrs&&Ja(w,w.attrs,!1),null!==w.mergedAttrs&&Ja(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(p,h,u,0,s,o,l):h.data[p];tr(w,!0);const D=w.mergedAttrs;null!==D&&Hr(m,v,D);const I=w.classes;null!==I&&W(m,v,I);const O=w.styles;return null!==O&&jm(m,v,O),64!=(64&w.flags)&&cd(h,u,v,w),0===function fa(){return Xe.lFrame.elementDepthCount}()&&Un(v,u),function Au(){Xe.lFrame.elementDepthCount++}(),Os(w)&&(Uf(h,u,w),function e_(i,s,o){if(Ol(s)){const u=s.directiveEnd;for(let h=s.directiveStart;h<u;h++){const p=i.data[h];p.contentQueries&&p.contentQueries(1,o[h],h)}}}(h,w,u)),null!==l&&Ya(u,w),Uc}function Go(){let i=Vt();ql()?Kl():(i=i.parent,tr(i,!1));const s=i;!function _n(){Xe.lFrame.elementDepthCount--}();const o=ft();return o.firstCreatePass&&(tc(o,i),Ol(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Bu(i){return 0!=(16&i.flags)}(s)&&Vd(o,s,oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function sm(i){return 0!=(32&i.flags)}(s)&&Vd(o,s,oe(),s.stylesWithoutHost,!1),Go}function $d(i,s,o,l){return Uc(i,s,o,l),Go(),$d}function j_(){return oe()}function Rp(i){return!!i&&"function"==typeof i.then}function Pp(i){return!!i&&"function"==typeof i.subscribe}const Cs=Pp;function zd(i,s,o,l){const u=oe(),h=ft(),p=Vt();return $c(h,u,u[11],p,i,s,!!o,l),zd}function Wd(i,s){const o=Vt(),l=oe(),u=ft();return $c(u,l,qr(ma(u.data),o,l),o,i,s,!1),Wd}function $c(i,s,o,l,u,h,p,m){const v=Os(l),D=i.firstCreatePass&&Fc(i),I=s[8],O=Ei(s);let $=!0;if(3&l.type||m){const De=Sn(l,s),Le=m?m(De):De,se=O.length,Ye=m?mt=>m(Ft(mt[l.index])):l.index;if(Pt(o)){let mt=null;if(!m&&v&&(mt=function so(i,s,o,l){const u=i.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const p=u[h];if(p===o&&u[h+1]===l){const m=s[7],v=u[h+2];return m.length>v?m[v]:null}"string"==typeof p&&(h+=2)}return null}(i,s,u,l.index)),null!==mt)(mt.__ngLastListenerFn__||mt).__ngNextListenerFn__=h,mt.__ngLastListenerFn__=h,$=!1;else{h=Op(l,s,I,h,!1);const Ot=o.listen(Le,u,h);O.push(h,Ot),D&&D.push(u,Ye,se,se+1)}}else h=Op(l,s,I,h,!0),Le.addEventListener(u,h,p),O.push(h),D&&D.push(u,Ye,se,p)}else h=Op(l,s,I,h,!1);const ne=l.outputs;let ye;if($&&null!==ne&&(ye=ne[u])){const De=ye.length;if(De)for(let Le=0;Le<De;Le+=2){const ti=s[ye[Le]][ye[Le+1]].subscribe(h),El=O.length;O.push(h,ti),D&&D.push(u,l.index,El,-(El+1))}}}function zc(i,s,o,l){try{return!1!==o(l)}catch(u){return f_(i,u),!1}}function Op(i,s,o,l,u){return function h(p){if(p===Function)return l;const m=2&i.flags?on(i.index,s):s;0==(32&s[2])&&Td(m);let v=zc(s,0,l,p),w=h.__ngNextListenerFn__;for(;w;)v=zc(s,0,w,p)&&v,w=w.__ngNextListenerFn__;return u&&!1===v&&(p.preventDefault(),p.returnValue=!1),v}}function H_(i=1){return function ui(i){return(Xe.lFrame.contextLView=function ec(i,s){for(;i>0;)s=s[15],i--;return s}(i,Xe.lFrame.contextLView))[8]}(i)}function kC(i,s){let o=null;const l=function za(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(0==(1&o))return s[o+1]}return null}(i);for(let u=0;u<s.length;u++){const h=s[u];if("*"!==h){if(null===l?fd(i,h,!0):Tc(l,h))return u}else o=u}return o}function Np(i){const s=oe()[16][6];if(!s.projection){const l=s.projection=Mo(i?i.length:1,null),u=l.slice();let h=s.child;for(;null!==h;){const p=i?kC(h,i):0;null!==p&&(u[p]?u[p].projectionNext=h:l[p]=h,u[p]=h),h=h.next}}}function Gd(i,s=0,o){const l=oe(),u=ft(),h=Bo(u,20+i,16,null,o||null);null===h.projection&&(h.projection=s),Kl(),64!=(64&h.flags)&&function V0(i,s,o){Bm(s[11],0,s,o,Df(i,o,s),Om(o.parent||s[6],o,s))}(u,l,h)}function Lp(i,s,o,l,u){const h=i[o+1],p=null===s;let m=l?cr(h):Qn(h),v=!1;for(;0!==m&&(!1===v||p);){const D=i[m+1];G_(i[m],s)&&(v=!0,i[m+1]=l?Ic(D):Gr(D)),m=l?cr(D):Qn(D)}v&&(i[o+1]=l?Gr(h):Ic(h))}function G_(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&hi(i,s)>=0}function Up(i,s,o){return hr(i,s,o,!1),Up}function Vp(i,s){return hr(i,s,null,!0),Vp}function hr(i,s,o,l){const u=oe(),h=ft(),p=function Cr(i){const s=Xe.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);h.firstUpdatePass&&function Wp(i,s,o,l){const u=i.data;if(null===u[o+1]){const h=u[Tn()],p=function Zd(i,s){return s>=i.expandoStartIndex}(i,o);(function pl(i,s){return 0!=(i.flags&(s?16:32))})(h,l)&&null===s&&!p&&(s=!1),s=function UC(i,s,o,l){const u=ma(i);let h=l?s.residualClasses:s.residualStyles;if(null===u)0===(l?s.classBindings:s.styleBindings)&&(o=Ko(o=qo(null,i,s,o,l),s.attrs,l),h=null);else{const p=s.directiveStylingLast;if(-1===p||i[p]!==u)if(o=qo(u,i,s,o,l),null===h){let v=function Xd(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==Qn(l))return i[cr(l)]}(i,s,l);void 0!==v&&Array.isArray(v)&&(v=qo(null,i,s,v[1],l),v=Ko(v,s.attrs,l),function Y_(i,s,o,l){i[cr(o?s.classBindings:s.styleBindings)]=l}(i,s,l,v))}else h=function VC(i,s,o){let l;const u=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<u;h++)l=Ko(l,i[h].hostAttrs,o);return Ko(l,s.attrs,o)}(i,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),o}(u,h,s,l),function LC(i,s,o,l,u,h){let p=h?s.classBindings:s.styleBindings,m=cr(p),v=Qn(p);i[l]=o;let D,w=!1;if(Array.isArray(o)){const I=o;D=I[1],(null===D||hi(I,D)>0)&&(w=!0)}else D=o;if(u)if(0!==v){const O=cr(i[m+1]);i[l+1]=gd(O,m),0!==O&&(i[O+1]=xf(i[O+1],l)),i[m+1]=function ms(i,s){return 131071&i|s<<17}(i[m+1],l)}else i[l+1]=gd(m,0),0!==m&&(i[m+1]=xf(i[m+1],l)),m=l;else i[l+1]=gd(v,0),0===m?m=l:i[v+1]=xf(i[v+1],l),v=l;w&&(i[l+1]=Gr(i[l+1])),Lp(i,D,l,!0),Lp(i,D,l,!1),function ul(i,s,o,l,u){const h=u?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&hi(h,s)>=0&&(o[l+1]=Ic(o[l+1]))}(s,D,i,l,h),p=gd(m,v),h?s.classBindings=p:s.styleBindings=p}(u,h,s,o,p,l)}}(h,i,p,l),s!==et&&Vn(u,p,s)&&function Jd(i,s,o,l,u,h,p,m){if(!(3&s.type))return;const v=i.data,w=v[m+1];qc(function Wa(i){return 1==(1&i)}(w)?Gc(v,s,o,u,Qn(w),p):void 0)||(qc(h)||function Wm(i){return 2==(2&i)}(w)&&(h=Gc(v,null,o,u,m,p)),function $a(i,s,o,l,u){const h=Pt(i);if(s)u?h?i.addClass(o,l):o.classList.add(l):h?i.removeClass(o,l):o.classList.remove(l);else{let p=-1===l.indexOf("-")?void 0:Ki.DashCase;if(null==u)h?i.removeStyle(o,l,p):o.style.removeProperty(l);else{const m="string"==typeof u&&u.endsWith("!important");m&&(u=u.slice(0,-10),p|=Ki.Important),h?i.setStyle(o,l,u,p):o.style.setProperty(l,u,m?"important":"")}}}(l,p,da(Tn(),o),u,h))}(h,h.data[Tn()],u,u[11],i,u[p+1]=function WC(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=he(ps(i)))),i}(s,o),l,p)}function qo(i,s,o,l,u){let h=null;const p=o.directiveEnd;let m=o.directiveStylingLast;for(-1===m?m=o.directiveStart:m++;m<p&&(h=s[m],l=Ko(l,h.hostAttrs,u),h!==i);)m++;return null!==i&&(o.directiveStylingLast=m),l}function Ko(i,s,o){const l=o?1:2;let u=-1;if(null!==s)for(let h=0;h<s.length;h++){const p=s[h];"number"==typeof p?u=p:u===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Yn(i,p,!!o||s[++h]))}return void 0===i?null:i}function Gc(i,s,o,l,u,h){const p=null===s;let m;for(;u>0;){const v=i[u],w=Array.isArray(v),D=w?v[1]:v,I=null===D;let O=o[u+1];O===et&&(O=I?Ke:void 0);let $=I?di(O,l):D===l?O:void 0;if(w&&!qc($)&&($=di(v,l)),qc($)&&(m=$,p))return m;const ne=i[u+1];u=p?cr(ne):Qn(ne)}if(null!==s){let v=h?s.residualClasses:s.residualStyles;null!=v&&(m=di(v,l))}return m}function qc(i){return void 0!==i}function bi(i,s=""){const o=oe(),l=ft(),u=i+20,h=l.firstCreatePass?Bo(l,u,1,s,null):l.data[u],p=o[u]=function vf(i,s){return Pt(i)?i.createText(s):i.createTextNode(s)}(o[11],s);cd(l,o,p,h),tr(h,!1)}function Yo(i){return eh("",i,""),Yo}function eh(i,s,o){const l=oe(),u=function zo(i,s,o,l){return Vn(i,Ls(),o)?s+ue(o)+l:et}(l,i,s,o);return u!==et&&ys(l,Tn(),u),eh}function oo(i,s,o){const l=oe();if(Vn(l,Ls(),s)){const h=ft(),p=zt();ur(h,p,l,i,s,qr(ma(h.data),p,l),o,!0)}return oo}const fr=void 0;var Xp=["en",[["a","p"],["AM","PM"],fr],[["AM","PM"],fr,fr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fr,"{1} 'at' {0}",fr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XC(i){const o=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let ws={};function ao(i){const s=function tg(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=eg(s);if(o)return o;const l=s.split("-")[0];if(o=eg(l),o)return o;if("en"===l)return Xp;throw new Error(`Missing locale data for the locale "${i}".`)}function Jp(i){return ao(i)[qe.PluralCase]}function eg(i){return i in ws||(ws[i]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[i]),ws[i]}var qe=(()=>((qe=qe||{})[qe.LocaleId=0]="LocaleId",qe[qe.DayPeriodsFormat=1]="DayPeriodsFormat",qe[qe.DayPeriodsStandalone=2]="DayPeriodsStandalone",qe[qe.DaysFormat=3]="DaysFormat",qe[qe.DaysStandalone=4]="DaysStandalone",qe[qe.MonthsFormat=5]="MonthsFormat",qe[qe.MonthsStandalone=6]="MonthsStandalone",qe[qe.Eras=7]="Eras",qe[qe.FirstDayOfWeek=8]="FirstDayOfWeek",qe[qe.WeekendRange=9]="WeekendRange",qe[qe.DateFormat=10]="DateFormat",qe[qe.TimeFormat=11]="TimeFormat",qe[qe.DateTimeFormat=12]="DateTimeFormat",qe[qe.NumberSymbols=13]="NumberSymbols",qe[qe.NumberFormats=14]="NumberFormats",qe[qe.CurrencyCode=15]="CurrencyCode",qe[qe.CurrencySymbol=16]="CurrencySymbol",qe[qe.CurrencyName=17]="CurrencyName",qe[qe.Currencies=18]="Currencies",qe[qe.Directionality=19]="Directionality",qe[qe.PluralCase=20]="PluralCase",qe[qe.ExtraData=21]="ExtraData",qe))();const oh="en-US";let fy=oh;function dg(i,s,o,l,u){if(i=Y(i),Array.isArray(i))for(let h=0;h<i.length;h++)dg(i[h],s,o,l,u);else{const h=ft(),p=oe();let m=Qi(i)?i:Y(i.provide),v=Uo(i);const w=Vt(),D=1048575&w.providerIndexes,I=w.directiveStart,O=w.providerIndexes>>20;if(Qi(i)||!i.multi){const $=new ic(v,u,ll),ne=fg(m,s,u?D:D+O,I);-1===ne?(Vs(Us(w,p),h,m),hg(h,i,s.length),s.push(m),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),o.push($),p.push($)):(o[ne]=$,p[ne]=$)}else{const $=fg(m,s,D+O,I),ne=fg(m,s,D,D+O),ye=$>=0&&o[$],De=ne>=0&&o[ne];if(u&&!De||!u&&!ye){Vs(Us(w,p),h,m);const Le=function Iw(i,s,o,l,u){const h=new ic(i,o,ll);return h.multi=[],h.index=s,h.componentProviders=0,vy(h,u,l&&!o),h}(u?Ey:tu,o.length,u,l,v);!u&&De&&(o[ne].providerFactory=Le),hg(h,i,s.length,0),s.push(m),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),o.push(Le),p.push(Le)}else hg(h,i,$>-1?$:ne,vy(o[u?ne:$],v,!u&&l));!u&&l&&De&&o[ne].componentProviders++}}}function hg(i,s,o,l){const u=Qi(s),h=function fC(i){return!!i.useClass}(s);if(u||h){const v=(h?Y(s.useClass):s).prototype.ngOnDestroy;if(v){const w=i.destroyHooks||(i.destroyHooks=[]);if(!u&&s.multi){const D=w.indexOf(o);-1===D?w.push(o,[l,v]):w[D+1].push(l,v)}else w.push(o,v)}}}function vy(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function fg(i,s,o,l){for(let u=o;u<l;u++)if(s[u]===i)return u;return-1}function tu(i,s,o,l){return pg(this.multi,[])}function Ey(i,s,o,l){const u=this.multi;let h;if(this.providerFactory){const p=this.providerFactory.componentProviders,m=br(o,o[1],this.providerFactory.index,l);h=m.slice(0,p),pg(u,h);for(let v=p;v<m.length;v++)h.push(m[v])}else h=[],pg(u,h);return h}function pg(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Cy(i,s=[]){return o=>{o.providersResolver=(l,u)=>function TD(i,s,o){const l=ft();if(l.firstCreatePass){const u=vr(i);dg(o,l.data,l.blueprint,u,!0),dg(s,l.data,l.blueprint,u,!1)}}(l,u?u(i):i,s)}}class nu{}class xw{resolveComponentFactory(s){throw function Aw(i){const s=Error(`No component factory found for ${he(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let ru=(()=>{class i{}return i.NULL=new xw,i})();function iu(){return uo(Vt(),oe())}function uo(i,s){return new su(Sn(i,s))}let su=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=iu,i})();function Rw(i){return i instanceof su?i.nativeElement:i}class wy{}let gg=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function by(){const i=oe(),o=on(Vt().index,i);return function gh(i){return i[11]}(jt(o)?o:i)}(),i})(),Pw=(()=>{class i{}return i.\u0275prov=Ct({token:i,providedIn:"root",factory:()=>null}),i})();class Ow{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Dy=new Ow("13.2.7"),mg={};function Zo(i,s,o,l,u=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&l.push(Ft(h)),yr(h))for(let m=10;m<h.length;m++){const v=h[m],w=v[1].firstChild;null!==w&&Zo(v[1],v,w,l)}const p=o.type;if(8&p)Zo(i,s,o.child,l);else if(32&p){const m=mf(o,s);let v;for(;v=m();)l.push(v)}else if(16&p){const m=dd(s,o);if(Array.isArray(m))l.push(...m);else{const v=Fo(s[16]);Zo(v[1],v,m,l,!0)}}o=u?o.projectionNext:o.next}return l}class ou{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Zo(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(yr(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(bf(s,l),Aa(o,l))}this._attachedToViewContainer=!1}xm(this._lView[1],this._lView)}onDestroy(s){Dd(this._lView[1],this._lView,null,s)}markForCheck(){Td(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Ho(i,s,o){pa(!0);try{Yf(i,s,o)}finally{pa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new be(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NE(i,s){Sc(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new be(902,"");this._appRef=s}}class Nw extends ou{constructor(s){super(s),this._view=s}detectChanges(){Qf(this._view)}checkNoChanges(){!function pt(i){pa(!0);try{Qf(i)}finally{pa(!1)}}(this._view)}get context(){return null}}class Sy extends ru{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=sn(s);return new yg(o,this.ngModule)}}function Fw(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class yg extends nu{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function zm(i){return i.map($m).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Fw(this.componentDef.inputs)}get outputs(){return Fw(this.componentDef.outputs)}create(s,o,l,u){const h=(u=u||this.ngModule)?function kw(i,s){return{get:(o,l,u)=>{const h=i.get(o,mg,u);return h!==mg||l===mg?h:s.get(o,l,u)}}}(s,u.injector):s,p=h.get(wy,Br),m=h.get(Pw,null),v=p.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",D=l?function n_(i,s,o){if(Pt(i))return i.selectRootElement(s,o===wt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(v,l,this.componentDef.encapsulation):Ef(p.createRenderer(null,this.componentDef),w,function _g(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(w)),I=this.componentDef.onPush?576:528,O=function Lc(i,s){return{components:[],scheduler:i||ME,clean:h_,playerHandler:s||null,flags:0}}(),$=Oc(0,null,null,1,0,null,null,null,null,null),ne=Rc(null,$,O,I,null,null,p,v,m,h);let ye,De;bo(ne);try{const Le=function cp(i,s,o,l,u,h){const p=o[1];o[20]=i;const v=Bo(p,20,2,"#host",null),w=v.mergedAttrs=s.hostAttrs;null!==w&&(Ja(v,w,!0),null!==i&&(Hr(u,i,w),null!==v.classes&&W(u,i,v.classes),null!==v.styles&&jm(u,i,v.styles)));const D=l.createRenderer(i,s),I=Rc(o,jo(s),null,s.onPush?64:16,o[20],v,l,D,h||null,null);return p.firstCreatePass&&(Vs(Us(v,o),p,s.type),kt(p,v),Za(v,o.length,1)),Sd(o,I),o[20]=I}(D,this.componentDef,ne,p,v);if(D)if(l)Hr(v,D,["ng-version",Dy.full]);else{const{attrs:se,classes:Ye}=function bn(i){const s=[],o=[];let l=1,u=2;for(;l<i.length;){let h=i[l];if("string"==typeof h)2===u?""!==h&&s.push(h,i[++l]):8===u&&o.push(h);else{if(!Wr(u))break;u=h}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);se&&Hr(v,D,se),Ye&&Ye.length>0&&W(v,D,Ye.join(" "))}if(De=$l($,20),void 0!==o){const se=De.projection=[];for(let Ye=0;Ye<this.ngContentSelectors.length;Ye++){const mt=o[Ye];se.push(null!=mt?Array.from(mt):null)}}ye=function up(i,s,o,l,u){const h=o[1],p=function l_(i,s,o){const l=Vt();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Wf(i,l,s,qa(i,s,1,null),o));const u=br(s,i,l.directiveStart,l);Un(u,s);const h=Sn(l,s);return h&&Un(h,s),u}(h,o,s);if(l.components.push(p),i[8]=p,u&&u.forEach(v=>v(p,s)),s.contentQueries){const v=Vt();s.contentQueries(1,p,v.directiveStart)}const m=Vt();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(nr(m.index),$f(o[1],m,0,m.directiveStart,m.directiveEnd,s),ct(s,p)),p}(Le,this.componentDef,ne,O,[mC]),Pc($,ne,null)}finally{ls()}return new Bw(this.componentType,ye,uo(De,ne),ne,De)}}class Bw extends class Mw{}{constructor(s,o,l,u,h){super(),this.location=l,this._rootLView=u,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Nw(u),this.componentType=s}get injector(){return new Gt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class _l{}class Jr{}const ho=new Map;class Iy extends _l{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sy(this);const l=mn(s);this._bootstrapComponents=_i(l.bootstrap),this._r3Injector=Ut(s,o,[{provide:_l,useValue:this},{provide:ru,useValue:this.componentFactoryResolver}],he(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Tr.THROW_IF_NOT_FOUND,l=We.Default){return s===Tr||s===_l||s===Id?this:this._r3Injector.get(s,o,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class au extends Jr{constructor(s){super(),this.moduleType=s,null!==mn(s)&&function vl(i){const s=new Set;!function o(l){const u=mn(l,!0),h=u.id;null!==h&&(function jw(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${he(s)} vs ${he(s.name)}`)}(h,ho.get(h),l),ho.set(h,l));const p=_i(u.imports);for(const m of p)s.has(m)||(s.add(m),o(m))}(i)}(s)}create(s){return new Iy(this.moduleType,s)}}function My(i,s,o,l,u){return function xy(i,s,o,l,u,h,p){const m=s+o;return function Ci(i,s,o,l){const u=Vn(i,s,o);return Vn(i,s+1,l)||u}(i,m,u,h)?function xn(i,s,o){return i[s]=o}(i,m+2,p?l.call(p,u,h):l(u,h)):function uu(i,s){const o=i[s];return o===et?void 0:o}(i,m+2)}(oe(),function hn(){const i=Xe.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,o,l,u)}function hu(i){return s=>{setTimeout(i,void 0,s)}}const es=class Oy extends g.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){var u,h,p;let m=s,v=o||(()=>null),w=l;if(s&&"object"==typeof s){const I=s;m=null===(u=I.next)||void 0===u?void 0:u.bind(I),v=null===(h=I.error)||void 0===h?void 0:h.bind(I),w=null===(p=I.complete)||void 0===p?void 0:p.bind(I)}this.__isAsync&&(v=hu(v),m&&(m=hu(m)),w&&(w=hu(w)));const D=super.subscribe({next:m,error:v,complete:w});return s instanceof V.w0&&s.add(D),D}};function Gw(){return this._results[eo()]()}class Cg{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=eo(),l=Cg.prototype;l[o]||(l[o]=Gw)}get changes(){return this._changes||(this._changes=new es)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const u=ir(s);(this._changesDetected=!function Vh(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let u=i[l],h=s[l];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let yh=(()=>{class i{}return i.__NG_ELEMENT_ID__=LD,i})();const FD=yh,kD=class extends FD{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s){const o=this._declarationTContainer.tViews,l=Rc(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(o)),Pc(o,l,s),new ou(l)}};function LD(){return fu(Vt(),oe())}function fu(i,s){return 4&i.type?new kD(s,i,uo(i,s)):null}let wg=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ny,i})();function Ny(){return Yw(Vt(),oe())}const BD=wg,qw=class extends BD{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return uo(this._hostTNode,this._hostLView)}get injector(){return new Gt(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ca(this._hostTNode,this._hostLView);if(ju(s)){const o=ki(s,this._hostLView),l=Fi(s);return new Gt(o[1].data[l+8],o)}return new Gt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Kw(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){const u=s.createEmbeddedView(o||{});return this.insert(u,l),u}createComponent(s,o,l,u,h){const p=s&&!function Io(i){return"function"==typeof i}(s);let m;if(p)m=o;else{const I=o||{};m=I.index,l=I.injector,u=I.projectableNodes,h=I.ngModuleRef}const v=p?s:new yg(sn(s)),w=l||this.parentInjector;if(!h&&null==v.ngModule){const O=(p?w:this.parentInjector).get(_l,null);O&&(h=O)}const D=v.create(w,u,void 0,h);return this.insert(D.hostView,m),D}insert(s,o){const l=s._lView,u=l[1];if(function zl(i){return yr(i[3])}(l)){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const I=l[3],O=new qw(I,I[6],I[3]);O.detach(O.indexOf(s))}}const h=this._adjustIndex(o),p=this._lContainer;!function Cf(i,s,o,l){const u=10+l,h=o.length;l>0&&(o[u-1][4]=s),l<h-10?(s[4]=o[u],$h(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const p=s[17];null!==p&&o!==p&&function wf(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(p,s);const m=s[19];null!==m&&m.insertView(i),s[2]|=128}(u,l,p,h);const m=Tf(h,p),v=l[11],w=ad(v,p[7]);return null!==w&&function lr(i,s,o,l,u,h){l[0]=u,l[6]=s,Sc(i,l,o,1,u,h)}(u,p[6],v,l,w,m),s.attachToViewContainerRef(),$h(Fy(p),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Kw(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=bf(this._lContainer,o);l&&(Aa(Fy(this._lContainer),o),xm(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=bf(this._lContainer,o);return l&&null!=Aa(Fy(this._lContainer),o)?new ou(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function Kw(i){return i[8]}function Fy(i){return i[8]||(i[8]=[])}function Yw(i,s){let o;const l=s[i.index];if(yr(l))o=l;else{let u;if(8&i.type)u=Ft(l);else{const h=s[11];u=h.createComment("");const p=Sn(i,s);Va(h,ad(h,p),u,function Pm(i,s){return Pt(i)?i.nextSibling(s):s.nextSibling}(h,p),!1)}s[i.index]=o=u_(l,s,u,i),Sd(s,o)}return new qw(o,i,s)}class ky{constructor(s){this.queryList=s,this.matches=null}clone(){return new ky(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ly{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,u=[];for(let h=0;h<l;h++){const p=o.getByIndex(h);u.push(this.queries[p.indexInDeclarationView].clone())}return new Ly(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==sb(s,o).matches&&this.queries[o].setDirty()}}class By{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class jy{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(s,u);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new jy(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Hy{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Hy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const h=l[u];this.matchTNodeWithReadOption(s,o,HD(o,h)),this.matchTNodeWithReadOption(s,o,Li(o,s,h,!1,!1))}else l===yh?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Li(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===su||u===wg||u===yh&&4&o.type)this.addMatch(o.index,-2);else{const h=Li(o,s,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function HD(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function VD(i,s,o,l){return-1===o?function UD(i,s){return 11&i.type?uo(i,s):4&i.type?fu(i,s):null}(s,i):-2===o?function $D(i,s,o){return o===su?uo(s,i):o===yh?fu(s,i):o===wg?Yw(s,i):void 0}(i,s,l):br(i,i[1],o,s)}function Xw(i,s,o,l){const u=s[19].queries[l];if(null===u.matches){const h=i.data,p=o.matches,m=[];for(let v=0;v<p.length;v+=2){const w=p[v];m.push(w<0?null:VD(s,h[w],p[v+1],o.metadata.read))}u.matches=m}return u.matches}function Uy(i,s,o,l){const u=i.queries.getByIndex(o),h=u.matches;if(null!==h){const p=Xw(i,s,u,o);for(let m=0;m<h.length;m+=2){const v=h[m];if(v>0)l.push(p[m/2]);else{const w=h[m+1],D=s[-v];for(let I=10;I<D.length;I++){const O=D[I];O[17]===O[3]&&Uy(O[1],O,w,l)}if(null!==D[9]){const I=D[9];for(let O=0;O<I.length;O++){const $=I[O];Uy($[1],$,w,l)}}}}}return l}function Jw(i){const s=oe(),o=ft(),l=Pu();Xl(l+1);const u=sb(o,l);if(i.dirty&&os(s)===(2==(2&u.metadata.flags))){if(null===u.matches)i.reset([]);else{const h=u.crossesNgTemplate?Uy(o,s,l,[]):Xw(o,s,u,l);i.reset(h,Rw),i.notifyOnChanges()}return!0}return!1}function eb(i,s,o){const l=ft();l.firstCreatePass&&(ib(l,new By(i,s,o),-1),2==(2&s)&&(l.staticViewQueries=!0)),rb(l,oe(),s)}function tb(i,s,o,l){const u=ft();if(u.firstCreatePass){const h=Vt();ib(u,new By(s,o,l),h.index),function WD(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(u,i),2==(2&o)&&(u.staticContentQueries=!0)}rb(u,oe(),o)}function nb(){return function zD(i,s){return i[19].queries[s].queryList}(oe(),Pu())}function rb(i,s,o){const l=new Cg(4==(4&o));Dd(i,s,l,l.destroy),null===s[19]&&(s[19]=new Ly),s[19].queries.push(new ky(l))}function ib(i,s,o){null===i.queries&&(i.queries=new jy),i.queries.track(new Hy(s,o))}function sb(i,s){return i.queries.getByIndex(s)}function Sg(...i){}const bb=new Ht("Application Initializer");let qy=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Sg,this.reject=Sg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(Rp(h))o.push(h);else if(Cs(h)){const p=new Promise((m,v)=>{h.subscribe({complete:m,error:v})});o.push(p)}}Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Ge(bb,8))},i.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Db=new Ht("AppId",{providedIn:"root",factory:function Sb(){return`${Ky()}${Ky()}${Ky()}`}});function Ky(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tb=new Ht("Platform Initializer"),Ib=new Ht("Platform ID"),Mb=new Ht("appBootstrapListener");let Ab=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ct({token:i,factory:i.\u0275fac}),i})();const Yy=new Ht("LocaleId",{providedIn:"root",factory:()=>Ku(Yy,We.Optional|We.SkipSelf)||function lS(){return"undefined"!=typeof $localize&&$localize.locale||oh}()}),cS=new Ht("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uS{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let dS=(()=>{class i{compileModuleSync(o){return new au(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),h=_i(mn(o).declarations).reduce((p,m)=>{const v=sn(m);return v&&p.push(new yg(v)),p},[]);return new uS(l,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const fS=(()=>Promise.resolve(0))();function Qy(i){"undefined"==typeof Zone?fS.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ts{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new es(!1),this.onMicrotaskEmpty=new es(!1),this.onStable=new es(!1),this.onError=new es(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function pS(){let i=ht.requestAnimationFrame,s=ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function _S(i){const s=()=>{!function mS(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ht,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Xy(i),i.isCheckStableRunning=!0,Zy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Xy(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,h,p,m)=>{try{return xb(i),o.invokeTask(u,h,p,m)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),Rb(i)}},onInvoke:(o,l,u,h,p,m,v)=>{try{return xb(i),o.invoke(u,h,p,m,v)}finally{i.shouldCoalesceRunChangeDetection&&s(),Rb(i)}},onHasTask:(o,l,u,h)=>{o.hasTask(u,h),l===u&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,Xy(i),Zy(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,u,h)=>(o.handleError(u,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ts.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ts.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,u){const h=this._inner,p=h.scheduleEventTask("NgZoneEvent: "+u,s,gS,Sg,Sg);try{return h.runTask(p,o,l)}finally{h.cancelTask(p)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const gS={};function Zy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Xy(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function xb(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Rb(i){i._nesting--,Zy(i)}class yS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new es,this.onMicrotaskEmpty=new es,this.onStable=new es,this.onError=new es}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,u){return s.apply(o,l)}}let Jy=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ts.assertNotInAngularZone(),Qy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qy(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,u){return[]}}return i.\u0275fac=function(o){return new(o||i)(Ge(ts))},i.\u0275prov=Ct({token:i,factory:i.\u0275fac}),i})(),ev=(()=>{class i{constructor(){this._applications=new Map,Tg.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return Tg.findTestabilityInTree(this,o,l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Ct({token:i,factory:i.\u0275fac}),i})();class Pb{addToWindow(s){}findTestabilityInTree(s,o,l){return null}}function tv(i){Tg=i}let ei,Tg=new Pb;const Ob=new Ht("AllowMultipleToken");class Nb{constructor(s,o){this.name=s,this.token=o}}function rv(i,s,o=[]){const l=`Platform: ${s}`,u=new Ht(l);return(h=[])=>{let p=Fb();if(!p||p.injector.get(Ob,!1))if(i)i(o.concat(h).concat({provide:u,useValue:!0}));else{const m=o.concat(h).concat({provide:u,useValue:!0},{provide:Xs,useValue:"platform"});!function ES(i){if(ei&&!ei.destroyed&&!ei.injector.get(Ob,!1))throw new be(400,"");ei=i.get(kb);const s=i.get(Tb,null);s&&s.forEach(o=>o())}(Tr.create({providers:m,name:l}))}return function CS(i){const s=Fb();if(!s)throw new be(401,"");return s}()}}function Fb(){return ei&&!ei.destroyed?ei:null}let kb=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const m=function wS(i,s){let o;return o="noop"===i?new yS:("zone.js"===i?void 0:i)||new ts({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),v=[{provide:ts,useValue:m}];return m.run(()=>{const w=Tr.create({providers:v,parent:this.injector,name:o.moduleType.name}),D=o.create(w),I=D.injector.get(id,null);if(!I)throw new be(402,"");return m.runOutsideAngular(()=>{const O=m.onError.subscribe({next:$=>{I.handleError($)}});D.onDestroy(()=>{Ig(this._modules,D),O.unsubscribe()})}),function bS(i,s,o){try{const l=o();return Rp(l)?l.catch(u=>{throw s.runOutsideAngular(()=>i.handleError(u)),u}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(I,m,()=>{const O=D.injector.get(qy);return O.runInitializers(),O.donePromise.then(()=>(function Ar(i){dt(i,"Expected localeId to be defined"),"string"==typeof i&&(fy=i.toLowerCase().replace(/_/g,"-"))}(D.injector.get(Yy,oh)||oh),this._moduleDoBootstrap(D),D))})})}bootstrapModule(o,l=[]){const u=Lb({},l);return function vS(i,s,o){const l=new au(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const l=o.injector.get(Eh);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new be(403,"");o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Ge(Tr))},i.\u0275prov=Ct({token:i,factory:i.\u0275fac}),i})();function Lb(i,s){return Array.isArray(s)?s.reduce(Lb,i):Object.assign(Object.assign({},i),s)}let Eh=(()=>{class i{constructor(o,l,u,h,p){this._zone=o,this._injector=l,this._exceptionHandler=u,this._componentFactoryResolver=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new ie.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),v=new ie.y(w=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ts.assertNotInAngularZone(),Qy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{ts.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{D.unsubscribe(),I.unsubscribe()}});this.isStable=(0,J.T)(m,v.pipe((0,fe.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new be(405,"");let u;u=o instanceof nu?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(u.componentType);const h=function nv(i){return i.isBoundToModule}(u)?void 0:this._injector.get(_l),m=u.create(Tr.NULL,[],l||u.selector,h),v=m.location.nativeElement,w=m.injector.get(Jy,null),D=w&&m.injector.get(ev);return w&&D&&D.registerApplication(v,w),m.onDestroy(()=>{this.detachView(m.hostView),Ig(this.components,m),D&&D.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new be(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Ig(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Mb,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(Ge(ts),Ge(Tr),Ge(id),Ge(ru),Ge(qy))},i.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ig(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}let sv=!0,ov=!1;function jb(){return ov=!0,sv}function Hb(){if(ov)throw new Error("Cannot enable prod mode after platform setup.");sv=!1}let $b=(()=>{class i{}return i.__NG_ELEMENT_ID__=zb,i})();function zb(i){return function Wb(i,s,o){if(Nl(i)&&!o){const l=on(i.index,s);return new ou(l,l)}return 47&i.type?new ou(s[16],s):null}(Vt(),oe(),16==(16&i))}class Kb{constructor(){}supports(s){return to(s)}create(s){return new dv(s)}}const uv=(i,s)=>s;class dv{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||uv}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,u=0,h=null;for(;o||l;){const p=!l||o&&o.currentIndex<Zb(l,u,h)?o:l,m=Zb(p,u,h),v=p.currentIndex;if(p===l)u--,l=l._nextRemoved;else if(o=o._next,null==p.previousIndex)u++;else{h||(h=[]);const w=m-u,D=v-u;if(w!=D){for(let O=0;O<w;O++){const $=O<h.length?h[O]:h[O]=0,ne=$+O;D<=ne&&ne<w&&(h[O]=$+1)}h[p.previousIndex]=D-w}}m!==v&&s(p,m,v)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!to(s))throw new be(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,h,p,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let m=0;m<this.length;m++)h=s[m],p=this._trackByFn(m,h),null!==o&&Object.is(o.trackById,p)?(l&&(o=this._verifyReinsertion(o,h,p,m)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,p,m),l=!0),o=o._next}else u=0,function $o(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[eo()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,m=>{p=this._trackByFn(u,m),null!==o&&Object.is(o.trackById,p)?(l&&(o=this._verifyReinsertion(o,m,p,u)),Object.is(o.item,m)||this._addIdentityChange(o,m)):(o=this._mismatch(o,m,p,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,u){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,u)):s=this._addAfter(new Ng(o,l),h,u),s}_verifyReinsertion(s,o,l,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,h=s._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const u=null===o?this._itHead:o._next;return s._next=u,s._prev=o,null===u?this._itTail=s:u._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new Qb),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Ng{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class Qb{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new Yb,this.map.set(o,l)),l.add(s)}get(s,o){const u=this.map.get(s);return u?u.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zb(i,s,o){const l=i.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+s+u}class Xb{constructor(){}supports(s){return s instanceof Map||no(s)}create(){return new AS}}class AS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||no(s)))throw new be(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,o);const h=u._prev,p=u._next;return h&&(h._next=p),p&&(p._prev=h),u._next=null,u._prev=null,u}const l=new xS(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class xS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jb(){return new Ch([new Kb])}let Ch=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Jb()),deps:[[i,new Gi,new fi]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new be(901,"")}}return i.\u0275prov=Ct({token:i,providedIn:"root",factory:Jb}),i})();function e0(){return new Fg([new Xb])}let Fg=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||e0()),deps:[[i,new Gi,new fi]]}}find(o){const l=this.factories.find(h=>h.supports(o));if(l)return l;throw new be(901,"")}}return i.\u0275prov=Ct({token:i,providedIn:"root",factory:e0}),i})();const RS=rv(null,"core",[{provide:Ib,useValue:"unknown"},{provide:kb,deps:[Tr]},{provide:ev,deps:[]},{provide:Ab,deps:[]}]);let n0=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Ge(Eh))},i.\u0275mod=gt({type:i}),i.\u0275inj=Nn({}),i})()},681:(Ue,le,R)=>{R.r(le),R.d(le,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>Or,_DEFAULT_ENTRY_NAME:()=>dt,_addComponent:()=>$t,_addOrOverwriteComponent:()=>Ct,_apps:()=>Lt,_clearComponents:()=>Pr,_components:()=>Pn,_getProvider:()=>Nn,_registerComponent:()=>On,_removeServiceInstance:()=>cn,deleteApp:()=>We,getApp:()=>Is,getApps:()=>Nr,initializeApp:()=>Ts,onLog:()=>Fn,registerVersion:()=>un,setLogLevel:()=>ri});var g=R(861),V=R(859),ie=R(877),J=R(90),fe=R(766);class me{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map(k=>{if(function ce(x){const F=x.getComponent();return"VERSION"===(null==F?void 0:F.type)}(k)){const ae=k.getImmediate();return`${ae.library}/${ae.version}`}return null}).filter(k=>k).join(" ")}}const he="@firebase/app",j=new ie.Yd("@firebase/app"),dt="[DEFAULT]",Ae={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lt=new Map,Pn=new Map;function $t(x,F){try{x.container.addComponent(F)}catch(k){j.debug(`Component ${F.name} failed to register with FirebaseApp ${x.name}`,k)}}function Ct(x,F){x.container.addOrOverwriteComponent(F)}function On(x){const F=x.name;if(Pn.has(F))return j.debug(`There were multiple attempts to register component ${F}.`),!1;Pn.set(F,x);for(const k of Lt.values())$t(k,x);return!0}function Nn(x,F){const k=x.container.getProvider("heartbeat").getImmediate({optional:!0});return k&&k.triggerHeartbeat(),x.container.getProvider(F)}function cn(x,F,k=dt){Nn(x,F).clearInstance(k)}function Pr(){Pn.clear()}const Jn=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class oa{constructor(F,k,ae){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},k),this._name=k.name,this._automaticDataCollectionEnabled=k.automaticDataCollectionEnabled,this._container=ae,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}const Or="9.9.3";function Ts(x,F={}){"object"!=typeof F&&(F={name:F});const k=Object.assign({name:dt,automaticDataCollectionEnabled:!1},F),ae=k.name;if("string"!=typeof ae||!ae)throw Jn.create("bad-app-name",{appName:String(ae)});const Se=Lt.get(ae);if(Se){if((0,J.vZ)(x,Se.options)&&(0,J.vZ)(k,Se.config))return Se;throw Jn.create("duplicate-app",{appName:ae})}const Qe=new V.H0(ae);for(const Rt of Pn.values())Qe.addComponent(Rt);const St=new oa(x,k,Qe);return Lt.set(ae,St),St}function Is(x=dt){const F=Lt.get(x);if(!F)throw Jn.create("no-app",{appName:x});return F}function Nr(){return Array.from(Lt.values())}function We(x){return ni.apply(this,arguments)}function ni(){return(ni=(0,g.Z)(function*(x){const F=x.name;Lt.has(F)&&(Lt.delete(F),yield Promise.all(x.container.getProviders().map(k=>k.delete())),x.isDeleted=!0)})).apply(this,arguments)}function un(x,F,k){var ae;let Se=null!==(ae=Ae[x])&&void 0!==ae?ae:x;k&&(Se+=`-${k}`);const Qe=Se.match(/\s|\//),St=F.match(/\s|\//);if(Qe||St){const Rt=[`Unable to register library "${Se}" with version "${F}":`];return Qe&&Rt.push(`library name "${Se}" contains illegal characters (whitespace or "/")`),Qe&&St&&Rt.push("and"),St&&Rt.push(`version name "${F}" contains illegal characters (whitespace or "/")`),void j.warn(Rt.join(" "))}On(new V.wA(`${Se}-version`,()=>({library:Se,version:F}),"VERSION"))}function Fn(x,F){if(null!==x&&"function"!=typeof x)throw Jn.create("invalid-log-argument");(0,ie.Am)(x,F)}function ri(x){(0,ie.Ub)(x)}const rn="firebase-heartbeat-store";let Fr=null;function aa(){return Fr||(Fr=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(x,F)=>{0===F&&x.createObjectStore(rn)}}).catch(x=>{throw Jn.create("idb-open",{originalErrorMessage:x.message})})),Fr}function Be(){return(Be=(0,g.Z)(function*(x){var F;try{return(yield aa()).transaction(rn).objectStore(rn).get(gr(x))}catch(k){if(k instanceof J.ZR)j.warn(k.message);else{const ae=Jn.create("idb-get",{originalErrorMessage:null===(F=k)||void 0===F?void 0:F.message});j.warn(ae.message)}}})).apply(this,arguments)}function Je(x,F){return ii.apply(this,arguments)}function ii(){return(ii=(0,g.Z)(function*(x,F){var k;try{const Se=(yield aa()).transaction(rn,"readwrite");return yield Se.objectStore(rn).put(F,gr(x)),Se.done}catch(ae){if(ae instanceof J.ZR)j.warn(ae.message);else{const Se=Jn.create("idb-set",{originalErrorMessage:null===(k=ae)||void 0===k?void 0:k.message});j.warn(Se.message)}}})).apply(this,arguments)}function gr(x){return`${x.name}!${x.options.appId}`}class vn{constructor(F){this.container=F,this._heartbeatsCache=null;const k=this.container.getProvider("app").getImmediate();this._storage=new kr(k),this._heartbeatsCachePromise=this._storage.read().then(ae=>(this._heartbeatsCache=ae,ae))}triggerHeartbeat(){var F=this;return(0,g.Z)(function*(){const ae=F.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Se=kn();if(null===F._heartbeatsCache&&(F._heartbeatsCache=yield F._heartbeatsCachePromise),F._heartbeatsCache.lastSentHeartbeatDate!==Se&&!F._heartbeatsCache.heartbeats.some(Qe=>Qe.date===Se))return F._heartbeatsCache.heartbeats.push({date:Se,agent:ae}),F._heartbeatsCache.heartbeats=F._heartbeatsCache.heartbeats.filter(Qe=>{const St=new Date(Qe.date).valueOf();return Date.now()-St<=2592e6}),F._storage.overwrite(F._heartbeatsCache)})()}getHeartbeatsHeader(){var F=this;return(0,g.Z)(function*(){if(null===F._heartbeatsCache&&(yield F._heartbeatsCachePromise),null===F._heartbeatsCache||0===F._heartbeatsCache.heartbeats.length)return"";const k=kn(),{heartbeatsToSend:ae,unsentEntries:Se}=function Ke(x,F=1024){const k=[];let ae=x.slice();for(const Se of x){const Qe=k.find(St=>St.agent===Se.agent);if(Qe){if(Qe.dates.push(Se.date),N(k)>F){Qe.dates.pop();break}}else if(k.push({agent:Se.agent,dates:[Se.date]}),N(k)>F){k.pop();break}ae=ae.slice(1)}return{heartbeatsToSend:k,unsentEntries:ae}}(F._heartbeatsCache.heartbeats),Qe=(0,J.L)(JSON.stringify({version:2,heartbeats:ae}));return F._heartbeatsCache.lastSentHeartbeatDate=k,Se.length>0?(F._heartbeatsCache.heartbeats=Se,yield F._storage.overwrite(F._heartbeatsCache)):(F._heartbeatsCache.heartbeats=[],F._storage.overwrite(F._heartbeatsCache)),Qe})()}}function kn(){return(new Date).toISOString().substring(0,10)}class kr{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var F=this;return(0,g.Z)(function*(){return(yield F._canUseIndexedDBPromise)&&(yield function wt(x){return Be.apply(this,arguments)}(F.app))||{heartbeats:[]}})()}overwrite(F){var k=this;return(0,g.Z)(function*(){var ae;if(yield k._canUseIndexedDBPromise){const Qe=yield k.read();return Je(k.app,{lastSentHeartbeatDate:null!==(ae=F.lastSentHeartbeatDate)&&void 0!==ae?ae:Qe.lastSentHeartbeatDate,heartbeats:F.heartbeats})}})()}add(F){var k=this;return(0,g.Z)(function*(){var ae;if(yield k._canUseIndexedDBPromise){const Qe=yield k.read();return Je(k.app,{lastSentHeartbeatDate:null!==(ae=F.lastSentHeartbeatDate)&&void 0!==ae?ae:Qe.lastSentHeartbeatDate,heartbeats:[...Qe.heartbeats,...F.heartbeats]})}})()}}function N(x){return(0,J.L)(JSON.stringify({version:2,heartbeats:x})).length}!function L(x){On(new V.wA("platform-logger",F=>new me(F),"PRIVATE")),On(new V.wA("heartbeat",F=>new vn(F),"PRIVATE")),un(he,"0.7.31",x),un(he,"0.7.31","esm2017"),un("fire-js","")}("")},859:(Ue,le,R)=>{R.d(le,{wA:()=>ie,H0:()=>he});var g=R(861),V=R(90);class ie{constructor(j,H,Y){this.name=j,this.instanceFactory=H,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const J="[DEFAULT]";class fe{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const Y=new V.BH;if(this.instancesDeferred.set(H,Y),this.isInitialized(H)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:H});xe&&Y.resolve(xe)}catch(xe){}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const Y=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),xe=null!==(H=null==j?void 0:j.optional)&&void 0!==H&&H;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(_e){if(xe)return null;throw _e}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ce(we){return"EAGER"===we.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:J})}catch(H){}for(const[H,Y]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(H);try{const _e=this.getOrInitializeService({instanceIdentifier:xe});Y.resolve(_e)}catch(_e){}}}}clearInstance(j=J){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,g.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...H.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=J){return this.instances.has(j)}getOptions(j=J){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,Y=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:Y,options:H});for(const[_e,be]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(_e)&&be.resolve(xe);return xe}onInit(j,H){var Y;const xe=this.normalizeInstanceIdentifier(H),_e=null!==(Y=this.onInitCallbacks.get(xe))&&void 0!==Y?Y:new Set;_e.add(j),this.onInitCallbacks.set(xe,_e);const be=this.instances.get(xe);return be&&j(be,xe),()=>{_e.delete(j)}}invokeOnInitCallbacks(j,H){const Y=this.onInitCallbacks.get(H);if(Y)for(const xe of Y)try{xe(j,H)}catch(_e){}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let Y=this.instances.get(j);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(we=j,we===J?void 0:we),options:H}),this.instances.set(j,Y),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(Y,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Y)}catch(xe){}var we;return Y||null}normalizeInstanceIdentifier(j=J){return this.component?this.component.multipleInstances?j:J:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new fe(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},877:(Ue,le,R)=>{R.d(le,{in:()=>V,Yd:()=>ce,Ub:()=>he,Am:()=>we});const g=[];var V=(()=>{return(j=V||(V={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",V;var j})();const ie={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},J=V.INFO,fe={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},me=(j,H,...Y)=>{if(H<j.logLevel)return;const xe=(new Date).toISOString(),_e=fe[H];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[_e](`[${xe}]  ${j.name}:`,...Y)};class ce{constructor(H){this.name=H,this._logLevel=J,this._logHandler=me,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in V))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?ie[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...H),this._logHandler(this,V.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...H),this._logHandler(this,V.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,V.INFO,...H),this._logHandler(this,V.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,V.WARN,...H),this._logHandler(this,V.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...H),this._logHandler(this,V.ERROR,...H)}}function he(j){g.forEach(H=>{H.setLogLevel(j)})}function we(j,H){for(const Y of g){let xe=null;H&&H.level&&(xe=ie[H.level]),Y.userLogHandler=null===j?null:(_e,be,...Oe)=>{const ue=Oe.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch(ot){return null}}).filter(Re=>Re).join(" ");be>=(null!=xe?xe:_e.logLevel)&&j({level:V[be].toLowerCase(),message:ue,args:Oe,type:_e.name})}}}},766:(Ue,le,R)=>{R.d(le,{Lj:()=>Ie,X3:()=>ve});var g=R(861);let ie,J;const ce=new WeakMap,he=new WeakMap,we=new WeakMap,j=new WeakMap,H=new WeakMap;let _e={get(ee,de,U){if(ee instanceof IDBTransaction){if("done"===de)return he.get(ee);if("objectStoreNames"===de)return ee.objectStoreNames||we.get(ee);if("store"===de)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return Re(ee[de])},set:(ee,de,U)=>(ee[de]=U,!0),has:(ee,de)=>ee instanceof IDBTransaction&&("done"===de||"store"===de)||de in ee};function ue(ee){return"function"==typeof ee?function Oe(ee){return ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return J||(J=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ee)?function(...de){return ee.apply(ot(this),de),Re(ce.get(this))}:function(...de){return Re(ee.apply(ot(this),de))}:function(de,...U){const q=ee.call(ot(this),de,...U);return we.set(q,de.sort?de.sort():[de]),Re(q)}}(ee):(ee instanceof IDBTransaction&&function xe(ee){if(he.has(ee))return;const de=new Promise((U,q)=>{const K=()=>{ee.removeEventListener("complete",te),ee.removeEventListener("error",Q),ee.removeEventListener("abort",Q)},te=()=>{U(),K()},Q=()=>{q(ee.error||new DOMException("AbortError","AbortError")),K()};ee.addEventListener("complete",te),ee.addEventListener("error",Q),ee.addEventListener("abort",Q)});he.set(ee,de)}(ee),((ee,de)=>de.some(U=>ee instanceof U))(ee,function fe(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ee,_e):ee)}function Re(ee){if(ee instanceof IDBRequest)return function Y(ee){const de=new Promise((U,q)=>{const K=()=>{ee.removeEventListener("success",te),ee.removeEventListener("error",Q)},te=()=>{U(Re(ee.result)),K()},Q=()=>{q(ee.error),K()};ee.addEventListener("success",te),ee.addEventListener("error",Q)});return de.then(U=>{U instanceof IDBCursor&&ce.set(U,ee)}).catch(()=>{}),H.set(de,ee),de}(ee);if(j.has(ee))return j.get(ee);const de=ue(ee);return de!==ee&&(j.set(ee,de),H.set(de,ee)),de}const ot=ee=>H.get(ee);function ve(ee,de,{blocked:U,upgrade:q,blocking:K,terminated:te}={}){const Q=indexedDB.open(ee,de),Ee=Re(Q);return q&&Q.addEventListener("upgradeneeded",$e=>{q(Re(Q.result),$e.oldVersion,$e.newVersion,Re(Q.transaction))}),U&&Q.addEventListener("blocked",()=>U()),Ee.then($e=>{te&&$e.addEventListener("close",()=>te()),K&&$e.addEventListener("versionchange",()=>K())}).catch(()=>{}),Ee}function Ie(ee,{blocked:de}={}){const U=indexedDB.deleteDatabase(ee);return de&&U.addEventListener("blocked",()=>de()),Re(U).then(()=>{})}const pe=["get","getKey","getAll","getAllKeys","count"],Pe=["put","add","delete","clear"],at=new Map;function ke(ee,de){if(!(ee instanceof IDBDatabase)||de in ee||"string"!=typeof de)return;if(at.get(de))return at.get(de);const U=de.replace(/FromIndex$/,""),q=de!==U,K=Pe.includes(U);if(!(U in(q?IDBIndex:IDBObjectStore).prototype)||!K&&!pe.includes(U))return;const te=function(){var Q=(0,g.Z)(function*(Ee,...$e){const _t=this.transaction(Ee,K?"readwrite":"readonly");let dt=_t.store;return q&&(dt=dt.index($e.shift())),(yield Promise.all([dt[U](...$e),K&&_t.done]))[0]});return function($e){return Q.apply(this,arguments)}}();return at.set(de,te),te}!function be(ee){_e=ee(_e)}(ee=>zT($T({},ee),{get:(de,U,q)=>ke(de,U)||ee.get(de,U,q),has:(de,U)=>!!ke(de,U)||ee.has(de,U)}))},861:(Ue,le,R)=>{function g(ie,J,fe,me,ce,he,we){try{var j=ie[he](we),H=j.value}catch(Y){return void fe(Y)}j.done?J(H):Promise.resolve(H).then(me,ce)}function V(ie){return function(){var J=this,fe=arguments;return new Promise(function(me,ce){var he=ie.apply(J,fe);function we(H){g(he,me,ce,we,j,"next",H)}function j(H){g(he,me,ce,we,j,"throw",H)}we(void 0)})}}R.d(le,{Z:()=>V})}},Ue=>{Ue(Ue.s=486)}]);